85f42f85239d3fe31ba8fe5bfc8ce66a
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.SendSparkle = void 0;
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _reactNativeReanimated = _interopRequireWildcard(require("react-native-reanimated"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var GLYPHS = ["✦", "✧", "✺", "✨"];
var _worklet_1145890008131_init_data = {
  code: "function anonymous() {\n  const {\n    items,\n    cancelAnimation,\n    withSpring,\n    withTiming,\n    withDelay,\n    duration\n  } = this._closure;\n  const spread = 34;\n  items.forEach(function (p) {\n    cancelAnimation(p.x);\n    cancelAnimation(p.y);\n    cancelAnimation(p.s);\n    cancelAnimation(p.o);\n    cancelAnimation(p.r);\n    const angle = Math.random() * Math.PI * 2;\n    const radius = spread * (0.4 + Math.random() * 1);\n    const dx = Math.cos(angle) * radius;\n    const dy = -Math.abs(Math.sin(angle) * radius);\n    p.x.value = 0;\n    p.y.value = 0;\n    p.s.value = 0;\n    p.o.value = 0;\n    p.r.value = 0;\n    p.s.value = withSpring(1, {\n      damping: 12,\n      stiffness: 240\n    });\n    p.o.value = withTiming(1, {\n      duration: 80\n    });\n    p.x.value = withSpring(dx, {\n      damping: 16,\n      stiffness: 160\n    });\n    p.y.value = withSpring(dy, {\n      damping: 16,\n      stiffness: 160\n    });\n    p.r.value = withSpring((Math.random() > 0.5 ? 1 : -1) * (10 + Math.random() * 25));\n    p.o.value = withDelay(120, withTiming(0, {\n      duration: duration\n    }));\n    p.s.value = withDelay(120, withTiming(0.2, {\n      duration: duration\n    }));\n  });\n}",
  location: "/home/ben/Downloads/pets-fresh/apps/mobile/src/components/feedback/SendSparkle.tsx",
  sourceMap: "{\"version\":3,\"names\":[\"anonymous\",\"items\",\"cancelAnimation\",\"withSpring\",\"withTiming\",\"withDelay\",\"duration\",\"_closure\",\"spread\",\"forEach\",\"p\",\"x\",\"y\",\"s\",\"o\",\"r\",\"angle\",\"Math\",\"random\",\"PI\",\"radius\",\"dx\",\"cos\",\"dy\",\"abs\",\"sin\",\"value\",\"damping\",\"stiffness\"],\"sources\":[\"/home/ben/Downloads/pets-fresh/apps/mobile/src/components/feedback/SendSparkle.tsx\"],\"mappings\":\"AAkDkB,SAAAA,SAAMA,CAAA;EAAA;IAAAC,KAAA;IAAAC,eAAA;IAAAC,UAAA;IAAAC,UAAA;IAAAC,SAAA;IAAAC;EAAA,SAAAC,QAAA;EAElB,MAAMC,MAAM,GAAG,EAAE;EACjBP,KAAK,CAACQ,OAAO,CAAE,UAAAC,CAAC,EAAK;IACnBR,eAAe,CAACQ,CAAC,CAACC,CAAC,CAAC;IACpBT,eAAe,CAACQ,CAAC,CAACE,CAAC,CAAC;IACpBV,eAAe,CAACQ,CAAC,CAACG,CAAC,CAAC;IACpBX,eAAe,CAACQ,CAAC,CAACI,CAAC,CAAC;IACpBZ,eAAe,CAACQ,CAAC,CAACK,CAAC,CAAC;IAGpB,MAAMC,KAAK,GAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGD,IAAI,CAACE,EAAE,GAAG,CAAE;IAC3C,MAAMC,MAAM,GAAGZ,MAAM,IAAI,GAAG,GAAGS,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;IACjD,MAAMG,EAAE,GAAGJ,IAAI,CAACK,GAAG,CAACN,KAAK,CAAC,GAAGI,MAAM;IACnC,MAAMG,EAAE,GAAG,CAACN,IAAI,CAACO,GAAG,CAACP,IAAI,CAACQ,GAAG,CAACT,KAAK,CAAC,GAAGI,MAAM,CAAC;IAE9CV,CAAC,CAACC,CAAC,CAACe,KAAK,GAAG,CAAC;IACbhB,CAAC,CAACE,CAAC,CAACc,KAAK,GAAG,CAAC;IACbhB,CAAC,CAACG,CAAC,CAACa,KAAK,GAAG,CAAC;IACbhB,CAAC,CAACI,CAAC,CAACY,KAAK,GAAG,CAAC;IACbhB,CAAC,CAACK,CAAC,CAACW,KAAK,GAAG,CAAC;IAEbhB,CAAC,CAACG,CAAC,CAACa,KAAK,GAAGvB,UAAU,CAAC,CAAC,EAAE;MAAEwB,OAAO,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAI,CAAC,CAAC;IAC1DlB,CAAC,CAACI,CAAC,CAACY,KAAK,GAAGtB,UAAU,CAAC,CAAC,EAAE;MAAEE,QAAQ,EAAE;IAAG,CAAC,CAAC;IAC3CI,CAAC,CAACC,CAAC,CAACe,KAAK,GAAGvB,UAAU,CAACkB,EAAE,EAAE;MAAEM,OAAO,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAI,CAAC,CAAC;IAC3DlB,CAAC,CAACE,CAAC,CAACc,KAAK,GAAGvB,UAAU,CAACoB,EAAE,EAAE;MAAEI,OAAO,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAI,CAAC,CAAC;IAC3DlB,CAAC,CAACK,CAAC,CAACW,KAAK,GAAGvB,UAAU,CAAC,CAACc,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,GAAGD,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;IAGlFR,CAAC,CAACI,CAAC,CAACY,KAAK,GAAGrB,SAAS,CAAC,GAAG,EAAED,UAAU,CAAC,CAAC,EAAE;MAAEE,QAAA,EAAAA;IAAS,CAAC,CAAC,CAAC;IACvDI,CAAC,CAACG,CAAC,CAACa,KAAK,GAAGrB,SAAS,CAAC,GAAG,EAAED,UAAU,CAAC,GAAG,EAAE;MAAEE,QAAA,EAAAA;IAAS,CAAC,CAAC,CAAC;EAC3D,CAAC,CAAC;AACJ\",\"ignoreList\":[]}"
};
var _worklet_1256343299839_init_data = {
  code: "function anonymous() {\n  const {\n    p\n  } = this._closure;\n  return {\n    transform: [{\n      translateX: p.x.value\n    }, {\n      translateY: p.y.value\n    }, {\n      rotate: p.r.value + \"deg\"\n    }, {\n      scale: p.s.value\n    }],\n    opacity: p.o.value\n  };\n}",
  location: "/home/ben/Downloads/pets-fresh/apps/mobile/src/components/feedback/SendSparkle.tsx",
  sourceMap: "{\"version\":3,\"names\":[\"anonymous\",\"p\",\"_closure\",\"transform\",\"translateX\",\"x\",\"value\",\"translateY\",\"y\",\"rotate\",\"r\",\"scale\",\"s\",\"opacity\",\"o\"],\"sources\":[\"/home/ben/Downloads/pets-fresh/apps/mobile/src/components/feedback/SendSparkle.tsx\"],\"mappings\":\"AAyFuC,SAAAA,UAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAAA,OAAO;IAClCC,SAAS,EAAE,CACT;MAAEC,UAAU,EAAEH,CAAC,CAACI,CAAC,CAACC;IAAM,CAAC,EACzB;MAAEC,UAAU,EAAEN,CAAC,CAACO,CAAC,CAACF;IAAM,CAAC,EACzB;MAAEG,MAAM,EAAKR,CAAC,CAACS,CAAC,CAACJ,KAAK;IAAM,CAAC,EAC7B;MAAEK,KAAK,EAAEV,CAAC,CAACW,CAAC,CAACN;IAAM,CAAC,CACrB;IACDO,OAAO,EAAEZ,CAAC,CAACa,CAAC,CAACR;EACf,CAAC;AAAA\",\"ignoreList\":[]}"
};
var SendSparkle = exports.SendSparkle = (0, _react.forwardRef)(function (_ref, ref) {
  var _ref$count = _ref.count,
    count = _ref$count === void 0 ? 10 : _ref$count,
    _ref$size = _ref.size,
    size = _ref$size === void 0 ? 14 : _ref$size,
    _ref$duration = _ref.duration,
    duration = _ref$duration === void 0 ? 450 : _ref$duration,
    _ref$colors = _ref.colors,
    colors = _ref$colors === void 0 ? ["#ffffff", "#fde047", "#f472b6", "#60a5fa"] : _ref$colors,
    style = _ref.style;
  var items = (0, _react.useMemo)(function () {
    return Array.from({
      length: count
    }, function (_, i) {
      return {
        i: i,
        glyph: GLYPHS[i % GLYPHS.length],
        color: colors[i % colors.length],
        x: (0, _reactNativeReanimated.useSharedValue)(0),
        y: (0, _reactNativeReanimated.useSharedValue)(0),
        s: (0, _reactNativeReanimated.useSharedValue)(0),
        o: (0, _reactNativeReanimated.useSharedValue)(0),
        r: (0, _reactNativeReanimated.useSharedValue)(0)
      };
    });
  }, [count, colors]);
  var burst = function () {
    var _e = [new global.Error(), -7, -27];
    var _f = function _f() {
      var spread = 34;
      items.forEach(function (p) {
        (0, _reactNativeReanimated.cancelAnimation)(p.x);
        (0, _reactNativeReanimated.cancelAnimation)(p.y);
        (0, _reactNativeReanimated.cancelAnimation)(p.s);
        (0, _reactNativeReanimated.cancelAnimation)(p.o);
        (0, _reactNativeReanimated.cancelAnimation)(p.r);
        var angle = Math.random() * Math.PI * 2;
        var radius = spread * (0.4 + Math.random() * 1);
        var dx = Math.cos(angle) * radius;
        var dy = -Math.abs(Math.sin(angle) * radius);
        p.x.value = 0;
        p.y.value = 0;
        p.s.value = 0;
        p.o.value = 0;
        p.r.value = 0;
        p.s.value = (0, _reactNativeReanimated.withSpring)(1, {
          damping: 12,
          stiffness: 240
        });
        p.o.value = (0, _reactNativeReanimated.withTiming)(1, {
          duration: 80
        });
        p.x.value = (0, _reactNativeReanimated.withSpring)(dx, {
          damping: 16,
          stiffness: 160
        });
        p.y.value = (0, _reactNativeReanimated.withSpring)(dy, {
          damping: 16,
          stiffness: 160
        });
        p.r.value = (0, _reactNativeReanimated.withSpring)((Math.random() > 0.5 ? 1 : -1) * (10 + Math.random() * 25));
        p.o.value = (0, _reactNativeReanimated.withDelay)(120, (0, _reactNativeReanimated.withTiming)(0, {
          duration: duration
        }));
        p.s.value = (0, _reactNativeReanimated.withDelay)(120, (0, _reactNativeReanimated.withTiming)(0.2, {
          duration: duration
        }));
      });
    };
    _f._closure = {
      items: items,
      cancelAnimation: _reactNativeReanimated.cancelAnimation,
      withSpring: _reactNativeReanimated.withSpring,
      withTiming: _reactNativeReanimated.withTiming,
      withDelay: _reactNativeReanimated.withDelay,
      duration: duration
    };
    _f.__initData = _worklet_1145890008131_init_data;
    _f.__workletHash = 1145890008131;
    _f.__stackDetails = _e;
    _f.__version = "3.3.0";
    return _f;
  }();
  (0, _react.useImperativeHandle)(ref, function () {
    return {
      burst: burst
    };
  }, [items]);
  return (0, _jsxRuntime.jsx)(_reactNative.View, {
    pointerEvents: "none",
    style: [styles.wrap, style],
    children: items.map(function (p) {
      var sty = (0, _reactNativeReanimated.useAnimatedStyle)(function () {
        var _e = [new global.Error(), -2, -27];
        var _f = function _f() {
          return {
            transform: [{
              translateX: p.x.value
            }, {
              translateY: p.y.value
            }, {
              rotate: `${p.r.value}deg`
            }, {
              scale: p.s.value
            }],
            opacity: p.o.value
          };
        };
        _f._closure = {
          p: p
        };
        _f.__initData = _worklet_1256343299839_init_data;
        _f.__workletHash = 1256343299839;
        _f.__stackDetails = _e;
        _f.__version = "3.3.0";
        return _f;
      }());
      return (0, _jsxRuntime.jsx)(_reactNativeReanimated.default.Text, {
        style: [styles.glyph, sty, {
          fontSize: size,
          color: p.color
        }],
        children: p.glyph
      }, p.i);
    })
  });
});
var styles = _reactNative.StyleSheet.create({
  wrap: {
    position: "absolute",
    right: 0,
    bottom: 0,
    width: 0,
    height: 0
  },
  glyph: {
    position: "absolute",
    left: -6,
    top: -6,
    textShadowColor: "rgba(0,0,0,0.25)",
    textShadowOffset: {
      width: 0,
      height: 1
    },
    textShadowRadius: 2
  }
});
var _default = exports.default = SendSparkle;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmVSZWFuaW1hdGVkIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIkdMWVBIUyIsIl93b3JrbGV0XzExNDU4OTAwMDgxMzFfaW5pdF9kYXRhIiwiY29kZSIsImxvY2F0aW9uIiwic291cmNlTWFwIiwiX3dvcmtsZXRfMTI1NjM0MzI5OTgzOV9pbml0X2RhdGEiLCJTZW5kU3BhcmtsZSIsImV4cG9ydHMiLCJmb3J3YXJkUmVmIiwiX3JlZiIsInJlZiIsIl9yZWYkY291bnQiLCJjb3VudCIsIl9yZWYkc2l6ZSIsInNpemUiLCJfcmVmJGR1cmF0aW9uIiwiZHVyYXRpb24iLCJfcmVmJGNvbG9ycyIsImNvbG9ycyIsInN0eWxlIiwiaXRlbXMiLCJ1c2VNZW1vIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImdseXBoIiwiY29sb3IiLCJ4IiwidXNlU2hhcmVkVmFsdWUiLCJ5IiwicyIsImJ1cnN0IiwiX2UiLCJnbG9iYWwiLCJFcnJvciIsIl9mIiwic3ByZWFkIiwiZm9yRWFjaCIsInAiLCJjYW5jZWxBbmltYXRpb24iLCJhbmdsZSIsIk1hdGgiLCJyYW5kb20iLCJQSSIsInJhZGl1cyIsImR4IiwiY29zIiwiZHkiLCJhYnMiLCJzaW4iLCJ2YWx1ZSIsIndpdGhTcHJpbmciLCJkYW1waW5nIiwic3RpZmZuZXNzIiwid2l0aFRpbWluZyIsIndpdGhEZWxheSIsIl9jbG9zdXJlIiwiX19pbml0RGF0YSIsIl9fd29ya2xldEhhc2giLCJfX3N0YWNrRGV0YWlscyIsIl9fdmVyc2lvbiIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJqc3giLCJWaWV3IiwicG9pbnRlckV2ZW50cyIsInN0eWxlcyIsIndyYXAiLCJjaGlsZHJlbiIsIm1hcCIsInN0eSIsInVzZUFuaW1hdGVkU3R5bGUiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInJvdGF0ZSIsInNjYWxlIiwib3BhY2l0eSIsIlRleHQiLCJmb250U2l6ZSIsIlN0eWxlU2hlZXQiLCJjcmVhdGUiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwid2lkdGgiLCJoZWlnaHQiLCJsZWZ0IiwidG9wIiwidGV4dFNoYWRvd0NvbG9yIiwidGV4dFNoYWRvd09mZnNldCIsInRleHRTaGFkb3dSYWRpdXMiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIlNlbmRTcGFya2xlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU3R5bGVTaGVldCwgVmlldyB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcbmltcG9ydCBBbmltYXRlZCwge1xuICBjYW5jZWxBbmltYXRpb24sXG4gIHVzZUFuaW1hdGVkU3R5bGUsXG4gIHVzZVNoYXJlZFZhbHVlLFxuICB3aXRoRGVsYXksXG4gIHdpdGhTcHJpbmcsXG4gIHdpdGhUaW1pbmcsXG59IGZyb20gXCJyZWFjdC1uYXRpdmUtcmVhbmltYXRlZFwiO1xuXG5leHBvcnQgdHlwZSBTZW5kU3BhcmtsZUhhbmRsZSA9IHsgYnVyc3Q6ICgpID0+IHZvaWQgfTtcblxuaW50ZXJmYWNlIFNlbmRTcGFya2xlUHJvcHMge1xuICBjb3VudD86IG51bWJlcjsgICAgICAgICAgLy8gbnVtYmVyIG9mIHBhcnRpY2xlc1xuICBzaXplPzogbnVtYmVyOyAgICAgICAgICAgLy8gYmFzZSBmb250IHNpemVcbiAgZHVyYXRpb24/OiBudW1iZXI7ICAgICAgIC8vIG1zIHVudGlsIHBhcnRpY2xlcyBmYWRlXG4gIGNvbG9ycz86IHN0cmluZ1tdOyAgICAgICAvLyB0ZXh0IGNvbG9ycyB0byBwaWNrIGZyb21cbiAgc3R5bGU/OiBhbnk7ICAgICAgICAgICAgIC8vIHdyYXBwZXIgc3R5bGUgKHBvc2l0aW9uOnJlbGF0aXZlIHJlY29tbWVuZGVkKVxufVxuXG5jb25zdCBHTFlQSFMgPSBbXCLinKZcIiwgXCLinKdcIiwgXCLinLpcIiwgXCLinKhcIl07XG5cbmV4cG9ydCBjb25zdCBTZW5kU3BhcmtsZSA9IGZvcndhcmRSZWY8U2VuZFNwYXJrbGVIYW5kbGUsIFNlbmRTcGFya2xlUHJvcHM+KFxuICAoXG4gICAge1xuICAgICAgY291bnQgPSAxMCxcbiAgICAgIHNpemUgPSAxNCxcbiAgICAgIGR1cmF0aW9uID0gNDUwLFxuICAgICAgY29sb3JzID0gW1wiI2ZmZmZmZlwiLCBcIiNmZGUwNDdcIiwgXCIjZjQ3MmI2XCIsIFwiIzYwYTVmYVwiXSxcbiAgICAgIHN0eWxlLFxuICAgIH0sXG4gICAgcmVmLFxuICApID0+IHtcbiAgICBjb25zdCBpdGVtcyA9IHVzZU1lbW8oXG4gICAgICAoKSA9PlxuICAgICAgICBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjb3VudCB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgICBpLFxuICAgICAgICAgIGdseXBoOiBHTFlQSFNbaSAlIEdMWVBIUy5sZW5ndGhdLFxuICAgICAgICAgIGNvbG9yOiBjb2xvcnNbaSAlIGNvbG9ycy5sZW5ndGhdLFxuICAgICAgICAgIC8vIGFuaW1hdGVkIGZpZWxkc1xuICAgICAgICAgIHg6IHVzZVNoYXJlZFZhbHVlKDApLFxuICAgICAgICAgIHk6IHVzZVNoYXJlZFZhbHVlKDApLFxuICAgICAgICAgIHM6IHVzZVNoYXJlZFZhbHVlKDApLFxuICAgICAgICAgIG86IHVzZVNoYXJlZFZhbHVlKDApLFxuICAgICAgICAgIHI6IHVzZVNoYXJlZFZhbHVlKDApLFxuICAgICAgICB9KSksXG4gICAgICBbY291bnQsIGNvbG9yc10sXG4gICAgKTtcblxuICAgIGNvbnN0IGJ1cnN0ID0gKCkgPT4ge1xuICAgICAgXCJ3b3JrbGV0XCI7XG4gICAgICBjb25zdCBzcHJlYWQgPSAzNDsgLy8gcHhcbiAgICAgIGl0ZW1zLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uKHAueCk7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbihwLnkpO1xuICAgICAgICBjYW5jZWxBbmltYXRpb24ocC5zKTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uKHAubyk7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbihwLnIpO1xuXG4gICAgICAgIC8vIHJhbmRvbSByYWRpYWwgZmFuXG4gICAgICAgIGNvbnN0IGFuZ2xlID0gKE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJICogMik7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHNwcmVhZCAqICgwLjQgKyBNYXRoLnJhbmRvbSgpICogMSk7XG4gICAgICAgIGNvbnN0IGR4ID0gTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzO1xuICAgICAgICBjb25zdCBkeSA9IC1NYXRoLmFicyhNYXRoLnNpbihhbmdsZSkgKiByYWRpdXMpOyAvLyBiaWFzIHVwd2FyZFxuXG4gICAgICAgIHAueC52YWx1ZSA9IDA7XG4gICAgICAgIHAueS52YWx1ZSA9IDA7XG4gICAgICAgIHAucy52YWx1ZSA9IDA7XG4gICAgICAgIHAuby52YWx1ZSA9IDA7XG4gICAgICAgIHAuci52YWx1ZSA9IDA7XG5cbiAgICAgICAgcC5zLnZhbHVlID0gd2l0aFNwcmluZygxLCB7IGRhbXBpbmc6IDEyLCBzdGlmZm5lc3M6IDI0MCB9KTtcbiAgICAgICAgcC5vLnZhbHVlID0gd2l0aFRpbWluZygxLCB7IGR1cmF0aW9uOiA4MCB9KTtcbiAgICAgICAgcC54LnZhbHVlID0gd2l0aFNwcmluZyhkeCwgeyBkYW1waW5nOiAxNiwgc3RpZmZuZXNzOiAxNjAgfSk7XG4gICAgICAgIHAueS52YWx1ZSA9IHdpdGhTcHJpbmcoZHksIHsgZGFtcGluZzogMTYsIHN0aWZmbmVzczogMTYwIH0pO1xuICAgICAgICBwLnIudmFsdWUgPSB3aXRoU3ByaW5nKChNYXRoLnJhbmRvbSgpID4gMC41ID8gMSA6IC0xKSAqICgxMCArIE1hdGgucmFuZG9tKCkgKiAyNSkpO1xuXG4gICAgICAgIC8vIGZhZGUgb3V0ICsgc2hyaW5rXG4gICAgICAgIHAuby52YWx1ZSA9IHdpdGhEZWxheSgxMjAsIHdpdGhUaW1pbmcoMCwgeyBkdXJhdGlvbiB9KSk7XG4gICAgICAgIHAucy52YWx1ZSA9IHdpdGhEZWxheSgxMjAsIHdpdGhUaW1pbmcoMC4yLCB7IGR1cmF0aW9uIH0pKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gKHsgYnVyc3QgfSksIFtpdGVtc10pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3IHBvaW50ZXJFdmVudHM9XCJub25lXCIgc3R5bGU9e1tzdHlsZXMud3JhcCwgc3R5bGVdfT5cbiAgICAgICAge2l0ZW1zLm1hcCgocCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0eSA9IHVzZUFuaW1hdGVkU3R5bGUoKCkgPT4gKHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW1xuICAgICAgICAgICAgICB7IHRyYW5zbGF0ZVg6IHAueC52YWx1ZSB9LFxuICAgICAgICAgICAgICB7IHRyYW5zbGF0ZVk6IHAueS52YWx1ZSB9LFxuICAgICAgICAgICAgICB7IHJvdGF0ZTogYCR7cC5yLnZhbHVlfWRlZ2AgfSxcbiAgICAgICAgICAgICAgeyBzY2FsZTogcC5zLnZhbHVlIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgb3BhY2l0eTogcC5vLnZhbHVlLFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEFuaW1hdGVkLlRleHRcbiAgICAgICAgICAgICAga2V5PXtwLml9XG4gICAgICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLmdseXBoLCBzdHksIHsgZm9udFNpemU6IHNpemUsIGNvbG9yOiBwLmNvbG9yIH1dfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cC5nbHlwaH1cbiAgICAgICAgICAgIDwvQW5pbWF0ZWQuVGV4dD5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvVmlldz5cbiAgICApO1xuICB9LFxuKTtcblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICB3cmFwOiB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHJpZ2h0OiAwLCBib3R0b206IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSxcbiAgZ2x5cGg6IHtcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgIGxlZnQ6IC02LFxuICAgIHRvcDogLTYsXG4gICAgdGV4dFNoYWRvd0NvbG9yOiBcInJnYmEoMCwwLDAsMC4yNSlcIixcbiAgICB0ZXh0U2hhZG93T2Zmc2V0OiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDEgfSxcbiAgICB0ZXh0U2hhZG93UmFkaXVzOiAyLFxuICB9LFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNlbmRTcGFya2xlO1xuXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLHNCQUFBLEdBQUFILHVCQUFBLENBQUFDLE9BQUE7QUFPaUMsSUFBQUcsV0FBQSxHQUFBSCxPQUFBO0FBQUEsU0FBQUQsd0JBQUFLLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFQLHVCQUFBLFlBQUFBLHdCQUFBSyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FB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