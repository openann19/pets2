6c64356dfed9e51c921734d7d819ac04
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SuperRes = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var ImageManipulator = _interopRequireWildcard(require("expo-image-manipulator"));
var _TiledUpscaler = require("./TiledUpscaler");
var _Unsharp = require("./Unsharp");
var _logger4 = require("../services/logger");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var BicubicAdapter = {
  name: "bicubic",
  available: function () {
    var _available = (0, _asyncToGenerator2.default)(function* () {
      return true;
    });
    function available() {
      return _available.apply(this, arguments);
    }
    return available;
  }(),
  upscale: function () {
    var _upscale = (0, _asyncToGenerator2.default)(function* (uri, targetW, targetH) {
      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      var _opts$sharpen = opts.sharpen,
        sharpen = _opts$sharpen === void 0 ? true : _opts$sharpen,
        useTiles = opts.useTiles,
        _opts$pickBest = opts.pickBest,
        pickBest = _opts$pickBest === void 0 ? false : _opts$pickBest;
      var shouldUseTiles = useTiles != null ? useTiles : targetW >= 1920 || targetH >= 1920;
      var result;
      if (shouldUseTiles) {
        result = yield (0, _TiledUpscaler.tileUpscaleAuto)(uri, {
          targetW: Math.round(targetW),
          targetH: Math.round(targetH),
          tile: 1024,
          overlap: 12,
          quality: 1,
          format: "jpg"
        });
      } else {
        var manipResult = yield ImageManipulator.manipulateAsync(uri, [{
          resize: {
            width: Math.round(targetW),
            height: Math.round(targetH)
          }
        }], {
          compress: 1,
          format: ImageManipulator.SaveFormat.JPEG
        });
        result = manipResult.uri;
      }
      if (sharpen) {
        try {
          result = yield (0, _Unsharp.unsharpMask)(result, {
            amount: 0.6,
            radius: 1.2,
            threshold: 0.02,
            quality: 1,
            format: "jpg"
          });
        } catch (error) {
          var err = error instanceof Error ? error : new Error(String(error));
          var _yield$import = yield Promise.resolve().then(function () {
              return _interopRequireWildcard(require("../services/logger"));
            }),
            _logger = _yield$import.logger;
          _logger.warn('SuperRes: Unsharp mask failed', {
            error: err
          });
        }
      }
      return result;
    });
    function upscale(_x, _x2, _x3) {
      return _upscale.apply(this, arguments);
    }
    return upscale;
  }()
};
var ServerAdapter = {
  name: "server-esrgan",
  available: function () {
    var _available2 = (0, _asyncToGenerator2.default)(function* () {
      if (__DEV__) {
        return false;
      }
      return false;
    });
    function available() {
      return _available2.apply(this, arguments);
    }
    return available;
  }(),
  upscale: function () {
    var _upscale2 = (0, _asyncToGenerator2.default)(function* (uri, targetW, targetH) {
      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      return uri;
    });
    function upscale(_x4, _x5, _x6) {
      return _upscale2.apply(this, arguments);
    }
    return upscale;
  }()
};
var LocalTFLiteAdapter = {
  name: "tflite-esrgan",
  available: function () {
    var _available3 = (0, _asyncToGenerator2.default)(function* () {
      try {
        return false;
      } catch (_unused) {
        return false;
      }
    });
    function available() {
      return _available3.apply(this, arguments);
    }
    return available;
  }(),
  upscale: function () {
    var _upscale3 = (0, _asyncToGenerator2.default)(function* (uri, targetW, targetH) {
      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      return uri;
    });
    function upscale(_x7, _x8, _x9) {
      return _upscale3.apply(this, arguments);
    }
    return upscale;
  }()
};
var ADAPTERS = [LocalTFLiteAdapter, ServerAdapter, BicubicAdapter];
var SuperRes = exports.SuperRes = {
  upscale: function () {
    var _upscale4 = (0, _asyncToGenerator2.default)(function* (uri, targetW, targetH, opts) {
      for (var adapter of ADAPTERS) {
        if (yield adapter.available()) {
          try {
            var _yield$import2 = yield Promise.resolve().then(function () {
                return _interopRequireWildcard(require("../services/logger"));
              }),
              _logger2 = _yield$import2.logger;
            _logger2.info('SuperRes: Using adapter for upscaling', {
              adapter: adapter.name,
              dimensions: `${targetW}x${targetH}`
            });
            var result = yield adapter.upscale(uri, targetW, targetH, opts);
            return result;
          } catch (error) {
            var err = error instanceof Error ? error : new Error(String(error));
            var _yield$import3 = yield Promise.resolve().then(function () {
                return _interopRequireWildcard(require("../services/logger"));
              }),
              _logger3 = _yield$import3.logger;
            _logger3.warn(`SuperRes: ${adapter.name} failed, trying fallback`, {
              error: err
            });
          }
        }
      }
      _logger4.logger.error("[SuperRes] All adapters failed, returning original URI");
      return uri;
    });
    function upscale(_x0, _x1, _x10, _x11) {
      return _upscale4.apply(this, arguments);
    }
    return upscale;
  }(),
  adapters: ADAPTERS,
  getActiveAdapter: function () {
    var _getActiveAdapter = (0, _asyncToGenerator2.default)(function* () {
      for (var adapter of ADAPTERS) {
        if (yield adapter.available()) {
          return adapter.name;
        }
      }
      return "none";
    });
    function getActiveAdapter() {
      return _getActiveAdapter.apply(this, arguments);
    }
    return getActiveAdapter;
  }()
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbWFnZU1hbmlwdWxhdG9yIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlIiwiX1RpbGVkVXBzY2FsZXIiLCJfVW5zaGFycCIsIl9sb2dnZXI0IiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJCaWN1YmljQWRhcHRlciIsIm5hbWUiLCJhdmFpbGFibGUiLCJfYXZhaWxhYmxlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ1cHNjYWxlIiwiX3Vwc2NhbGUiLCJ1cmkiLCJ0YXJnZXRXIiwidGFyZ2V0SCIsIm9wdHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJfb3B0cyRzaGFycGVuIiwic2hhcnBlbiIsInVzZVRpbGVzIiwiX29wdHMkcGlja0Jlc3QiLCJwaWNrQmVzdCIsInNob3VsZFVzZVRpbGVzIiwicmVzdWx0IiwidGlsZVVwc2NhbGVBdXRvIiwiTWF0aCIsInJvdW5kIiwidGlsZSIsIm92ZXJsYXAiLCJxdWFsaXR5IiwiZm9ybWF0IiwibWFuaXBSZXN1bHQiLCJtYW5pcHVsYXRlQXN5bmMiLCJyZXNpemUiLCJ3aWR0aCIsImhlaWdodCIsImNvbXByZXNzIiwiU2F2ZUZvcm1hdCIsIkpQRUciLCJ1bnNoYXJwTWFzayIsImFtb3VudCIsInJhZGl1cyIsInRocmVzaG9sZCIsImVycm9yIiwiZXJyIiwiRXJyb3IiLCJTdHJpbmciLCJfeWllbGQkaW1wb3J0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwibG9nZ2VyIiwid2FybiIsIl94IiwiX3gyIiwiX3gzIiwiU2VydmVyQWRhcHRlciIsIl9hdmFpbGFibGUyIiwiX19ERVZfXyIsIl91cHNjYWxlMiIsIl94NCIsIl94NSIsIl94NiIsIkxvY2FsVEZMaXRlQWRhcHRlciIsIl9hdmFpbGFibGUzIiwiX3VudXNlZCIsIl91cHNjYWxlMyIsIl94NyIsIl94OCIsIl94OSIsIkFEQVBURVJTIiwiU3VwZXJSZXMiLCJleHBvcnRzIiwiX3Vwc2NhbGU0IiwiYWRhcHRlciIsIl95aWVsZCRpbXBvcnQyIiwiaW5mbyIsImRpbWVuc2lvbnMiLCJfeWllbGQkaW1wb3J0MyIsIl94MCIsIl94MSIsIl94MTAiLCJfeDExIiwiYWRhcHRlcnMiLCJnZXRBY3RpdmVBZGFwdGVyIiwiX2dldEFjdGl2ZUFkYXB0ZXIiXSwic291cmNlcyI6WyJTdXBlclJlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFN1cGVyLVJlc29sdXRpb24gUGlwZWxpbmUgd2l0aCBQbHVnZ2FibGUgQWRhcHRlcnNcbiAqIFN1cHBvcnRzIG11bHRpcGxlIGJhY2tlbmRzIHdpdGggZ3JhY2VmdWwgZmFsbGJhY2sgdG8gYmljdWJpY1xuICovXG5cbmltcG9ydCAqIGFzIEltYWdlTWFuaXB1bGF0b3IgZnJvbSBcImV4cG8taW1hZ2UtbWFuaXB1bGF0b3JcIjtcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcInJlYWN0LW5hdGl2ZVwiO1xuaW1wb3J0IHsgdGlsZVVwc2NhbGVBdXRvIH0gZnJvbSBcIi4vVGlsZWRVcHNjYWxlclwiO1xuaW1wb3J0IHsgdW5zaGFycE1hc2sgfSBmcm9tIFwiLi9VbnNoYXJwXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi4vc2VydmljZXMvbG9nZ2VyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3VwZXJSZXNBZGFwdGVyIHtcbiAgbmFtZTogc3RyaW5nO1xuICBhdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPjtcbiAgdXBzY2FsZSh1cmk6IHN0cmluZywgdGFyZ2V0VzogbnVtYmVyLCB0YXJnZXRIOiBudW1iZXIsIG9wdHM/OiBTdXBlclJlc09wdGlvbnMpOiBQcm9taXNlPHN0cmluZz47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3VwZXJSZXNPcHRpb25zIHtcbiAgLyoqIEFwcGx5IHVuc2hhcnAgbWFzayBhZnRlciB1cHNjYWxlIChkZWZhdWx0OiB0cnVlKSAqL1xuICBzaGFycGVuPzogYm9vbGVhbjtcbiAgLyoqIFVzZSB0aWxlLWJhc2VkIHVwc2NhbGluZyBmb3IgbGFyZ2UgaW1hZ2VzIChkZWZhdWx0OiB0cnVlIGZvciA0SyspICovXG4gIHVzZVRpbGVzPzogYm9vbGVhbjtcbiAgLyoqIEFwcGx5IHF1YWxpdHkgc2NvcmluZyB0byBwaWNrIHNoYXJwZXN0IHJlc3VsdCAqL1xuICBwaWNrQmVzdD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogRmFsbGJhY2sgYmljdWJpYyB1cHNjYWxlciAoYWx3YXlzIGF2YWlsYWJsZSB2aWEgSW1hZ2VNYW5pcHVsYXRvcilcbiAqIFRoaXMgdXNlcyBleHBvLWltYWdlLW1hbmlwdWxhdG9yJ3MgcmVzaXplIHdoaWNoIGltcGxlbWVudHMgZGVjZW50IGJpY3ViaWMgaW50ZXJwb2xhdGlvblxuICovXG5jb25zdCBCaWN1YmljQWRhcHRlcjogU3VwZXJSZXNBZGFwdGVyID0ge1xuICBuYW1lOiBcImJpY3ViaWNcIixcbiAgYXN5bmMgYXZhaWxhYmxlKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBhc3luYyB1cHNjYWxlKHVyaSwgdGFyZ2V0VywgdGFyZ2V0SCwgb3B0cyA9IHt9KSB7XG4gICAgY29uc3QgeyBzaGFycGVuID0gdHJ1ZSwgdXNlVGlsZXMsIHBpY2tCZXN0ID0gZmFsc2UgfSA9IG9wdHM7XG4gICAgXG4gICAgLy8gVXNlIHRpbGUtYmFzZWQgdXBzY2FsaW5nIGZvciBsYXJnZSBpbWFnZXMgKDRLKylcbiAgICBjb25zdCBzaG91bGRVc2VUaWxlcyA9IHVzZVRpbGVzID8/ICh0YXJnZXRXID49IDE5MjAgfHwgdGFyZ2V0SCA+PSAxOTIwKTtcbiAgICBcbiAgICBsZXQgcmVzdWx0OiBzdHJpbmc7XG4gICAgaWYgKHNob3VsZFVzZVRpbGVzKSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCB0aWxlVXBzY2FsZUF1dG8odXJpLCB7XG4gICAgICAgIHRhcmdldFc6IE1hdGgucm91bmQodGFyZ2V0VyksXG4gICAgICAgIHRhcmdldEg6IE1hdGgucm91bmQodGFyZ2V0SCksXG4gICAgICAgIHRpbGU6IDEwMjQsXG4gICAgICAgIG92ZXJsYXA6IDEyLFxuICAgICAgICBxdWFsaXR5OiAxLFxuICAgICAgICBmb3JtYXQ6IFwianBnXCIsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWFuaXBSZXN1bHQgPSBhd2FpdCBJbWFnZU1hbmlwdWxhdG9yLm1hbmlwdWxhdGVBc3luYyhcbiAgICAgICAgdXJpLFxuICAgICAgICBbeyByZXNpemU6IHsgd2lkdGg6IE1hdGgucm91bmQodGFyZ2V0VyksIGhlaWdodDogTWF0aC5yb3VuZCh0YXJnZXRIKSB9IH1dLFxuICAgICAgICB7IGNvbXByZXNzOiAxLCBmb3JtYXQ6IEltYWdlTWFuaXB1bGF0b3IuU2F2ZUZvcm1hdC5KUEVHIH1cbiAgICAgICk7XG4gICAgICByZXN1bHQgPSBtYW5pcFJlc3VsdC51cmk7XG4gICAgfVxuICAgIFxuICAgIC8vIEFwcGx5IHVuc2hhcnAgbWFzayBpZiByZXF1ZXN0ZWRcbiAgICBpZiAoc2hhcnBlbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgdW5zaGFycE1hc2socmVzdWx0LCB7XG4gICAgICAgICAgYW1vdW50OiAwLjYsXG4gICAgICAgICAgcmFkaXVzOiAxLjIsXG4gICAgICAgICAgdGhyZXNob2xkOiAwLjAyLFxuICAgICAgICAgIHF1YWxpdHk6IDEsXG4gICAgICAgICAgZm9ybWF0OiBcImpwZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgIGNvbnN0IGVyciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKTtcbiAgICAgICAgY29uc3QgeyBsb2dnZXIgfSA9IGF3YWl0IGltcG9ydCgnLi4vc2VydmljZXMvbG9nZ2VyJyk7XG4gICAgICAgIGxvZ2dlci53YXJuKCdTdXBlclJlczogVW5zaGFycCBtYXNrIGZhaWxlZCcsIHsgZXJyb3I6IGVyciB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbn07XG5cbi8qKlxuICogT3B0aW9uYWw6IFNlcnZlciBFU1JHQU4gLyBSZWFsLUVTUkdBTiAoSFRUUClcbiAqIFRoaXMgYWRhcHRlciBjYWxscyB5b3VyIGJhY2tlbmQgQVBJIGZvciBBSS1wb3dlcmVkIHVwc2NhbGluZ1xuICogVG9nZ2xlIGF2YWlsYWJsZSgpIHJldHVybiB2YWx1ZSB3aGVuIGJhY2tlbmQgaXMgcmVhZHlcbiAqL1xuY29uc3QgU2VydmVyQWRhcHRlcjogU3VwZXJSZXNBZGFwdGVyID0ge1xuICBuYW1lOiBcInNlcnZlci1lc3JnYW5cIixcbiAgYXN5bmMgYXZhaWxhYmxlKCkge1xuICAgIC8vIEZsaXAgdG8gdHJ1ZSB3aGVuIHlvdXIgYmFja2VuZCB1cHNjYWxlciBlbmRwb2ludCBpcyByZWFkeVxuICAgIC8vIFlvdSBjYW4gYWxzbyBjaGVjayBlbnZpcm9ubWVudCB2YXJpYWJsZXMsIGZlYXR1cmUgZmxhZ3MsIGV0Yy5cbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBEaXNhYmxlIGluIGRldiB1bnRpbCBiYWNrZW5kIGlzIHJlYWR5XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTsgLy8gU2V0IHRvIHRydWUgd2hlbiBwcm9kdWN0aW9uIGVuZHBvaW50IGlzIHJlYWR5XG4gIH0sXG4gIGFzeW5jIHVwc2NhbGUodXJpLCB0YXJnZXRXLCB0YXJnZXRILCBvcHRzID0ge30pIHtcbiAgICAvLyBUT0RPOiBSZXBsYWNlIHdpdGggeW91ciBhY3R1YWwgYmFja2VuZCBlbmRwb2ludFxuICAgIC8vIEV4YW1wbGUgaW1wbGVtZW50YXRpb246XG4gICAgLy8gY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAvLyBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgeyB1cmksIG5hbWU6ICdpbWFnZS5qcGcnLCB0eXBlOiAnaW1hZ2UvanBlZycgfSk7XG4gICAgLy8gZm9ybURhdGEuYXBwZW5kKCd0YXJnZXRXJywgdGFyZ2V0Vy50b1N0cmluZygpKTtcbiAgICAvLyBmb3JtRGF0YS5hcHBlbmQoJ3RhcmdldEgnLCB0YXJnZXRILnRvU3RyaW5nKCkpO1xuICAgIC8vXG4gICAgLy8gY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8veW91ci1iYWNrZW5kLmNvbS9hcGkvdXBzY2FsZScsIHtcbiAgICAvLyAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIC8vICAgaGVhZGVyczoge1xuICAgIC8vICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHthd2FpdCBnZXRBdXRoVG9rZW4oKX1gLFxuICAgIC8vICAgfSxcbiAgICAvLyAgIGJvZHk6IGZvcm1EYXRhLFxuICAgIC8vIH0pO1xuICAgIC8vXG4gICAgLy8gaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcihgVXBzY2FsZSBmYWlsZWQ6ICR7cmVzLnN0YXR1c1RleHR9YCk7XG4gICAgLy8gY29uc3QgeyB1cHNjYWxlZFVybCB9ID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAvLyByZXR1cm4gdXBzY2FsZWRVcmw7XG5cbiAgICAvLyBGYWxsYmFjayAoc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBpZiBhdmFpbGFibGU9ZmFsc2UpXG4gICAgcmV0dXJuIHVyaTtcbiAgfSxcbn07XG5cbi8qKlxuICogT3B0aW9uYWw6IE9uLWRldmljZSBURkxpdGUgYWRhcHRlclxuICogVGhpcyB3b3VsZCB1c2UgVGVuc29yRmxvdyBMaXRlIG1vYmlsZSBtb2RlbHMgZm9yIEFJIHVwc2NhbGluZyBvbiBkZXZpY2VcbiAqIFJlcXVpcmVzIHJlYWN0LW5hdGl2ZS10ZmxpdGUgb3Igc2ltaWxhciBicmlkZ2VcbiAqL1xuY29uc3QgTG9jYWxURkxpdGVBZGFwdGVyOiBTdXBlclJlc0FkYXB0ZXIgPSB7XG4gIG5hbWU6IFwidGZsaXRlLWVzcmdhblwiLFxuICBhc3luYyBhdmFpbGFibGUoKSB7XG4gICAgLy8gU2V0IHRvIHRydWUgd2hlbiBURkxpdGUgYnJpZGdlIGlzIGludGVncmF0ZWRcbiAgICB0cnkge1xuICAgICAgLy8gRXhhbXBsZSBjaGVjazpcbiAgICAgIC8vIGNvbnN0IFRGTW9kdWxlID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlLXRmbGl0ZScpO1xuICAgICAgLy8gcmV0dXJuIFRGTW9kdWxlLmlzUmVhZHkoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIHVwc2NhbGUodXJpLCB0YXJnZXRXLCB0YXJnZXRILCBvcHRzID0ge30pIHtcbiAgICAvLyBFeGFtcGxlIGltcGxlbWVudGF0aW9uOlxuICAgIC8vIGNvbnN0IFRGTW9kdWxlID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlLXRmbGl0ZScpO1xuICAgIC8vIGNvbnN0IGlucHV0ID0gYXdhaXQgSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmModXJpLCBbXSwgeyBmb3JtYXQ6IEltYWdlTWFuaXB1bGF0b3IuU2F2ZUZvcm1hdC5QTkcgfSk7XG4gICAgLy8gY29uc3Qgb3V0cHV0ID0gYXdhaXQgVEZNb2R1bGUudXBzY2FsZShpbnB1dC51cmksIHRhcmdldFcsIHRhcmdldEgpO1xuICAgIC8vIHJldHVybiBvdXRwdXQudXJpO1xuXG4gICAgLy8gRmFsbGJhY2tcbiAgICByZXR1cm4gdXJpO1xuICB9LFxufTtcblxuLy8gUHJpb3JpdHkgb3JkZXI6IHRyeSBURkxpdGUgZmlyc3QgKGZhc3Rlc3QpLCB0aGVuIHNlcnZlciAoaGlnaGVzdCBxdWFsaXR5KSwgdGhlbiBiaWN1YmljIChhbHdheXMgd29ya3MpXG5jb25zdCBBREFQVEVSUzogU3VwZXJSZXNBZGFwdGVyW10gPSBbTG9jYWxURkxpdGVBZGFwdGVyLCBTZXJ2ZXJBZGFwdGVyLCBCaWN1YmljQWRhcHRlcl07XG5cbmV4cG9ydCBjb25zdCBTdXBlclJlcyA9IHtcbiAgLyoqXG4gICAqIFVwc2NhbGUgaW1hZ2UgdG8gdGFyZ2V0IGRpbWVuc2lvbnMgdXNpbmcgdGhlIGJlc3QgYXZhaWxhYmxlIGJhY2tlbmRcbiAgICogQWx3YXlzIHJlc29sdmVzIChCaWN1YmljIGFkYXB0ZXIgaXMgYWx3YXlzIGF2YWlsYWJsZSBhcyBmYWxsYmFjaylcbiAgICogQHBhcmFtIHVyaSAtIFNvdXJjZSBpbWFnZSBVUklcbiAgICogQHBhcmFtIHRhcmdldFcgLSBUYXJnZXQgd2lkdGggaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSB0YXJnZXRIIC0gVGFyZ2V0IGhlaWdodCBpbiBwaXhlbHNcbiAgICogQHBhcmFtIG9wdHMgLSBTdXBlci1yZXNvbHV0aW9uIG9wdGlvbnNcbiAgICogQHJldHVybnMgVVJJIG9mIHVwc2NhbGVkIGltYWdlXG4gICAqL1xuICBhc3luYyB1cHNjYWxlKHVyaTogc3RyaW5nLCB0YXJnZXRXOiBudW1iZXIsIHRhcmdldEg6IG51bWJlciwgb3B0cz86IFN1cGVyUmVzT3B0aW9ucyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgZm9yIChjb25zdCBhZGFwdGVyIG9mIEFEQVBURVJTKSB7XG4gICAgICBpZiAoYXdhaXQgYWRhcHRlci5hdmFpbGFibGUoKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBhd2FpdCBpbXBvcnQoJy4uL3NlcnZpY2VzL2xvZ2dlcicpO1xuICAgICAgICBsb2dnZXIuaW5mbygnU3VwZXJSZXM6IFVzaW5nIGFkYXB0ZXIgZm9yIHVwc2NhbGluZycsIHsgYWRhcHRlcjogYWRhcHRlci5uYW1lLCBkaW1lbnNpb25zOiBgJHt0YXJnZXRXfXgke3RhcmdldEh9YCB9KTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhZGFwdGVyLnVwc2NhbGUodXJpLCB0YXJnZXRXLCB0YXJnZXRILCBvcHRzKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICAgIGNvbnN0IGVyciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKTtcbiAgICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gYXdhaXQgaW1wb3J0KCcuLi9zZXJ2aWNlcy9sb2dnZXInKTtcbiAgICAgICAgICBsb2dnZXIud2FybihgU3VwZXJSZXM6ICR7YWRhcHRlci5uYW1lfSBmYWlsZWQsIHRyeWluZyBmYWxsYmFja2AsIHsgZXJyb3I6IGVyciB9KTtcbiAgICAgICAgICAvLyBDb250aW51ZSB0byBuZXh0IGFkYXB0ZXIgb24gZXJyb3JcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBUaGlzIHNob3VsZCBuZXZlciBiZSByZWFjaGVkIHNpbmNlIEJpY3ViaWNBZGFwdGVyIGlzIGFsd2F5cyBhdmFpbGFibGVcbiAgICBsb2dnZXIuZXJyb3IoXCJbU3VwZXJSZXNdIEFsbCBhZGFwdGVycyBmYWlsZWQsIHJldHVybmluZyBvcmlnaW5hbCBVUklcIik7XG4gICAgcmV0dXJuIHVyaTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGxpc3Qgb2YgYWxsIGFkYXB0ZXJzIChmb3IgZGVidWdnaW5nL21vbml0b3JpbmcpXG4gICAqL1xuICBhZGFwdGVyczogQURBUFRFUlMsXG5cbiAgLyoqXG4gICAqIENoZWNrIHdoaWNoIGFkYXB0ZXIgd291bGQgYmUgdXNlZCBmb3IgbmV4dCB1cHNjYWxlXG4gICAqIFVzZWZ1bCBmb3IgVUkgaW5kaWNhdG9yc1xuICAgKi9cbiAgYXN5bmMgZ2V0QWN0aXZlQWRhcHRlcigpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGZvciAoY29uc3QgYWRhcHRlciBvZiBBREFQVEVSUykge1xuICAgICAgaWYgKGF3YWl0IGFkYXB0ZXIuYXZhaWxhYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuIGFkYXB0ZXIubmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwibm9uZVwiO1xuICB9LFxufTtcblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUtBLElBQUFBLGdCQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyxjQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxRQUFBLEdBQUFILE9BQUE7QUFBNEMsU0FBQUQsd0JBQUFLLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFQLHVCQUFBLFlBQUFBLHdCQUFBSyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxFQUFBVixDQUFBLGlCQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFNBQUFRLENBQUEsTUFBQUYsQ0FBQSxHQUFBTCxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxRQUFBRyxDQUFBLENBQUFLLEdBQUEsQ0FBQVgsQ0FBQSxVQUFBTSxDQUFBLENBQUFNLEdBQUEsQ0FBQVosQ0FBQSxHQUFBTSxDQUFBLENBQUFPLEdBQUEsQ0FBQWIsQ0FBQSxFQUFBUSxDQUFBLGNBQUFNLEVBQUEsSUFBQWQsQ0FBQSxnQkFBQWMsRUFBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsRUFBQSxPQUFBUCxDQUFBLElBQUFELENBQUEsR0FBQVcsTUFBQSxDQUFBQyxjQUFBLEtBQUFELE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQW5CLENBQUEsRUFBQWMsRUFBQSxPQUFBUCxDQUFBLENB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