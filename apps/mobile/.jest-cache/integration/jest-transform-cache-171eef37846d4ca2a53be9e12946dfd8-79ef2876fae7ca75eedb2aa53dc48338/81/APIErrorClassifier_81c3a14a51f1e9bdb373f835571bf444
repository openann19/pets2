ee768c703788534065d4ea88706a9b37
"use strict";
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.APIErrorClassifier = exports.ErrorType = void 0;
var ErrorType;
(function (ErrorType) {
  ErrorType["NETWORK"] = "NETWORK";
  ErrorType["AUTHENTICATION"] = "AUTHENTICATION";
  ErrorType["AUTHORIZATION"] = "AUTHORIZATION";
  ErrorType["VALIDATION"] = "VALIDATION";
  ErrorType["SERVER"] = "SERVER";
  ErrorType["CLIENT"] = "CLIENT";
  ErrorType["TIMEOUT"] = "TIMEOUT";
  ErrorType["RATE_LIMIT"] = "RATE_LIMIT";
  ErrorType["UNKNOWN"] = "UNKNOWN";
})(ErrorType || (exports.ErrorType = ErrorType = {}));
var APIErrorClassifier = function () {
  function APIErrorClassifier() {
    (0, _classCallCheck2.default)(this, APIErrorClassifier);
  }
  return (0, _createClass2.default)(APIErrorClassifier, [{
    key: "classify",
    value: function classify(error, context) {
      var statusCode = (context == null ? void 0 : context.statusCode) || this.extractStatusCode(error);
      if (statusCode) {
        return this.classifyByStatusCode(statusCode);
      }
      var errorMessage = this.extractErrorMessage(error);
      return this.classifyByMessage(errorMessage, error);
    }
  }, {
    key: "classifyByStatusCode",
    value: function classifyByStatusCode(statusCode) {
      switch (true) {
        case statusCode >= 500:
          return {
            type: ErrorType.SERVER,
            retryable: true,
            userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.SERVER],
            statusCode: statusCode,
            severity: 'high'
          };
        case statusCode === 401:
          return {
            type: ErrorType.AUTHENTICATION,
            retryable: false,
            userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.AUTHENTICATION],
            statusCode: statusCode,
            severity: 'high'
          };
        case statusCode === 403:
          return {
            type: ErrorType.AUTHORIZATION,
            retryable: false,
            userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.AUTHORIZATION],
            statusCode: statusCode,
            severity: 'medium'
          };
        case statusCode === 404:
          return {
            type: ErrorType.CLIENT,
            retryable: false,
            userMessage: 'Resource not found.',
            statusCode: statusCode,
            severity: 'low'
          };
        case statusCode === 408:
          return {
            type: ErrorType.TIMEOUT,
            retryable: true,
            userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.TIMEOUT],
            statusCode: statusCode,
            severity: 'medium'
          };
        case statusCode === 429:
          return {
            type: ErrorType.RATE_LIMIT,
            retryable: true,
            userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.RATE_LIMIT],
            statusCode: statusCode,
            severity: 'medium'
          };
        case statusCode >= 400:
          return {
            type: ErrorType.VALIDATION,
            retryable: false,
            userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.VALIDATION],
            statusCode: statusCode,
            severity: 'medium'
          };
        default:
          return {
            type: ErrorType.UNKNOWN,
            retryable: false,
            userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.UNKNOWN],
            statusCode: statusCode,
            severity: 'low'
          };
      }
    }
  }, {
    key: "classifyByMessage",
    value: function classifyByMessage(errorMessage, error) {
      var lowerMessage = errorMessage.toLowerCase();
      if (this.isNetworkError(lowerMessage)) {
        return {
          type: ErrorType.NETWORK,
          retryable: true,
          userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.NETWORK],
          severity: 'high'
        };
      }
      if (this.isTimeoutError(lowerMessage)) {
        return {
          type: ErrorType.TIMEOUT,
          retryable: true,
          userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.TIMEOUT],
          severity: 'medium'
        };
      }
      if (this.isAuthenticationError(lowerMessage)) {
        return {
          type: ErrorType.AUTHENTICATION,
          retryable: false,
          userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.AUTHENTICATION],
          severity: 'high'
        };
      }
      return {
        type: ErrorType.UNKNOWN,
        retryable: this.isRetryableError(error),
        userMessage: APIErrorClassifier.ERROR_MESSAGES[ErrorType.UNKNOWN],
        severity: 'medium'
      };
    }
  }, {
    key: "isNetworkError",
    value: function isNetworkError(message) {
      var networkKeywords = ['network', 'connection', 'econnrefused', 'enotfound', 'econnreset', 'fetch failed', 'network error'];
      return networkKeywords.some(function (keyword) {
        return message.includes(keyword);
      });
    }
  }, {
    key: "isTimeoutError",
    value: function isTimeoutError(message) {
      var timeoutKeywords = ['timeout', 'timed out', 'etimedout', 'request timeout'];
      return timeoutKeywords.some(function (keyword) {
        return message.includes(keyword);
      });
    }
  }, {
    key: "isAuthenticationError",
    value: function isAuthenticationError(message) {
      var authKeywords = ['unauthorized', 'authentication', 'token', 'invalid credentials', 'session expired'];
      return authKeywords.some(function (keyword) {
        return message.includes(keyword);
      });
    }
  }, {
    key: "isRetryableError",
    value: function isRetryableError(error) {
      if (error instanceof Error) {
        var message = error.message.toLowerCase();
        return this.isNetworkError(message) || this.isTimeoutError(message);
      }
      return false;
    }
  }, {
    key: "extractStatusCode",
    value: function extractStatusCode(error) {
      if (error && typeof error === 'object') {
        if ('status' in error && typeof error.status === 'number') {
          return error.status;
        }
        if ('statusCode' in error && typeof error.statusCode === 'number') {
          return error.statusCode;
        }
        if ('response' in error && typeof error.response === 'object' && error.response !== null) {
          var response = error.response;
          return response.status || response.statusCode;
        }
      }
      return undefined;
    }
  }, {
    key: "extractErrorMessage",
    value: function extractErrorMessage(error) {
      if (error instanceof Error) {
        return error.message;
      }
      if (error && typeof error === 'object') {
        if ('message' in error && typeof error.message === 'string') {
          return error.message;
        }
      }
      return String(error);
    }
  }, {
    key: "getUserMessage",
    value: function getUserMessage(error, context) {
      var classification = this.classify(error, context);
      return classification.userMessage;
    }
  }]);
}();
APIErrorClassifier.ERROR_MESSAGES = (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, ErrorType.NETWORK, 'Network connection failed. Please check your internet connection.'), ErrorType.AUTHENTICATION, 'Your session has expired. Please sign in again.'), ErrorType.AUTHORIZATION, 'You do not have permission to perform this action.'), ErrorType.VALIDATION, 'Invalid input. Please check your data and try again.'), ErrorType.SERVER, 'Server error. Please try again later.'), ErrorType.CLIENT, 'Invalid request. Please check your input.'), ErrorType.TIMEOUT, 'Request timed out. Please try again.'), ErrorType.RATE_LIMIT, 'Too many requests. Please wait a moment.'), ErrorType.UNKNOWN, 'An unexpected error occurred. Please try again.');
exports.APIErrorClassifier = APIErrorClassifier;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NyZWF0ZUNsYXNzMiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQVBJRXJyb3JDbGFzc2lmaWVyIiwiRXJyb3JUeXBlIiwiZGVmYXVsdCIsImtleSIsImNsYXNzaWZ5IiwiZXJyb3IiLCJjb250ZXh0Iiwic3RhdHVzQ29kZSIsImV4dHJhY3RTdGF0dXNDb2RlIiwiY2xhc3NpZnlCeVN0YXR1c0NvZGUiLCJlcnJvck1lc3NhZ2UiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwiY2xhc3NpZnlCeU1lc3NhZ2UiLCJ0eXBlIiwiU0VSVkVSIiwicmV0cnlhYmxlIiwidXNlck1lc3NhZ2UiLCJFUlJPUl9NRVNTQUdFUyIsInNldmVyaXR5IiwiQVVUSEVOVElDQVRJT04iLCJBVVRIT1JJWkFUSU9OIiwiQ0xJRU5UIiwiVElNRU9VVCIsIlJBVEVfTElNSVQiLCJWQUxJREFUSU9OIiwiVU5LTk9XTiIsImxvd2VyTWVzc2FnZSIsInRvTG93ZXJDYXNlIiwiaXNOZXR3b3JrRXJyb3IiLCJORVRXT1JLIiwiaXNUaW1lb3V0RXJyb3IiLCJpc0F1dGhlbnRpY2F0aW9uRXJyb3IiLCJpc1JldHJ5YWJsZUVycm9yIiwibWVzc2FnZSIsIm5ldHdvcmtLZXl3b3JkcyIsInNvbWUiLCJrZXl3b3JkIiwiaW5jbHVkZXMiLCJ0aW1lb3V0S2V5d29yZHMiLCJhdXRoS2V5d29yZHMiLCJFcnJvciIsInN0YXR1cyIsInJlc3BvbnNlIiwidW5kZWZpbmVkIiwiU3RyaW5nIiwiZ2V0VXNlck1lc3NhZ2UiLCJjbGFzc2lmaWNhdGlvbiJdLCJzb3VyY2VzIjpbIkFQSUVycm9yQ2xhc3NpZmllci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQVBJIEVycm9yIENsYXNzaWZpZXJcbiAqIENsYXNzaWZpZXMgZXJyb3JzIGFuZCBkZXRlcm1pbmVzIHJldHJ5IGVsaWdpYmlsaXR5XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQVBJRXJyb3JDbGFzc2lmaWVyID0gZXhwb3J0cy5FcnJvclR5cGUgPSB2b2lkIDA7XG52YXIgRXJyb3JUeXBlO1xuKGZ1bmN0aW9uIChFcnJvclR5cGUpIHtcbiAgICBFcnJvclR5cGVbXCJORVRXT1JLXCJdID0gXCJORVRXT1JLXCI7XG4gICAgRXJyb3JUeXBlW1wiQVVUSEVOVElDQVRJT05cIl0gPSBcIkFVVEhFTlRJQ0FUSU9OXCI7XG4gICAgRXJyb3JUeXBlW1wiQVVUSE9SSVpBVElPTlwiXSA9IFwiQVVUSE9SSVpBVElPTlwiO1xuICAgIEVycm9yVHlwZVtcIlZBTElEQVRJT05cIl0gPSBcIlZBTElEQVRJT05cIjtcbiAgICBFcnJvclR5cGVbXCJTRVJWRVJcIl0gPSBcIlNFUlZFUlwiO1xuICAgIEVycm9yVHlwZVtcIkNMSUVOVFwiXSA9IFwiQ0xJRU5UXCI7XG4gICAgRXJyb3JUeXBlW1wiVElNRU9VVFwiXSA9IFwiVElNRU9VVFwiO1xuICAgIEVycm9yVHlwZVtcIlJBVEVfTElNSVRcIl0gPSBcIlJBVEVfTElNSVRcIjtcbiAgICBFcnJvclR5cGVbXCJVTktOT1dOXCJdID0gXCJVTktOT1dOXCI7XG59KShFcnJvclR5cGUgfHwgKGV4cG9ydHMuRXJyb3JUeXBlID0gRXJyb3JUeXBlID0ge30pKTtcbmNsYXNzIEFQSUVycm9yQ2xhc3NpZmllciB7XG4gICAgc3RhdGljIEVSUk9SX01FU1NBR0VTID0ge1xuICAgICAgICBbRXJyb3JUeXBlLk5FVFdPUktdOiAnTmV0d29yayBjb25uZWN0aW9uIGZhaWxlZC4gUGxlYXNlIGNoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbi4nLFxuICAgICAgICBbRXJyb3JUeXBlLkFVVEhFTlRJQ0FUSU9OXTogJ1lvdXIgc2Vzc2lvbiBoYXMgZXhwaXJlZC4gUGxlYXNlIHNpZ24gaW4gYWdhaW4uJyxcbiAgICAgICAgW0Vycm9yVHlwZS5BVVRIT1JJWkFUSU9OXTogJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uJyxcbiAgICAgICAgW0Vycm9yVHlwZS5WQUxJREFUSU9OXTogJ0ludmFsaWQgaW5wdXQuIFBsZWFzZSBjaGVjayB5b3VyIGRhdGEgYW5kIHRyeSBhZ2Fpbi4nLFxuICAgICAgICBbRXJyb3JUeXBlLlNFUlZFUl06ICdTZXJ2ZXIgZXJyb3IuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcbiAgICAgICAgW0Vycm9yVHlwZS5DTElFTlRdOiAnSW52YWxpZCByZXF1ZXN0LiBQbGVhc2UgY2hlY2sgeW91ciBpbnB1dC4nLFxuICAgICAgICBbRXJyb3JUeXBlLlRJTUVPVVRdOiAnUmVxdWVzdCB0aW1lZCBvdXQuIFBsZWFzZSB0cnkgYWdhaW4uJyxcbiAgICAgICAgW0Vycm9yVHlwZS5SQVRFX0xJTUlUXTogJ1RvbyBtYW55IHJlcXVlc3RzLiBQbGVhc2Ugd2FpdCBhIG1vbWVudC4nLFxuICAgICAgICBbRXJyb3JUeXBlLlVOS05PV05dOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xhc3NpZnkgYW4gZXJyb3JcbiAgICAgKi9cbiAgICBjbGFzc2lmeShlcnJvciwgY29udGV4dCkge1xuICAgICAgICBjb25zdCBzdGF0dXNDb2RlID0gY29udGV4dD8uc3RhdHVzQ29kZSB8fCB0aGlzLmV4dHJhY3RTdGF0dXNDb2RlKGVycm9yKTtcbiAgICAgICAgLy8gQ2xhc3NpZnkgYnkgc3RhdHVzIGNvZGUgZmlyc3RcbiAgICAgICAgaWYgKHN0YXR1c0NvZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsYXNzaWZ5QnlTdGF0dXNDb2RlKHN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsYXNzaWZ5IGJ5IGVycm9yIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGhpcy5leHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3NpZnlCeU1lc3NhZ2UoZXJyb3JNZXNzYWdlLCBlcnJvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsYXNzaWZ5IGVycm9yIGJ5IEhUVFAgc3RhdHVzIGNvZGVcbiAgICAgKi9cbiAgICBjbGFzc2lmeUJ5U3RhdHVzQ29kZShzdGF0dXNDb2RlKSB7XG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgY2FzZSBzdGF0dXNDb2RlID49IDUwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFcnJvclR5cGUuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICByZXRyeWFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJNZXNzYWdlOiBBUElFcnJvckNsYXNzaWZpZXIuRVJST1JfTUVTU0FHRVNbRXJyb3JUeXBlLlNFUlZFUl0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2Ugc3RhdHVzQ29kZSA9PT0gNDAxOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZS5BVVRIRU5USUNBVElPTixcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlck1lc3NhZ2U6IEFQSUVycm9yQ2xhc3NpZmllci5FUlJPUl9NRVNTQUdFU1tFcnJvclR5cGUuQVVUSEVOVElDQVRJT05dLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIHN0YXR1c0NvZGUgPT09IDQwMzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFcnJvclR5cGUuQVVUSE9SSVpBVElPTixcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlck1lc3NhZ2U6IEFQSUVycm9yQ2xhc3NpZmllci5FUlJPUl9NRVNTQUdFU1tFcnJvclR5cGUuQVVUSE9SSVpBVElPTl0sXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBzdGF0dXNDb2RlID09PSA0MDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlLkNMSUVOVCxcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlck1lc3NhZ2U6ICdSZXNvdXJjZSBub3QgZm91bmQuJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICdsb3cnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIHN0YXR1c0NvZGUgPT09IDQwODpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFcnJvclR5cGUuVElNRU9VVCxcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1c2VyTWVzc2FnZTogQVBJRXJyb3JDbGFzc2lmaWVyLkVSUk9SX01FU1NBR0VTW0Vycm9yVHlwZS5USU1FT1VUXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIHN0YXR1c0NvZGUgPT09IDQyOTpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFcnJvclR5cGUuUkFURV9MSU1JVCxcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1c2VyTWVzc2FnZTogQVBJRXJyb3JDbGFzc2lmaWVyLkVSUk9SX01FU1NBR0VTW0Vycm9yVHlwZS5SQVRFX0xJTUlUXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIHN0YXR1c0NvZGUgPj0gNDAwOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZS5WQUxJREFUSU9OLFxuICAgICAgICAgICAgICAgICAgICByZXRyeWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB1c2VyTWVzc2FnZTogQVBJRXJyb3JDbGFzc2lmaWVyLkVSUk9SX01FU1NBR0VTW0Vycm9yVHlwZS5WQUxJREFUSU9OXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZS5VTktOT1dOLFxuICAgICAgICAgICAgICAgICAgICByZXRyeWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB1c2VyTWVzc2FnZTogQVBJRXJyb3JDbGFzc2lmaWVyLkVSUk9SX01FU1NBR0VTW0Vycm9yVHlwZS5VTktOT1dOXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgc2V2ZXJpdHk6ICdsb3cnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xhc3NpZnkgZXJyb3IgYnkgZXJyb3IgbWVzc2FnZVxuICAgICAqL1xuICAgIGNsYXNzaWZ5QnlNZXNzYWdlKGVycm9yTWVzc2FnZSwgZXJyb3IpIHtcbiAgICAgICAgY29uc3QgbG93ZXJNZXNzYWdlID0gZXJyb3JNZXNzYWdlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIC8vIE5ldHdvcmsgZXJyb3JzXG4gICAgICAgIGlmICh0aGlzLmlzTmV0d29ya0Vycm9yKGxvd2VyTWVzc2FnZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlLk5FVFdPUkssXG4gICAgICAgICAgICAgICAgcmV0cnlhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVzZXJNZXNzYWdlOiBBUElFcnJvckNsYXNzaWZpZXIuRVJST1JfTUVTU0FHRVNbRXJyb3JUeXBlLk5FVFdPUktdLFxuICAgICAgICAgICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIFRpbWVvdXQgZXJyb3JzXG4gICAgICAgIGlmICh0aGlzLmlzVGltZW91dEVycm9yKGxvd2VyTWVzc2FnZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlLlRJTUVPVVQsXG4gICAgICAgICAgICAgICAgcmV0cnlhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHVzZXJNZXNzYWdlOiBBUElFcnJvckNsYXNzaWZpZXIuRVJST1JfTUVTU0FHRVNbRXJyb3JUeXBlLlRJTUVPVVRdLFxuICAgICAgICAgICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXV0aCBlcnJvcnNcbiAgICAgICAgaWYgKHRoaXMuaXNBdXRoZW50aWNhdGlvbkVycm9yKGxvd2VyTWVzc2FnZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRXJyb3JUeXBlLkFVVEhFTlRJQ0FUSU9OLFxuICAgICAgICAgICAgICAgIHJldHJ5YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdXNlck1lc3NhZ2U6IEFQSUVycm9yQ2xhc3NpZmllci5FUlJPUl9NRVNTQUdFU1tFcnJvclR5cGUuQVVUSEVOVElDQVRJT05dLFxuICAgICAgICAgICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIFVua25vd24gZXJyb3JcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IEVycm9yVHlwZS5VTktOT1dOLFxuICAgICAgICAgICAgcmV0cnlhYmxlOiB0aGlzLmlzUmV0cnlhYmxlRXJyb3IoZXJyb3IpLFxuICAgICAgICAgICAgdXNlck1lc3NhZ2U6IEFQSUVycm9yQ2xhc3NpZmllci5FUlJPUl9NRVNTQUdFU1tFcnJvclR5cGUuVU5LTk9XTl0sXG4gICAgICAgICAgICBzZXZlcml0eTogJ21lZGl1bScsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGVycm9yIGlzIG5ldHdvcmsgZXJyb3JcbiAgICAgKi9cbiAgICBpc05ldHdvcmtFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtLZXl3b3JkcyA9IFtcbiAgICAgICAgICAgICduZXR3b3JrJyxcbiAgICAgICAgICAgICdjb25uZWN0aW9uJyxcbiAgICAgICAgICAgICdlY29ubnJlZnVzZWQnLFxuICAgICAgICAgICAgJ2Vub3Rmb3VuZCcsXG4gICAgICAgICAgICAnZWNvbm5yZXNldCcsXG4gICAgICAgICAgICAnZmV0Y2ggZmFpbGVkJyxcbiAgICAgICAgICAgICduZXR3b3JrIGVycm9yJyxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG5ldHdvcmtLZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbWVzc2FnZS5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGVycm9yIGlzIHRpbWVvdXQgZXJyb3JcbiAgICAgKi9cbiAgICBpc1RpbWVvdXRFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IHRpbWVvdXRLZXl3b3JkcyA9IFtcbiAgICAgICAgICAgICd0aW1lb3V0JyxcbiAgICAgICAgICAgICd0aW1lZCBvdXQnLFxuICAgICAgICAgICAgJ2V0aW1lZG91dCcsXG4gICAgICAgICAgICAncmVxdWVzdCB0aW1lb3V0JyxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHRpbWVvdXRLZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbWVzc2FnZS5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGVycm9yIGlzIGF1dGhlbnRpY2F0aW9uIGVycm9yXG4gICAgICovXG4gICAgaXNBdXRoZW50aWNhdGlvbkVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgYXV0aEtleXdvcmRzID0gW1xuICAgICAgICAgICAgJ3VuYXV0aG9yaXplZCcsXG4gICAgICAgICAgICAnYXV0aGVudGljYXRpb24nLFxuICAgICAgICAgICAgJ3Rva2VuJyxcbiAgICAgICAgICAgICdpbnZhbGlkIGNyZWRlbnRpYWxzJyxcbiAgICAgICAgICAgICdzZXNzaW9uIGV4cGlyZWQnLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gYXV0aEtleXdvcmRzLnNvbWUoa2V5d29yZCA9PiBtZXNzYWdlLmluY2x1ZGVzKGtleXdvcmQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZXJyb3IgaXMgZ2VuZXJhbGx5IHJldHJ5YWJsZVxuICAgICAqL1xuICAgIGlzUmV0cnlhYmxlRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc05ldHdvcmtFcnJvcihtZXNzYWdlKSB8fCB0aGlzLmlzVGltZW91dEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXh0cmFjdCBzdGF0dXMgY29kZSBmcm9tIGVycm9yXG4gICAgICovXG4gICAgZXh0cmFjdFN0YXR1c0NvZGUoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yICYmIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICgnc3RhdHVzJyBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3Iuc3RhdHVzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5zdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJ3N0YXR1c0NvZGUnIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5zdGF0dXNDb2RlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5zdGF0dXNDb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdyZXNwb25zZScgaW4gZXJyb3IgJiYgdHlwZW9mIGVycm9yLnJlc3BvbnNlID09PSAnb2JqZWN0JyAmJiBlcnJvci5yZXNwb25zZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyB8fCByZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgZXJyb3IgbWVzc2FnZVxuICAgICAqL1xuICAgIGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoJ21lc3NhZ2UnIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTdHJpbmcoZXJyb3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdXNlci1mcmllbmRseSBlcnJvciBtZXNzYWdlXG4gICAgICovXG4gICAgZ2V0VXNlck1lc3NhZ2UoZXJyb3IsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgY2xhc3NpZmljYXRpb24gPSB0aGlzLmNsYXNzaWZ5KGVycm9yLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGNsYXNzaWZpY2F0aW9uLnVzZXJNZXNzYWdlO1xuICAgIH1cbn1cbmV4cG9ydHMuQVBJRXJyb3JDbGFzc2lmaWVyID0gQVBJRXJyb3JDbGFzc2lmaWVyO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZO0FBQUMsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGdCQUFBLEdBQUFGLHNC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QUFBO0lBQUFKLEtBQUEsRUFJRCxTQUFBWSxtQkFBbUJBLENBQUNOLEtBQUssRUFBRTtNQUN2QixJQUFJQSxLQUFLLFlBQVltQyxLQUFLLEVBQUU7UUFDeEIsT0FBT25DLEtBQUssQ0FBQzRCLE9BQU87TUFDeEI7TUFDQSxJQUFJNUIsS0FBSyxJQUFJLE9BQU9BLEtBQUssS0FBSyxRQUFRLEVBQUU7UUFDcEMsSUFBSSxTQUFTLElBQUlBLEtBQUssSUFBSSxPQUFPQSxLQUFLLENBQUM0QixPQUFPLEtBQUssUUFBUSxFQUFFO1VBQ3pELE9BQU81QixLQUFLLENBQUM0QixPQUFPO1FBQ3hCO01BQ0o7TUFDQSxPQUFPVyxNQUFNLENBQUN2QyxLQUFLLENBQUM7SUFDeEI7RUFBQztJQUFBRixHQUFBO0lBQUFKLEtBQUEsRUFJRCxTQUFBOEMsY0FBY0EsQ0FBQ3hDLEtBQUssRUFBRUMsT0FBTyxFQUFFO01BQzNCLElBQU13QyxjQUFjLEdBQUcsSUFBSSxDQUFDMUMsUUFBUSxDQUFDQyxLQUFLLEVBQUVDLE9BQU8sQ0FBQztNQUNwRCxPQUFPd0MsY0FBYyxDQUFDOUIsV0FBVztJQUNyQztFQUFDO0FBQUE7QUFoT0NoQixrQkFBa0IsQ0FDYmlCLGNBQWMsT0FBQXhCLGdCQUFBLENBQUFTLE9BQUEsTUFBQVQsZ0JBQUEsQ0FBQVMsT0FBQSxNQUFBVCxnQkFBQSxDQUFBUyxPQUFBLE1BQUFULGdCQUFBLENBQUFTLE9BQUEsTUFBQVQsZ0JBQUEsQ0FBQVMsT0FBQSxNQUFBVCxnQkFBQSxDQUFBUyxPQUFBLE1BQUFULGdCQUFBLENBQUFTLE9BQUEsTUFBQVQsZ0JBQUEsQ0FBQVMsT0FBQSxNQUFBVCxnQkFBQSxDQUFBUyxPQUFBLE1BQ2hCRCxTQUFTLENBQUM0QixPQUFPLEVBQUcsbUVBQW1FLEdBQ3ZGNUIsU0FBUyxDQUFDa0IsY0FBYyxFQUFHLGlEQUFpRCxHQUM1RWxCLFNBQVMsQ0FBQ21CLGFBQWEsRUFBRyxvREFBb0QsR0FDOUVuQixTQUFTLENBQUN1QixVQUFVLEVBQUcsc0RBQXNELEdBQzdFdkIsU0FBUyxDQUFDYSxNQUFNLEVBQUcsdUNBQXVDLEdBQzFEYixTQUFTLENBQUNvQixNQUFNLEVBQUcsMkNBQTJDLEdBQzlEcEIsU0FBUyxDQUFDcUIsT0FBTyxFQUFHLHNDQUFzQyxHQUMxRHJCLFNBQVMsQ0FBQ3NCLFVBQVUsRUFBRywwQ0FBMEMsR0FDakV0QixTQUFTLENBQUN3QixPQUFPLEVBQUcsaURBQWlEO0FBd045RTNCLE9BQU8sQ0FBQ0Usa0JBQWtCLEdBQUdBLGtCQUFrQiIsImlnbm9yZUxpc3QiOltdfQ==