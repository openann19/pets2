{"version":3,"names":["Object","defineProperty","exports","value","useAuthStore","zustand_1","require","middleware_1","immer_1","create","persist","immer","set","user","accessToken","refreshToken","isLoading","error","isAuthenticated","isOnboarded","setUser","state","setTokens","clearTokens","logout","setIsLoading","setError","setIsOnboarded","name","partialize"],"sources":["useAuthStore.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAuthStore = void 0;\nconst zustand_1 = require(\"zustand\");\nconst middleware_1 = require(\"zustand/middleware\");\nconst immer_1 = require(\"zustand/middleware/immer\");\n/**\n * Global authentication store using Zustand\n * Persists tokens and user data to local storage\n */\nexports.useAuthStore = (0, zustand_1.create)()((0, middleware_1.persist)((0, immer_1.immer)((set) => ({\n    user: null,\n    accessToken: null,\n    refreshToken: null,\n    isLoading: false,\n    error: null,\n    isAuthenticated: false,\n    isOnboarded: false,\n    // Update user data\n    setUser: (user) => {\n        set((state) => {\n            state.user = user;\n            state.isAuthenticated = user !== null;\n            return state;\n        });\n    },\n    // Set tokens after successful login/registration\n    setTokens: (accessToken, refreshToken) => {\n        set((state) => {\n            state.accessToken = accessToken;\n            state.refreshToken = refreshToken;\n            state.isAuthenticated = true;\n            return state;\n        });\n    },\n    // Clear tokens on logout\n    clearTokens: () => {\n        set((state) => {\n            state.accessToken = null;\n            state.refreshToken = null;\n            state.isAuthenticated = false;\n            return state;\n        });\n    },\n    // Full logout\n    logout: () => {\n        set((state) => {\n            state.user = null;\n            state.accessToken = null;\n            state.refreshToken = null;\n            state.isAuthenticated = false;\n            return state;\n        });\n    },\n    // Set loading state\n    setIsLoading: (isLoading) => {\n        set((state) => {\n            state.isLoading = isLoading;\n            return state;\n        });\n    },\n    // Set error message\n    setError: (error) => {\n        set((state) => {\n            state.error = error;\n            return state;\n        });\n    },\n    // Set onboarding state\n    setIsOnboarded: (isOnboarded) => {\n        set((state) => {\n            state.isOnboarded = isOnboarded;\n            return state;\n        });\n    },\n})), {\n    name: 'auth-storage',\n    partialize: (state) => ({\n        accessToken: state.accessToken,\n        refreshToken: state.refreshToken,\n        user: state.user\n    }),\n}));\n"],"mappings":"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","ignoreList":[]}