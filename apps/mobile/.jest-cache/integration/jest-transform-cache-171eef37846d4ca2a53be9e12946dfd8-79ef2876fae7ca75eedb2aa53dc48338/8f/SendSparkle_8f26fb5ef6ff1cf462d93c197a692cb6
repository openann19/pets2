5960a8786a4274001ca9dbf673e64aa8
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.SendSparkle = void 0;
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _reactNativeReanimated = _interopRequireWildcard(require("react-native-reanimated"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
var GLYPHS = ["✦", "✧", "✺", "✨"];
var _worklet_1145890008131_init_data = {
  code: "function anonymous() {\n  const {\n    items,\n    cancelAnimation,\n    withSpring,\n    withTiming,\n    withDelay,\n    duration\n  } = this._closure;\n  const spread = 34;\n  items.forEach(function (p) {\n    cancelAnimation(p.x);\n    cancelAnimation(p.y);\n    cancelAnimation(p.s);\n    cancelAnimation(p.o);\n    cancelAnimation(p.r);\n    const angle = Math.random() * Math.PI * 2;\n    const radius = spread * (0.4 + Math.random() * 1);\n    const dx = Math.cos(angle) * radius;\n    const dy = -Math.abs(Math.sin(angle) * radius);\n    p.x.value = 0;\n    p.y.value = 0;\n    p.s.value = 0;\n    p.o.value = 0;\n    p.r.value = 0;\n    p.s.value = withSpring(1, {\n      damping: 12,\n      stiffness: 240\n    });\n    p.o.value = withTiming(1, {\n      duration: 80\n    });\n    p.x.value = withSpring(dx, {\n      damping: 16,\n      stiffness: 160\n    });\n    p.y.value = withSpring(dy, {\n      damping: 16,\n      stiffness: 160\n    });\n    p.r.value = withSpring((Math.random() > 0.5 ? 1 : -1) * (10 + Math.random() * 25));\n    p.o.value = withDelay(120, withTiming(0, {\n      duration: duration\n    }));\n    p.s.value = withDelay(120, withTiming(0.2, {\n      duration: duration\n    }));\n  });\n}",
  location: "/home/ben/Downloads/pets-fresh/apps/mobile/src/components/feedback/SendSparkle.tsx",
  sourceMap: "{\"version\":3,\"names\":[\"anonymous\",\"items\",\"cancelAnimation\",\"withSpring\",\"withTiming\",\"withDelay\",\"duration\",\"_closure\",\"spread\",\"forEach\",\"p\",\"x\",\"y\",\"s\",\"o\",\"r\",\"angle\",\"Math\",\"random\",\"PI\",\"radius\",\"dx\",\"cos\",\"dy\",\"abs\",\"sin\",\"value\",\"damping\",\"stiffness\"],\"sources\":[\"/home/ben/Downloads/pets-fresh/apps/mobile/src/components/feedback/SendSparkle.tsx\"],\"mappings\":\"AAkDkB,SAAAA,SAAMA,CAAA;EAAA;IAAAC,KAAA;IAAAC,eAAA;IAAAC,UAAA;IAAAC,UAAA;IAAAC,SAAA;IAAAC;EAAA,SAAAC,QAAA;EAElB,MAAMC,MAAM,GAAG,EAAE;EACjBP,KAAK,CAACQ,OAAO,CAAE,UAAAC,CAAC,EAAK;IACnBR,eAAe,CAACQ,CAAC,CAACC,CAAC,CAAC;IACpBT,eAAe,CAACQ,CAAC,CAACE,CAAC,CAAC;IACpBV,eAAe,CAACQ,CAAC,CAACG,CAAC,CAAC;IACpBX,eAAe,CAACQ,CAAC,CAACI,CAAC,CAAC;IACpBZ,eAAe,CAACQ,CAAC,CAACK,CAAC,CAAC;IAGpB,MAAMC,KAAK,GAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGD,IAAI,CAACE,EAAE,GAAG,CAAE;IAC3C,MAAMC,MAAM,GAAGZ,MAAM,IAAI,GAAG,GAAGS,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;IACjD,MAAMG,EAAE,GAAGJ,IAAI,CAACK,GAAG,CAACN,KAAK,CAAC,GAAGI,MAAM;IACnC,MAAMG,EAAE,GAAG,CAACN,IAAI,CAACO,GAAG,CAACP,IAAI,CAACQ,GAAG,CAACT,KAAK,CAAC,GAAGI,MAAM,CAAC;IAE9CV,CAAC,CAACC,CAAC,CAACe,KAAK,GAAG,CAAC;IACbhB,CAAC,CAACE,CAAC,CAACc,KAAK,GAAG,CAAC;IACbhB,CAAC,CAACG,CAAC,CAACa,KAAK,GAAG,CAAC;IACbhB,CAAC,CAACI,CAAC,CAACY,KAAK,GAAG,CAAC;IACbhB,CAAC,CAACK,CAAC,CAACW,KAAK,GAAG,CAAC;IAEbhB,CAAC,CAACG,CAAC,CAACa,KAAK,GAAGvB,UAAU,CAAC,CAAC,EAAE;MAAEwB,OAAO,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAI,CAAC,CAAC;IAC1DlB,CAAC,CAACI,CAAC,CAACY,KAAK,GAAGtB,UAAU,CAAC,CAAC,EAAE;MAAEE,QAAQ,EAAE;IAAG,CAAC,CAAC;IAC3CI,CAAC,CAACC,CAAC,CAACe,KAAK,GAAGvB,UAAU,CAACkB,EAAE,EAAE;MAAEM,OAAO,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAI,CAAC,CAAC;IAC3DlB,CAAC,CAACE,CAAC,CAACc,KAAK,GAAGvB,UAAU,CAACoB,EAAE,EAAE;MAAEI,OAAO,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAI,CAAC,CAAC;IAC3DlB,CAAC,CAACK,CAAC,CAACW,KAAK,GAAGvB,UAAU,CAAC,CAACc,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,GAAGD,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;IAGlFR,CAAC,CAACI,CAAC,CAACY,KAAK,GAAGrB,SAAS,CAAC,GAAG,EAAED,UAAU,CAAC,CAAC,EAAE;MAAEE,QAAA,EAAAA;IAAS,CAAC,CAAC,CAAC;IACvDI,CAAC,CAACG,CAAC,CAACa,KAAK,GAAGrB,SAAS,CAAC,GAAG,EAAED,UAAU,CAAC,GAAG,EAAE;MAAEE,QAAA,EAAAA;IAAS,CAAC,CAAC,CAAC;EAC3D,CAAC,CAAC;AACJ\",\"ignoreList\":[]}"
};
var _worklet_1256343299839_init_data = {
  code: "function anonymous() {\n  const {\n    p\n  } = this._closure;\n  return {\n    transform: [{\n      translateX: p.x.value\n    }, {\n      translateY: p.y.value\n    }, {\n      rotate: p.r.value + \"deg\"\n    }, {\n      scale: p.s.value\n    }],\n    opacity: p.o.value\n  };\n}",
  location: "/home/ben/Downloads/pets-fresh/apps/mobile/src/components/feedback/SendSparkle.tsx",
  sourceMap: "{\"version\":3,\"names\":[\"anonymous\",\"p\",\"_closure\",\"transform\",\"translateX\",\"x\",\"value\",\"translateY\",\"y\",\"rotate\",\"r\",\"scale\",\"s\",\"opacity\",\"o\"],\"sources\":[\"/home/ben/Downloads/pets-fresh/apps/mobile/src/components/feedback/SendSparkle.tsx\"],\"mappings\":\"AAyFuC,SAAAA,UAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAAA,OAAO;IAClCC,SAAS,EAAE,CACT;MAAEC,UAAU,EAAEH,CAAC,CAACI,CAAC,CAACC;IAAM,CAAC,EACzB;MAAEC,UAAU,EAAEN,CAAC,CAACO,CAAC,CAACF;IAAM,CAAC,EACzB;MAAEG,MAAM,EAAKR,CAAC,CAACS,CAAC,CAACJ,KAAK;IAAM,CAAC,EAC7B;MAAEK,KAAK,EAAEV,CAAC,CAACW,CAAC,CAACN;IAAM,CAAC,CACrB;IACDO,OAAO,EAAEZ,CAAC,CAACa,CAAC,CAACR;EACf,CAAC;AAAA\",\"ignoreList\":[]}"
};
var SendSparkle = exports.SendSparkle = (0, _react.forwardRef)(function (_ref, ref) {
  var _ref$count = _ref.count,
    count = _ref$count === void 0 ? 10 : _ref$count,
    _ref$size = _ref.size,
    size = _ref$size === void 0 ? 14 : _ref$size,
    _ref$duration = _ref.duration,
    duration = _ref$duration === void 0 ? 450 : _ref$duration,
    _ref$colors = _ref.colors,
    colors = _ref$colors === void 0 ? ["#ffffff", "#fde047", "#f472b6", "#60a5fa"] : _ref$colors,
    style = _ref.style;
  var items = (0, _react.useMemo)(function () {
    return Array.from({
      length: count
    }, function (_, i) {
      return {
        i: i,
        glyph: GLYPHS[i % GLYPHS.length],
        color: colors[i % colors.length],
        x: (0, _reactNativeReanimated.useSharedValue)(0),
        y: (0, _reactNativeReanimated.useSharedValue)(0),
        s: (0, _reactNativeReanimated.useSharedValue)(0),
        o: (0, _reactNativeReanimated.useSharedValue)(0),
        r: (0, _reactNativeReanimated.useSharedValue)(0)
      };
    });
  }, [count, colors]);
  var burst = function () {
    var _e = [new global.Error(), -7, -27];
    var _f = function _f() {
      var spread = 34;
      items.forEach(function (p) {
        (0, _reactNativeReanimated.cancelAnimation)(p.x);
        (0, _reactNativeReanimated.cancelAnimation)(p.y);
        (0, _reactNativeReanimated.cancelAnimation)(p.s);
        (0, _reactNativeReanimated.cancelAnimation)(p.o);
        (0, _reactNativeReanimated.cancelAnimation)(p.r);
        var angle = Math.random() * Math.PI * 2;
        var radius = spread * (0.4 + Math.random() * 1);
        var dx = Math.cos(angle) * radius;
        var dy = -Math.abs(Math.sin(angle) * radius);
        p.x.value = 0;
        p.y.value = 0;
        p.s.value = 0;
        p.o.value = 0;
        p.r.value = 0;
        p.s.value = (0, _reactNativeReanimated.withSpring)(1, {
          damping: 12,
          stiffness: 240
        });
        p.o.value = (0, _reactNativeReanimated.withTiming)(1, {
          duration: 80
        });
        p.x.value = (0, _reactNativeReanimated.withSpring)(dx, {
          damping: 16,
          stiffness: 160
        });
        p.y.value = (0, _reactNativeReanimated.withSpring)(dy, {
          damping: 16,
          stiffness: 160
        });
        p.r.value = (0, _reactNativeReanimated.withSpring)((Math.random() > 0.5 ? 1 : -1) * (10 + Math.random() * 25));
        p.o.value = (0, _reactNativeReanimated.withDelay)(120, (0, _reactNativeReanimated.withTiming)(0, {
          duration: duration
        }));
        p.s.value = (0, _reactNativeReanimated.withDelay)(120, (0, _reactNativeReanimated.withTiming)(0.2, {
          duration: duration
        }));
      });
    };
    _f._closure = {
      items: items,
      cancelAnimation: _reactNativeReanimated.cancelAnimation,
      withSpring: _reactNativeReanimated.withSpring,
      withTiming: _reactNativeReanimated.withTiming,
      withDelay: _reactNativeReanimated.withDelay,
      duration: duration
    };
    _f.__initData = _worklet_1145890008131_init_data;
    _f.__workletHash = 1145890008131;
    _f.__stackDetails = _e;
    _f.__version = "3.3.0";
    return _f;
  }();
  (0, _react.useImperativeHandle)(ref, function () {
    return {
      burst: burst
    };
  }, [items]);
  return (0, _jsxRuntime.jsx)(_reactNative.View, {
    pointerEvents: "none",
    style: [styles.wrap, style],
    children: items.map(function (p) {
      var sty = (0, _reactNativeReanimated.useAnimatedStyle)(function () {
        var _e = [new global.Error(), -2, -27];
        var _f = function _f() {
          return {
            transform: [{
              translateX: p.x.value
            }, {
              translateY: p.y.value
            }, {
              rotate: `${p.r.value}deg`
            }, {
              scale: p.s.value
            }],
            opacity: p.o.value
          };
        };
        _f._closure = {
          p: p
        };
        _f.__initData = _worklet_1256343299839_init_data;
        _f.__workletHash = 1256343299839;
        _f.__stackDetails = _e;
        _f.__version = "3.3.0";
        return _f;
      }());
      return (0, _jsxRuntime.jsx)(_reactNativeReanimated.default.Text, {
        style: [styles.glyph, sty, {
          fontSize: size,
          color: p.color
        }],
        children: p.glyph
      }, p.i);
    })
  });
});
var styles = _reactNative.StyleSheet.create({
  wrap: {
    position: "absolute",
    right: 0,
    bottom: 0,
    width: 0,
    height: 0
  },
  glyph: {
    position: "absolute",
    left: -6,
    top: -6,
    textShadowColor: "rgba(0,0,0,0.25)",
    textShadowOffset: {
      width: 0,
      height: 1
    },
    textShadowRadius: 2
  }
});
var _default = exports.default = SendSparkle;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmVSZWFuaW1hdGVkIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QyIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJHTFlQSFMiLCJfd29ya2xldF8xMTQ1ODkwMDA4MTMxX2luaXRfZGF0YSIsImNvZGUiLCJsb2NhdGlvbiIsInNvdXJjZU1hcCIsIl93b3JrbGV0XzEyNTYzNDMyOTk4MzlfaW5pdF9kYXRhIiwiU2VuZFNwYXJrbGUiLCJleHBvcnRzIiwiZm9yd2FyZFJlZiIsIl9yZWYiLCJyZWYiLCJfcmVmJGNvdW50IiwiY291bnQiLCJfcmVmJHNpemUiLCJzaXplIiwiX3JlZiRkdXJhdGlvbiIsImR1cmF0aW9uIiwiX3JlZiRjb2xvcnMiLCJjb2xvcnMiLCJzdHlsZSIsIml0ZW1zIiwidXNlTWVtbyIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsIl8iLCJnbHlwaCIsImNvbG9yIiwieCIsInVzZVNoYXJlZFZhbHVlIiwieSIsInMiLCJidXJzdCIsIl9lIiwiZ2xvYmFsIiwiRXJyb3IiLCJfZiIsInNwcmVhZCIsImZvckVhY2giLCJwIiwiY2FuY2VsQW5pbWF0aW9uIiwiYW5nbGUiLCJNYXRoIiwicmFuZG9tIiwiUEkiLCJyYWRpdXMiLCJkeCIsImNvcyIsImR5IiwiYWJzIiwic2luIiwidmFsdWUiLCJ3aXRoU3ByaW5nIiwiZGFtcGluZyIsInN0aWZmbmVzcyIsIndpdGhUaW1pbmciLCJ3aXRoRGVsYXkiLCJfY2xvc3VyZSIsIl9faW5pdERhdGEiLCJfX3dvcmtsZXRIYXNoIiwiX19zdGFja0RldGFpbHMiLCJfX3ZlcnNpb24iLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwianN4IiwiVmlldyIsInBvaW50ZXJFdmVudHMiLCJzdHlsZXMiLCJ3cmFwIiwiY2hpbGRyZW4iLCJtYXAiLCJzdHkiLCJ1c2VBbmltYXRlZFN0eWxlIiwidHJhbnNmb3JtIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJyb3RhdGUiLCJzY2FsZSIsIm9wYWNpdHkiLCJUZXh0IiwiZm9udFNpemUiLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwicG9zaXRpb24iLCJyaWdodCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0IiwibGVmdCIsInRvcCIsInRleHRTaGFkb3dDb2xvciIsInRleHRTaGFkb3dPZmZzZXQiLCJ0ZXh0U2hhZG93UmFkaXVzIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJTZW5kU3BhcmtsZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZUltcGVyYXRpdmVIYW5kbGUsIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFN0eWxlU2hlZXQsIFZpZXcgfSBmcm9tIFwicmVhY3QtbmF0aXZlXCI7XG5pbXBvcnQgQW5pbWF0ZWQsIHtcbiAgY2FuY2VsQW5pbWF0aW9uLFxuICB1c2VBbmltYXRlZFN0eWxlLFxuICB1c2VTaGFyZWRWYWx1ZSxcbiAgd2l0aERlbGF5LFxuICB3aXRoU3ByaW5nLFxuICB3aXRoVGltaW5nLFxufSBmcm9tIFwicmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWRcIjtcblxuZXhwb3J0IHR5cGUgU2VuZFNwYXJrbGVIYW5kbGUgPSB7IGJ1cnN0OiAoKSA9PiB2b2lkIH07XG5cbmludGVyZmFjZSBTZW5kU3BhcmtsZVByb3BzIHtcbiAgY291bnQ/OiBudW1iZXI7ICAgICAgICAgIC8vIG51bWJlciBvZiBwYXJ0aWNsZXNcbiAgc2l6ZT86IG51bWJlcjsgICAgICAgICAgIC8vIGJhc2UgZm9udCBzaXplXG4gIGR1cmF0aW9uPzogbnVtYmVyOyAgICAgICAvLyBtcyB1bnRpbCBwYXJ0aWNsZXMgZmFkZVxuICBjb2xvcnM/OiBzdHJpbmdbXTsgICAgICAgLy8gdGV4dCBjb2xvcnMgdG8gcGljayBmcm9tXG4gIHN0eWxlPzogYW55OyAgICAgICAgICAgICAvLyB3cmFwcGVyIHN0eWxlIChwb3NpdGlvbjpyZWxhdGl2ZSByZWNvbW1lbmRlZClcbn1cblxuY29uc3QgR0xZUEhTID0gW1wi4pymXCIsIFwi4pynXCIsIFwi4py6XCIsIFwi4pyoXCJdO1xuXG5leHBvcnQgY29uc3QgU2VuZFNwYXJrbGUgPSBmb3J3YXJkUmVmPFNlbmRTcGFya2xlSGFuZGxlLCBTZW5kU3BhcmtsZVByb3BzPihcbiAgKFxuICAgIHtcbiAgICAgIGNvdW50ID0gMTAsXG4gICAgICBzaXplID0gMTQsXG4gICAgICBkdXJhdGlvbiA9IDQ1MCxcbiAgICAgIGNvbG9ycyA9IFtcIiNmZmZmZmZcIiwgXCIjZmRlMDQ3XCIsIFwiI2Y0NzJiNlwiLCBcIiM2MGE1ZmFcIl0sXG4gICAgICBzdHlsZSxcbiAgICB9LFxuICAgIHJlZixcbiAgKSA9PiB7XG4gICAgY29uc3QgaXRlbXMgPSB1c2VNZW1vKFxuICAgICAgKCkgPT5cbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogY291bnQgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgICAgaSxcbiAgICAgICAgICBnbHlwaDogR0xZUEhTW2kgJSBHTFlQSFMubGVuZ3RoXSxcbiAgICAgICAgICBjb2xvcjogY29sb3JzW2kgJSBjb2xvcnMubGVuZ3RoXSxcbiAgICAgICAgICAvLyBhbmltYXRlZCBmaWVsZHNcbiAgICAgICAgICB4OiB1c2VTaGFyZWRWYWx1ZSgwKSxcbiAgICAgICAgICB5OiB1c2VTaGFyZWRWYWx1ZSgwKSxcbiAgICAgICAgICBzOiB1c2VTaGFyZWRWYWx1ZSgwKSxcbiAgICAgICAgICBvOiB1c2VTaGFyZWRWYWx1ZSgwKSxcbiAgICAgICAgICByOiB1c2VTaGFyZWRWYWx1ZSgwKSxcbiAgICAgICAgfSkpLFxuICAgICAgW2NvdW50LCBjb2xvcnNdLFxuICAgICk7XG5cbiAgICBjb25zdCBidXJzdCA9ICgpID0+IHtcbiAgICAgIFwid29ya2xldFwiO1xuICAgICAgY29uc3Qgc3ByZWFkID0gMzQ7IC8vIHB4XG4gICAgICBpdGVtcy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbihwLngpO1xuICAgICAgICBjYW5jZWxBbmltYXRpb24ocC55KTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uKHAucyk7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbihwLm8pO1xuICAgICAgICBjYW5jZWxBbmltYXRpb24ocC5yKTtcblxuICAgICAgICAvLyByYW5kb20gcmFkaWFsIGZhblxuICAgICAgICBjb25zdCBhbmdsZSA9IChNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAqIDIpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBzcHJlYWQgKiAoMC40ICsgTWF0aC5yYW5kb20oKSAqIDEpO1xuICAgICAgICBjb25zdCBkeCA9IE1hdGguY29zKGFuZ2xlKSAqIHJhZGl1cztcbiAgICAgICAgY29uc3QgZHkgPSAtTWF0aC5hYnMoTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzKTsgLy8gYmlhcyB1cHdhcmRcblxuICAgICAgICBwLngudmFsdWUgPSAwO1xuICAgICAgICBwLnkudmFsdWUgPSAwO1xuICAgICAgICBwLnMudmFsdWUgPSAwO1xuICAgICAgICBwLm8udmFsdWUgPSAwO1xuICAgICAgICBwLnIudmFsdWUgPSAwO1xuXG4gICAgICAgIHAucy52YWx1ZSA9IHdpdGhTcHJpbmcoMSwgeyBkYW1waW5nOiAxMiwgc3RpZmZuZXNzOiAyNDAgfSk7XG4gICAgICAgIHAuby52YWx1ZSA9IHdpdGhUaW1pbmcoMSwgeyBkdXJhdGlvbjogODAgfSk7XG4gICAgICAgIHAueC52YWx1ZSA9IHdpdGhTcHJpbmcoZHgsIHsgZGFtcGluZzogMTYsIHN0aWZmbmVzczogMTYwIH0pO1xuICAgICAgICBwLnkudmFsdWUgPSB3aXRoU3ByaW5nKGR5LCB7IGRhbXBpbmc6IDE2LCBzdGlmZm5lc3M6IDE2MCB9KTtcbiAgICAgICAgcC5yLnZhbHVlID0gd2l0aFNwcmluZygoTWF0aC5yYW5kb20oKSA+IDAuNSA/IDEgOiAtMSkgKiAoMTAgKyBNYXRoLnJhbmRvbSgpICogMjUpKTtcblxuICAgICAgICAvLyBmYWRlIG91dCArIHNocmlua1xuICAgICAgICBwLm8udmFsdWUgPSB3aXRoRGVsYXkoMTIwLCB3aXRoVGltaW5nKDAsIHsgZHVyYXRpb24gfSkpO1xuICAgICAgICBwLnMudmFsdWUgPSB3aXRoRGVsYXkoMTIwLCB3aXRoVGltaW5nKDAuMiwgeyBkdXJhdGlvbiB9KSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+ICh7IGJ1cnN0IH0pLCBbaXRlbXNdKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBwb2ludGVyRXZlbnRzPVwibm9uZVwiIHN0eWxlPXtbc3R5bGVzLndyYXAsIHN0eWxlXX0+XG4gICAgICAgIHtpdGVtcy5tYXAoKHApID0+IHtcbiAgICAgICAgICBjb25zdCBzdHkgPSB1c2VBbmltYXRlZFN0eWxlKCgpID0+ICh7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IFtcbiAgICAgICAgICAgICAgeyB0cmFuc2xhdGVYOiBwLngudmFsdWUgfSxcbiAgICAgICAgICAgICAgeyB0cmFuc2xhdGVZOiBwLnkudmFsdWUgfSxcbiAgICAgICAgICAgICAgeyByb3RhdGU6IGAke3Auci52YWx1ZX1kZWdgIH0sXG4gICAgICAgICAgICAgIHsgc2NhbGU6IHAucy52YWx1ZSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG9wYWNpdHk6IHAuby52YWx1ZSxcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxBbmltYXRlZC5UZXh0XG4gICAgICAgICAgICAgIGtleT17cC5pfVxuICAgICAgICAgICAgICBzdHlsZT17W3N0eWxlcy5nbHlwaCwgc3R5LCB7IGZvbnRTaXplOiBzaXplLCBjb2xvcjogcC5jb2xvciB9XX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3AuZ2x5cGh9XG4gICAgICAgICAgICA8L0FuaW1hdGVkLlRleHQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfSxcbik7XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgd3JhcDogeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCByaWdodDogMCwgYm90dG9tOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH0sXG4gIGdseXBoOiB7XG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICBsZWZ0OiAtNixcbiAgICB0b3A6IC02LFxuICAgIHRleHRTaGFkb3dDb2xvcjogXCJyZ2JhKDAsMCwwLDAuMjUpXCIsXG4gICAgdGV4dFNoYWRvd09mZnNldDogeyB3aWR0aDogMCwgaGVpZ2h0OiAxIH0sXG4gICAgdGV4dFNoYWRvd1JhZGl1czogMixcbiAgfSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTZW5kU3BhcmtsZTtcblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxzQkFBQSxHQUFBSCx1QkFBQSxDQUFBQyxPQUFBO0FBT2lDLElBQUFHLFdBQUEsR0FBQUgsT0FBQTtBQUFBLFNBQUFELHdCQUFBSyxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBUCx1QkFBQSxZQUFBQSx3QkFBQUssQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxLQUFBQyxTQUFBLFFBQUFDLE9BQUEsRUFBQVYsQ0FBQSxpQkFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxTQUFBUSxDQUFBLE1BQUFGLENBQUEsR0FBQUwsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsUUFBQUcsQ0FBQSxDQUFBSyxHQUFBLENBQUFYLENBQUEsVUFBQU0sQ0FBQSxDQUFBTSxHQUFBLENBQUFaLENBQUEsR0FBQU0sQ0FBQSxDQUFBTyxHQUFBLENBQUFiLENBQUEsRUFBQVEsQ0FBQSxjQUFBTSxHQUFBLElBQUFkLENBQUEsZ0JBQUFjLEdBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLEdBQUEsT0FBQVAsQ0FBQSxJQUFBRCxDQUFBLEdBQUFXLE1BQUEsQ0FBQUMsY0FBQSxLQUFBRCxNQUFBLENBQUFFLHdCQUFBLENBQUFuQixDQUFBLEVBQUFjLEdBQUEsT0FBQVAsQ0FBQSxDQUFBSyxHQUFBLElBQUFMLENBQUEsQ0FBQU0sR0FBQSxJQUFBUCxDQUFBLENBQUFFLENBQUEsRUFBQU0sR0FBQSxFQUFBUCxDQUFBLElBQUFDLENBQUEsQ0FBQU0sR0FBQSxJQUFBZCxDQUFBLENBQUFjLEdBQUEsV0FBQU4sQ0FBQSxLQUFBUixDQUFBLEVBQUFDLENBQUE7QUFZakMsSUFBTW1CLE1BQU0sR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztBQUFDLElBQUFDLGdDQUFBO0VBQUFDLElBQUE7RUFBQUMsUUFBQTtFQUFBQyxTQUFBO0FBQUE7QUFBQSxJQUFBQyxnQ0FBQTtFQUFBSCxJQUFBO0VBQUFDLFFBQUE7RUFBQUMsU0FBQTtBQUFBO0FBRTdCLElBQU1FLFdBQVcsR0FBQUMsT0FBQSxDQUFBRCxXQUFBLEdBQUcsSUFBQUUsaUJBQVUsRUFDbkMsVUFBQUMsSUFBQSxFQVFFQyxHQUFHLEVBQ0E7RUFBQSxJQUFBQyxVQUFBLEdBQUFGLElBQUEsQ0FQREcsS0FBSztJQUFMQSxLQUFLLEdBQUFELFVBQUEsY0FBRyxFQUFFLEdBQUFBLFVBQUE7SUFBQUUsU0FBQSxHQUFBSixJQUFBLENBQ1ZLLElBQUk7SUFBSkEsSUFBSSxHQUFBRCxTQUFBLGNBQUcsRUFBRSxHQUFBQSxTQUFBO0lBQUFFLGFBQUEsR0FBQU4sSUFBQSxDQUNUTyxRQUFRO0lBQVJBLFFBQVEsR0FBQUQsYUFBQSxjQUFHLEdBQUcsR0FBQUEsYUFBQTtJQUFBRSxXQUFBLEdBQUFSLElBQUEsQ0FDZFMsTUFBTTtJQUFOQSxNQUFNLEdBQUFELFdBQUEsY0FBRyxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxHQUFBQSxXQUFBO0lBQ3JERSxLQUFLLEdBQUFWLElBQUEsQ0FBTFUsS0FBSztFQUlQLElBQU1DLEtBQUssR0FBRyxJQUFBQyxjQUFPLEVBQ25CO0lBQUEsT0FDRUMsS0FBSyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsTUFBTSxFQUFFWjtJQUFNLENBQUMsRUFBRSxVQUFDYSxDQUFDLEVBQUV0QyxDQUFDO01BQUEsT0FBTTtRQUN2Q0EsQ0FBQyxFQUFEQSxDQUFDO1FBQ0R1QyxLQUFLLEVBQUUxQixNQUFNLENBQUNiLENBQUMsR0FBR2EsTUFBTSxDQUFDd0IsTUFBTSxDQUFDO1FBQ2hDRyxLQUFLLEVBQUVULE1BQU0sQ0FBQy9CLENBQUMsR0FBRytCLE1BQU0sQ0FBQ00sTUFBTSxDQUFDO1FBRWhDSSxDQUFDLEVBQUUsSUFBQUMscUNBQWMsRUFBQyxDQUFDLENBQUM7UUFDcEJDLENBQUMsRUFBRSxJQUFBRCxxQ0FBYyxFQUFDLENBQUMsQ0FBQztRQUNwQkUsQ0FBQyxFQUFFLElBQUFGLHFDQUFjLEVBQUMsQ0FBQyxDQUFDO1FBQ3BCM0MsQ0FBQyxFQUFFLElBQUEyQyxxQ0FBYyxFQUFDLENBQUMsQ0FBQztRQUNwQjlDLENBQUMsRUFBRSxJQUFBOEMscUNBQWMsRUFBQyxDQUFDO01BQ3JCLENBQUM7SUFBQSxDQUFDLENBQUM7RUFBQSxHQUNMLENBQUNqQixLQUFLLEVBQUVNLE1BQU0sQ0FDaEIsQ0FBQztFQUVELElBQU1jLEtBQUs7SUFBQSxJQUFBQyxFQUFBLFFBQUFDLE1BQUEsQ0FBQUMsS0FBQTtJQUFBLElBQUFDLEVBQUEsWUFBQUEsR0FBQSxFQUFTO01BRWxCLElBQU1DLE1BQU0sR0FBRyxFQUFFO01BQ2pCakIsS0FBSyxDQUFDa0IsT0FBTyxDQUFDLFVBQUNDLENBQUMsRUFBSztRQUNuQixJQUFBQyxzQ0FBZSxFQUFDRCxDQUFDLENBQUNYLENBQUMsQ0FBQztRQUNwQixJQUFBWSxzQ0FBZSxFQUFDRCxDQUFDLENBQUNULENBQUMsQ0FBQztRQUNwQixJQUFBVSxzQ0FBZSxFQUFDRCxDQUFDLENBQUNSLENBQUMsQ0FBQztRQUNwQixJQUFBUyxzQ0FBZSxFQUFDRCxDQUFDLENBQUNyRCxDQUFDLENBQUM7UUFDcEIsSUFBQXNELHNDQUFlLEVBQUNELENBQUMsQ0FBQ3hELENBQUMsQ0FBQztRQUdwQixJQUFNMEQsS0FBSyxHQUFJQyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDLEdBQUdELElBQUksQ0FBQ0UsRUFBRSxHQUFHLENBQUU7UUFDM0MsSUFBTUMsTUFBTSxHQUFHUixNQUFNLElBQUksR0FBRyxHQUFHSyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pELElBQU1HLEVBQUUsR0FBR0osSUFBSSxDQUFDSyxHQUFHLENBQUNOLEtBQUssQ0FBQyxHQUFHSSxNQUFNO1FBQ25DLElBQU1HLEVBQUUsR0FBRyxDQUFDTixJQUFJLENBQUNPLEdBQUcsQ0FBQ1AsSUFBSSxDQUFDUSxHQUFHLENBQUNULEtBQUssQ0FBQyxHQUFHSSxNQUFNLENBQUM7UUFFOUNOLENBQUMsQ0FBQ1gsQ0FBQyxDQUFDdUIsS0FBSyxHQUFHLENBQUM7UUFDYlosQ0FBQyxDQUFDVCxDQUFDLENBQUNxQixLQUFLLEdBQUcsQ0FBQztRQUNiWixDQUFDLENBQUNSLENBQUMsQ0FBQ29CLEtBQUssR0FBRyxDQUFDO1FBQ2JaLENBQUMsQ0FBQ3JELENBQUMsQ0FBQ2lFLEtBQUssR0FBRyxDQUFDO1FBQ2JaLENBQUMsQ0FBQ3hELENBQUMsQ0FBQ29FLEtBQUssR0FBRyxDQUFDO1FBRWJaLENBQUMsQ0FBQ1IsQ0FBQyxDQUFDb0IsS0FBSyxHQUFHLElBQUFDLGlDQUFVLEVBQUMsQ0FBQyxFQUFFO1VBQUVDLE9BQU8sRUFBRSxFQUFFO1VBQUVDLFNBQVMsRUFBRTtRQUFJLENBQUMsQ0FBQztRQUMxRGYsQ0FBQyxDQUFDckQsQ0FBQyxDQUFDaUUsS0FBSyxHQUFHLElBQUFJLGlDQUFVLEVBQUMsQ0FBQyxFQUFFO1VBQUV2QyxRQUFRLEVBQUU7UUFBRyxDQUFDLENBQUM7UUFDM0N1QixDQUFDLENBQUNYLENBQUMsQ0FBQ3VCLEtBQUssR0FBRyxJQUFBQyxpQ0FBVSxFQUFDTixFQUFFLEVBQUU7VUFBRU8sT0FBTyxFQUFFLEVBQUU7VUFBRUMsU0FBUyxFQUFFO1FBQUksQ0FBQyxDQUFDO1FBQzNEZixDQUFDLENBQUNULENBQUMsQ0FBQ3FCLEtBQUssR0FBRyxJQUFBQyxpQ0FBVSxFQUFDSixFQUFFLEVBQUU7VUFBRUssT0FBTyxFQUFFLEVBQUU7VUFBRUMsU0FBUyxFQUFFO1FBQUksQ0FBQyxDQUFDO1FBQzNEZixDQUFDLENBQUN4RCxDQUFDLENBQUNvRSxLQUFLLEdBQUcsSUFBQUMsaUNBQVUsRUFBQyxDQUFDVixJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLEdBQUdELElBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUdsRkosQ0FBQyxDQUFDckQsQ0FBQyxDQUFDaUUsS0FBSyxHQUFHLElBQUFLLGdDQUFTLEVBQUMsR0FBRyxFQUFFLElBQUFELGlDQUFVLEVBQUMsQ0FBQyxFQUFFO1VBQUV2QyxRQUFRLEVBQVJBO1FBQVMsQ0FBQyxDQUFDLENBQUM7UUFDdkR1QixDQUFDLENBQUNSLENBQUMsQ0FBQ29CLEtBQUssR0FBRyxJQUFBSyxnQ0FBUyxFQUFDLEdBQUcsRUFBRSxJQUFBRCxpQ0FBVSxFQUFDLEdBQUcsRUFBRTtVQUFFdkMsUUFBUSxFQUFSQTtRQUFTLENBQUMsQ0FBQyxDQUFDO01BQzNELENBQUMsQ0FBQztJQUNKLENBQUM7SUFBQW9CLEVBQUEsQ0FBQXFCLFFBQUE7TUFBQXJDLEtBQUEsRUFoRkhBLEtBQUs7TUFBQW9CLGVBQUEsRUFLSEEsc0NBQWU7TUFBQVksVUFBQSxFQTRCSEEsaUNBQVU7TUFBQUcsVUFBQSxFQU1LQSxpQ0FBVTtNQUFBQyxTQUFBLEVBQXpCQSxnQ0FBUztNQUFBeEMsUUFBQSxFQUNuQkE7SUFBUTtJQUFBb0IsRUFBQSxDQUFBc0IsVUFBQSxHQUFBekQsZ0NBQUE7SUFBQW1DLEVBQUEsQ0FBQXVCLGFBQUE7SUFBQXZCLEVBQUEsQ0FBQXdCLGNBQUEsR0FBQTNCLEVBQUE7SUFBQUcsRUFBQSxDQUFBeUIsU0FBQTtJQUFBLE9BQUF6QixFQUFBO0VBQUEsR0F3Q1Q7RUFFRCxJQUFBMEIsMEJBQW1CLEVBQUNwRCxHQUFHLEVBQUU7SUFBQSxPQUFPO01BQUVzQixLQUFLLEVBQUxBO0lBQU0sQ0FBQztFQUFBLENBQUMsRUFBRSxDQUFDWixLQUFLLENBQUMsQ0FBQztFQUVwRCxPQUNFLElBQUF6QyxXQUFBLENBQUFvRixHQUFBLEVBQUN0RixZQUFBLENBQUF1RixJQUFJO0lBQUNDLGFBQWEsRUFBQyxNQUFNO0lBQUM5QyxLQUFLLEVBQUUsQ0FBQytDLE1BQU0sQ0FBQ0MsSUFBSSxFQUFFaEQsS0FBSyxDQUFFO0lBQUFpRCxRQUFBLEVBQ3BEaEQsS0FBSyxDQUFDaUQsR0FBRyxDQUFDLFVBQUM5QixDQUFDLEVBQUs7TUFDaEIsSUFBTStCLEdBQUcsR0FBRyxJQUFBQyx1Q0FBZ0I7UUFBQSxJQUFBdEMsRUFBQSxRQUFBQyxNQUFBLENBQUFDLEtBQUE7UUFBQSxJQUFBQyxFQUFBLEdBQUMsU0FBQUEsR0FBQTtVQUFBLE9BQU87WUFDbENvQyxTQUFTLEVBQUUsQ0FDVDtjQUFFQyxVQUFVLEVBQUVsQyxDQUFDLENBQUNYLENBQUMsQ0FBQ3VCO1lBQU0sQ0FBQyxFQUN6QjtjQUFFdUIsVUFBVSxFQUFFbkMsQ0FBQyxDQUFDVCxDQUFDLENBQUNxQjtZQUFNLENBQUMsRUFDekI7Y0FBRXdCLE1BQU0sRUFBRSxHQUFHcEMsQ0FBQyxDQUFDeEQsQ0FBQyxDQUFDb0UsS0FBSztZQUFNLENBQUMsRUFDN0I7Y0FBRXlCLEtBQUssRUFBRXJDLENBQUMsQ0FBQ1IsQ0FBQyxDQUFDb0I7WUFBTSxDQUFDLENBQ3JCO1lBQ0QwQixPQUFPLEVBQUV0QyxDQUFDLENBQUNyRCxDQUFDLENBQUNpRTtVQUNmLENBQUM7UUFBQSxDQUFDO1FBQUFmLEVBQUEsQ0FBQXFCLFFBQUE7VUFBQWxCLENBQUEsRUF2RkRBO1FBQUM7UUFBQUgsRUFBQSxDQUFBc0IsVUFBQSxHQUFBckQsZ0NBQUE7UUFBQStCLEVBQUEsQ0FBQXVCLGFBQUE7UUFBQXZCLEVBQUEsQ0FBQXdCLGNBQUEsR0FBQTNCLEVBQUE7UUFBQUcsRUFBQSxDQUFBeUIsU0FBQTtRQUFBLE9BQUF6QixFQUFBO01BQUEsR0F1RkEsQ0FBQztNQUNILE9BQ0UsSUFBQXpELFdBQUEsQ0FBQW9GLEdBQUEsRUFBQ3JGLHNCQUFBLENBQUFZLE9BQVEsQ0FBQ3dGLElBQUk7UUFFWjNELEtBQUssRUFBRSxDQUFDK0MsTUFBTSxDQUFDeEMsS0FBSyxFQUFFNEMsR0FBRyxFQUFFO1VBQUVTLFFBQVEsRUFBRWpFLElBQUk7VUFBRWEsS0FBSyxFQUFFWSxDQUFDLENBQUNaO1FBQU0sQ0FBQyxDQUFFO1FBQUF5QyxRQUFBLEVBRTlEN0IsQ0FBQyxDQUFDYjtNQUFLLEdBSEhhLENBQUMsQ0FBQ3BELENBSU0sQ0FBQztJQUVwQixDQUFDO0VBQUMsQ0FDRSxDQUFDO0FBRVgsQ0FDRixDQUFDO0FBRUQsSUFBTStFLE1BQU0sR0FBR2MsdUJBQVUsQ0FBQ0MsTUFBTSxDQUFDO0VBQy9CZCxJQUFJLEVBQUU7SUFBRWUsUUFBUSxFQUFFLFVBQVU7SUFBRUMsS0FBSyxFQUFFLENBQUM7SUFBRUMsTUFBTSxFQUFFLENBQUM7SUFBRUMsS0FBSyxFQUFFLENBQUM7SUFBRUMsTUFBTSxFQUFFO0VBQUUsQ0FBQztFQUN4RTVELEtBQUssRUFBRTtJQUNMd0QsUUFBUSxFQUFFLFVBQVU7SUFDcEJLLElBQUksRUFBRSxDQUFDLENBQUM7SUFDUkMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUNQQyxlQUFlLEVBQUUsa0JBQWtCO0lBQ25DQyxnQkFBZ0IsRUFBRTtNQUFFTCxLQUFLLEVBQUUsQ0FBQztNQUFFQyxNQUFNLEVBQUU7SUFBRSxDQUFDO0lBQ3pDSyxnQkFBZ0IsRUFBRTtFQUNwQjtBQUNGLENBQUMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQXJGLE9BQUEsQ0FBQWpCLE9BQUEsR0FFWWdCLFdBQVciLCJpZ25vcmVMaXN0IjpbXX0=