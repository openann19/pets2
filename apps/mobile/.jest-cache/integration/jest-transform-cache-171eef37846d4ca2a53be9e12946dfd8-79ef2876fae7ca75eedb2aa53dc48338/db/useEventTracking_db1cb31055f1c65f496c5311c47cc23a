a3ca4fa77cc91f82fc72324906b9ad71
"use strict";
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useEventTracking = useEventTracking;
var react_1 = require("react");
var logger_1 = require("../utils/logger");
var env_1 = require("../utils/env");
function useEventTracking() {
  var eventQueue = (0, react_1.useRef)([]);
  var flushTimeout = (0, react_1.useRef)(null);
  var flushEvents = (0, react_1.useCallback)((0, _asyncToGenerator2.default)(function* () {
    if (eventQueue.current.length === 0) return;
    var events = (0, _toConsumableArray2.default)(eventQueue.current);
    eventQueue.current = [];
    try {
      var _ref2;
      var response = yield fetch('/api/analytics/events', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${(_ref2 = (0, env_1.getLocalStorageItem)('accessToken')) != null ? _ref2 : ''}`
        },
        body: JSON.stringify({
          events: events
        })
      });
      if (!response.ok) {
        throw new Error('Failed to send analytics events');
      }
      logger_1.logger.info('Analytics events sent', {
        count: events.length
      });
    } catch (error) {
      var _eventQueue$current;
      logger_1.logger.error('Failed to send analytics events', {
        error: error
      });
      (_eventQueue$current = eventQueue.current).unshift.apply(_eventQueue$current, (0, _toConsumableArray2.default)(events));
    }
  }), []);
  var trackEvent = (0, react_1.useCallback)(function () {
    var _ref3 = (0, _asyncToGenerator2.default)(function* (options) {
      var event = _objectSpread(_objectSpread({}, options), {}, {
        timestamp: new Date().toISOString()
      });
      eventQueue.current.push(event);
      if (flushTimeout.current) {
        clearTimeout(flushTimeout.current);
      }
      flushTimeout.current = setTimeout(function () {
        void flushEvents();
      }, 2000);
      logger_1.logger.info('Event tracked', {
        category: options.category,
        action: options.action
      });
    });
    return function (_x) {
      return _ref3.apply(this, arguments);
    };
  }(), [flushEvents]);
  var trackPageView = (0, react_1.useCallback)(function () {
    var _ref4 = (0, _asyncToGenerator2.default)(function* (pageName, metadata) {
      yield trackEvent(_objectSpread({
        category: 'Navigation',
        action: 'PageView',
        label: pageName
      }, metadata !== undefined && {
        metadata: metadata
      }));
    });
    return function (_x2, _x3) {
      return _ref4.apply(this, arguments);
    };
  }(), [trackEvent]);
  var trackSwipe = (0, react_1.useCallback)(function () {
    var _ref5 = (0, _asyncToGenerator2.default)(function* (action, petId) {
      yield trackEvent({
        category: 'Engagement',
        action: `Swipe_${action}`,
        label: petId,
        value: action === 'superlike' ? 2 : action === 'like' ? 1 : 0
      });
    });
    return function (_x4, _x5) {
      return _ref5.apply(this, arguments);
    };
  }(), [trackEvent]);
  var trackMatch = (0, react_1.useCallback)(function () {
    var _ref6 = (0, _asyncToGenerator2.default)(function* (matchId, petId) {
      yield trackEvent({
        category: 'Engagement',
        action: 'Match_Created',
        label: matchId,
        metadata: {
          petId: petId
        }
      });
    });
    return function (_x6, _x7) {
      return _ref6.apply(this, arguments);
    };
  }(), [trackEvent]);
  var trackMessage = (0, react_1.useCallback)(function () {
    var _ref7 = (0, _asyncToGenerator2.default)(function* (matchId, messageLength) {
      yield trackEvent({
        category: 'Communication',
        action: 'Message_Sent',
        label: matchId,
        value: messageLength
      });
    });
    return function (_x8, _x9) {
      return _ref7.apply(this, arguments);
    };
  }(), [trackEvent]);
  var trackProfileView = (0, react_1.useCallback)(function () {
    var _ref8 = (0, _asyncToGenerator2.default)(function* (profileId, duration) {
      yield trackEvent(_objectSpread({
        category: 'Engagement',
        action: 'Profile_View',
        label: profileId
      }, duration !== undefined && {
        value: duration
      }));
    });
    return function (_x0, _x1) {
      return _ref8.apply(this, arguments);
    };
  }(), [trackEvent]);
  return {
    trackEvent: trackEvent,
    trackPageView: trackPageView,
    trackSwipe: trackSwipe,
    trackMatch: trackMatch,
    trackMessage: trackMessage,
    trackProfileView: trackProfileView
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwib3duS2V5cyIsImUiLCJyIiwidCIsIk9iamVjdCIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiZGVmYXVsdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJ1c2VFdmVudFRyYWNraW5nIiwicmVhY3RfMSIsImxvZ2dlcl8xIiwiZW52XzEiLCJldmVudFF1ZXVlIiwidXNlUmVmIiwiZmx1c2hUaW1lb3V0IiwiZmx1c2hFdmVudHMiLCJ1c2VDYWxsYmFjayIsImN1cnJlbnQiLCJldmVudHMiLCJfcmVmMiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiZ2V0TG9jYWxTdG9yYWdlSXRlbSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJFcnJvciIsImxvZ2dlciIsImluZm8iLCJjb3VudCIsImVycm9yIiwiX2V2ZW50UXVldWUkY3VycmVudCIsInVuc2hpZnQiLCJ0cmFja0V2ZW50IiwiX3JlZjMiLCJvcHRpb25zIiwiZXZlbnQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2F0ZWdvcnkiLCJhY3Rpb24iLCJfeCIsInRyYWNrUGFnZVZpZXciLCJfcmVmNCIsInBhZ2VOYW1lIiwibWV0YWRhdGEiLCJsYWJlbCIsInVuZGVmaW5lZCIsIl94MiIsIl94MyIsInRyYWNrU3dpcGUiLCJfcmVmNSIsInBldElkIiwiX3g0IiwiX3g1IiwidHJhY2tNYXRjaCIsIl9yZWY2IiwibWF0Y2hJZCIsIl94NiIsIl94NyIsInRyYWNrTWVzc2FnZSIsIl9yZWY3IiwibWVzc2FnZUxlbmd0aCIsIl94OCIsIl94OSIsInRyYWNrUHJvZmlsZVZpZXciLCJfcmVmOCIsInByb2ZpbGVJZCIsImR1cmF0aW9uIiwiX3gwIiwiX3gxIl0sInNvdXJjZXMiOlsidXNlRXZlbnRUcmFja2luZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogRXZlbnQgVHJhY2tpbmcgSG9va1xuICogVHJhY2tzIHVzZXIgZXZlbnRzIGFuZCBpbnRlcmFjdGlvbnMgZm9yIGFuYWx5dGljc1xuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVzZUV2ZW50VHJhY2tpbmcgPSB1c2VFdmVudFRyYWNraW5nO1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IGxvZ2dlcl8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2xvZ2dlclwiKTtcbmNvbnN0IGVudl8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2VudlwiKTtcbi8qKlxuICogSG9vayBmb3IgdHJhY2tpbmcgdXNlciBldmVudHMgYW5kIGludGVyYWN0aW9uc1xuICovXG5mdW5jdGlvbiB1c2VFdmVudFRyYWNraW5nKCkge1xuICAgIGNvbnN0IGV2ZW50UXVldWUgPSAoMCwgcmVhY3RfMS51c2VSZWYpKFtdKTtcbiAgICBjb25zdCBmbHVzaFRpbWVvdXQgPSAoMCwgcmVhY3RfMS51c2VSZWYpKG51bGwpO1xuICAgIC8vIEZsdXNoIGV2ZW50cyB0byBzZXJ2ZXJcbiAgICBjb25zdCBmbHVzaEV2ZW50cyA9ICgwLCByZWFjdF8xLnVzZUNhbGxiYWNrKShhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFF1ZXVlLmN1cnJlbnQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBldmVudHMgPSBbLi4uZXZlbnRRdWV1ZS5jdXJyZW50XTtcbiAgICAgICAgZXZlbnRRdWV1ZS5jdXJyZW50ID0gW107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FuYWx5dGljcy9ldmVudHMnLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHsoMCwgZW52XzEuZ2V0TG9jYWxTdG9yYWdlSXRlbSkoJ2FjY2Vzc1Rva2VuJykgPz8gJyd9YCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZXZlbnRzIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2VuZCBhbmFseXRpY3MgZXZlbnRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuaW5mbygnQW5hbHl0aWNzIGV2ZW50cyBzZW50JywgeyBjb3VudDogZXZlbnRzLmxlbmd0aCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlbmQgYW5hbHl0aWNzIGV2ZW50cycsIHsgZXJyb3IgfSk7XG4gICAgICAgICAgICAvLyBSZS1xdWV1ZSBmYWlsZWQgZXZlbnRzXG4gICAgICAgICAgICBldmVudFF1ZXVlLmN1cnJlbnQudW5zaGlmdCguLi5ldmVudHMpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIC8vIFRyYWNrIGEgZ2VuZXJpYyBldmVudFxuICAgIGNvbnN0IHRyYWNrRXZlbnQgPSAoMCwgcmVhY3RfMS51c2VDYWxsYmFjaykoYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH07XG4gICAgICAgIGV2ZW50UXVldWUuY3VycmVudC5wdXNoKGV2ZW50KTtcbiAgICAgICAgLy8gRGVib3VuY2UgZmx1c2ggLSBzZW5kIGV2ZW50cyBpbiBiYXRjaGVzXG4gICAgICAgIGlmIChmbHVzaFRpbWVvdXQuY3VycmVudCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGZsdXNoVGltZW91dC5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBmbHVzaFRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdm9pZCBmbHVzaEV2ZW50cygpO1xuICAgICAgICB9LCAyMDAwKTsgLy8gRmx1c2ggZXZlcnkgMiBzZWNvbmRzXG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5pbmZvKCdFdmVudCB0cmFja2VkJywgeyBjYXRlZ29yeTogb3B0aW9ucy5jYXRlZ29yeSwgYWN0aW9uOiBvcHRpb25zLmFjdGlvbiB9KTtcbiAgICB9LCBbZmx1c2hFdmVudHNdKTtcbiAgICAvLyBUcmFjayBwYWdlIHZpZXdcbiAgICBjb25zdCB0cmFja1BhZ2VWaWV3ID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKGFzeW5jIChwYWdlTmFtZSwgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgYXdhaXQgdHJhY2tFdmVudCh7XG4gICAgICAgICAgICBjYXRlZ29yeTogJ05hdmlnYXRpb24nLFxuICAgICAgICAgICAgYWN0aW9uOiAnUGFnZVZpZXcnLFxuICAgICAgICAgICAgbGFiZWw6IHBhZ2VOYW1lLFxuICAgICAgICAgICAgLi4uKG1ldGFkYXRhICE9PSB1bmRlZmluZWQgJiYgeyBtZXRhZGF0YSB9KSxcbiAgICAgICAgfSk7XG4gICAgfSwgW3RyYWNrRXZlbnRdKTtcbiAgICAvLyBUcmFjayBzd2lwZSBhY3Rpb25cbiAgICBjb25zdCB0cmFja1N3aXBlID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKGFzeW5jIChhY3Rpb24sIHBldElkKSA9PiB7XG4gICAgICAgIGF3YWl0IHRyYWNrRXZlbnQoe1xuICAgICAgICAgICAgY2F0ZWdvcnk6ICdFbmdhZ2VtZW50JyxcbiAgICAgICAgICAgIGFjdGlvbjogYFN3aXBlXyR7YWN0aW9ufWAsXG4gICAgICAgICAgICBsYWJlbDogcGV0SWQsXG4gICAgICAgICAgICB2YWx1ZTogYWN0aW9uID09PSAnc3VwZXJsaWtlJyA/IDIgOiBhY3Rpb24gPT09ICdsaWtlJyA/IDEgOiAwLFxuICAgICAgICB9KTtcbiAgICB9LCBbdHJhY2tFdmVudF0pO1xuICAgIC8vIFRyYWNrIG1hdGNoIGNyZWF0aW9uXG4gICAgY29uc3QgdHJhY2tNYXRjaCA9ICgwLCByZWFjdF8xLnVzZUNhbGxiYWNrKShhc3luYyAobWF0Y2hJZCwgcGV0SWQpID0+IHtcbiAgICAgICAgYXdhaXQgdHJhY2tFdmVudCh7XG4gICAgICAgICAgICBjYXRlZ29yeTogJ0VuZ2FnZW1lbnQnLFxuICAgICAgICAgICAgYWN0aW9uOiAnTWF0Y2hfQ3JlYXRlZCcsXG4gICAgICAgICAgICBsYWJlbDogbWF0Y2hJZCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB7IHBldElkIH0sXG4gICAgICAgIH0pO1xuICAgIH0sIFt0cmFja0V2ZW50XSk7XG4gICAgLy8gVHJhY2sgbWVzc2FnZSBzZW50XG4gICAgY29uc3QgdHJhY2tNZXNzYWdlID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKGFzeW5jIChtYXRjaElkLCBtZXNzYWdlTGVuZ3RoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRyYWNrRXZlbnQoe1xuICAgICAgICAgICAgY2F0ZWdvcnk6ICdDb21tdW5pY2F0aW9uJyxcbiAgICAgICAgICAgIGFjdGlvbjogJ01lc3NhZ2VfU2VudCcsXG4gICAgICAgICAgICBsYWJlbDogbWF0Y2hJZCxcbiAgICAgICAgICAgIHZhbHVlOiBtZXNzYWdlTGVuZ3RoLFxuICAgICAgICB9KTtcbiAgICB9LCBbdHJhY2tFdmVudF0pO1xuICAgIC8vIFRyYWNrIHByb2ZpbGUgdmlld1xuICAgIGNvbnN0IHRyYWNrUHJvZmlsZVZpZXcgPSAoMCwgcmVhY3RfMS51c2VDYWxsYmFjaykoYXN5bmMgKHByb2ZpbGVJZCwgZHVyYXRpb24pID0+IHtcbiAgICAgICAgYXdhaXQgdHJhY2tFdmVudCh7XG4gICAgICAgICAgICBjYXRlZ29yeTogJ0VuZ2FnZW1lbnQnLFxuICAgICAgICAgICAgYWN0aW9uOiAnUHJvZmlsZV9WaWV3JyxcbiAgICAgICAgICAgIGxhYmVsOiBwcm9maWxlSWQsXG4gICAgICAgICAgICAuLi4oZHVyYXRpb24gIT09IHVuZGVmaW5lZCAmJiB7IHZhbHVlOiBkdXJhdGlvbiB9KSxcbiAgICAgICAgfSk7XG4gICAgfSwgW3RyYWNrRXZlbnRdKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0cmFja0V2ZW50LFxuICAgICAgICB0cmFja1BhZ2VWaWV3LFxuICAgICAgICB0cmFja1N3aXBlLFxuICAgICAgICB0cmFja01hdGNoLFxuICAgICAgICB0cmFja01lc3NhZ2UsXG4gICAgICAgIHRyYWNrUHJvZmlsZVZpZXcsXG4gICAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTtBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxnQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUUsbUJBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFHLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9B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