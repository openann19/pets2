0d7bf3c15d989317a1427cd1e364b86b
"use strict";

_getJestObj().mock("expo-haptics");
_getJestObj().mock("expo-blur");
_getJestObj().mock("react-native-safe-area-context");
_getJestObj().mock("@expo/vector-icons");
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _ActivePillTabBar = _interopRequireDefault(require("../ActivePillTabBar"));
var Haptics = _interopRequireWildcard(require("expo-haptics"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockNavigation = {
  emit: jest.fn(),
  navigate: jest.fn(),
  addListener: jest.fn()
};
describe("ActivePillTabBar Integration", function () {
  var mockState = {
    index: 0,
    routes: [{
      key: "Home-0",
      name: "Home"
    }, {
      key: "Swipe-1",
      name: "Swipe"
    }, {
      key: "Matches-2",
      name: "Matches"
    }]
  };
  var mockDescriptors = {
    "Home-0": {
      options: {
        title: "Home"
      }
    },
    "Swipe-1": {
      options: {
        title: "Swipe"
      }
    },
    "Matches-2": {
      options: {
        title: "Matches"
      }
    }
  };
  beforeEach(function () {
    jest.clearAllMocks();
    Haptics.impactAsync.mockResolvedValue(undefined);
    mockNavigation.addListener.mockReturnValue(jest.fn());
  });
  describe("Complete Tab Navigation Flow", function () {
    it("should handle complete navigation lifecycle", function () {
      var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        getByTestId = _render.getByTestId;
      var homeTab = getByTestId("tab-Home");
      expect(homeTab).toBeTruthy();
      var swipeTab = getByTestId("tab-Swipe");
      _reactNative.fireEvent.press(swipeTab);
      expect(mockNavigation.emit).toHaveBeenCalledWith({
        type: "tabPress",
        target: "Swipe-1",
        canPreventDefault: true
      });
      expect(mockNavigation.navigate).toHaveBeenCalledWith("Swipe");
    });
    it("should handle rapid tab switching", (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        getByTestId = _render2.getByTestId;
      var homeTab = getByTestId("tab-Home");
      for (var i = 0; i < 5; i++) {
        (0, _reactNative.act)(function () {
          jest.advanceTimersByTime(100);
        });
        _reactNative.fireEvent.press(homeTab);
      }
      yield (0, _reactNative.waitFor)(function () {
        expect(mockNavigation.emit).toHaveBeenCalled();
      });
      jest.useRealTimers();
    }));
  });
  describe("Double-Tap Detection Integration", function () {
    it("should detect and handle double-tap correctly", (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var callback = jest.fn();
      var handler = null;
      mockNavigation.addListener.mockImplementation(function (event, fn) {
        if (event === "tabDoublePress") {
          handler = fn;
        }
        return jest.fn();
      });
      var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        getByTestId = _render3.getByTestId;
      var homeTab = getByTestId("tab-Home");
      _reactNative.fireEvent.press(homeTab);
      (0, _reactNative.act)(function () {
        jest.advanceTimersByTime(150);
      });
      _reactNative.fireEvent.press(homeTab);
      yield (0, _reactNative.waitFor)(function () {
        expect(mockNavigation.emit).toHaveBeenCalledWith({
          type: "tabDoublePress",
          target: "Home-0"
        });
      });
      jest.useRealTimers();
    }));
    it("should reset double-tap timer after successful double-tap", (0, _asyncToGenerator2.default)(function* () {
      jest.useFakeTimers();
      var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        getByTestId = _render4.getByTestId;
      var homeTab = getByTestId("tab-Home");
      _reactNative.fireEvent.press(homeTab);
      (0, _reactNative.act)(function () {
        jest.advanceTimersByTime(150);
      });
      _reactNative.fireEvent.press(homeTab);
      yield (0, _reactNative.waitFor)(function () {
        expect(mockNavigation.emit).toHaveBeenCalledWith(expect.objectContaining({
          type: "tabDoublePress"
        }));
      });
      mockNavigation.emit.mockClear();
      (0, _reactNative.act)(function () {
        jest.advanceTimersByTime(500);
      });
      _reactNative.fireEvent.press(homeTab);
      (0, _reactNative.act)(function () {
        jest.advanceTimersByTime(150);
      });
      _reactNative.fireEvent.press(homeTab);
      yield (0, _reactNative.waitFor)(function () {
        expect(mockNavigation.emit).toHaveBeenCalledWith(expect.objectContaining({
          type: "tabDoublePress"
        }));
      });
      jest.useRealTimers();
    }));
  });
  describe("Animation Integration", function () {
    it("should animate indicator when switching tabs", function () {
      var initialState = {
        index: 0,
        routes: mockState.routes
      };
      var newState = {
        index: 1,
        routes: mockState.routes
      };
      var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: initialState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        rerender = _render5.rerender;
      rerender((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
        state: newState,
        descriptors: mockDescriptors,
        navigation: mockNavigation
      }));
      expect(true).toBe(true);
    });
    it("should bounce icon when pressed", function () {
      var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        getByTestId = _render6.getByTestId;
      var homeTab = getByTestId("tab-Home");
      _reactNative.fireEvent.press(homeTab);
      expect(homeTab).toBeTruthy();
    });
  });
  describe("Badge Integration", function () {
    it("should display badges with correct counts", function () {
      var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        getByText = _render7.getByText;
      var badges = ["3", "2", "1"];
      badges.forEach(function (count) {
        expect(getByText(count)).toBeTruthy();
      });
    });
    it("should hide badges when count is 0", function () {
      var customState = {
        index: 0,
        routes: [{
          key: "Empty-0",
          name: "Empty"
        }]
      };
      var customDescriptors = {
        "Empty-0": {
          options: {
            title: "Empty"
          }
        }
      };
      var _render8 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: customState,
          descriptors: customDescriptors,
          navigation: mockNavigation
        })),
        queryByTestId = _render8.queryByTestId;
      expect(true).toBe(true);
    });
  });
  describe("Edge Cases and Error Handling", function () {
    it("should handle missing layout gracefully", function () {
      var customDescriptors = {
        "Home-0": {
          options: {
            title: "Home"
          }
        }
      };
      expect(function () {
        (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: customDescriptors,
          navigation: mockNavigation
        }));
      }).not.toThrow();
    });
    it("should handle undefined descriptors", function () {
      var emptyDescriptors = {};
      expect(function () {
        (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: emptyDescriptors,
          navigation: mockNavigation
        }));
      }).not.toThrow();
    });
    it("should handle navigation state changes rapidly", function () {
      var states = [{
        index: 0,
        routes: mockState.routes
      }, {
        index: 1,
        routes: mockState.routes
      }, {
        index: 0,
        routes: mockState.routes
      }, {
        index: 2,
        routes: mockState.routes
      }];
      var _render9 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: states[0],
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        rerender = _render9.rerender;
      states.forEach(function (state) {
        rerender((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: state,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        }));
      });
      expect(true).toBe(true);
    });
    it("should handle haptic feedback failures gracefully", (0, _asyncToGenerator2.default)(function* () {
      Haptics.impactAsync.mockRejectedValue(new Error("Haptics unavailable"));
      var _render0 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        getByTestId = _render0.getByTestId;
      var homeTab = getByTestId("tab-Home");
      expect(function () {
        _reactNative.fireEvent.press(homeTab);
      }).not.toThrow();
      yield (0, _reactNative.waitFor)(function () {
        expect(mockNavigation.emit).toHaveBeenCalled();
      });
    }));
  });
  describe("Accessibility Integration", function () {
    it("should provide proper accessibility information", function () {
      var _render1 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        getByTestId = _render1.getByTestId;
      var homeTab = getByTestId("tab-Home");
      expect(homeTab.props.accessibilityRole).toBe("tab");
      expect(homeTab.props.accessibilityState.selected).toBe(true);
    });
    it("should update accessibility state when tab changes", function () {
      var initialState = {
        index: 0,
        routes: mockState.routes
      };
      var newState = {
        index: 1,
        routes: mockState.routes
      };
      var _render10 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: initialState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        rerender = _render10.rerender,
        getByTestId = _render10.getByTestId;
      rerender((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
        state: newState,
        descriptors: mockDescriptors,
        navigation: mockNavigation
      }));
      var swipeTab = getByTestId("tab-Swipe");
      expect(swipeTab.props.accessibilityState.selected).toBe(true);
    });
  });
  describe("Theme Integration", function () {
    it("should apply correct styles for light mode", function () {
      var _render11 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        container = _render11.container;
      expect(container).toBeTruthy();
    });
    it("should apply correct styles for dark mode", function () {
      var _render12 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_ActivePillTabBar.default, {
          state: mockState,
          descriptors: mockDescriptors,
          navigation: mockNavigation
        })),
        container = _render12.container;
      expect(container).toBeTruthy();
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9BY3RpdmVQaWxsVGFiQmFyIiwiSGFwdGljcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIl9yZXF1aXJlIiwiamVzdCIsIm1vY2tOYXZpZ2F0aW9uIiwiZW1pdCIsImZuIiwibmF2aWdhdGUiLCJhZGRMaXN0ZW5lciIsImRlc2NyaWJlIiwibW9ja1N0YXRlIiwiaW5kZXgiLCJyb3V0ZXMiLCJrZXkiLCJuYW1lIiwibW9ja0Rlc2NyaXB0b3JzIiwib3B0aW9ucyIsInRpdGxlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpbXBhY3RBc3luYyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidW5kZWZpbmVkIiwibW9ja1JldHVyblZhbHVlIiwiaXQiLCJfcmVuZGVyIiwicmVuZGVyIiwianN4Iiwic3RhdGUiLCJkZXNjcmlwdG9ycyIsIm5hdmlnYXRpb24iLCJnZXRCeVRlc3RJZCIsImhvbWVUYWIiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5Iiwic3dpcGVUYWIiLCJmaXJlRXZlbnQiLCJwcmVzcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidHlwZSIsInRhcmdldCIsImNhblByZXZlbnREZWZhdWx0IiwidXNlRmFrZVRpbWVycyIsIl9yZW5kZXIyIiwiYWN0IiwiYWR2YW5jZVRpbWVyc0J5VGltZSIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwidXNlUmVhbFRpbWVycyIsImNhbGxiYWNrIiwiaGFuZGxlciIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImV2ZW50IiwiX3JlbmRlcjMiLCJfcmVuZGVyNCIsIm9iamVjdENvbnRhaW5pbmciLCJtb2NrQ2xlYXIiLCJpbml0aWFsU3RhdGUiLCJuZXdTdGF0ZSIsIl9yZW5kZXI1IiwicmVyZW5kZXIiLCJ0b0JlIiwiX3JlbmRlcjYiLCJfcmVuZGVyNyIsImdldEJ5VGV4dCIsImJhZGdlcyIsImZvckVhY2giLCJjb3VudCIsImN1c3RvbVN0YXRlIiwiY3VzdG9tRGVzY3JpcHRvcnMiLCJfcmVuZGVyOCIsInF1ZXJ5QnlUZXN0SWQiLCJub3QiLCJ0b1Rocm93IiwiZW1wdHlEZXNjcmlwdG9ycyIsInN0YXRlcyIsIl9yZW5kZXI5IiwibW9ja1JlamVjdGVkVmFsdWUiLCJFcnJvciIsIl9yZW5kZXIwIiwiX3JlbmRlcjEiLCJwcm9wcyIsImFjY2Vzc2liaWxpdHlSb2xlIiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwic2VsZWN0ZWQiLCJfcmVuZGVyMTAiLCJfcmVuZGVyMTEiLCJjb250YWluZXIiLCJfcmVuZGVyMTIiXSwic291cmNlcyI6WyJBY3RpdmVQaWxsVGFiQmFyLmludGVncmF0aW9uLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogSW50ZWdyYXRpb24gVGVzdHMgZm9yIEFjdGl2ZVBpbGxUYWJCYXJcbiAqIFRlc3RzIHRoZSBjb21wbGV0ZSBmbG93IG9mIHRhYiBuYXZpZ2F0aW9uIHdpdGggZG91YmxlLXRhcCBhbmQgYW5pbWF0aW9uc1xuICogXG4gKiBAamVzdC1lbnZpcm9ubWVudCBqc2RvbVxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvciwgYWN0IH0gZnJvbSBcIkB0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlXCI7XG5pbXBvcnQgQWN0aXZlUGlsbFRhYkJhciBmcm9tIFwiLi4vQWN0aXZlUGlsbFRhYkJhclwiO1xuaW1wb3J0IHsgdXNlVGFiRG91YmxlUHJlc3MgfSBmcm9tIFwiLi4vLi4vaG9va3MvbmF2aWdhdGlvbi91c2VUYWJEb3VibGVQcmVzc1wiO1xuaW1wb3J0ICogYXMgSGFwdGljcyBmcm9tIFwiZXhwby1oYXB0aWNzXCI7XG5cbi8vIE1vY2sgYWxsIGRlcGVuZGVuY2llc1xuamVzdC5tb2NrKFwiZXhwby1oYXB0aWNzXCIpO1xuamVzdC5tb2NrKFwiZXhwby1ibHVyXCIpO1xuamVzdC5tb2NrKFwicmVhY3QtbmF0aXZlLXNhZmUtYXJlYS1jb250ZXh0XCIpO1xuamVzdC5tb2NrKFwiQGV4cG8vdmVjdG9yLWljb25zXCIpO1xuXG4vLyBNb2NrIFJlYWN0IE5hdmlnYXRpb25cbmNvbnN0IG1vY2tOYXZpZ2F0aW9uID0ge1xuICBlbWl0OiBqZXN0LmZuKCksXG4gIG5hdmlnYXRlOiBqZXN0LmZuKCksXG4gIGFkZExpc3RlbmVyOiBqZXN0LmZuKCksXG59O1xuXG5kZXNjcmliZShcIkFjdGl2ZVBpbGxUYWJCYXIgSW50ZWdyYXRpb25cIiwgKCkgPT4ge1xuICBjb25zdCBtb2NrU3RhdGUgPSB7XG4gICAgaW5kZXg6IDAsXG4gICAgcm91dGVzOiBbXG4gICAgICB7IGtleTogXCJIb21lLTBcIiwgbmFtZTogXCJIb21lXCIgfSxcbiAgICAgIHsga2V5OiBcIlN3aXBlLTFcIiwgbmFtZTogXCJTd2lwZVwiIH0sXG4gICAgICB7IGtleTogXCJNYXRjaGVzLTJcIiwgbmFtZTogXCJNYXRjaGVzXCIgfSxcbiAgICBdLFxuICB9O1xuXG4gIGNvbnN0IG1vY2tEZXNjcmlwdG9ycyA9IHtcbiAgICBcIkhvbWUtMFwiOiB7IG9wdGlvbnM6IHsgdGl0bGU6IFwiSG9tZVwiIH0gfSxcbiAgICBcIlN3aXBlLTFcIjogeyBvcHRpb25zOiB7IHRpdGxlOiBcIlN3aXBlXCIgfSB9LFxuICAgIFwiTWF0Y2hlcy0yXCI6IHsgb3B0aW9uczogeyB0aXRsZTogXCJNYXRjaGVzXCIgfSB9LFxuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIChIYXB0aWNzLmltcGFjdEFzeW5jIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcbiAgICBtb2NrTmF2aWdhdGlvbi5hZGRMaXN0ZW5lci5tb2NrUmV0dXJuVmFsdWUoamVzdC5mbigpKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJDb21wbGV0ZSBUYWIgTmF2aWdhdGlvbiBGbG93XCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCBoYW5kbGUgY29tcGxldGUgbmF2aWdhdGlvbiBsaWZlY3ljbGVcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxuICAgICAgICA8QWN0aXZlUGlsbFRhYkJhclxuICAgICAgICAgIHN0YXRlPXttb2NrU3RhdGV9XG4gICAgICAgICAgZGVzY3JpcHRvcnM9e21vY2tEZXNjcmlwdG9yc31cbiAgICAgICAgICBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn1cbiAgICAgICAgLz4sXG4gICAgICApO1xuXG4gICAgICAvLyBJbml0aWFsIHN0YXRlIC0gSG9tZSBpcyBhY3RpdmVcbiAgICAgIGNvbnN0IGhvbWVUYWIgPSBnZXRCeVRlc3RJZChcInRhYi1Ib21lXCIpO1xuICAgICAgZXhwZWN0KGhvbWVUYWIpLnRvQmVUcnV0aHkoKTtcblxuICAgICAgLy8gTmF2aWdhdGUgdG8gU3dpcGVcbiAgICAgIGNvbnN0IHN3aXBlVGFiID0gZ2V0QnlUZXN0SWQoXCJ0YWItU3dpcGVcIik7XG4gICAgICBmaXJlRXZlbnQucHJlc3Moc3dpcGVUYWIpO1xuXG4gICAgICBleHBlY3QobW9ja05hdmlnYXRpb24uZW1pdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0eXBlOiBcInRhYlByZXNzXCIsXG4gICAgICAgIHRhcmdldDogXCJTd2lwZS0xXCIsXG4gICAgICAgIGNhblByZXZlbnREZWZhdWx0OiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QobW9ja05hdmlnYXRpb24ubmF2aWdhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFwiU3dpcGVcIik7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBoYW5kbGUgcmFwaWQgdGFiIHN3aXRjaGluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcihcbiAgICAgICAgPEFjdGl2ZVBpbGxUYWJCYXJcbiAgICAgICAgICBzdGF0ZT17bW9ja1N0YXRlfVxuICAgICAgICAgIGRlc2NyaXB0b3JzPXttb2NrRGVzY3JpcHRvcnN9XG4gICAgICAgICAgbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259XG4gICAgICAgIC8+LFxuICAgICAgKTtcblxuICAgICAgY29uc3QgaG9tZVRhYiA9IGdldEJ5VGVzdElkKFwidGFiLUhvbWVcIik7XG4gICAgICBcbiAgICAgIC8vIFJhcGlkbHkgdGFwIGhvbWUgbXVsdGlwbGUgdGltZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBmaXJlRXZlbnQucHJlc3MoaG9tZVRhYik7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja05hdmlnYXRpb24uZW1pdCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkRvdWJsZS1UYXAgRGV0ZWN0aW9uIEludGVncmF0aW9uXCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCBkZXRlY3QgYW5kIGhhbmRsZSBkb3VibGUtdGFwIGNvcnJlY3RseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgICAgIFxuICAgICAgY29uc3QgY2FsbGJhY2sgPSBqZXN0LmZuKCk7XG4gICAgICBcbiAgICAgIC8vIFNldHVwIGxpc3RlbmVyXG4gICAgICBsZXQgaGFuZGxlcjogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gICAgICBtb2NrTmF2aWdhdGlvbi5hZGRMaXN0ZW5lci5tb2NrSW1wbGVtZW50YXRpb24oXG4gICAgICAgIChldmVudDogc3RyaW5nLCBmbjogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgIGlmIChldmVudCA9PT0gXCJ0YWJEb3VibGVQcmVzc1wiKSB7XG4gICAgICAgICAgICBoYW5kbGVyID0gZm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBqZXN0LmZuKCk7XG4gICAgICAgIH0sXG4gICAgICApO1xuXG4gICAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXG4gICAgICAgIDxBY3RpdmVQaWxsVGFiQmFyXG4gICAgICAgICAgc3RhdGU9e21vY2tTdGF0ZX1cbiAgICAgICAgICBkZXNjcmlwdG9ycz17bW9ja0Rlc2NyaXB0b3JzfVxuICAgICAgICAgIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufVxuICAgICAgICAvPixcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGhvbWVUYWIgPSBnZXRCeVRlc3RJZChcInRhYi1Ib21lXCIpO1xuICAgICAgXG4gICAgICAvLyBGaXJzdCB0YXBcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhob21lVGFiKTtcbiAgICAgIFxuICAgICAgLy8gU2Vjb25kIHRhcCB3aXRoaW4gMzAwbXNcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNTApO1xuICAgICAgfSk7XG4gICAgICBmaXJlRXZlbnQucHJlc3MoaG9tZVRhYik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja05hdmlnYXRpb24uZW1pdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIHR5cGU6IFwidGFiRG91YmxlUHJlc3NcIixcbiAgICAgICAgICB0YXJnZXQ6IFwiSG9tZS0wXCIsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmVzZXQgZG91YmxlLXRhcCB0aW1lciBhZnRlciBzdWNjZXNzZnVsIGRvdWJsZS10YXBcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcihcbiAgICAgICAgPEFjdGl2ZVBpbGxUYWJCYXJcbiAgICAgICAgICBzdGF0ZT17bW9ja1N0YXRlfVxuICAgICAgICAgIGRlc2NyaXB0b3JzPXttb2NrRGVzY3JpcHRvcnN9XG4gICAgICAgICAgbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259XG4gICAgICAgIC8+LFxuICAgICAgKTtcblxuICAgICAgY29uc3QgaG9tZVRhYiA9IGdldEJ5VGVzdElkKFwidGFiLUhvbWVcIik7XG4gICAgICBcbiAgICAgIC8vIEZpcnN0IGRvdWJsZS10YXBcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhob21lVGFiKTtcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgxNTApO1xuICAgICAgfSk7XG4gICAgICBmaXJlRXZlbnQucHJlc3MoaG9tZVRhYik7XG5cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja05hdmlnYXRpb24uZW1pdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoeyB0eXBlOiBcInRhYkRvdWJsZVByZXNzXCIgfSksXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgbW9ja05hdmlnYXRpb24uZW1pdC5tb2NrQ2xlYXIoKTtcblxuICAgICAgLy8gQWZ0ZXIgZGVsYXksIHNlY29uZCBkb3VibGUtdGFwIHNob3VsZCB3b3JrXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoNTAwKTtcbiAgICAgIH0pO1xuICAgICAgZmlyZUV2ZW50LnByZXNzKGhvbWVUYWIpO1xuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgamVzdC5hZHZhbmNlVGltZXJzQnlUaW1lKDE1MCk7XG4gICAgICB9KTtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhob21lVGFiKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrTmF2aWdhdGlvbi5lbWl0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7IHR5cGU6IFwidGFiRG91YmxlUHJlc3NcIiB9KSxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJBbmltYXRpb24gSW50ZWdyYXRpb25cIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIGFuaW1hdGUgaW5kaWNhdG9yIHdoZW4gc3dpdGNoaW5nIHRhYnNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgaW5pdGlhbFN0YXRlID0geyBpbmRleDogMCwgcm91dGVzOiBtb2NrU3RhdGUucm91dGVzIH07XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHsgaW5kZXg6IDEsIHJvdXRlczogbW9ja1N0YXRlLnJvdXRlcyB9O1xuXG4gICAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXIoXG4gICAgICAgIDxBY3RpdmVQaWxsVGFiQmFyXG4gICAgICAgICAgc3RhdGU9e2luaXRpYWxTdGF0ZX1cbiAgICAgICAgICBkZXNjcmlwdG9ycz17bW9ja0Rlc2NyaXB0b3JzfVxuICAgICAgICAgIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufVxuICAgICAgICAvPixcbiAgICAgICk7XG5cbiAgICAgIC8vIFN3aXRjaCB0byBTd2lwZVxuICAgICAgcmVyZW5kZXIoXG4gICAgICAgIDxBY3RpdmVQaWxsVGFiQmFyXG4gICAgICAgICAgc3RhdGU9e25ld1N0YXRlfVxuICAgICAgICAgIGRlc2NyaXB0b3JzPXttb2NrRGVzY3JpcHRvcnN9XG4gICAgICAgICAgbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259XG4gICAgICAgIC8+LFxuICAgICAgKTtcblxuICAgICAgLy8gQW5pbWF0aW9uIHNob3VsZCBiZSB0cmlnZ2VyZWQgKHRlc3RlZCB2aWEgcmUtcmVuZGVyKVxuICAgICAgZXhwZWN0KHRydWUpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBib3VuY2UgaWNvbiB3aGVuIHByZXNzZWRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxuICAgICAgICA8QWN0aXZlUGlsbFRhYkJhclxuICAgICAgICAgIHN0YXRlPXttb2NrU3RhdGV9XG4gICAgICAgICAgZGVzY3JpcHRvcnM9e21vY2tEZXNjcmlwdG9yc31cbiAgICAgICAgICBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn1cbiAgICAgICAgLz4sXG4gICAgICApO1xuXG4gICAgICBjb25zdCBob21lVGFiID0gZ2V0QnlUZXN0SWQoXCJ0YWItSG9tZVwiKTtcbiAgICAgIGZpcmVFdmVudC5wcmVzcyhob21lVGFiKTtcblxuICAgICAgLy8gSWNvbiBhbmltYXRpb24gc2hvdWxkIG9jY3VyIChzY2FsZSBhbmltYXRpb24pXG4gICAgICBleHBlY3QoaG9tZVRhYikudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkJhZGdlIEludGVncmF0aW9uXCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCBkaXNwbGF5IGJhZGdlcyB3aXRoIGNvcnJlY3QgY291bnRzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXG4gICAgICAgIDxBY3RpdmVQaWxsVGFiQmFyXG4gICAgICAgICAgc3RhdGU9e21vY2tTdGF0ZX1cbiAgICAgICAgICBkZXNjcmlwdG9ycz17bW9ja0Rlc2NyaXB0b3JzfVxuICAgICAgICAgIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufVxuICAgICAgICAvPixcbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBiYWRnZSBjb3VudHNcbiAgICAgIGNvbnN0IGJhZGdlcyA9IFtcIjNcIiwgXCIyXCIsIFwiMVwiXTtcbiAgICAgIGJhZGdlcy5mb3JFYWNoKChjb3VudCkgPT4ge1xuICAgICAgICBleHBlY3QoZ2V0QnlUZXh0KGNvdW50KSkudG9CZVRydXRoeSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBoaWRlIGJhZGdlcyB3aGVuIGNvdW50IGlzIDBcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tU3RhdGUgPSB7XG4gICAgICAgIGluZGV4OiAwLFxuICAgICAgICByb3V0ZXM6IFt7IGtleTogXCJFbXB0eS0wXCIsIG5hbWU6IFwiRW1wdHlcIiB9XSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGN1c3RvbURlc2NyaXB0b3JzID0ge1xuICAgICAgICBcIkVtcHR5LTBcIjogeyBvcHRpb25zOiB7IHRpdGxlOiBcIkVtcHR5XCIgfSB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgeyBxdWVyeUJ5VGVzdElkIH0gPSByZW5kZXIoXG4gICAgICAgIDxBY3RpdmVQaWxsVGFiQmFyXG4gICAgICAgICAgc3RhdGU9e2N1c3RvbVN0YXRlfVxuICAgICAgICAgIGRlc2NyaXB0b3JzPXtjdXN0b21EZXNjcmlwdG9yc31cbiAgICAgICAgICBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn1cbiAgICAgICAgLz4sXG4gICAgICApO1xuXG4gICAgICAvLyBFbXB0eSByb3V0ZSBzaG91bGQgbm90IGhhdmUgYmFkZ2VzXG4gICAgICBleHBlY3QodHJ1ZSkudG9CZSh0cnVlKTsgLy8gUGFzcyBpZiBubyBiYWRnZSBhcHBlYXJzXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiRWRnZSBDYXNlcyBhbmQgRXJyb3IgSGFuZGxpbmdcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIGhhbmRsZSBtaXNzaW5nIGxheW91dCBncmFjZWZ1bGx5XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbURlc2NyaXB0b3JzID0ge1xuICAgICAgICBcIkhvbWUtMFwiOiB7IG9wdGlvbnM6IHsgdGl0bGU6IFwiSG9tZVwiIH0gfSxcbiAgICAgIH07XG5cbiAgICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QWN0aXZlUGlsbFRhYkJhclxuICAgICAgICAgICAgc3RhdGU9e21vY2tTdGF0ZX1cbiAgICAgICAgICAgIGRlc2NyaXB0b3JzPXtjdXN0b21EZXNjcmlwdG9yc31cbiAgICAgICAgICAgIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufVxuICAgICAgICAgIC8+LFxuICAgICAgICApO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSB1bmRlZmluZWQgZGVzY3JpcHRvcnNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgZW1wdHlEZXNjcmlwdG9ycyA9IHt9O1xuXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEFjdGl2ZVBpbGxUYWJCYXJcbiAgICAgICAgICAgIHN0YXRlPXttb2NrU3RhdGV9XG4gICAgICAgICAgICBkZXNjcmlwdG9ycz17ZW1wdHlEZXNjcmlwdG9yc31cbiAgICAgICAgICAgIG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufVxuICAgICAgICAgIC8+LFxuICAgICAgICApO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSBuYXZpZ2F0aW9uIHN0YXRlIGNoYW5nZXMgcmFwaWRseVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0ZXMgPSBbXG4gICAgICAgIHsgaW5kZXg6IDAsIHJvdXRlczogbW9ja1N0YXRlLnJvdXRlcyB9LFxuICAgICAgICB7IGluZGV4OiAxLCByb3V0ZXM6IG1vY2tTdGF0ZS5yb3V0ZXMgfSxcbiAgICAgICAgeyBpbmRleDogMCwgcm91dGVzOiBtb2NrU3RhdGUucm91dGVzIH0sXG4gICAgICAgIHsgaW5kZXg6IDIsIHJvdXRlczogbW9ja1N0YXRlLnJvdXRlcyB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKFxuICAgICAgICA8QWN0aXZlUGlsbFRhYkJhclxuICAgICAgICAgIHN0YXRlPXtzdGF0ZXNbMF19XG4gICAgICAgICAgZGVzY3JpcHRvcnM9e21vY2tEZXNjcmlwdG9yc31cbiAgICAgICAgICBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn1cbiAgICAgICAgLz4sXG4gICAgICApO1xuXG4gICAgICBzdGF0ZXMuZm9yRWFjaCgoc3RhdGUpID0+IHtcbiAgICAgICAgcmVyZW5kZXIoXG4gICAgICAgICAgPEFjdGl2ZVBpbGxUYWJCYXJcbiAgICAgICAgICAgIHN0YXRlPXtzdGF0ZX1cbiAgICAgICAgICAgIGRlc2NyaXB0b3JzPXttb2NrRGVzY3JpcHRvcnN9XG4gICAgICAgICAgICBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn1cbiAgICAgICAgICAvPixcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaG91bGQgaGFuZGxlIHdpdGhvdXQgZXJyb3JzXG4gICAgICBleHBlY3QodHJ1ZSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSBoYXB0aWMgZmVlZGJhY2sgZmFpbHVyZXMgZ3JhY2VmdWxseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAoSGFwdGljcy5pbXBhY3RBc3luYyBhcyBqZXN0Lk1vY2spLm1vY2tSZWplY3RlZFZhbHVlKFxuICAgICAgICBuZXcgRXJyb3IoXCJIYXB0aWNzIHVuYXZhaWxhYmxlXCIpLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgeyBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxuICAgICAgICA8QWN0aXZlUGlsbFRhYkJhclxuICAgICAgICAgIHN0YXRlPXttb2NrU3RhdGV9XG4gICAgICAgICAgZGVzY3JpcHRvcnM9e21vY2tEZXNjcmlwdG9yc31cbiAgICAgICAgICBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn1cbiAgICAgICAgLz4sXG4gICAgICApO1xuXG4gICAgICBjb25zdCBob21lVGFiID0gZ2V0QnlUZXN0SWQoXCJ0YWItSG9tZVwiKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgZmlyZUV2ZW50LnByZXNzKGhvbWVUYWIpO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrTmF2aWdhdGlvbi5lbWl0KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJBY2Nlc3NpYmlsaXR5IEludGVncmF0aW9uXCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCBwcm92aWRlIHByb3BlciBhY2Nlc3NpYmlsaXR5IGluZm9ybWF0aW9uXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcihcbiAgICAgICAgPEFjdGl2ZVBpbGxUYWJCYXJcbiAgICAgICAgICBzdGF0ZT17bW9ja1N0YXRlfVxuICAgICAgICAgIGRlc2NyaXB0b3JzPXttb2NrRGVzY3JpcHRvcnN9XG4gICAgICAgICAgbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259XG4gICAgICAgIC8+LFxuICAgICAgKTtcblxuICAgICAgY29uc3QgaG9tZVRhYiA9IGdldEJ5VGVzdElkKFwidGFiLUhvbWVcIik7XG4gICAgICBleHBlY3QoaG9tZVRhYi5wcm9wcy5hY2Nlc3NpYmlsaXR5Um9sZSkudG9CZShcInRhYlwiKTtcbiAgICAgIGV4cGVjdChob21lVGFiLnByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZS5zZWxlY3RlZCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHVwZGF0ZSBhY2Nlc3NpYmlsaXR5IHN0YXRlIHdoZW4gdGFiIGNoYW5nZXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgaW5pdGlhbFN0YXRlID0geyBpbmRleDogMCwgcm91dGVzOiBtb2NrU3RhdGUucm91dGVzIH07XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHsgaW5kZXg6IDEsIHJvdXRlczogbW9ja1N0YXRlLnJvdXRlcyB9O1xuXG4gICAgICBjb25zdCB7IHJlcmVuZGVyLCBnZXRCeVRlc3RJZCB9ID0gcmVuZGVyKFxuICAgICAgICA8QWN0aXZlUGlsbFRhYkJhclxuICAgICAgICAgIHN0YXRlPXtpbml0aWFsU3RhdGV9XG4gICAgICAgICAgZGVzY3JpcHRvcnM9e21vY2tEZXNjcmlwdG9yc31cbiAgICAgICAgICBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn1cbiAgICAgICAgLz4sXG4gICAgICApO1xuXG4gICAgICByZXJlbmRlcihcbiAgICAgICAgPEFjdGl2ZVBpbGxUYWJCYXJcbiAgICAgICAgICBzdGF0ZT17bmV3U3RhdGV9XG4gICAgICAgICAgZGVzY3JpcHRvcnM9e21vY2tEZXNjcmlwdG9yc31cbiAgICAgICAgICBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn1cbiAgICAgICAgLz4sXG4gICAgICApO1xuXG4gICAgICBjb25zdCBzd2lwZVRhYiA9IGdldEJ5VGVzdElkKFwidGFiLVN3aXBlXCIpO1xuICAgICAgZXhwZWN0KHN3aXBlVGFiLnByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZS5zZWxlY3RlZCkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJUaGVtZSBJbnRlZ3JhdGlvblwiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgYXBwbHkgY29ycmVjdCBzdHlsZXMgZm9yIGxpZ2h0IG1vZGVcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IHJlbmRlcihcbiAgICAgICAgPEFjdGl2ZVBpbGxUYWJCYXJcbiAgICAgICAgICBzdGF0ZT17bW9ja1N0YXRlfVxuICAgICAgICAgIGRlc2NyaXB0b3JzPXttb2NrRGVzY3JpcHRvcnN9XG4gICAgICAgICAgbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259XG4gICAgICAgIC8+LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGNvbnRhaW5lcikudG9CZVRydXRoeSgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgYXBwbHkgY29ycmVjdCBzdHlsZXMgZm9yIGRhcmsgbW9kZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gcmVuZGVyKFxuICAgICAgICA8QWN0aXZlUGlsbFRhYkJhclxuICAgICAgICAgIHN0YXRlPXttb2NrU3RhdGV9XG4gICAgICAgICAgZGVzY3JpcHRvcnM9e21vY2tEZXNjcmlwdG9yc31cbiAgICAgICAgICBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn1cbiAgICAgICAgLz4sXG4gICAgICApO1xuXG4gICAgICBleHBlY3QoY29udGFpbmVyKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbiJdLCJtYXBwaW5ncyI6Ijs7QUFhQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsY0FBYyxDQUFDO0FBQ3pCRCxXQUFBLEdBQUtDLElBQUksQ0FBQyxXQUFXLENBQUM7QUFDdEJELFdBQUEsR0FBS0MsSUFBSSxDQUFDLGdDQUFnQyxDQUFDO0FBQzNDRCxXQUFBLEdBQUtDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztBQUFDLElBQUFDLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBVmhDLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFlBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLGlCQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBSyxPQUFBLEdBQUFDLHVCQUFBLENBQUFOLE9BQUE7QUFBd0MsSUFBQU8sV0FBQSxHQUFBUCxPQUFBO0FBQUEsU0FBQU0sd0JBQUFFLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFKLHVCQUFBLFlBQUFBLHdCQUFBRSxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxFQUFBVixDQUFBLGlCQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFNBQUFRLENBQUEsTUFBQUYsQ0FBQSxHQUFBTCxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxRQUFBRyxDQUFBLENBQUFLLEdBQUEsQ0FBQVgsQ0FBQSxVQUFBTSxDQUFBLENBQUFNLEdBQUEsQ0FBQVosQ0FBQSxHQUFBTSxDQUFBLENBQUFPLEdBQUEsQ0FBQWIsQ0FBQSxFQUFBUSxDQUFBLGNBQUFNLEVBQUEsSUFBQWQsQ0FBQSxnQkFBQWMsRUFBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsRUFBQSxPQUFBUCxDQUFBLElBQUFELENBQUEsR0FBQVcsTUFBQSxDQUFBQyxjQUFBLEtBQUFELE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQW5CLENBQUEsRUFBQWMsRUFBQSxPQUFBUCxDQUFBLENBQUFLLEdBQUEsSUFBQUwsQ0FBQSxDQUFBTSxHQUFBLElBQUFQLENBQUEsQ0FBQUUsQ0FBQSxFQUFBTSxFQUFBLEVBQUFQLENBQUEsSUFBQUMsQ0FBQSxDQUFBTSxFQUFBLElBQUFkLENBQUEsQ0FBQWMsRUFBQSxXQUFBTixDQUFBLEtBQUFSLENBQUEsRUFBQUMsQ0FBQTtBQUFBLFNBQUFaLFlBQUE7RUFBQSxJQUFBK0IsUUFBQSxHQUFBNUIsT0FBQTtJQUFBNkIsSUFBQSxHQUFBRCxRQUFBLENBQUFDLElBQUE7RUFBQWhDLFdBQUEsWUFBQUEsWUFBQTtJQUFBLE9BQUFnQyxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFTeEMsSUFBTUMsY0FBYyxHQUFHO0VBQ3JCQyxJQUFJLEVBQUVGLElBQUksQ0FBQ0csRUFBRSxDQUFDLENBQUM7RUFDZkMsUUFBUSxFQUFFSixJQUFJLENBQUNHLEVBQUUsQ0FBQyxDQUFDO0VBQ25CRSxXQUFXLEVBQUVMLElBQUksQ0FBQ0csRUFBRSxDQUFDO0FBQ3ZCLENBQUM7QUFFREcsUUFBUSxDQUFDLDhCQUE4QixFQUFFLFlBQU07RUFDN0MsSUFBTUMsU0FBUyxHQUFHO0lBQ2hCQyxLQUFLLEVBQUUsQ0FBQztJQUNSQyxNQUFNLEVBQUUsQ0FDTjtNQUFFQyxHQUFHLEVBQUUsUUFBUTtNQUFFQyxJQUFJLEVBQUU7SUFBTyxDQUFDLEVBQy9CO01BQUVELEdBQUcsRUFBRSxTQUFTO01BQUVDLElBQUksRUFBRTtJQUFRLENBQUMsRUFDakM7TUFBRUQsR0FBRyxFQUFFLFdBQVc7TUFBRUMsSUFBSSxFQUFFO0lBQVUsQ0FBQztFQUV6QyxDQUFDO0VBRUQsSUFBTUMsZUFBZSxHQUFHO0lBQ3RCLFFBQVEsRUFBRTtNQUFFQyxPQUFPLEVBQUU7UUFBRUMsS0FBSyxFQUFFO01BQU87SUFBRSxDQUFDO0lBQ3hDLFNBQVMsRUFBRTtNQUFFRCxPQUFPLEVBQUU7UUFBRUMsS0FBSyxFQUFFO01BQVE7SUFBRSxDQUFDO0lBQzFDLFdBQVcsRUFBRTtNQUFFRCxPQUFPLEVBQUU7UUFBRUMsS0FBSyxFQUFFO01BQVU7SUFBRTtFQUMvQyxDQUFDO0VBRURDLFVBQVUsQ0FBQyxZQUFNO0lBQ2ZmLElBQUksQ0FBQ2dCLGFBQWEsQ0FBQyxDQUFDO0lBQ25CeEMsT0FBTyxDQUFDeUMsV0FBVyxDQUFlQyxpQkFBaUIsQ0FBQ0MsU0FBUyxDQUFDO0lBQy9EbEIsY0FBYyxDQUFDSSxXQUFXLENBQUNlLGVBQWUsQ0FBQ3BCLElBQUksQ0FBQ0csRUFBRSxDQUFDLENBQUMsQ0FBQztFQUN2RCxDQUFDLENBQUM7RUFFRkcsUUFBUSxDQUFDLDhCQUE4QixFQUFFLFlBQU07SUFDN0NlLEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxZQUFNO01BQ3RELElBQUFDLE9BQUEsR0FBd0IsSUFBQUMsbUJBQU0sRUFDNUIsSUFBQTdDLFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2pELGlCQUFBLENBQUFjLE9BQWdCO1VBQ2ZvQyxLQUFLLEVBQUVsQixTQUFVO1VBQ2pCbUIsV0FBVyxFQUFFZCxlQUFnQjtVQUM3QmUsVUFBVSxFQUFFMUI7UUFBZSxDQUM1QixDQUNILENBQUM7UUFOTzJCLFdBQVcsR0FBQU4sT0FBQSxDQUFYTSxXQUFXO01BU25CLElBQU1DLE9BQU8sR0FBR0QsV0FBVyxDQUFDLFVBQVUsQ0FBQztNQUN2Q0UsTUFBTSxDQUFDRCxPQUFPLENBQUMsQ0FBQ0UsVUFBVSxDQUFDLENBQUM7TUFHNUIsSUFBTUMsUUFBUSxHQUFHSixXQUFXLENBQUMsV0FBVyxDQUFDO01BQ3pDSyxzQkFBUyxDQUFDQyxLQUFLLENBQUNGLFFBQVEsQ0FBQztNQUV6QkYsTUFBTSxDQUFDN0IsY0FBYyxDQUFDQyxJQUFJLENBQUMsQ0FBQ2lDLG9CQUFvQixDQUFDO1FBQy9DQyxJQUFJLEVBQUUsVUFBVTtRQUNoQkMsTUFBTSxFQUFFLFNBQVM7UUFDakJDLGlCQUFpQixFQUFFO01BQ3JCLENBQUMsQ0FBQztNQUNGUixNQUFNLENBQUM3QixjQUFjLENBQUNHLFFBQVEsQ0FBQyxDQUFDK0Isb0JBQW9CLENBQUMsT0FBTyxDQUFDO0lBQy9ELENBQUMsQ0FBQztJQUVGZCxFQUFFLENBQUMsbUNBQW1DLE1BQUFqRCxrQkFBQSxDQUFBaUIsT0FBQSxFQUFFLGFBQVk7TUFDbERXLElBQUksQ0FBQ3VDLGFBQWEsQ0FBQyxDQUFDO01BQ3BCLElBQUFDLFFBQUEsR0FBd0IsSUFBQWpCLG1CQUFNLEVBQzVCLElBQUE3QyxXQUFBLENBQUE4QyxHQUFBLEVBQUNqRCxpQkFBQSxDQUFBYyxPQUFnQjtVQUNmb0MsS0FBSyxFQUFFbEIsU0FBVTtVQUNqQm1CLFdBQVcsRUFBRWQsZUFBZ0I7VUFDN0JlLFVBQVUsRUFBRTFCO1FBQWUsQ0FDNUIsQ0FDSCxDQUFDO1FBTk8yQixXQUFXLEdBQUFZLFFBQUEsQ0FBWFosV0FBVztNQVFuQixJQUFNQyxPQUFPLEdBQUdELFdBQVcsQ0FBQyxVQUFVLENBQUM7TUFHdkMsS0FBSyxJQUFJMUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxFQUFFLEVBQUU7UUFDMUIsSUFBQXVELGdCQUFHLEVBQUMsWUFBTTtVQUNSekMsSUFBSSxDQUFDMEMsbUJBQW1CLENBQUMsR0FBRyxDQUFDO1FBQy9CLENBQUMsQ0FBQztRQUNGVCxzQkFBUyxDQUFDQyxLQUFLLENBQUNMLE9BQU8sQ0FBQztNQUMxQjtNQUVBLE1BQU0sSUFBQWMsb0JBQU8sRUFBQyxZQUFNO1FBQ2xCYixNQUFNLENBQUM3QixjQUFjLENBQUNDLElBQUksQ0FBQyxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztNQUNoRCxDQUFDLENBQUM7TUFFRjVDLElBQUksQ0FBQzZDLGFBQWEsQ0FBQyxDQUFDO0lBQ3RCLENBQUMsRUFBQztFQUNKLENBQUMsQ0FBQztFQUVGdkMsUUFBUSxDQUFDLGtDQUFrQyxFQUFFLFlBQU07SUFDakRlLEVBQUUsQ0FBQywrQ0FBK0MsTUFBQWpELGtCQUFBLENBQUFpQixPQUFBLEVBQUUsYUFBWTtNQUM5RFcsSUFBSSxDQUFDdUMsYUFBYSxDQUFDLENBQUM7TUFFcEIsSUFBTU8sUUFBUSxHQUFHOUMsSUFBSSxDQUFDRyxFQUFFLENBQUMsQ0FBQztNQUcxQixJQUFJNEMsT0FBNEIsR0FBRyxJQUFJO01BQ3ZDOUMsY0FBYyxDQUFDSSxXQUFXLENBQUMyQyxrQkFBa0IsQ0FDM0MsVUFBQ0MsS0FBYSxFQUFFOUMsRUFBYyxFQUFLO1FBQ2pDLElBQUk4QyxLQUFLLEtBQUssZ0JBQWdCLEVBQUU7VUFDOUJGLE9BQU8sR0FBRzVDLEVBQUU7UUFDZDtRQUNBLE9BQU9ILElBQUksQ0FBQ0csRUFBRSxDQUFDLENBQUM7TUFDbEIsQ0FDRixDQUFDO01BRUQsSUFBQStDLFFBQUEsR0FBd0IsSUFBQTNCLG1CQUFNLEVBQzVCLElBQUE3QyxXQUFBLENBQUE4QyxHQUFBLEVBQUNqRCxpQkFBQSxDQUFBYyxPQUFnQjtVQUNmb0MsS0FBSyxFQUFFbEIsU0FBVTtVQUNqQm1CLFdBQVcsRUFBRWQsZUFBZ0I7VUFDN0JlLFVBQVUsRUFBRTFCO1FBQWUsQ0FDNUIsQ0FDSCxDQUFDO1FBTk8yQixXQUFXLEdBQUFzQixRQUFBLENBQVh0QixXQUFXO01BUW5CLElBQU1DLE9BQU8sR0FBR0QsV0FBVyxDQUFDLFVBQVUsQ0FBQztNQUd2Q0ssc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDTCxPQUFPLENBQUM7TUFHeEIsSUFBQVksZ0JBQUcsRUFBQyxZQUFNO1FBQ1J6QyxJQUFJLENBQUMwQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUM7TUFDL0IsQ0FBQyxDQUFDO01BQ0ZULHNCQUFTLENBQUNDLEtBQUssQ0FBQ0wsT0FBTyxDQUFDO01BRXhCLE1BQU0sSUFBQWMsb0JBQU8sRUFBQyxZQUFNO1FBQ2xCYixNQUFNLENBQUM3QixjQUFjLENBQUNDLElBQUksQ0FBQyxDQUFDaUMsb0JBQW9CLENBQUM7VUFDL0NDLElBQUksRUFBRSxnQkFBZ0I7VUFDdEJDLE1BQU0sRUFBRTtRQUNWLENBQUMsQ0FBQztNQUNKLENBQUMsQ0FBQztNQUVGckMsSUFBSSxDQUFDNkMsYUFBYSxDQUFDLENBQUM7SUFDdEIsQ0FBQyxFQUFDO0lBRUZ4QixFQUFFLENBQUMsMkRBQTJELE1BQUFqRCxrQkFBQSxDQUFBaUIsT0FBQSxFQUFFLGFBQVk7TUFDMUVXLElBQUksQ0FBQ3VDLGFBQWEsQ0FBQyxDQUFDO01BRXBCLElBQUFZLFFBQUEsR0FBd0IsSUFBQTVCLG1CQUFNLEVBQzVCLElBQUE3QyxXQUFBLENBQUE4QyxHQUFBLEVBQUNqRCxpQkFBQSxDQUFBYyxPQUFnQjtVQUNmb0MsS0FBSyxFQUFFbEIsU0FBVTtVQUNqQm1CLFdBQVcsRUFBRWQsZUFBZ0I7VUFDN0JlLFVBQVUsRUFBRTFCO1FBQWUsQ0FDNUIsQ0FDSCxDQUFDO1FBTk8yQixXQUFXLEdBQUF1QixRQUFBLENBQVh2QixXQUFXO01BUW5CLElBQU1DLE9BQU8sR0FBR0QsV0FBVyxDQUFDLFVBQVUsQ0FBQztNQUd2Q0ssc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDTCxPQUFPLENBQUM7TUFDeEIsSUFBQVksZ0JBQUcsRUFBQyxZQUFNO1FBQ1J6QyxJQUFJLENBQUMwQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUM7TUFDL0IsQ0FBQyxDQUFDO01BQ0ZULHNCQUFTLENBQUNDLEtBQUssQ0FBQ0wsT0FBTyxDQUFDO01BRXhCLE1BQU0sSUFBQWMsb0JBQU8sRUFBQyxZQUFNO1FBQ2xCYixNQUFNLENBQUM3QixjQUFjLENBQUNDLElBQUksQ0FBQyxDQUFDaUMsb0JBQW9CLENBQzlDTCxNQUFNLENBQUNzQixnQkFBZ0IsQ0FBQztVQUFFaEIsSUFBSSxFQUFFO1FBQWlCLENBQUMsQ0FDcEQsQ0FBQztNQUNILENBQUMsQ0FBQztNQUVGbkMsY0FBYyxDQUFDQyxJQUFJLENBQUNtRCxTQUFTLENBQUMsQ0FBQztNQUcvQixJQUFBWixnQkFBRyxFQUFDLFlBQU07UUFDUnpDLElBQUksQ0FBQzBDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQztNQUMvQixDQUFDLENBQUM7TUFDRlQsc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDTCxPQUFPLENBQUM7TUFDeEIsSUFBQVksZ0JBQUcsRUFBQyxZQUFNO1FBQ1J6QyxJQUFJLENBQUMwQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUM7TUFDL0IsQ0FBQyxDQUFDO01BQ0ZULHNCQUFTLENBQUNDLEtBQUssQ0FBQ0wsT0FBTyxDQUFDO01BRXhCLE1BQU0sSUFBQWMsb0JBQU8sRUFBQyxZQUFNO1FBQ2xCYixNQUFNLENBQUM3QixjQUFjLENBQUNDLElBQUksQ0FBQyxDQUFDaUMsb0JBQW9CLENBQzlDTCxNQUFNLENBQUNzQixnQkFBZ0IsQ0FBQztVQUFFaEIsSUFBSSxFQUFFO1FBQWlCLENBQUMsQ0FDcEQsQ0FBQztNQUNILENBQUMsQ0FBQztNQUVGcEMsSUFBSSxDQUFDNkMsYUFBYSxDQUFDLENBQUM7SUFDdEIsQ0FBQyxFQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZ2QyxRQUFRLENBQUMsdUJBQXVCLEVBQUUsWUFBTTtJQUN0Q2UsRUFBRSxDQUFDLDhDQUE4QyxFQUFFLFlBQU07TUFDdkQsSUFBTWlDLFlBQVksR0FBRztRQUFFOUMsS0FBSyxFQUFFLENBQUM7UUFBRUMsTUFBTSxFQUFFRixTQUFTLENBQUNFO01BQU8sQ0FBQztNQUMzRCxJQUFNOEMsUUFBUSxHQUFHO1FBQUUvQyxLQUFLLEVBQUUsQ0FBQztRQUFFQyxNQUFNLEVBQUVGLFNBQVMsQ0FBQ0U7TUFBTyxDQUFDO01BRXZELElBQUErQyxRQUFBLEdBQXFCLElBQUFqQyxtQkFBTSxFQUN6QixJQUFBN0MsV0FBQSxDQUFBOEMsR0FBQSxFQUFDakQsaUJBQUEsQ0FBQWMsT0FBZ0I7VUFDZm9DLEtBQUssRUFBRTZCLFlBQWE7VUFDcEI1QixXQUFXLEVBQUVkLGVBQWdCO1VBQzdCZSxVQUFVLEVBQUUxQjtRQUFlLENBQzVCLENBQ0gsQ0FBQztRQU5Pd0QsUUFBUSxHQUFBRCxRQUFBLENBQVJDLFFBQVE7TUFTaEJBLFFBQVEsQ0FDTixJQUFBL0UsV0FBQSxDQUFBOEMsR0FBQSxFQUFDakQsaUJBQUEsQ0FBQWMsT0FBZ0I7UUFDZm9DLEtBQUssRUFBRThCLFFBQVM7UUFDaEI3QixXQUFXLEVBQUVkLGVBQWdCO1FBQzdCZSxVQUFVLEVBQUUxQjtNQUFlLENBQzVCLENBQ0gsQ0FBQztNQUdENkIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDNEIsSUFBSSxDQUFDLElBQUksQ0FBQztJQUN6QixDQUFDLENBQUM7SUFFRnJDLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxZQUFNO01BQzFDLElBQUFzQyxRQUFBLEdBQXdCLElBQUFwQyxtQkFBTSxFQUM1QixJQUFBN0MsV0FBQSxDQUFBOEMsR0FBQSxFQUFDakQsaUJBQUEsQ0FBQWMsT0FBZ0I7VUFDZm9DLEtBQUssRUFBRWxCLFNBQVU7VUFDakJtQixXQUFXLEVBQUVkLGVBQWdCO1VBQzdCZSxVQUFVLEVBQUUxQjtRQUFlLENBQzVCLENBQ0gsQ0FBQztRQU5PMkIsV0FBVyxHQUFBK0IsUUFBQSxDQUFYL0IsV0FBVztNQVFuQixJQUFNQyxPQUFPLEdBQUdELFdBQVcsQ0FBQyxVQUFVLENBQUM7TUFDdkNLLHNCQUFTLENBQUNDLEtBQUssQ0FBQ0wsT0FBTyxDQUFDO01BR3hCQyxNQUFNLENBQUNELE9BQU8sQ0FBQyxDQUFDRSxVQUFVLENBQUMsQ0FBQztJQUM5QixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRnpCLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxZQUFNO0lBQ2xDZSxFQUFFLENBQUMsMkNBQTJDLEVBQUUsWUFBTTtNQUNwRCxJQUFBdUMsUUFBQSxHQUFzQixJQUFBckMsbUJBQU0sRUFDMUIsSUFBQTdDLFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2pELGlCQUFBLENBQUFjLE9BQWdCO1VBQ2ZvQyxLQUFLLEVBQUVsQixTQUFVO1VBQ2pCbUIsV0FBVyxFQUFFZCxlQUFnQjtVQUM3QmUsVUFBVSxFQUFFMUI7UUFBZSxDQUM1QixDQUNILENBQUM7UUFOTzRELFNBQVMsR0FBQUQsUUFBQSxDQUFUQyxTQUFTO01BU2pCLElBQU1DLE1BQU0sR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO01BQzlCQSxNQUFNLENBQUNDLE9BQU8sQ0FBQyxVQUFDQyxLQUFLLEVBQUs7UUFDeEJsQyxNQUFNLENBQUMrQixTQUFTLENBQUNHLEtBQUssQ0FBQyxDQUFDLENBQUNqQyxVQUFVLENBQUMsQ0FBQztNQUN2QyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7SUFFRlYsRUFBRSxDQUFDLG9DQUFvQyxFQUFFLFlBQU07TUFDN0MsSUFBTTRDLFdBQVcsR0FBRztRQUNsQnpELEtBQUssRUFBRSxDQUFDO1FBQ1JDLE1BQU0sRUFBRSxDQUFDO1VBQUVDLEdBQUcsRUFBRSxTQUFTO1VBQUVDLElBQUksRUFBRTtRQUFRLENBQUM7TUFDNUMsQ0FBQztNQUVELElBQU11RCxpQkFBaUIsR0FBRztRQUN4QixTQUFTLEVBQUU7VUFBRXJELE9BQU8sRUFBRTtZQUFFQyxLQUFLLEVBQUU7VUFBUTtRQUFFO01BQzNDLENBQUM7TUFFRCxJQUFBcUQsUUFBQSxHQUEwQixJQUFBNUMsbUJBQU0sRUFDOUIsSUFBQTdDLFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2pELGlCQUFBLENBQUFjLE9BQWdCO1VBQ2ZvQyxLQUFLLEVBQUV3QyxXQUFZO1VBQ25CdkMsV0FBVyxFQUFFd0MsaUJBQWtCO1VBQy9CdkMsVUFBVSxFQUFFMUI7UUFBZSxDQUM1QixDQUNILENBQUM7UUFOT21FLGFBQWEsR0FBQUQsUUFBQSxDQUFiQyxhQUFhO01BU3JCdEMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDNEIsSUFBSSxDQUFDLElBQUksQ0FBQztJQUN6QixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRnBELFFBQVEsQ0FBQywrQkFBK0IsRUFBRSxZQUFNO0lBQzlDZSxFQUFFLENBQUMseUNBQXlDLEVBQUUsWUFBTTtNQUNsRCxJQUFNNkMsaUJBQWlCLEdBQUc7UUFDeEIsUUFBUSxFQUFFO1VBQUVyRCxPQUFPLEVBQUU7WUFBRUMsS0FBSyxFQUFFO1VBQU87UUFBRTtNQUN6QyxDQUFDO01BRURnQixNQUFNLENBQUMsWUFBTTtRQUNYLElBQUFQLG1CQUFNLEVBQ0osSUFBQTdDLFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2pELGlCQUFBLENBQUFjLE9BQWdCO1VBQ2ZvQyxLQUFLLEVBQUVsQixTQUFVO1VBQ2pCbUIsV0FBVyxFQUFFd0MsaUJBQWtCO1VBQy9CdkMsVUFBVSxFQUFFMUI7UUFBZSxDQUM1QixDQUNILENBQUM7TUFDSCxDQUFDLENBQUMsQ0FBQ29FLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7SUFDbEIsQ0FBQyxDQUFDO0lBRUZqRCxFQUFFLENBQUMscUNBQXFDLEVBQUUsWUFBTTtNQUM5QyxJQUFNa0QsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO01BRTNCekMsTUFBTSxDQUFDLFlBQU07UUFDWCxJQUFBUCxtQkFBTSxFQUNKLElBQUE3QyxXQUFBLENBQUE4QyxHQUFBLEVBQUNqRCxpQkFBQSxDQUFBYyxPQUFnQjtVQUNmb0MsS0FBSyxFQUFFbEIsU0FBVTtVQUNqQm1CLFdBQVcsRUFBRTZDLGdCQUFpQjtVQUM5QjVDLFVBQVUsRUFBRTFCO1FBQWUsQ0FDNUIsQ0FDSCxDQUFDO01BQ0gsQ0FBQyxDQUFDLENBQUNvRSxHQUFHLENBQUNDLE9BQU8sQ0FBQyxDQUFDO0lBQ2xCLENBQUMsQ0FBQztJQUVGakQsRUFBRSxDQUFDLGdEQUFnRCxFQUFFLFlBQU07TUFDekQsSUFBTW1ELE1BQU0sR0FBRyxDQUNiO1FBQUVoRSxLQUFLLEVBQUUsQ0FBQztRQUFFQyxNQUFNLEVBQUVGLFNBQVMsQ0FBQ0U7TUFBTyxDQUFDLEVBQ3RDO1FBQUVELEtBQUssRUFBRSxDQUFDO1FBQUVDLE1BQU0sRUFBRUYsU0FBUyxDQUFDRTtNQUFPLENBQUMsRUFDdEM7UUFBRUQsS0FBSyxFQUFFLENBQUM7UUFBRUMsTUFBTSxFQUFFRixTQUFTLENBQUNFO01BQU8sQ0FBQyxFQUN0QztRQUFFRCxLQUFLLEVBQUUsQ0FBQztRQUFFQyxNQUFNLEVBQUVGLFNBQVMsQ0FBQ0U7TUFBTyxDQUFDLENBQ3ZDO01BRUQsSUFBQWdFLFFBQUEsR0FBcUIsSUFBQWxELG1CQUFNLEVBQ3pCLElBQUE3QyxXQUFBLENBQUE4QyxHQUFBLEVBQUNqRCxpQkFBQSxDQUFBYyxPQUFnQjtVQUNmb0MsS0FBSyxFQUFFK0MsTUFBTSxDQUFDLENBQUMsQ0FBRTtVQUNqQjlDLFdBQVcsRUFBRWQsZUFBZ0I7VUFDN0JlLFVBQVUsRUFBRTFCO1FBQWUsQ0FDNUIsQ0FDSCxDQUFDO1FBTk93RCxRQUFRLEdBQUFnQixRQUFBLENBQVJoQixRQUFRO01BUWhCZSxNQUFNLENBQUNULE9BQU8sQ0FBQyxVQUFDdEMsS0FBSyxFQUFLO1FBQ3hCZ0MsUUFBUSxDQUNOLElBQUEvRSxXQUFBLENBQUE4QyxHQUFBLEVBQUNqRCxpQkFBQSxDQUFBYyxPQUFnQjtVQUNmb0MsS0FBSyxFQUFFQSxLQUFNO1VBQ2JDLFdBQVcsRUFBRWQsZUFBZ0I7VUFDN0JlLFVBQVUsRUFBRTFCO1FBQWUsQ0FDNUIsQ0FDSCxDQUFDO01BQ0gsQ0FBQyxDQUFDO01BR0Y2QixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM0QixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3pCLENBQUMsQ0FBQztJQUVGckMsRUFBRSxDQUFDLG1EQUFtRCxNQUFBakQsa0JBQUEsQ0FBQWlCLE9BQUEsRUFBRSxhQUFZO01BQ2pFYixPQUFPLENBQUN5QyxXQUFXLENBQWV5RCxpQkFBaUIsQ0FDbEQsSUFBSUMsS0FBSyxDQUFDLHFCQUFxQixDQUNqQyxDQUFDO01BRUQsSUFBQUMsUUFBQSxHQUF3QixJQUFBckQsbUJBQU0sRUFDNUIsSUFBQTdDLFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2pELGlCQUFBLENBQUFjLE9BQWdCO1VBQ2ZvQyxLQUFLLEVBQUVsQixTQUFVO1VBQ2pCbUIsV0FBVyxFQUFFZCxlQUFnQjtVQUM3QmUsVUFBVSxFQUFFMUI7UUFBZSxDQUM1QixDQUNILENBQUM7UUFOTzJCLFdBQVcsR0FBQWdELFFBQUEsQ0FBWGhELFdBQVc7TUFRbkIsSUFBTUMsT0FBTyxHQUFHRCxXQUFXLENBQUMsVUFBVSxDQUFDO01BRXZDRSxNQUFNLENBQUMsWUFBTTtRQUNYRyxzQkFBUyxDQUFDQyxLQUFLLENBQUNMLE9BQU8sQ0FBQztNQUMxQixDQUFDLENBQUMsQ0FBQ3dDLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7TUFFaEIsTUFBTSxJQUFBM0Isb0JBQU8sRUFBQyxZQUFNO1FBQ2xCYixNQUFNLENBQUM3QixjQUFjLENBQUNDLElBQUksQ0FBQyxDQUFDMEMsZ0JBQWdCLENBQUMsQ0FBQztNQUNoRCxDQUFDLENBQUM7SUFDSixDQUFDLEVBQUM7RUFDSixDQUFDLENBQUM7RUFFRnRDLFFBQVEsQ0FBQywyQkFBMkIsRUFBRSxZQUFNO0lBQzFDZSxFQUFFLENBQUMsaURBQWlELEVBQUUsWUFBTTtNQUMxRCxJQUFBd0QsUUFBQSxHQUF3QixJQUFBdEQsbUJBQU0sRUFDNUIsSUFBQTdDLFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2pELGlCQUFBLENBQUFjLE9BQWdCO1VBQ2ZvQyxLQUFLLEVBQUVsQixTQUFVO1VBQ2pCbUIsV0FBVyxFQUFFZCxlQUFnQjtVQUM3QmUsVUFBVSxFQUFFMUI7UUFBZSxDQUM1QixDQUNILENBQUM7UUFOTzJCLFdBQVcsR0FBQWlELFFBQUEsQ0FBWGpELFdBQVc7TUFRbkIsSUFBTUMsT0FBTyxHQUFHRCxXQUFXLENBQUMsVUFBVSxDQUFDO01BQ3ZDRSxNQUFNLENBQUNELE9BQU8sQ0FBQ2lELEtBQUssQ0FBQ0MsaUJBQWlCLENBQUMsQ0FBQ3JCLElBQUksQ0FBQyxLQUFLLENBQUM7TUFDbkQ1QixNQUFNLENBQUNELE9BQU8sQ0FBQ2lELEtBQUssQ0FBQ0Usa0JBQWtCLENBQUNDLFFBQVEsQ0FBQyxDQUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQztJQUM5RCxDQUFDLENBQUM7SUFFRnJDLEVBQUUsQ0FBQyxvREFBb0QsRUFBRSxZQUFNO01BQzdELElBQU1pQyxZQUFZLEdBQUc7UUFBRTlDLEtBQUssRUFBRSxDQUFDO1FBQUVDLE1BQU0sRUFBRUYsU0FBUyxDQUFDRTtNQUFPLENBQUM7TUFDM0QsSUFBTThDLFFBQVEsR0FBRztRQUFFL0MsS0FBSyxFQUFFLENBQUM7UUFBRUMsTUFBTSxFQUFFRixTQUFTLENBQUNFO01BQU8sQ0FBQztNQUV2RCxJQUFBeUUsU0FBQSxHQUFrQyxJQUFBM0QsbUJBQU0sRUFDdEMsSUFBQTdDLFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2pELGlCQUFBLENBQUFjLE9BQWdCO1VBQ2ZvQyxLQUFLLEVBQUU2QixZQUFhO1VBQ3BCNUIsV0FBVyxFQUFFZCxlQUFnQjtVQUM3QmUsVUFBVSxFQUFFMUI7UUFBZSxDQUM1QixDQUNILENBQUM7UUFOT3dELFFBQVEsR0FBQXlCLFNBQUEsQ0FBUnpCLFFBQVE7UUFBRTdCLFdBQVcsR0FBQXNELFNBQUEsQ0FBWHRELFdBQVc7TUFRN0I2QixRQUFRLENBQ04sSUFBQS9FLFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2pELGlCQUFBLENBQUFjLE9BQWdCO1FBQ2ZvQyxLQUFLLEVBQUU4QixRQUFTO1FBQ2hCN0IsV0FBVyxFQUFFZCxlQUFnQjtRQUM3QmUsVUFBVSxFQUFFMUI7TUFBZSxDQUM1QixDQUNILENBQUM7TUFFRCxJQUFNK0IsUUFBUSxHQUFHSixXQUFXLENBQUMsV0FBVyxDQUFDO01BQ3pDRSxNQUFNLENBQUNFLFFBQVEsQ0FBQzhDLEtBQUssQ0FBQ0Usa0JBQWtCLENBQUNDLFFBQVEsQ0FBQyxDQUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQztJQUMvRCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRnBELFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxZQUFNO0lBQ2xDZSxFQUFFLENBQUMsNENBQTRDLEVBQUUsWUFBTTtNQUNyRCxJQUFBOEQsU0FBQSxHQUFzQixJQUFBNUQsbUJBQU0sRUFDMUIsSUFBQTdDLFdBQUEsQ0FBQThDLEdBQUEsRUFBQ2pELGlCQUFBLENBQUFjLE9BQWdCO1VBQ2ZvQyxLQUFLLEVBQUVsQixTQUFVO1VBQ2pCbUIsV0FBVyxFQUFFZCxlQUFnQjtVQUM3QmUsVUFBVSxFQUFFMUI7UUFBZSxDQUM1QixDQUNILENBQUM7UUFOT21GLFNBQVMsR0FBQUQsU0FBQSxDQUFUQyxTQUFTO01BUWpCdEQsTUFBTSxDQUFDc0QsU0FBUyxDQUFDLENBQUNyRCxVQUFVLENBQUMsQ0FBQztJQUNoQyxDQUFDLENBQUM7SUFFRlYsRUFBRSxDQUFDLDJDQUEyQyxFQUFFLFlBQU07TUFDcEQsSUFBQWdFLFNBQUEsR0FBc0IsSUFBQTlELG1CQUFNLEVBQzFCLElBQUE3QyxXQUFBLENBQUE4QyxHQUFBLEVBQUNqRCxpQkFBQSxDQUFBYyxPQUFnQjtVQUNmb0MsS0FBSyxFQUFFbEIsU0FBVTtVQUNqQm1CLFdBQVcsRUFBRWQsZUFBZ0I7VUFDN0JlLFVBQVUsRUFBRTFCO1FBQWUsQ0FDNUIsQ0FDSCxDQUFDO1FBTk9tRixTQUFTLEdBQUFDLFNBQUEsQ0FBVEQsU0FBUztNQVFqQnRELE1BQU0sQ0FBQ3NELFNBQVMsQ0FBQyxDQUFDckQsVUFBVSxDQUFDLENBQUM7SUFDaEMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119