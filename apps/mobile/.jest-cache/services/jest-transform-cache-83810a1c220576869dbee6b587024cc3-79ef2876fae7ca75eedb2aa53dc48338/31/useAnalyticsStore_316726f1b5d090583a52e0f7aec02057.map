{"version":3,"names":["_interopRequireDefault","require","_defineProperty2","_asyncToGenerator2","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","default","getOwnPropertyDescriptors","defineProperties","defineProperty","exports","value","_useAnalyticsStore","zustand_1","client_1","create","set","get","userAnalytics","petAnalytics","matchAnalytics","isLoading","error","fetchUserAnalytics","_fetchUserAnalytics","analyticsData","id","timestamp","Date","toISOString","data","views","matches","likes","Promise","resolve","_unused","trackUserEvent","_trackUserEvent","eventType","metadata","apiClient","post","_get","_unused2","_x","_x2","fetchPetAnalytics","_fetchPetAnalytics","petId","petData","superlikes","_unused3","_x3","trackPetEvent","_trackPetEvent","_get2","_unused4","_x4","_x5","_x6","fetchMatchAnalytics","_fetchMatchAnalytics","matchId","matchData","messageCount","responseTime","lastActivity","_unused5","_x7","trackMatchEvent","_trackMatchEvent","_get3","_unused6","_x8","_x9","_x0"],"sources":["useAnalyticsStore.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._useAnalyticsStore = void 0;\nconst zustand_1 = require(\"zustand\");\nconst client_1 = require(\"../api/client\");\nexports._useAnalyticsStore = (0, zustand_1.create)()((set, get) => ({\n    userAnalytics: null,\n    petAnalytics: {},\n    matchAnalytics: {},\n    isLoading: false,\n    error: null,\n    // User analytics\n    fetchUserAnalytics: async () => {\n        set({ isLoading: true, error: null });\n        try {\n            // Mock analytics data since the API call doesn't return proper data\n            const analyticsData = {\n                id: 'user-analytics-id',\n                timestamp: new Date().toISOString(),\n                data: { views: 123, matches: 45, likes: 67 }\n            };\n            await Promise.resolve();\n            set({ userAnalytics: analyticsData, isLoading: false });\n        }\n        catch {\n            set({ error: 'Failed to fetch user analytics', isLoading: false });\n        }\n    },\n    trackUserEvent: async (eventType, metadata) => {\n        try {\n            await client_1.apiClient.post('/analytics/user', { eventType, metadata });\n            // Refresh user analytics after tracking event\n            const { fetchUserAnalytics } = get();\n            await fetchUserAnalytics();\n        }\n        catch {\n            set({ error: 'Failed to track user event' });\n        }\n    },\n    // Pet analytics\n    fetchPetAnalytics: async (petId) => {\n        set({ isLoading: true, error: null });\n        try {\n            // Mock analytics data since the API call doesn't return proper data\n            const petData = {\n                id: `pet-analytics-${petId}`,\n                timestamp: new Date().toISOString(),\n                data: { views: 89, likes: 34, superlikes: 12 }\n            };\n            await Promise.resolve();\n            set({\n                petAnalytics: {\n                    ...get().petAnalytics,\n                    [petId]: petData\n                },\n                isLoading: false\n            });\n        }\n        catch {\n            set({ error: `Failed to fetch pet analytics for ${petId}`, isLoading: false });\n        }\n    },\n    trackPetEvent: async (petId, eventType, metadata) => {\n        try {\n            await client_1.apiClient.post('/analytics/pet', { petId, eventType, metadata });\n            // Refresh pet analytics after tracking event\n            const { fetchPetAnalytics } = get();\n            await fetchPetAnalytics(petId);\n        }\n        catch {\n            set({ error: `Failed to track pet event for ${petId}` });\n        }\n    },\n    // Match analytics\n    fetchMatchAnalytics: async (matchId) => {\n        set({ isLoading: true, error: null });\n        try {\n            // Mock analytics data since the API call doesn't return proper data\n            const matchData = {\n                id: `match-analytics-${matchId}`,\n                timestamp: new Date().toISOString(),\n                data: { messageCount: 42, responseTime: 15, lastActivity: new Date().toISOString() }\n            };\n            await Promise.resolve();\n            set({\n                matchAnalytics: {\n                    ...get().matchAnalytics,\n                    [matchId]: matchData\n                },\n                isLoading: false\n            });\n        }\n        catch {\n            set({ error: `Failed to fetch match analytics for ${matchId}`, isLoading: false });\n        }\n    },\n    trackMatchEvent: async (matchId, eventType, metadata) => {\n        try {\n            await client_1.apiClient.post('/analytics/match', { matchId, eventType, metadata });\n            // Refresh match analytics after tracking event\n            const { fetchMatchAnalytics } = get();\n            await fetchMatchAnalytics(matchId);\n        }\n        catch {\n            set({ error: `Failed to track match event for ${matchId}` });\n        }\n    },\n}));\n"],"mappings":"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","ignoreList":[]}