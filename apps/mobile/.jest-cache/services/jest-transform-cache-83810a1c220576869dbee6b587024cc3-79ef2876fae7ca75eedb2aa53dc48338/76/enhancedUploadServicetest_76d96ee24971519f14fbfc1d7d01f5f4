4a3969bf44fcacf832b8a10b13191c82
"use strict";

_getJestObj().mock("../uploadHygiene", function () {
  return {
    processImageForUpload: _globals.jest.fn(),
    checkUploadQuota: _globals.jest.fn(),
    uploadWithRetry: _globals.jest.fn(),
    pickAndProcessImage: _globals.jest.fn(),
    captureAndProcessImage: _globals.jest.fn()
  };
});
_getJestObj().mock("../api", function () {
  return {
    api: {
      presignPhoto: _globals.jest.fn()
    },
    request: _globals.jest.fn()
  };
});
_getJestObj().mock('expo-file-system', function () {
  return {
    EncodingType: {
      Base64: 'base64',
      UTF8: 'utf8'
    },
    readAsStringAsync: _globals.jest.fn()
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _globals = require("@jest/globals");
var FileSystem = _interopRequireWildcard(require("expo-file-system"));
var _enhancedUploadService = require("../enhancedUploadService");
var _uploadHygiene = require("../uploadHygiene");
var _api = require("../api");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockApi = _api.api;
var mockRequest = _api.request;
var mockProcessImageForUpload = _uploadHygiene.processImageForUpload;
var mockCheckUploadQuota = _uploadHygiene.checkUploadQuota;
var mockUploadWithRetry = _uploadHygiene.uploadWithRetry;
var mockPickAndProcessImage = _uploadHygiene.pickAndProcessImage;
var mockCaptureAndProcessImage = _uploadHygiene.captureAndProcessImage;
var mockFileSystem = FileSystem;
var mockFetch = _globals.jest.fn();
global.fetch = mockFetch;
(0, _globals.describe)('EnhancedUploadService', function () {
  var service;
  var mockProcessedImage;
  var mockProgressCallback;
  (0, _globals.beforeEach)(function () {
    _globals.jest.clearAllMocks();
    _enhancedUploadService.EnhancedUploadService.instance = undefined;
    service = _enhancedUploadService.EnhancedUploadService.getInstance();
    mockProcessedImage = {
      uri: 'file://test-image.jpg',
      width: 1024,
      height: 768,
      fileSize: 256000,
      mimeType: 'image/jpeg',
      metadata: {
        originalWidth: 2048,
        originalHeight: 1536,
        orientationFixed: true,
        exifStripped: true
      }
    };
    mockProgressCallback = _globals.jest.fn();
    mockApi.presignPhoto.mockResolvedValue({
      key: 'test-key-123',
      url: 'https://s3.amazonaws.com/test-bucket/test-key-123'
    });
    mockFetch.mockResolvedValue({
      ok: true
    });
    mockRequest.mockResolvedValue({
      data: {
        upload: {
          _id: 'upload-123',
          s3Key: 'test-key-123',
          url: 'https://cdn.example.com/test-key-123',
          status: 'pending'
        }
      }
    });
    mockFileSystem.readAsStringAsync.mockResolvedValue('base64data');
  });
  (0, _globals.afterEach)(function () {
    _globals.jest.clearAllTimers();
  });
  (0, _globals.describe)('Singleton Pattern', function () {
    (0, _globals.it)('should return the same instance', function () {
      var instance1 = _enhancedUploadService.EnhancedUploadService.getInstance();
      var instance2 = _enhancedUploadService.EnhancedUploadService.getInstance();
      (0, _globals.expect)(instance1).toBe(instance2);
      (0, _globals.expect)(instance1).toBe(service);
    });
    (0, _globals.it)('should maintain state across calls', function () {
      (0, _globals.expect)(service).toBeDefined();
    });
  });
  (0, _globals.describe)('uploadProcessedImage', function () {
    (0, _globals.it)('should complete full upload pipeline successfully', (0, _asyncToGenerator2.default)(function* () {
      var result = yield service.uploadProcessedImage(mockProcessedImage, 'pet', 'pet-123', mockProgressCallback);
      (0, _globals.expect)(result).toEqual({
        uploadId: 'upload-123',
        s3Key: 'test-key-123',
        url: 'https://cdn.example.com/test-key-123',
        status: 'pending',
        analysis: undefined
      });
      (0, _globals.expect)(mockProgressCallback).toHaveBeenCalledWith({
        phase: 'presign',
        percent: 10,
        message: 'Requesting upload URL...'
      });
      (0, _globals.expect)(mockProgressCallback).toHaveBeenCalledWith({
        phase: 'upload',
        percent: 30,
        message: 'Uploading to secure storage...'
      });
      (0, _globals.expect)(mockProgressCallback).toHaveBeenCalledWith({
        phase: 'register',
        percent: 60,
        message: 'Registering upload...'
      });
      (0, _globals.expect)(mockProgressCallback).toHaveBeenCalledWith({
        phase: 'analyze',
        percent: 80,
        message: 'Analyzing photo...'
      });
      (0, _globals.expect)(mockProgressCallback).toHaveBeenCalledWith({
        phase: 'pending',
        percent: 90,
        message: 'Awaiting moderation...'
      });
    }));
    (0, _globals.it)('should handle different upload types', (0, _asyncToGenerator2.default)(function* () {
      var types = ['profile', 'pet', 'verification'];
      for (var type of types) {
        mockRequest.mockResolvedValueOnce({
          data: {
            upload: {
              _id: `upload-${type}`,
              s3Key: `key-${type}`,
              url: `url-${type}`,
              status: 'pending'
            }
          }
        });
        var result = yield service.uploadProcessedImage(mockProcessedImage, type);
        (0, _globals.expect)(mockRequest).toHaveBeenCalledWith('/uploads', {
          method: 'POST',
          body: _globals.expect.objectContaining({
            type: type
          })
        });
        (0, _globals.expect)(result.uploadId).toBe(`upload-${type}`);
      }
    }));
    (0, _globals.it)('should work without progress callback', (0, _asyncToGenerator2.default)(function* () {
      var result = yield service.uploadProcessedImage(mockProcessedImage);
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(mockProgressCallback).not.toHaveBeenCalled();
    }));
    (0, _globals.it)('should handle presign failure', (0, _asyncToGenerator2.default)(function* () {
      mockApi.presignPhoto.mockRejectedValue(new Error('Presign failed'));
      yield (0, _globals.expect)(service.uploadProcessedImage(mockProcessedImage)).rejects.toThrow('Presign failed');
    }));
    (0, _globals.it)('should handle S3 upload failure', (0, _asyncToGenerator2.default)(function* () {
      mockFetch.mockResolvedValueOnce({
        ok: false,
        status: 403,
        statusText: 'Forbidden'
      });
      yield (0, _globals.expect)(service.uploadProcessedImage(mockProcessedImage)).rejects.toThrow('S3 upload failed');
    }));
    (0, _globals.it)('should handle registration failure', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockRejectedValue(new Error('Registration failed'));
      yield (0, _globals.expect)(service.uploadProcessedImage(mockProcessedImage)).rejects.toThrow('Registration failed');
    }));
    (0, _globals.it)('should handle file URI to blob conversion', (0, _asyncToGenerator2.default)(function* () {
      yield service.uploadProcessedImage(mockProcessedImage);
      (0, _globals.expect)(mockFileSystem.readAsStringAsync).toHaveBeenCalledWith(mockProcessedImage.uri, {
        encoding: FileSystem.EncodingType.Base64
      });
      (0, _globals.expect)(mockFetch).toHaveBeenCalledWith(_globals.expect.any(String), _globals.expect.objectContaining({
        method: 'PUT',
        body: _globals.expect.any(Blob)
      }));
    }));
    (0, _globals.it)('should handle missing optional fields in response', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockResolvedValue({
        data: {
          upload: {
            status: 'approved'
          }
        }
      });
      var result = yield service.uploadProcessedImage(mockProcessedImage);
      (0, _globals.expect)(result).toEqual({
        uploadId: '',
        s3Key: 'test-key-123',
        url: _globals.expect.stringContaining('s3.amazonaws.com'),
        status: 'approved',
        analysis: undefined
      });
    }));
    (0, _globals.it)('should handle large file uploads', (0, _asyncToGenerator2.default)(function* () {
      var largeImage = _objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        fileSize: 10 * 1024 * 1024
      });
      var result = yield service.uploadProcessedImage(largeImage);
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(mockFetch).toHaveBeenCalled();
    }));
  });
  (0, _globals.describe)('uploadFromPicker', function () {
    (0, _globals.it)('should complete full pipeline from picker', (0, _asyncToGenerator2.default)(function* () {
      mockCheckUploadQuota.mockResolvedValue({
        allowed: true,
        remaining: 5,
        resetAt: new Date(),
        limit: 10
      });
      mockPickAndProcessImage.mockResolvedValue(mockProcessedImage);
      var result = yield service.uploadFromPicker({
        type: 'profile',
        petId: 'pet-456',
        allowEditing: false,
        useCamera: false
      }, mockProgressCallback);
      (0, _globals.expect)(mockCheckUploadQuota).toHaveBeenCalledWith('current-user-id');
      (0, _globals.expect)(mockPickAndProcessImage).toHaveBeenCalledWith(false, {
        maxDimension: 2048,
        quality: 0.9
      });
      (0, _globals.expect)(result).toBeDefined();
    }));
    (0, _globals.it)('should use camera when specified', (0, _asyncToGenerator2.default)(function* () {
      mockCheckUploadQuota.mockResolvedValue({
        allowed: true,
        remaining: 5,
        resetAt: new Date(),
        limit: 10
      });
      mockCaptureAndProcessImage.mockResolvedValue(mockProcessedImage);
      yield service.uploadFromPicker({
        useCamera: true
      });
      (0, _globals.expect)(mockCaptureAndProcessImage).toHaveBeenCalledWith({
        maxDimension: 2048,
        quality: 0.9
      });
      (0, _globals.expect)(mockPickAndProcessImage).not.toHaveBeenCalled();
    }));
    (0, _globals.it)('should handle quota exceeded', (0, _asyncToGenerator2.default)(function* () {
      mockCheckUploadQuota.mockResolvedValue({
        allowed: false,
        remaining: 0,
        resetAt: new Date(),
        limit: 10
      });
      yield (0, _globals.expect)(service.uploadFromPicker()).rejects.toThrow('Upload quota exceeded');
    }));
    (0, _globals.it)('should handle image picker cancellation', (0, _asyncToGenerator2.default)(function* () {
      mockCheckUploadQuota.mockResolvedValue({
        allowed: true,
        remaining: 5,
        resetAt: new Date(),
        limit: 10
      });
      mockPickAndProcessImage.mockResolvedValue(null);
      yield (0, _globals.expect)(service.uploadFromPicker()).rejects.toThrow('No image selected');
    }));
    (0, _globals.it)('should use default options when not provided', (0, _asyncToGenerator2.default)(function* () {
      mockCheckUploadQuota.mockResolvedValue({
        allowed: true,
        remaining: 5,
        resetAt: new Date(),
        limit: 10
      });
      mockPickAndProcessImage.mockResolvedValue(mockProcessedImage);
      yield service.uploadFromPicker();
      (0, _globals.expect)(mockPickAndProcessImage).toHaveBeenCalledWith(true, {
        maxDimension: 2048,
        quality: 0.9
      });
    }));
    (0, _globals.it)('should handle quota check failure', (0, _asyncToGenerator2.default)(function* () {
      mockCheckUploadQuota.mockRejectedValue(new Error('Quota service unavailable'));
      yield (0, _globals.expect)(service.uploadFromPicker()).rejects.toThrow('Quota service unavailable');
    }));
  });
  (0, _globals.describe)('pollUploadStatus', function () {
    (0, _globals.it)('should poll until approved status', (0, _asyncToGenerator2.default)(function* () {
      var approvedResponse = {
        data: {
          upload: {
            s3Key: 'approved-key',
            url: 'approved-url',
            status: 'approved'
          },
          analysis: {
            safety: 'safe',
            labels: ['dog']
          }
        }
      };
      mockRequest.mockResolvedValue(approvedResponse);
      var result = yield service.pollUploadStatus('upload-123', 5, 100);
      (0, _globals.expect)(result).toEqual({
        uploadId: 'upload-123',
        s3Key: 'approved-key',
        url: 'approved-url',
        status: 'approved',
        analysis: approvedResponse.data.analysis
      });
      (0, _globals.expect)(mockRequest).toHaveBeenCalledTimes(1);
    }));
    (0, _globals.it)('should handle rejected status', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockResolvedValue({
        data: {
          upload: {
            status: 'rejected',
            flagReason: 'Inappropriate content'
          }
        }
      });
      yield (0, _globals.expect)(service.pollUploadStatus('upload-123')).rejects.toThrow('Upload rejected: Inappropriate content');
    }));
    (0, _globals.it)('should poll multiple times for pending status', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockResolvedValueOnce({
        data: {
          upload: {
            status: 'pending'
          }
        }
      });
      mockRequest.mockResolvedValueOnce({
        data: {
          upload: {
            status: 'analyzing'
          }
        }
      });
      mockRequest.mockResolvedValueOnce({
        data: {
          upload: {
            s3Key: 'final-key',
            url: 'final-url',
            status: 'approved'
          }
        }
      });
      var result = yield service.pollUploadStatus('upload-123', 5, 10);
      (0, _globals.expect)(result.status).toBe('approved');
      (0, _globals.expect)(mockRequest).toHaveBeenCalledTimes(3);
    }), 10000);
    (0, _globals.it)('should timeout after max attempts', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockResolvedValue({
        data: {
          upload: {
            status: 'pending'
          }
        }
      });
      yield (0, _globals.expect)(service.pollUploadStatus('upload-123', 3, 10)).rejects.toThrow('Upload status polling timeout');
      (0, _globals.expect)(mockRequest).toHaveBeenCalledTimes(3);
    }), 10000);
    (0, _globals.it)('should handle API errors during polling', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockRejectedValueOnce(new Error('Network error'));
      mockRequest.mockResolvedValueOnce({
        data: {
          upload: {
            status: 'approved'
          }
        }
      });
      var result = yield service.pollUploadStatus('upload-123', 3, 10);
      (0, _globals.expect)(result.status).toBe('approved');
    }));
    (0, _globals.it)('should use default polling parameters', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockResolvedValue({
        data: {
          upload: {
            status: 'approved'
          }
        }
      });
      yield service.pollUploadStatus('upload-123');
      (0, _globals.expect)(mockRequest).toHaveBeenCalledWith('/uploads/upload-123', {
        method: 'GET'
      });
    }));
  });
  (0, _globals.describe)('uploadBatch', function () {
    (0, _globals.it)('should upload multiple images successfully', (0, _asyncToGenerator2.default)(function* () {
      var images = [_objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        uri: 'image1.jpg'
      }), _objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        uri: 'image2.jpg'
      }), _objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        uri: 'image3.jpg'
      })];
      var mockProgressCallback = _globals.jest.fn();
      var results = yield service.uploadBatch(images, 'pet', 'pet-123', mockProgressCallback);
      (0, _globals.expect)(results).toHaveLength(3);
      (0, _globals.expect)(mockProgressCallback).toHaveBeenCalledTimes(3);
      (0, _globals.expect)(mockProgressCallback).toHaveBeenCalledWith(0, {
        phase: 'presign',
        percent: 0,
        message: 'Processing photo 1/3'
      });
      (0, _globals.expect)(mockProgressCallback).toHaveBeenCalledWith(1, {
        phase: 'presign',
        percent: 0,
        message: 'Processing photo 2/3'
      });
      (0, _globals.expect)(mockProgressCallback).toHaveBeenCalledWith(2, {
        phase: 'presign',
        percent: 0,
        message: 'Processing photo 3/3'
      });
    }));
    (0, _globals.it)('should handle partial failures in batch upload', (0, _asyncToGenerator2.default)(function* () {
      var images = [mockProcessedImage, _objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        uri: 'fail-image.jpg'
      }), mockProcessedImage];
      mockFetch.mockResolvedValueOnce({
        ok: true
      });
      mockRequest.mockResolvedValueOnce({
        data: {
          upload: {
            _id: 'upload1'
          }
        }
      });
      mockFetch.mockResolvedValueOnce({
        ok: false
      });
      mockFetch.mockResolvedValueOnce({
        ok: true
      });
      mockRequest.mockResolvedValueOnce({
        data: {
          upload: {
            _id: 'upload3'
          }
        }
      });
      var results = yield service.uploadBatch(images);
      (0, _globals.expect)(results).toHaveLength(2);
      (0, _globals.expect)(results[0].uploadId).toBe('upload1');
      (0, _globals.expect)(results[1].uploadId).toBe('upload3');
    }));
    (0, _globals.it)('should work without progress callback', (0, _asyncToGenerator2.default)(function* () {
      var images = [mockProcessedImage];
      var results = yield service.uploadBatch(images);
      (0, _globals.expect)(results).toHaveLength(1);
    }));
    (0, _globals.it)('should handle empty batch', (0, _asyncToGenerator2.default)(function* () {
      var results = yield service.uploadBatch([]);
      (0, _globals.expect)(results).toEqual([]);
    }));
  });
  (0, _globals.describe)('checkDuplicate', function () {
    (0, _globals.it)('should check for duplicate uploads', (0, _asyncToGenerator2.default)(function* () {
      var mockResponse = {
        data: {
          isDuplicate: true,
          similarImages: ['similar1.jpg', 'similar2.jpg']
        }
      };
      mockRequest.mockResolvedValue(mockResponse);
      var result = yield service.checkDuplicate('upload-123');
      (0, _globals.expect)(result).toEqual({
        isDuplicate: true,
        similarImages: ['similar1.jpg', 'similar2.jpg']
      });
      (0, _globals.expect)(mockRequest).toHaveBeenCalledWith('/uploads/upload-123/duplicate-check', {
        method: 'GET'
      });
    }));
    (0, _globals.it)('should handle no duplicates found', (0, _asyncToGenerator2.default)(function* () {
      var mockResponse = {
        data: {
          isDuplicate: false
        }
      };
      mockRequest.mockResolvedValue(mockResponse);
      var result = yield service.checkDuplicate('upload-456');
      (0, _globals.expect)(result).toEqual({
        isDuplicate: false,
        similarImages: undefined
      });
    }));
    (0, _globals.it)('should handle API errors gracefully', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockRejectedValue(new Error('Duplicate check failed'));
      var result = yield service.checkDuplicate('upload-789');
      (0, _globals.expect)(result).toEqual({
        isDuplicate: false
      });
    }));
  });
  (0, _globals.describe)('File URI to Blob Conversion', function () {
    (0, _globals.it)('should convert file URI to blob', (0, _asyncToGenerator2.default)(function* () {
      var uri = 'file://test-image.jpg';
      var base64Data = 'iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==';
      mockFileSystem.readAsStringAsync.mockResolvedValue(base64Data);
      var blob = yield service.fileUriToBlob(uri);
      (0, _globals.expect)(blob).toBeInstanceOf(Blob);
      (0, _globals.expect)(blob.type).toBe('image/jpeg');
      (0, _globals.expect)(blob.size).toBeGreaterThan(0);
    }));
    (0, _globals.it)('should handle file read errors', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.readAsStringAsync.mockRejectedValue(new Error('File read failed'));
      yield (0, _globals.expect)(service.fileUriToBlob('invalid-uri')).rejects.toThrow('File read failed');
    }));
    (0, _globals.it)('should handle empty base64 data', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.readAsStringAsync.mockResolvedValue('');
      var blob = yield service.fileUriToBlob('empty-file');
      (0, _globals.expect)(blob.size).toBe(0);
    }));
  });
  (0, _globals.describe)('Retry Upload', function () {
    (0, _globals.it)('should retry upload with backoff', (0, _asyncToGenerator2.default)(function* () {
      var expectedResult = {
        uploadId: 'retry-success'
      };
      mockUploadWithRetry.mockResolvedValue(expectedResult);
      var result = yield service.retryUpload(mockProcessedImage, 'pet', 'pet-123', 3);
      (0, _globals.expect)(mockUploadWithRetry).toHaveBeenCalledWith(_globals.expect.any(Function), 3, 1000);
      (0, _globals.expect)(result).toEqual(expectedResult);
    }));
    (0, _globals.it)('should use default retry parameters', (0, _asyncToGenerator2.default)(function* () {
      mockUploadWithRetry.mockResolvedValue({
        uploadId: 'default-retry'
      });
      yield service.retryUpload(mockProcessedImage);
      (0, _globals.expect)(mockUploadWithRetry).toHaveBeenCalledWith(_globals.expect.any(Function), 3, 1000);
    }));
    (0, _globals.it)('should handle retry failures', (0, _asyncToGenerator2.default)(function* () {
      mockUploadWithRetry.mockRejectedValue(new Error('All retries failed'));
      yield (0, _globals.expect)(service.retryUpload(mockProcessedImage)).rejects.toThrow('All retries failed');
    }));
  });
  (0, _globals.describe)('Error Handling and Edge Cases', function () {
    (0, _globals.it)('should handle very long URIs', (0, _asyncToGenerator2.default)(function* () {
      var longUri = 'file://' + 'a'.repeat(1000) + '.jpg';
      var longImage = _objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        uri: longUri
      });
      yield service.uploadProcessedImage(longImage);
      (0, _globals.expect)(mockFetch).toHaveBeenCalled();
    }));
    (0, _globals.it)('should handle special characters in URIs', (0, _asyncToGenerator2.default)(function* () {
      var specialUri = 'file://test image (copy).jpg';
      var specialImage = _objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        uri: specialUri
      });
      yield service.uploadProcessedImage(specialImage);
      (0, _globals.expect)(mockFileSystem.readAsStringAsync).toHaveBeenCalledWith(specialUri, _globals.expect.any(Object));
    }));
    (0, _globals.it)('should handle network timeouts during upload', (0, _asyncToGenerator2.default)(function* () {
      mockFetch.mockRejectedValue(new Error('Network timeout'));
      yield (0, _globals.expect)(service.uploadProcessedImage(mockProcessedImage)).rejects.toThrow('Network timeout');
    }));
    (0, _globals.it)('should handle malformed presign responses', (0, _asyncToGenerator2.default)(function* () {
      mockApi.presignPhoto.mockResolvedValue({});
      yield (0, _globals.expect)(service.uploadProcessedImage(mockProcessedImage)).rejects.toThrow();
    }));
    (0, _globals.it)('should handle concurrent uploads', (0, _asyncToGenerator2.default)(function* () {
      var uploadPromises = [service.uploadProcessedImage(_objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        uri: 'img1.jpg'
      })), service.uploadProcessedImage(_objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        uri: 'img2.jpg'
      })), service.uploadProcessedImage(_objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        uri: 'img3.jpg'
      }))];
      var results = yield Promise.all(uploadPromises);
      (0, _globals.expect)(results).toHaveLength(3);
      results.forEach(function (result) {
        (0, _globals.expect)(result.uploadId).toBe('upload-123');
      });
    }));
    (0, _globals.it)('should handle extremely large files', (0, _asyncToGenerator2.default)(function* () {
      var hugeImage = _objectSpread(_objectSpread({}, mockProcessedImage), {}, {
        fileSize: 100 * 1024 * 1024
      });
      var largeBase64 = 'A'.repeat(1024 * 1024);
      mockFileSystem.readAsStringAsync.mockResolvedValue(largeBase64);
      yield service.uploadProcessedImage(hugeImage);
      (0, _globals.expect)(mockFetch).toHaveBeenCalledWith(_globals.expect.any(String), _globals.expect.objectContaining({
        body: _globals.expect.any(Blob)
      }));
    }));
    (0, _globals.it)('should handle malformed processed images', (0, _asyncToGenerator2.default)(function* () {
      var malformedImage = {
        uri: 'test.jpg'
      };
      yield (0, _globals.expect)(service.uploadProcessedImage(malformedImage)).rejects.toThrow();
    }));
    (0, _globals.it)('should handle upload registration with missing response fields', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockResolvedValue({
        data: {
          upload: {}
        }
      });
      var result = yield service.uploadProcessedImage(mockProcessedImage);
      (0, _globals.expect)(result).toEqual({
        uploadId: '',
        s3Key: 'test-key-123',
        url: _globals.expect.stringContaining('s3.amazonaws.com'),
        status: 'pending',
        analysis: undefined
      });
    }));
    (0, _globals.it)('should handle progress callback errors gracefully', (0, _asyncToGenerator2.default)(function* () {
      var errorCallback = _globals.jest.fn().mockImplementation(function () {
        throw new Error('Progress callback failed');
      });
      yield (0, _globals.expect)(service.uploadProcessedImage(mockProcessedImage, 'pet', undefined, errorCallback)).resolves.toBeDefined();
    }));
    (0, _globals.it)('should handle file system read errors during blob conversion', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.readAsStringAsync.mockRejectedValue(new Error('File system error'));
      yield (0, _globals.expect)(service.uploadProcessedImage(mockProcessedImage)).rejects.toThrow('File system error');
    }));
    (0, _globals.it)('should handle invalid base64 data', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.readAsStringAsync.mockResolvedValue('invalid base64!@#$%');
      yield (0, _globals.expect)(service.uploadProcessedImage(mockProcessedImage)).rejects.toThrow();
    }));
    (0, _globals.it)('should handle polling with invalid upload IDs', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockRejectedValue(new Error('Upload not found'));
      yield (0, _globals.expect)(service.pollUploadStatus('invalid-id')).rejects.toThrow('Upload not found');
    }));
    (0, _globals.it)('should handle batch upload with all failures', (0, _asyncToGenerator2.default)(function* () {
      mockFetch.mockResolvedValue({
        ok: false
      });
      var images = [mockProcessedImage, mockProcessedImage];
      var results = yield service.uploadBatch(images);
      (0, _globals.expect)(results).toEqual([]);
    }));
    (0, _globals.it)('should handle duplicate check with malformed responses', (0, _asyncToGenerator2.default)(function* () {
      mockRequest.mockResolvedValue({
        data: 'invalid response format'
      });
      var result = yield service.checkDuplicate('upload-123');
      (0, _globals.expect)(result).toEqual({
        isDuplicate: false
      });
    }));
    (0, _globals.it)('should handle retry with invalid parameters', (0, _asyncToGenerator2.default)(function* () {
      mockUploadWithRetry.mockRejectedValue(new Error('Invalid retry params'));
      yield (0, _globals.expect)(service.retryUpload(mockProcessedImage, 'invalid')).rejects.toThrow('Invalid retry params');
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJwcm9jZXNzSW1hZ2VGb3JVcGxvYWQiLCJqZXN0IiwiZm4iLCJjaGVja1VwbG9hZFF1b3RhIiwidXBsb2FkV2l0aFJldHJ5IiwicGlja0FuZFByb2Nlc3NJbWFnZSIsImNhcHR1cmVBbmRQcm9jZXNzSW1hZ2UiLCJhcGkiLCJwcmVzaWduUGhvdG8iLCJyZXF1ZXN0IiwiRW5jb2RpbmdUeXBlIiwiQmFzZTY0IiwiVVRGOCIsInJlYWRBc1N0cmluZ0FzeW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZGVmaW5lUHJvcGVydHkyIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX2dsb2JhbHMiLCJGaWxlU3lzdGVtIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZW5oYW5jZWRVcGxvYWRTZXJ2aWNlIiwiX3VwbG9hZEh5Z2llbmUiLCJfYXBpIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJvd25LZXlzIiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX3JlcXVpcmUiLCJtb2NrQXBpIiwibW9ja1JlcXVlc3QiLCJtb2NrUHJvY2Vzc0ltYWdlRm9yVXBsb2FkIiwibW9ja0NoZWNrVXBsb2FkUXVvdGEiLCJtb2NrVXBsb2FkV2l0aFJldHJ5IiwibW9ja1BpY2tBbmRQcm9jZXNzSW1hZ2UiLCJtb2NrQ2FwdHVyZUFuZFByb2Nlc3NJbWFnZSIsIm1vY2tGaWxlU3lzdGVtIiwibW9ja0ZldGNoIiwiZ2xvYmFsIiwiZmV0Y2giLCJkZXNjcmliZSIsInNlcnZpY2UiLCJtb2NrUHJvY2Vzc2VkSW1hZ2UiLCJtb2NrUHJvZ3Jlc3NDYWxsYmFjayIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiRW5oYW5jZWRVcGxvYWRTZXJ2aWNlIiwiaW5zdGFuY2UiLCJ1bmRlZmluZWQiLCJnZXRJbnN0YW5jZSIsInVyaSIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsZVNpemUiLCJtaW1lVHlwZSIsIm1ldGFkYXRhIiwib3JpZ2luYWxXaWR0aCIsIm9yaWdpbmFsSGVpZ2h0Iiwib3JpZW50YXRpb25GaXhlZCIsImV4aWZTdHJpcHBlZCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwia2V5IiwidXJsIiwib2siLCJkYXRhIiwidXBsb2FkIiwiX2lkIiwiczNLZXkiLCJzdGF0dXMiLCJhZnRlckVhY2giLCJjbGVhckFsbFRpbWVycyIsIml0IiwiaW5zdGFuY2UxIiwiaW5zdGFuY2UyIiwiZXhwZWN0IiwidG9CZSIsInRvQmVEZWZpbmVkIiwicmVzdWx0IiwidXBsb2FkUHJvY2Vzc2VkSW1hZ2UiLCJ0b0VxdWFsIiwidXBsb2FkSWQiLCJhbmFseXNpcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwicGhhc2UiLCJwZXJjZW50IiwibWVzc2FnZSIsInR5cGVzIiwidHlwZSIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIm1ldGhvZCIsImJvZHkiLCJvYmplY3RDb250YWluaW5nIiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJyZWplY3RzIiwidG9UaHJvdyIsInN0YXR1c1RleHQiLCJlbmNvZGluZyIsImFueSIsIlN0cmluZyIsIkJsb2IiLCJzdHJpbmdDb250YWluaW5nIiwibGFyZ2VJbWFnZSIsImFsbG93ZWQiLCJyZW1haW5pbmciLCJyZXNldEF0IiwiRGF0ZSIsImxpbWl0IiwidXBsb2FkRnJvbVBpY2tlciIsInBldElkIiwiYWxsb3dFZGl0aW5nIiwidXNlQ2FtZXJhIiwibWF4RGltZW5zaW9uIiwicXVhbGl0eSIsImFwcHJvdmVkUmVzcG9uc2UiLCJzYWZldHkiLCJsYWJlbHMiLCJwb2xsVXBsb2FkU3RhdHVzIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiZmxhZ1JlYXNvbiIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsImltYWdlcyIsInJlc3VsdHMiLCJ1cGxvYWRCYXRjaCIsInRvSGF2ZUxlbmd0aCIsIm1vY2tSZXNwb25zZSIsImlzRHVwbGljYXRlIiwic2ltaWxhckltYWdlcyIsImNoZWNrRHVwbGljYXRlIiwiYmFzZTY0RGF0YSIsImJsb2IiLCJmaWxlVXJpVG9CbG9iIiwidG9CZUluc3RhbmNlT2YiLCJzaXplIiwidG9CZUdyZWF0ZXJUaGFuIiwiZXhwZWN0ZWRSZXN1bHQiLCJyZXRyeVVwbG9hZCIsIkZ1bmN0aW9uIiwibG9uZ1VyaSIsInJlcGVhdCIsImxvbmdJbWFnZSIsInNwZWNpYWxVcmkiLCJzcGVjaWFsSW1hZ2UiLCJ1cGxvYWRQcm9taXNlcyIsIlByb21pc2UiLCJhbGwiLCJodWdlSW1hZ2UiLCJsYXJnZUJhc2U2NCIsIm1hbGZvcm1lZEltYWdlIiwiZXJyb3JDYWxsYmFjayIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInJlc29sdmVzIl0sInNvdXJjZXMiOlsiZW5oYW5jZWRVcGxvYWRTZXJ2aWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21wcmVoZW5zaXZlIHRlc3RzIGZvciBFbmhhbmNlZFVwbG9hZFNlcnZpY2VcbiAqXG4gKiBDb3ZlcmFnZTpcbiAqIC0gQ29tcGxldGUgdXBsb2FkIHBpcGVsaW5lIGZyb20gcHJvY2Vzc2luZyB0byByZWdpc3RyYXRpb25cbiAqIC0gUHJvZ3Jlc3MgdHJhY2tpbmcgYW5kIGNhbGxiYWNrc1xuICogLSBCYXRjaCB1cGxvYWQgb3BlcmF0aW9uc1xuICogLSBVcGxvYWQgc3RhdHVzIHBvbGxpbmdcbiAqIC0gRHVwbGljYXRlIGNoZWNraW5nXG4gKiAtIFJldHJ5IGxvZ2ljIHdpdGggYmFja29mZlxuICogLSBFcnJvciBoYW5kbGluZyBhbmQgcmVjb3ZlcnlcbiAqIC0gRmlsZSBVUkkgdG8gYmxvYiBjb252ZXJzaW9uXG4gKiAtIFF1b3RhIGNoZWNraW5nIGludGVncmF0aW9uXG4gKiAtIFNpbmdsZXRvbiBwYXR0ZXJuXG4gKiAtIENvbmN1cnJlbnQgb3BlcmF0aW9uc1xuICovXG5cbmltcG9ydCB7IGRlc2NyaWJlLCBpdCwgZXhwZWN0LCBqZXN0LCBiZWZvcmVFYWNoLCBhZnRlckVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCAqIGFzIEZpbGVTeXN0ZW0gZnJvbSAnZXhwby1maWxlLXN5c3RlbSc7XG5pbXBvcnQgeyBFbmhhbmNlZFVwbG9hZFNlcnZpY2UsIHR5cGUgUHJvY2Vzc2VkSW1hZ2UsIHR5cGUgVXBsb2FkUHJvZ3Jlc3MgfSBmcm9tICcuLi9lbmhhbmNlZFVwbG9hZFNlcnZpY2UnO1xuXG4vLyBNb2NrIGRlcGVuZGVuY2llc1xuamVzdC5tb2NrKCcuLi91cGxvYWRIeWdpZW5lJywgKCkgPT4gKHtcbiAgcHJvY2Vzc0ltYWdlRm9yVXBsb2FkOiBqZXN0LmZuKCksXG4gIGNoZWNrVXBsb2FkUXVvdGE6IGplc3QuZm4oKSxcbiAgdXBsb2FkV2l0aFJldHJ5OiBqZXN0LmZuKCksXG4gIHBpY2tBbmRQcm9jZXNzSW1hZ2U6IGplc3QuZm4oKSxcbiAgY2FwdHVyZUFuZFByb2Nlc3NJbWFnZTogamVzdC5mbigpLFxufSkpO1xuXG5qZXN0Lm1vY2soJy4uL2FwaScsICgpID0+ICh7XG4gIGFwaToge1xuICAgIHByZXNpZ25QaG90bzogamVzdC5mbigpLFxuICB9LFxuICByZXF1ZXN0OiBqZXN0LmZuKCksXG59KSk7XG5cbmplc3QubW9jaygnZXhwby1maWxlLXN5c3RlbScsICgpID0+ICh7XG4gIEVuY29kaW5nVHlwZToge1xuICAgIEJhc2U2NDogJ2Jhc2U2NCcsXG4gICAgVVRGODogJ3V0ZjgnLFxuICB9LFxuICByZWFkQXNTdHJpbmdBc3luYzogamVzdC5mbigpLFxufSkpO1xuXG5pbXBvcnQgeyBwcm9jZXNzSW1hZ2VGb3JVcGxvYWQsIGNoZWNrVXBsb2FkUXVvdGEsIHVwbG9hZFdpdGhSZXRyeSwgcGlja0FuZFByb2Nlc3NJbWFnZSwgY2FwdHVyZUFuZFByb2Nlc3NJbWFnZSB9IGZyb20gJy4uL3VwbG9hZEh5Z2llbmUnO1xuaW1wb3J0IHsgYXBpLCByZXF1ZXN0IH0gZnJvbSAnLi4vYXBpJztcblxuY29uc3QgbW9ja0FwaSA9IGFwaSBhcyBqZXN0Lk1vY2tlZDx0eXBlb2YgYXBpPjtcbmNvbnN0IG1vY2tSZXF1ZXN0ID0gcmVxdWVzdCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiByZXF1ZXN0PjtcbmNvbnN0IG1vY2tQcm9jZXNzSW1hZ2VGb3JVcGxvYWQgPSBwcm9jZXNzSW1hZ2VGb3JVcGxvYWQgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgcHJvY2Vzc0ltYWdlRm9yVXBsb2FkPjtcbmNvbnN0IG1vY2tDaGVja1VwbG9hZFF1b3RhID0gY2hlY2tVcGxvYWRRdW90YSBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBjaGVja1VwbG9hZFF1b3RhPjtcbmNvbnN0IG1vY2tVcGxvYWRXaXRoUmV0cnkgPSB1cGxvYWRXaXRoUmV0cnkgYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgdXBsb2FkV2l0aFJldHJ5PjtcbmNvbnN0IG1vY2tQaWNrQW5kUHJvY2Vzc0ltYWdlID0gcGlja0FuZFByb2Nlc3NJbWFnZSBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBwaWNrQW5kUHJvY2Vzc0ltYWdlPjtcbmNvbnN0IG1vY2tDYXB0dXJlQW5kUHJvY2Vzc0ltYWdlID0gY2FwdHVyZUFuZFByb2Nlc3NJbWFnZSBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBjYXB0dXJlQW5kUHJvY2Vzc0ltYWdlPjtcbmNvbnN0IG1vY2tGaWxlU3lzdGVtID0gRmlsZVN5c3RlbSBhcyBqZXN0Lk1vY2tlZDx0eXBlb2YgRmlsZVN5c3RlbT47XG5cbi8vIE1vY2sgZmV0Y2ggZ2xvYmFsbHlcbmNvbnN0IG1vY2tGZXRjaCA9IGplc3QuZm4oKTtcbmdsb2JhbC5mZXRjaCA9IG1vY2tGZXRjaDtcblxuZGVzY3JpYmUoJ0VuaGFuY2VkVXBsb2FkU2VydmljZScsICgpID0+IHtcbiAgbGV0IHNlcnZpY2U6IEVuaGFuY2VkVXBsb2FkU2VydmljZTtcbiAgbGV0IG1vY2tQcm9jZXNzZWRJbWFnZTogUHJvY2Vzc2VkSW1hZ2U7XG4gIGxldCBtb2NrUHJvZ3Jlc3NDYWxsYmFjazogamVzdC5Nb2NrZWRGdW5jdGlvbjwocHJvZ3Jlc3M6IFVwbG9hZFByb2dyZXNzKSA9PiB2b2lkPjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcblxuICAgIC8vIFJlc2V0IHNpbmdsZXRvblxuICAgIChFbmhhbmNlZFVwbG9hZFNlcnZpY2UgYXMgYW55KS5pbnN0YW5jZSA9IHVuZGVmaW5lZDtcblxuICAgIHNlcnZpY2UgPSBFbmhhbmNlZFVwbG9hZFNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcblxuICAgIG1vY2tQcm9jZXNzZWRJbWFnZSA9IHtcbiAgICAgIHVyaTogJ2ZpbGU6Ly90ZXN0LWltYWdlLmpwZycsXG4gICAgICB3aWR0aDogMTAyNCxcbiAgICAgIGhlaWdodDogNzY4LFxuICAgICAgZmlsZVNpemU6IDI1NjAwMCxcbiAgICAgIG1pbWVUeXBlOiAnaW1hZ2UvanBlZycsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBvcmlnaW5hbFdpZHRoOiAyMDQ4LFxuICAgICAgICBvcmlnaW5hbEhlaWdodDogMTUzNixcbiAgICAgICAgb3JpZW50YXRpb25GaXhlZDogdHJ1ZSxcbiAgICAgICAgZXhpZlN0cmlwcGVkOiB0cnVlLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgbW9ja1Byb2dyZXNzQ2FsbGJhY2sgPSBqZXN0LmZuKCk7XG5cbiAgICAvLyBTZXR1cCBkZWZhdWx0IG1vY2tzXG4gICAgbW9ja0FwaS5wcmVzaWduUGhvdG8ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAga2V5OiAndGVzdC1rZXktMTIzJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vczMuYW1hem9uYXdzLmNvbS90ZXN0LWJ1Y2tldC90ZXN0LWtleS0xMjMnLFxuICAgIH0pO1xuXG4gICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIG9rOiB0cnVlLFxuICAgIH0gYXMgYW55KTtcblxuICAgIG1vY2tSZXF1ZXN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXBsb2FkOiB7XG4gICAgICAgICAgX2lkOiAndXBsb2FkLTEyMycsXG4gICAgICAgICAgczNLZXk6ICd0ZXN0LWtleS0xMjMnLFxuICAgICAgICAgIHVybDogJ2h0dHBzOi8vY2RuLmV4YW1wbGUuY29tL3Rlc3Qta2V5LTEyMycsXG4gICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgbW9ja0ZpbGVTeXN0ZW0ucmVhZEFzU3RyaW5nQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoJ2Jhc2U2NGRhdGEnKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTaW5nbGV0b24gUGF0dGVybicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiB0aGUgc2FtZSBpbnN0YW5jZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlMSA9IEVuaGFuY2VkVXBsb2FkU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gRW5oYW5jZWRVcGxvYWRTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG5cbiAgICAgIGV4cGVjdChpbnN0YW5jZTEpLnRvQmUoaW5zdGFuY2UyKTtcbiAgICAgIGV4cGVjdChpbnN0YW5jZTEpLnRvQmUoc2VydmljZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1haW50YWluIHN0YXRlIGFjcm9zcyBjYWxscycsICgpID0+IHtcbiAgICAgIC8vIFRoaXMgaXMgaW1wbGljaXQgaW4gdGhlIHNpbmdsZXRvbiBwYXR0ZXJuXG4gICAgICBleHBlY3Qoc2VydmljZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3VwbG9hZFByb2Nlc3NlZEltYWdlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29tcGxldGUgZnVsbCB1cGxvYWQgcGlwZWxpbmUgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS51cGxvYWRQcm9jZXNzZWRJbWFnZShcbiAgICAgICAgbW9ja1Byb2Nlc3NlZEltYWdlLFxuICAgICAgICAncGV0JyxcbiAgICAgICAgJ3BldC0xMjMnLFxuICAgICAgICBtb2NrUHJvZ3Jlc3NDYWxsYmFja1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7XG4gICAgICAgIHVwbG9hZElkOiAndXBsb2FkLTEyMycsXG4gICAgICAgIHMzS2V5OiAndGVzdC1rZXktMTIzJyxcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9jZG4uZXhhbXBsZS5jb20vdGVzdC1rZXktMTIzJyxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIGFuYWx5c2lzOiB1bmRlZmluZWQsXG4gICAgICB9KTtcblxuICAgICAgLy8gQ2hlY2sgcHJvZ3Jlc3MgY2FsbGJhY2tzXG4gICAgICBleHBlY3QobW9ja1Byb2dyZXNzQ2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgcGhhc2U6ICdwcmVzaWduJyxcbiAgICAgICAgcGVyY2VudDogMTAsXG4gICAgICAgIG1lc3NhZ2U6ICdSZXF1ZXN0aW5nIHVwbG9hZCBVUkwuLi4nLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrUHJvZ3Jlc3NDYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBwaGFzZTogJ3VwbG9hZCcsXG4gICAgICAgIHBlcmNlbnQ6IDMwLFxuICAgICAgICBtZXNzYWdlOiAnVXBsb2FkaW5nIHRvIHNlY3VyZSBzdG9yYWdlLi4uJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja1Byb2dyZXNzQ2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgcGhhc2U6ICdyZWdpc3RlcicsXG4gICAgICAgIHBlcmNlbnQ6IDYwLFxuICAgICAgICBtZXNzYWdlOiAnUmVnaXN0ZXJpbmcgdXBsb2FkLi4uJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja1Byb2dyZXNzQ2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgcGhhc2U6ICdhbmFseXplJyxcbiAgICAgICAgcGVyY2VudDogODAsXG4gICAgICAgIG1lc3NhZ2U6ICdBbmFseXppbmcgcGhvdG8uLi4nLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrUHJvZ3Jlc3NDYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBwaGFzZTogJ3BlbmRpbmcnLFxuICAgICAgICBwZXJjZW50OiA5MCxcbiAgICAgICAgbWVzc2FnZTogJ0F3YWl0aW5nIG1vZGVyYXRpb24uLi4nLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkaWZmZXJlbnQgdXBsb2FkIHR5cGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdHlwZXM6IEFycmF5PCdwcm9maWxlJyB8ICdwZXQnIHwgJ3ZlcmlmaWNhdGlvbic+ID0gWydwcm9maWxlJywgJ3BldCcsICd2ZXJpZmljYXRpb24nXTtcblxuICAgICAgZm9yIChjb25zdCB0eXBlIG9mIHR5cGVzKSB7XG4gICAgICAgIG1vY2tSZXF1ZXN0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdXBsb2FkOiB7XG4gICAgICAgICAgICAgIF9pZDogYHVwbG9hZC0ke3R5cGV9YCxcbiAgICAgICAgICAgICAgczNLZXk6IGBrZXktJHt0eXBlfWAsXG4gICAgICAgICAgICAgIHVybDogYHVybC0ke3R5cGV9YCxcbiAgICAgICAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UobW9ja1Byb2Nlc3NlZEltYWdlLCB0eXBlKTtcblxuICAgICAgICBleHBlY3QobW9ja1JlcXVlc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvdXBsb2FkcycsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBib2R5OiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7IHR5cGUgfSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQudXBsb2FkSWQpLnRvQmUoYHVwbG9hZC0ke3R5cGV9YCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHdvcmsgd2l0aG91dCBwcm9ncmVzcyBjYWxsYmFjaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UobW9ja1Byb2Nlc3NlZEltYWdlKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChtb2NrUHJvZ3Jlc3NDYWxsYmFjaykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHByZXNpZ24gZmFpbHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tBcGkucHJlc2lnblBob3RvLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignUHJlc2lnbiBmYWlsZWQnKSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLnVwbG9hZFByb2Nlc3NlZEltYWdlKG1vY2tQcm9jZXNzZWRJbWFnZSkpLnJlamVjdHMudG9UaHJvdygnUHJlc2lnbiBmYWlsZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIFMzIHVwbG9hZCBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgc3RhdHVzOiA0MDMsXG4gICAgICAgIHN0YXR1c1RleHQ6ICdGb3JiaWRkZW4nLFxuICAgICAgfSBhcyBhbnkpO1xuXG4gICAgICBhd2FpdCBleHBlY3Qoc2VydmljZS51cGxvYWRQcm9jZXNzZWRJbWFnZShtb2NrUHJvY2Vzc2VkSW1hZ2UpKS5yZWplY3RzLnRvVGhyb3coJ1MzIHVwbG9hZCBmYWlsZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJlZ2lzdHJhdGlvbiBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdSZWdpc3RyYXRpb24gZmFpbGVkJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3Qoc2VydmljZS51cGxvYWRQcm9jZXNzZWRJbWFnZShtb2NrUHJvY2Vzc2VkSW1hZ2UpKS5yZWplY3RzLnRvVGhyb3coJ1JlZ2lzdHJhdGlvbiBmYWlsZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGZpbGUgVVJJIHRvIGJsb2IgY29udmVyc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFRoaXMgaXMgdGVzdGVkIGltcGxpY2l0bHkgdGhyb3VnaCB0aGUgdXBsb2FkIHByb2Nlc3NcbiAgICAgIC8vIFRoZSBmaWxlVXJpVG9CbG9iIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGR1cmluZyB1cGxvYWRcbiAgICAgIGF3YWl0IHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UobW9ja1Byb2Nlc3NlZEltYWdlKTtcblxuICAgICAgZXhwZWN0KG1vY2tGaWxlU3lzdGVtLnJlYWRBc1N0cmluZ0FzeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1Byb2Nlc3NlZEltYWdlLnVyaSxcbiAgICAgICAgeyBlbmNvZGluZzogRmlsZVN5c3RlbS5FbmNvZGluZ1R5cGUuQmFzZTY0IH1cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3QuYW55KFN0cmluZyksXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGJvZHk6IGV4cGVjdC5hbnkoQmxvYiksXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBvcHRpb25hbCBmaWVsZHMgaW4gcmVzcG9uc2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1cGxvYWQ6IHtcbiAgICAgICAgICAgIC8vIE1pc3NpbmcgaWQsIHMzS2V5LCB1cmxcbiAgICAgICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UobW9ja1Byb2Nlc3NlZEltYWdlKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7XG4gICAgICAgIHVwbG9hZElkOiAnJyxcbiAgICAgICAgczNLZXk6ICd0ZXN0LWtleS0xMjMnLCAvLyBGYWxscyBiYWNrIHRvIHByZXNpZ25lZCBrZXlcbiAgICAgICAgdXJsOiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnczMuYW1hem9uYXdzLmNvbScpLCAvLyBGYWxscyBiYWNrIHRvIGNvbnN0cnVjdGVkIFVSTFxuICAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXG4gICAgICAgIGFuYWx5c2lzOiB1bmRlZmluZWQsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIGZpbGUgdXBsb2FkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxhcmdlSW1hZ2UgPSB7XG4gICAgICAgIC4uLm1vY2tQcm9jZXNzZWRJbWFnZSxcbiAgICAgICAgZmlsZVNpemU6IDEwICogMTAyNCAqIDEwMjQsIC8vIDEwTUJcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UobGFyZ2VJbWFnZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd1cGxvYWRGcm9tUGlja2VyJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29tcGxldGUgZnVsbCBwaXBlbGluZSBmcm9tIHBpY2tlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tDaGVja1VwbG9hZFF1b3RhLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgYWxsb3dlZDogdHJ1ZSxcbiAgICAgICAgcmVtYWluaW5nOiA1LFxuICAgICAgICByZXNldEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICBsaW1pdDogMTAsXG4gICAgICB9KTtcblxuICAgICAgbW9ja1BpY2tBbmRQcm9jZXNzSW1hZ2UubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Byb2Nlc3NlZEltYWdlKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS51cGxvYWRGcm9tUGlja2VyKFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ3Byb2ZpbGUnLFxuICAgICAgICAgIHBldElkOiAncGV0LTQ1NicsXG4gICAgICAgICAgYWxsb3dFZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICB1c2VDYW1lcmE6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBtb2NrUHJvZ3Jlc3NDYWxsYmFja1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tDaGVja1VwbG9hZFF1b3RhKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnY3VycmVudC11c2VyLWlkJyk7XG4gICAgICBleHBlY3QobW9ja1BpY2tBbmRQcm9jZXNzSW1hZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGZhbHNlLCB7XG4gICAgICAgIG1heERpbWVuc2lvbjogMjA0OCxcbiAgICAgICAgcXVhbGl0eTogMC45LFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBjYW1lcmEgd2hlbiBzcGVjaWZpZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2hlY2tVcGxvYWRRdW90YS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGFsbG93ZWQ6IHRydWUsXG4gICAgICAgIHJlbWFpbmluZzogNSxcbiAgICAgICAgcmVzZXRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgbGltaXQ6IDEwLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tDYXB0dXJlQW5kUHJvY2Vzc0ltYWdlLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQcm9jZXNzZWRJbWFnZSk7XG5cbiAgICAgIGF3YWl0IHNlcnZpY2UudXBsb2FkRnJvbVBpY2tlcih7XG4gICAgICAgIHVzZUNhbWVyYTogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0NhcHR1cmVBbmRQcm9jZXNzSW1hZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgbWF4RGltZW5zaW9uOiAyMDQ4LFxuICAgICAgICBxdWFsaXR5OiAwLjksXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tQaWNrQW5kUHJvY2Vzc0ltYWdlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcXVvdGEgZXhjZWVkZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2hlY2tVcGxvYWRRdW90YS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGFsbG93ZWQ6IGZhbHNlLFxuICAgICAgICByZW1haW5pbmc6IDAsXG4gICAgICAgIHJlc2V0QXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGxpbWl0OiAxMCxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBleHBlY3Qoc2VydmljZS51cGxvYWRGcm9tUGlja2VyKCkpLnJlamVjdHMudG9UaHJvdygnVXBsb2FkIHF1b3RhIGV4Y2VlZGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbWFnZSBwaWNrZXIgY2FuY2VsbGF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0NoZWNrVXBsb2FkUXVvdGEubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBhbGxvd2VkOiB0cnVlLFxuICAgICAgICByZW1haW5pbmc6IDUsXG4gICAgICAgIHJlc2V0QXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIGxpbWl0OiAxMCxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrUGlja0FuZFByb2Nlc3NJbWFnZS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UudXBsb2FkRnJvbVBpY2tlcigpKS5yZWplY3RzLnRvVGhyb3coJ05vIGltYWdlIHNlbGVjdGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBkZWZhdWx0IG9wdGlvbnMgd2hlbiBub3QgcHJvdmlkZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2hlY2tVcGxvYWRRdW90YS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGFsbG93ZWQ6IHRydWUsXG4gICAgICAgIHJlbWFpbmluZzogNSxcbiAgICAgICAgcmVzZXRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgbGltaXQ6IDEwLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tQaWNrQW5kUHJvY2Vzc0ltYWdlLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQcm9jZXNzZWRJbWFnZSk7XG5cbiAgICAgIGF3YWl0IHNlcnZpY2UudXBsb2FkRnJvbVBpY2tlcigpO1xuXG4gICAgICBleHBlY3QobW9ja1BpY2tBbmRQcm9jZXNzSW1hZ2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRydWUsIHtcbiAgICAgICAgbWF4RGltZW5zaW9uOiAyMDQ4LFxuICAgICAgICBxdWFsaXR5OiAwLjksXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHF1b3RhIGNoZWNrIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQ2hlY2tVcGxvYWRRdW90YS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1F1b3RhIHNlcnZpY2UgdW5hdmFpbGFibGUnKSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLnVwbG9hZEZyb21QaWNrZXIoKSkucmVqZWN0cy50b1Rocm93KCdRdW90YSBzZXJ2aWNlIHVuYXZhaWxhYmxlJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdwb2xsVXBsb2FkU3RhdHVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcG9sbCB1bnRpbCBhcHByb3ZlZCBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhcHByb3ZlZFJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXBsb2FkOiB7XG4gICAgICAgICAgICBzM0tleTogJ2FwcHJvdmVkLWtleScsXG4gICAgICAgICAgICB1cmw6ICdhcHByb3ZlZC11cmwnLFxuICAgICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYW5hbHlzaXM6IHsgc2FmZXR5OiAnc2FmZScsIGxhYmVsczogWydkb2cnXSB9LFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgbW9ja1JlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWUoYXBwcm92ZWRSZXNwb25zZSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UucG9sbFVwbG9hZFN0YXR1cygndXBsb2FkLTEyMycsIDUsIDEwMCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoe1xuICAgICAgICB1cGxvYWRJZDogJ3VwbG9hZC0xMjMnLFxuICAgICAgICBzM0tleTogJ2FwcHJvdmVkLWtleScsXG4gICAgICAgIHVybDogJ2FwcHJvdmVkLXVybCcsXG4gICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcbiAgICAgICAgYW5hbHlzaXM6IGFwcHJvdmVkUmVzcG9uc2UuZGF0YS5hbmFseXNpcyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja1JlcXVlc3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJlamVjdGVkIHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSZXF1ZXN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVwbG9hZDoge1xuICAgICAgICAgICAgc3RhdHVzOiAncmVqZWN0ZWQnLFxuICAgICAgICAgICAgZmxhZ1JlYXNvbjogJ0luYXBwcm9wcmlhdGUgY29udGVudCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBleHBlY3Qoc2VydmljZS5wb2xsVXBsb2FkU3RhdHVzKCd1cGxvYWQtMTIzJykpLnJlamVjdHMudG9UaHJvdyhcbiAgICAgICAgJ1VwbG9hZCByZWplY3RlZDogSW5hcHByb3ByaWF0ZSBjb250ZW50J1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcG9sbCBtdWx0aXBsZSB0aW1lcyBmb3IgcGVuZGluZyBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBGaXJzdCAyIGNhbGxzIHJldHVybiBwZW5kaW5nXG4gICAgICBtb2NrUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBkYXRhOiB7IHVwbG9hZDogeyBzdGF0dXM6ICdwZW5kaW5nJyB9IH0sXG4gICAgICB9KTtcbiAgICAgIG1vY2tSZXF1ZXN0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGRhdGE6IHsgdXBsb2FkOiB7IHN0YXR1czogJ2FuYWx5emluZycgfSB9LFxuICAgICAgfSk7XG4gICAgICAvLyBUaGlyZCBjYWxsIHJldHVybnMgYXBwcm92ZWRcbiAgICAgIG1vY2tSZXF1ZXN0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1cGxvYWQ6IHtcbiAgICAgICAgICAgIHMzS2V5OiAnZmluYWwta2V5JyxcbiAgICAgICAgICAgIHVybDogJ2ZpbmFsLXVybCcsXG4gICAgICAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBVc2UgcmVhbCB0aW1lcnMgd2l0aCBmYXN0IGludGVydmFscyBmb3IgcmVsaWFibGUgYXN5bmMgYmVoYXZpb3JcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UucG9sbFVwbG9hZFN0YXR1cygndXBsb2FkLTEyMycsIDUsIDEwKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ2FwcHJvdmVkJyk7XG4gICAgICBleHBlY3QobW9ja1JlcXVlc3QpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygzKTtcbiAgICB9LCAxMDAwMCk7XG5cbiAgICBpdCgnc2hvdWxkIHRpbWVvdXQgYWZ0ZXIgbWF4IGF0dGVtcHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVwbG9hZDogeyBzdGF0dXM6ICdwZW5kaW5nJyB9IH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gVXNlIHJlYWwgdGltZXJzIHdpdGggZmFzdCBpbnRlcnZhbHNcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgc2VydmljZS5wb2xsVXBsb2FkU3RhdHVzKCd1cGxvYWQtMTIzJywgMywgMTApXG4gICAgICApLnJlamVjdHMudG9UaHJvdygnVXBsb2FkIHN0YXR1cyBwb2xsaW5nIHRpbWVvdXQnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tSZXF1ZXN0KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG4gICAgfSwgMTAwMDApO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9ycyBkdXJpbmcgcG9sbGluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSZXF1ZXN0Lm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSk7XG4gICAgICBtb2NrUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBkYXRhOiB7IHVwbG9hZDogeyBzdGF0dXM6ICdhcHByb3ZlZCcgfSB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UucG9sbFVwbG9hZFN0YXR1cygndXBsb2FkLTEyMycsIDMsIDEwKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ2FwcHJvdmVkJyk7XG4gICAgICAvLyBTaG91bGQgY29udGludWUgcG9sbGluZyBkZXNwaXRlIGVycm9yXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBkZWZhdWx0IHBvbGxpbmcgcGFyYW1ldGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tSZXF1ZXN0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1cGxvYWQ6IHsgc3RhdHVzOiAnYXBwcm92ZWQnIH0gfSxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBzZXJ2aWNlLnBvbGxVcGxvYWRTdGF0dXMoJ3VwbG9hZC0xMjMnKTtcblxuICAgICAgZXhwZWN0KG1vY2tSZXF1ZXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3VwbG9hZHMvdXBsb2FkLTEyMycsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndXBsb2FkQmF0Y2gnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB1cGxvYWQgbXVsdGlwbGUgaW1hZ2VzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlcyA9IFtcbiAgICAgICAgeyAuLi5tb2NrUHJvY2Vzc2VkSW1hZ2UsIHVyaTogJ2ltYWdlMS5qcGcnIH0sXG4gICAgICAgIHsgLi4ubW9ja1Byb2Nlc3NlZEltYWdlLCB1cmk6ICdpbWFnZTIuanBnJyB9LFxuICAgICAgICB7IC4uLm1vY2tQcm9jZXNzZWRJbWFnZSwgdXJpOiAnaW1hZ2UzLmpwZycgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IG1vY2tQcm9ncmVzc0NhbGxiYWNrID0gamVzdC5mbigpO1xuXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VydmljZS51cGxvYWRCYXRjaChpbWFnZXMsICdwZXQnLCAncGV0LTEyMycsIG1vY2tQcm9ncmVzc0NhbGxiYWNrKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICAgIGV4cGVjdChtb2NrUHJvZ3Jlc3NDYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuXG4gICAgICAvLyBDaGVjayBwcm9ncmVzcyBjYWxsYmFja3MgZm9yIGVhY2ggaW1hZ2VcbiAgICAgIGV4cGVjdChtb2NrUHJvZ3Jlc3NDYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMCwge1xuICAgICAgICBwaGFzZTogJ3ByZXNpZ24nLFxuICAgICAgICBwZXJjZW50OiAwLFxuICAgICAgICBtZXNzYWdlOiAnUHJvY2Vzc2luZyBwaG90byAxLzMnLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrUHJvZ3Jlc3NDYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMSwge1xuICAgICAgICBwaGFzZTogJ3ByZXNpZ24nLFxuICAgICAgICBwZXJjZW50OiAwLFxuICAgICAgICBtZXNzYWdlOiAnUHJvY2Vzc2luZyBwaG90byAyLzMnLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrUHJvZ3Jlc3NDYWxsYmFjaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMiwge1xuICAgICAgICBwaGFzZTogJ3ByZXNpZ24nLFxuICAgICAgICBwZXJjZW50OiAwLFxuICAgICAgICBtZXNzYWdlOiAnUHJvY2Vzc2luZyBwaG90byAzLzMnLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwYXJ0aWFsIGZhaWx1cmVzIGluIGJhdGNoIHVwbG9hZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlcyA9IFtcbiAgICAgICAgbW9ja1Byb2Nlc3NlZEltYWdlLFxuICAgICAgICB7IC4uLm1vY2tQcm9jZXNzZWRJbWFnZSwgdXJpOiAnZmFpbC1pbWFnZS5qcGcnIH0sXG4gICAgICAgIG1vY2tQcm9jZXNzZWRJbWFnZSxcbiAgICAgIF07XG5cbiAgICAgIC8vIE1ha2Ugc2Vjb25kIHVwbG9hZCBmYWlsXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgb2s6IHRydWUgfSBhcyBhbnkpO1xuICAgICAgbW9ja1JlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZGF0YTogeyB1cGxvYWQ6IHsgX2lkOiAndXBsb2FkMScgfSB9IH0pO1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgb2s6IGZhbHNlIH0gYXMgYW55KTsgLy8gU2Vjb25kIHVwbG9hZCBmYWlsc1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgb2s6IHRydWUgfSBhcyBhbnkpO1xuICAgICAgbW9ja1JlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZGF0YTogeyB1cGxvYWQ6IHsgX2lkOiAndXBsb2FkMycgfSB9IH0pO1xuXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VydmljZS51cGxvYWRCYXRjaChpbWFnZXMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpOyAvLyBPbmx5IHN1Y2Nlc3NmdWwgdXBsb2Fkc1xuICAgICAgZXhwZWN0KHJlc3VsdHNbMF0udXBsb2FkSWQpLnRvQmUoJ3VwbG9hZDEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzWzFdLnVwbG9hZElkKS50b0JlKCd1cGxvYWQzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHdvcmsgd2l0aG91dCBwcm9ncmVzcyBjYWxsYmFjaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGltYWdlcyA9IFttb2NrUHJvY2Vzc2VkSW1hZ2VdO1xuXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VydmljZS51cGxvYWRCYXRjaChpbWFnZXMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgYmF0Y2gnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VydmljZS51cGxvYWRCYXRjaChbXSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0VxdWFsKFtdKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NoZWNrRHVwbGljYXRlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2hlY2sgZm9yIGR1cGxpY2F0ZSB1cGxvYWRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1Jlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaXNEdXBsaWNhdGU6IHRydWUsXG4gICAgICAgICAgc2ltaWxhckltYWdlczogWydzaW1pbGFyMS5qcGcnLCAnc2ltaWxhcjIuanBnJ10sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUmVzcG9uc2UpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmNoZWNrRHVwbGljYXRlKCd1cGxvYWQtMTIzJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoe1xuICAgICAgICBpc0R1cGxpY2F0ZTogdHJ1ZSxcbiAgICAgICAgc2ltaWxhckltYWdlczogWydzaW1pbGFyMS5qcGcnLCAnc2ltaWxhcjIuanBnJ10sXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tSZXF1ZXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL3VwbG9hZHMvdXBsb2FkLTEyMy9kdXBsaWNhdGUtY2hlY2snLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG5vIGR1cGxpY2F0ZXMgZm91bmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpc0R1cGxpY2F0ZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBtb2NrUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUmVzcG9uc2UpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmNoZWNrRHVwbGljYXRlKCd1cGxvYWQtNDU2Jyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoe1xuICAgICAgICBpc0R1cGxpY2F0ZTogZmFsc2UsXG4gICAgICAgIHNpbWlsYXJJbWFnZXM6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdEdXBsaWNhdGUgY2hlY2sgZmFpbGVkJykpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmNoZWNrRHVwbGljYXRlKCd1cGxvYWQtNzg5Jyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoe1xuICAgICAgICBpc0R1cGxpY2F0ZTogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ZpbGUgVVJJIHRvIEJsb2IgQ29udmVyc2lvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgZmlsZSBVUkkgdG8gYmxvYicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVyaSA9ICdmaWxlOi8vdGVzdC1pbWFnZS5qcGcnO1xuICAgICAgY29uc3QgYmFzZTY0RGF0YSA9ICdpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFEVWxFUVZSNDJtUDgvNStoSGdBSGdnSi9QY2hJN3dBQUFBQkpSVTVFcmtKZ2dnPT0nO1xuXG4gICAgICBtb2NrRmlsZVN5c3RlbS5yZWFkQXNTdHJpbmdBc3luYy5tb2NrUmVzb2x2ZWRWYWx1ZShiYXNlNjREYXRhKTtcblxuICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IChzZXJ2aWNlIGFzIGFueSkuZmlsZVVyaVRvQmxvYih1cmkpO1xuXG4gICAgICBleHBlY3QoYmxvYikudG9CZUluc3RhbmNlT2YoQmxvYik7XG4gICAgICBleHBlY3QoYmxvYi50eXBlKS50b0JlKCdpbWFnZS9qcGVnJyk7XG4gICAgICBleHBlY3QoYmxvYi5zaXplKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBmaWxlIHJlYWQgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZpbGVTeXN0ZW0ucmVhZEFzU3RyaW5nQXN5bmMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdGaWxlIHJlYWQgZmFpbGVkJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoKHNlcnZpY2UgYXMgYW55KS5maWxlVXJpVG9CbG9iKCdpbnZhbGlkLXVyaScpKS5yZWplY3RzLnRvVGhyb3coJ0ZpbGUgcmVhZCBmYWlsZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IGJhc2U2NCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZpbGVTeXN0ZW0ucmVhZEFzU3RyaW5nQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoJycpO1xuXG4gICAgICBjb25zdCBibG9iID0gYXdhaXQgKHNlcnZpY2UgYXMgYW55KS5maWxlVXJpVG9CbG9iKCdlbXB0eS1maWxlJyk7XG5cbiAgICAgIGV4cGVjdChibG9iLnNpemUpLnRvQmUoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZXRyeSBVcGxvYWQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXRyeSB1cGxvYWQgd2l0aCBiYWNrb2ZmJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWRSZXN1bHQgPSB7IHVwbG9hZElkOiAncmV0cnktc3VjY2VzcycgfTtcblxuICAgICAgbW9ja1VwbG9hZFdpdGhSZXRyeS5tb2NrUmVzb2x2ZWRWYWx1ZShleHBlY3RlZFJlc3VsdCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UucmV0cnlVcGxvYWQobW9ja1Byb2Nlc3NlZEltYWdlLCAncGV0JywgJ3BldC0xMjMnLCAzKTtcblxuICAgICAgZXhwZWN0KG1vY2tVcGxvYWRXaXRoUmV0cnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3QuYW55KEZ1bmN0aW9uKSxcbiAgICAgICAgMyxcbiAgICAgICAgMTAwMFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChleHBlY3RlZFJlc3VsdCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVzZSBkZWZhdWx0IHJldHJ5IHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVXBsb2FkV2l0aFJldHJ5Lm1vY2tSZXNvbHZlZFZhbHVlKHsgdXBsb2FkSWQ6ICdkZWZhdWx0LXJldHJ5JyB9KTtcblxuICAgICAgYXdhaXQgc2VydmljZS5yZXRyeVVwbG9hZChtb2NrUHJvY2Vzc2VkSW1hZ2UpO1xuXG4gICAgICBleHBlY3QobW9ja1VwbG9hZFdpdGhSZXRyeSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5hbnkoRnVuY3Rpb24pLFxuICAgICAgICAzLCAvLyBkZWZhdWx0IG1heFJldHJpZXNcbiAgICAgICAgMTAwMCAvLyBkZWZhdWx0IGJhY2tvZmZNc1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJldHJ5IGZhaWx1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1VwbG9hZFdpdGhSZXRyeS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0FsbCByZXRyaWVzIGZhaWxlZCcpKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UucmV0cnlVcGxvYWQobW9ja1Byb2Nlc3NlZEltYWdlKSkucmVqZWN0cy50b1Rocm93KCdBbGwgcmV0cmllcyBmYWlsZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nIGFuZCBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHZlcnkgbG9uZyBVUklzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ1VyaSA9ICdmaWxlOi8vJyArICdhJy5yZXBlYXQoMTAwMCkgKyAnLmpwZyc7XG5cbiAgICAgIGNvbnN0IGxvbmdJbWFnZSA9IHsgLi4ubW9ja1Byb2Nlc3NlZEltYWdlLCB1cmk6IGxvbmdVcmkgfTtcblxuICAgICAgYXdhaXQgc2VydmljZS51cGxvYWRQcm9jZXNzZWRJbWFnZShsb25nSW1hZ2UpO1xuXG4gICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gVVJJcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNwZWNpYWxVcmkgPSAnZmlsZTovL3Rlc3QgaW1hZ2UgKGNvcHkpLmpwZyc7XG5cbiAgICAgIGNvbnN0IHNwZWNpYWxJbWFnZSA9IHsgLi4ubW9ja1Byb2Nlc3NlZEltYWdlLCB1cmk6IHNwZWNpYWxVcmkgfTtcblxuICAgICAgYXdhaXQgc2VydmljZS51cGxvYWRQcm9jZXNzZWRJbWFnZShzcGVjaWFsSW1hZ2UpO1xuXG4gICAgICBleHBlY3QobW9ja0ZpbGVTeXN0ZW0ucmVhZEFzU3RyaW5nQXN5bmMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHNwZWNpYWxVcmksIGV4cGVjdC5hbnkoT2JqZWN0KSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZXR3b3JrIHRpbWVvdXRzIGR1cmluZyB1cGxvYWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdOZXR3b3JrIHRpbWVvdXQnKSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLnVwbG9hZFByb2Nlc3NlZEltYWdlKG1vY2tQcm9jZXNzZWRJbWFnZSkpLnJlamVjdHMudG9UaHJvdygnTmV0d29yayB0aW1lb3V0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgcHJlc2lnbiByZXNwb25zZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXBpLnByZXNpZ25QaG90by5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIC8vIE1pc3NpbmcgcmVxdWlyZWQgZmllbGRzXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UobW9ja1Byb2Nlc3NlZEltYWdlKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgICAvLyBTaG91bGQgZmFpbCB3aGVuIHRyeWluZyB0byBhY2Nlc3MgdW5kZWZpbmVkIHVybC9rZXlcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgdXBsb2FkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVwbG9hZFByb21pc2VzID0gW1xuICAgICAgICBzZXJ2aWNlLnVwbG9hZFByb2Nlc3NlZEltYWdlKHsgLi4ubW9ja1Byb2Nlc3NlZEltYWdlLCB1cmk6ICdpbWcxLmpwZycgfSksXG4gICAgICAgIHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UoeyAuLi5tb2NrUHJvY2Vzc2VkSW1hZ2UsIHVyaTogJ2ltZzIuanBnJyB9KSxcbiAgICAgICAgc2VydmljZS51cGxvYWRQcm9jZXNzZWRJbWFnZSh7IC4uLm1vY2tQcm9jZXNzZWRJbWFnZSwgdXJpOiAnaW1nMy5qcGcnIH0pLFxuICAgICAgXTtcblxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHVwbG9hZFByb21pc2VzKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgzKTtcbiAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LnVwbG9hZElkKS50b0JlKCd1cGxvYWQtMTIzJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGV4dHJlbWVseSBsYXJnZSBmaWxlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGh1Z2VJbWFnZSA9IHtcbiAgICAgICAgLi4ubW9ja1Byb2Nlc3NlZEltYWdlLFxuICAgICAgICBmaWxlU2l6ZTogMTAwICogMTAyNCAqIDEwMjQsIC8vIDEwME1CXG4gICAgICB9O1xuXG4gICAgICAvLyBNb2NrIHJlYWRpbmcgbGFyZ2UgYmFzZTY0IGRhdGFcbiAgICAgIGNvbnN0IGxhcmdlQmFzZTY0ID0gJ0EnLnJlcGVhdCgxMDI0ICogMTAyNCk7IC8vIDFNQiBvZiBiYXNlNjRcbiAgICAgIG1vY2tGaWxlU3lzdGVtLnJlYWRBc1N0cmluZ0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKGxhcmdlQmFzZTY0KTtcblxuICAgICAgYXdhaXQgc2VydmljZS51cGxvYWRQcm9jZXNzZWRJbWFnZShodWdlSW1hZ2UpO1xuXG4gICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0LmFueShTdHJpbmcpLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgYm9keTogZXhwZWN0LmFueShCbG9iKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgcHJvY2Vzc2VkIGltYWdlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1hbGZvcm1lZEltYWdlID0ge1xuICAgICAgICB1cmk6ICd0ZXN0LmpwZycsXG4gICAgICAgIC8vIE1pc3NpbmcgcmVxdWlyZWQgZmllbGRzXG4gICAgICB9IGFzIFByb2Nlc3NlZEltYWdlO1xuXG4gICAgICBhd2FpdCBleHBlY3Qoc2VydmljZS51cGxvYWRQcm9jZXNzZWRJbWFnZShtYWxmb3JtZWRJbWFnZSkpLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdXBsb2FkIHJlZ2lzdHJhdGlvbiB3aXRoIG1pc3NpbmcgcmVzcG9uc2UgZmllbGRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXBsb2FkOiB7fSwgLy8gRW1wdHkgdXBsb2FkIG9iamVjdFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UobW9ja1Byb2Nlc3NlZEltYWdlKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7XG4gICAgICAgIHVwbG9hZElkOiAnJyxcbiAgICAgICAgczNLZXk6ICd0ZXN0LWtleS0xMjMnLFxuICAgICAgICB1cmw6IGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCdzMy5hbWF6b25hd3MuY29tJyksXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICBhbmFseXNpczogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwcm9ncmVzcyBjYWxsYmFjayBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yQ2FsbGJhY2sgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9ncmVzcyBjYWxsYmFjayBmYWlsZWQnKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaG91bGQgbm90IGZhaWwgdGhlIHVwbG9hZCBkdWUgdG8gcHJvZ3Jlc3MgY2FsbGJhY2sgZXJyb3JcbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLnVwbG9hZFByb2Nlc3NlZEltYWdlKG1vY2tQcm9jZXNzZWRJbWFnZSwgJ3BldCcsIHVuZGVmaW5lZCwgZXJyb3JDYWxsYmFjaykpLnJlc29sdmVzLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBmaWxlIHN5c3RlbSByZWFkIGVycm9ycyBkdXJpbmcgYmxvYiBjb252ZXJzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZpbGVTeXN0ZW0ucmVhZEFzU3RyaW5nQXN5bmMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdGaWxlIHN5c3RlbSBlcnJvcicpKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UobW9ja1Byb2Nlc3NlZEltYWdlKSkucmVqZWN0cy50b1Rocm93KCdGaWxlIHN5c3RlbSBlcnJvcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBiYXNlNjQgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGaWxlU3lzdGVtLnJlYWRBc1N0cmluZ0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKCdpbnZhbGlkIGJhc2U2NCFAIyQlJyk7XG5cbiAgICAgIC8vIGF0b2Igd2lsbCB0aHJvdyBvbiBpbnZhbGlkIGJhc2U2NCwgYnV0IHRoZSBtZXRob2Qgc2hvdWxkIGhhbmRsZSBpdFxuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UudXBsb2FkUHJvY2Vzc2VkSW1hZ2UobW9ja1Byb2Nlc3NlZEltYWdlKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwb2xsaW5nIHdpdGggaW52YWxpZCB1cGxvYWQgSURzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1JlcXVlc3QubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdVcGxvYWQgbm90IGZvdW5kJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3Qoc2VydmljZS5wb2xsVXBsb2FkU3RhdHVzKCdpbnZhbGlkLWlkJykpLnJlamVjdHMudG9UaHJvdygnVXBsb2FkIG5vdCBmb3VuZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYmF0Y2ggdXBsb2FkIHdpdGggYWxsIGZhaWx1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlKHsgb2s6IGZhbHNlIH0gYXMgYW55KTtcblxuICAgICAgY29uc3QgaW1hZ2VzID0gW21vY2tQcm9jZXNzZWRJbWFnZSwgbW9ja1Byb2Nlc3NlZEltYWdlXTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzZXJ2aWNlLnVwbG9hZEJhdGNoKGltYWdlcyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0VxdWFsKFtdKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGR1cGxpY2F0ZSBjaGVjayB3aXRoIG1hbGZvcm1lZCByZXNwb25zZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUmVxdWVzdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6ICdpbnZhbGlkIHJlc3BvbnNlIGZvcm1hdCcsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5jaGVja0R1cGxpY2F0ZSgndXBsb2FkLTEyMycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgaXNEdXBsaWNhdGU6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSByZXRyeSB3aXRoIGludmFsaWQgcGFyYW1ldGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tVcGxvYWRXaXRoUmV0cnkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdJbnZhbGlkIHJldHJ5IHBhcmFtcycpKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UucmV0cnlVcGxvYWQobW9ja1Byb2Nlc3NlZEltYWdlLCAnaW52YWxpZCcgYXMgYW55KSkucmVqZWN0cy50b1Rocm93KCdJbnZhbGlkIHJl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