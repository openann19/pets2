{"version":3,"names":["_api","require","_interopRequireWildcard","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","track","_x","_x2","_track","_asyncToGenerator2","event","props","request","method","body","error","_yield$import","Promise","resolve","then","logger","errorDetails","Error","warn","AnalyticsEvents","exports","USER_SIGNED_UP","USER_LOGGED_IN","USER_LOGGED_OUT","PREMIUM_SUBSCRIBED","PREMIUM_CANCELLED","PREMIUM_FEATURE_USED","SWIPE_RIGHT","SWIPE_LEFT","SWIPE_SUPERLIKE","MATCH_CREATED","MATCH_OPENED","MATCH_BLOCKED","MESSAGE_SENT","MESSAGE_RECEIVED","VOICE_NOTE_SENT","PROFILE_VIEWED","PROFILE_EDITED","PHOTO_UPLOADED","ACTIVITY_STARTED","ACTIVITY_ENDED","PIN_LIKED","PIN_COMMENTED","SETTINGS_UPDATED","NOTIFICATION_PREFERENCE_CHANGED","trackScreenView","screenName","screen","trackUserAction","action"],"sources":["analyticsService.ts"],"sourcesContent":["import { request } from './api';\n\nexport interface AnalyticsEvent {\n  event: string;\n  props?: Record<string, any>;\n}\n\n/**\n * Track analytics events\n */\nexport async function track(event: string, props?: Record<string, any>): Promise<void> {\n  try {\n    await request('/admin/analytics/track', { method: 'POST', body: { event, props } });\n  } catch (error: unknown) {\n    // Analytics failures should not break the app - log silently via logger\n    const { logger } = await import('./logger');\n    const errorDetails = error instanceof Error ? error : new Error('Unknown analytics error');\n    logger.warn('Analytics tracking failed', { error: errorDetails, event, props });\n  }\n}\n\n/**\n * Common event types for the app\n */\nexport const AnalyticsEvents = {\n  // Auth\n  USER_SIGNED_UP: 'user.signed_up',\n  USER_LOGGED_IN: 'user.logged_in',\n  USER_LOGGED_OUT: 'user.logged_out',\n\n  // Premium\n  PREMIUM_SUBSCRIBED: 'premium.subscribed',\n  PREMIUM_CANCELLED: 'premium.cancelled',\n  PREMIUM_FEATURE_USED: 'premium.feature_used',\n\n  // Swipe\n  SWIPE_RIGHT: 'swipe.right',\n  SWIPE_LEFT: 'swipe.left',\n  SWIPE_SUPERLIKE: 'swipe.superlike',\n\n  // Match\n  MATCH_CREATED: 'match.created',\n  MATCH_OPENED: 'match.opened',\n  MATCH_BLOCKED: 'match.blocked',\n\n  // Chat\n  MESSAGE_SENT: 'message.sent',\n  MESSAGE_RECEIVED: 'message.received',\n  VOICE_NOTE_SENT: 'voice_note.sent',\n\n  // Profile\n  PROFILE_VIEWED: 'profile.viewed',\n  PROFILE_EDITED: 'profile.edited',\n  PHOTO_UPLOADED: 'photo.uploaded',\n\n  // Map\n  ACTIVITY_STARTED: 'activity.started',\n  ACTIVITY_ENDED: 'activity.ended',\n  PIN_LIKED: 'pin.liked',\n  PIN_COMMENTED: 'pin.commented',\n\n  // Settings\n  SETTINGS_UPDATED: 'settings.updated',\n  NOTIFICATION_PREFERENCE_CHANGED: 'notification.preference_changed',\n} as const;\n\n/**\n * Track page views\n */\nexport function trackScreenView(screenName: string, props?: Record<string, any>): void {\n  track('screen_view', { screen: screenName, ...props });\n}\n\n/**\n * Track user actions\n */\nexport function trackUserAction(action: string, props?: Record<string, any>): void {\n  track('user_action', { action, ...props });\n}\n\n"],"mappings":"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","ignoreList":[]}