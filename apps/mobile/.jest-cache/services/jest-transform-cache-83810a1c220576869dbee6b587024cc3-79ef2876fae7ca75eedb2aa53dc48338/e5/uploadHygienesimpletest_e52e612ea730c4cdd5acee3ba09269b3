58b88dfdeaf29ecbc259803b141e5c8b
"use strict";

_getJestObj().mock('expo-image-picker');
_getJestObj().mock('expo-image-manipulator');
_getJestObj().mock('expo-file-system');
_getJestObj().mock("../logger", function () {
  return {
    logger: {
      info: _globals.jest.fn(),
      warn: _globals.jest.fn(),
      error: _globals.jest.fn(),
      debug: _globals.jest.fn(),
      security: _globals.jest.fn(),
      bufferOfflineLog: _globals.jest.fn().mockResolvedValue(undefined),
      flushOfflineLogs: _globals.jest.fn().mockResolvedValue(undefined),
      setUserInfo: _globals.jest.fn(),
      clearUserInfo: _globals.jest.fn(),
      getSessionId: _globals.jest.fn().mockReturnValue('test-session'),
      destroy: _globals.jest.fn()
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _globals = require("@jest/globals");
var ImagePicker = _interopRequireWildcard(require("expo-image-picker"));
var ImageManipulator = _interopRequireWildcard(require("expo-image-manipulator"));
var FileSystem = _interopRequireWildcard(require("expo-file-system"));
var _uploadHygiene = require("../uploadHygiene");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockImagePicker = ImagePicker;
var mockImageManipulator = ImageManipulator;
var mockFileSystem = FileSystem;
(0, _globals.describe)('UploadHygiene Service - Simplified Tests', function () {
  (0, _globals.beforeEach)(function () {
    _globals.jest.clearAllMocks();
    mockImageManipulator.manipulateAsync.mockResolvedValue({
      uri: 'processed-image.jpg',
      width: 1024,
      height: 768,
      base64: undefined
    });
    mockFileSystem.getInfoAsync.mockResolvedValue({
      exists: true,
      isDirectory: false,
      size: 512000,
      uri: 'test-image.jpg',
      modificationTime: Date.now()
    });
    mockImagePicker.requestMediaLibraryPermissionsAsync.mockResolvedValue({
      status: 'granted',
      granted: true,
      canAskAgain: true
    });
    mockImagePicker.requestCameraPermissionsAsync.mockResolvedValue({
      status: 'granted',
      granted: true,
      canAskAgain: true
    });
    mockImagePicker.launchImageLibraryAsync.mockResolvedValue({
      canceled: false,
      assets: [{
        uri: 'picked-image.jpg',
        width: 2048,
        height: 1536,
        type: 'image',
        fileName: 'test.jpg',
        fileSize: 1024000,
        exif: {}
      }]
    });
    mockImagePicker.launchCameraAsync.mockResolvedValue({
      canceled: false,
      assets: [{
        uri: 'captured-image.jpg',
        width: 2048,
        height: 1536,
        type: 'image',
        fileName: 'capture.jpg',
        fileSize: 1024000,
        exif: {}
      }]
    });
  });
  (0, _globals.describe)('processImageForUpload', function () {
    (0, _globals.it)('should process image successfully', (0, _asyncToGenerator2.default)(function* () {
      var result = yield (0, _uploadHygiene.processImageForUpload)('test.jpg');
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(result.uri).toBe('processed-image.jpg');
      (0, _globals.expect)(result.width).toBe(1024);
      (0, _globals.expect)(result.height).toBe(768);
      (0, _globals.expect)(result.fileSize).toBe(512000);
      (0, _globals.expect)(result.mimeType).toBe('image/jpeg');
    }));
    (0, _globals.it)('should reject invalid file types', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockResolvedValue({
        exists: true,
        isDirectory: false,
        size: 1000,
        uri: 'test.txt',
        modificationTime: Date.now()
      });
      yield (0, _globals.expect)((0, _uploadHygiene.processImageForUpload)('test.txt')).rejects.toThrow('Invalid file type');
    }));
  });
  (0, _globals.describe)('pickAndProcessImage', function () {
    (0, _globals.it)('should pick and process image successfully', (0, _asyncToGenerator2.default)(function* () {
      var result = yield (0, _uploadHygiene.pickAndProcessImage)();
      (0, _globals.expect)(mockImagePicker.requestMediaLibraryPermissionsAsync).toHaveBeenCalled();
      (0, _globals.expect)(mockImagePicker.launchImageLibraryAsync).toHaveBeenCalled();
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(result.uri).toBe('processed-image.jpg');
    }));
    (0, _globals.it)('should handle permission denial', (0, _asyncToGenerator2.default)(function* () {
      mockImagePicker.requestMediaLibraryPermissionsAsync.mockResolvedValue({
        status: 'denied',
        granted: false,
        canAskAgain: true
      });
      yield (0, _globals.expect)((0, _uploadHygiene.pickAndProcessImage)()).rejects.toThrow('Camera roll permissions not granted');
    }));
    (0, _globals.it)('should handle user cancellation', (0, _asyncToGenerator2.default)(function* () {
      mockImagePicker.launchImageLibraryAsync.mockResolvedValue({
        canceled: true,
        assets: null
      });
      var result = yield (0, _uploadHygiene.pickAndProcessImage)();
      (0, _globals.expect)(result).toBeNull();
    }));
  });
  (0, _globals.describe)('captureAndProcessImage', function () {
    (0, _globals.it)('should capture and process image successfully', (0, _asyncToGenerator2.default)(function* () {
      var result = yield (0, _uploadHygiene.captureAndProcessImage)();
      (0, _globals.expect)(mockImagePicker.requestCameraPermissionsAsync).toHaveBeenCalled();
      (0, _globals.expect)(mockImagePicker.launchCameraAsync).toHaveBeenCalled();
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(result.uri).toBe('processed-image.jpg');
    }));
    (0, _globals.it)('should handle camera permission denial', (0, _asyncToGenerator2.default)(function* () {
      mockImagePicker.requestCameraPermissionsAsync.mockResolvedValue({
        status: 'denied',
        granted: false,
        canAskAgain: false
      });
      yield (0, _globals.expect)((0, _uploadHygiene.captureAndProcessImage)()).rejects.toThrow('Camera permissions not granted');
    }));
  });
  (0, _globals.describe)('checkUploadQuota', function () {
    (0, _globals.it)('should return quota information', (0, _asyncToGenerator2.default)(function* () {
      var result = yield (0, _uploadHygiene.checkUploadQuota)('user123');
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(result.allowed).toBe(true);
      (0, _globals.expect)(result.remaining).toBe(10);
      (0, _globals.expect)(result.limit).toBe(10);
      (0, _globals.expect)(result.resetAt).toBeInstanceOf(Date);
    }));
  });
  (0, _globals.describe)('uploadWithRetry', function () {
    (0, _globals.it)('should succeed on first attempt', (0, _asyncToGenerator2.default)(function* () {
      var uploadFn = _globals.jest.fn().mockResolvedValue('success');
      var result = yield (0, _uploadHygiene.uploadWithRetry)(uploadFn);
      (0, _globals.expect)(result).toBe('success');
      (0, _globals.expect)(uploadFn).toHaveBeenCalledTimes(1);
    }));
    (0, _globals.it)('should retry on failure and succeed', (0, _asyncToGenerator2.default)(function* () {
      var uploadFn = _globals.jest.fn();
      uploadFn.mockRejectedValueOnce(new Error('Attempt 1 failed')).mockResolvedValueOnce('success');
      var result = yield (0, _uploadHygiene.uploadWithRetry)(uploadFn, 3, 100);
      (0, _globals.expect)(result).toBe('success');
      (0, _globals.expect)(uploadFn).toHaveBeenCalledTimes(2);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJsb2dnZXIiLCJpbmZvIiwiamVzdCIsImZuIiwid2FybiIsImVycm9yIiwiZGVidWciLCJzZWN1cml0eSIsImJ1ZmZlck9mZmxpbmVMb2ciLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVuZGVmaW5lZCIsImZsdXNoT2ZmbGluZUxvZ3MiLCJzZXRVc2VySW5mbyIsImNsZWFyVXNlckluZm8iLCJnZXRTZXNzaW9uSWQiLCJtb2NrUmV0dXJuVmFsdWUiLCJkZXN0cm95IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfZ2xvYmFscyIsIkltYWdlUGlja2VyIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJJbWFnZU1hbmlwdWxhdG9yIiwiRmlsZVN5c3RlbSIsIl91cGxvYWRIeWdpZW5lIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfcmVxdWlyZSIsIm1vY2tJbWFnZVBpY2tlciIsIm1vY2tJbWFnZU1hbmlwdWxhdG9yIiwibW9ja0ZpbGVTeXN0ZW0iLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibWFuaXB1bGF0ZUFzeW5jIiwidXJpIiwid2lkdGgiLCJoZWlnaHQiLCJiYXNlNjQiLCJnZXRJbmZvQXN5bmMiLCJleGlzdHMiLCJpc0RpcmVjdG9yeSIsInNpemUiLCJtb2RpZmljYXRpb25UaW1lIiwiRGF0ZSIsIm5vdyIsInJlcXVlc3RNZWRpYUxpYnJhcnlQZXJtaXNzaW9uc0FzeW5jIiwic3RhdHVzIiwiZ3JhbnRlZCIsImNhbkFza0FnYWluIiwicmVxdWVzdENhbWVyYVBlcm1pc3Npb25zQXN5bmMiLCJsYXVuY2hJbWFnZUxpYnJhcnlBc3luYyIsImNhbmNlbGVkIiwiYXNzZXRzIiwidHlwZSIsImZpbGVOYW1lIiwiZmlsZVNpemUiLCJleGlmIiwibGF1bmNoQ2FtZXJhQXN5bmMiLCJpdCIsInJlc3VsdCIsInByb2Nlc3NJbWFnZUZvclVwbG9hZCIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwidG9CZSIsIm1pbWVUeXBlIiwicmVqZWN0cyIsInRvVGhyb3ciLCJwaWNrQW5kUHJvY2Vzc0ltYWdlIiwidG9IYXZlQmVlbkNhbGxlZCIsInRvQmVOdWxsIiwiY2FwdHVyZUFuZFByb2Nlc3NJbWFnZSIsImNoZWNrVXBsb2FkUXVvdGEiLCJhbGxvd2VkIiwicmVtYWluaW5nIiwibGltaXQiLCJyZXNldEF0IiwidG9CZUluc3RhbmNlT2YiLCJ1cGxvYWRGbiIsInVwbG9hZFdpdGhSZXRyeSIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIl0sInNvdXJjZXMiOlsidXBsb2FkSHlnaWVuZS5zaW1wbGUudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNpbXBsaWZpZWQgdGVzdHMgZm9yIFVwbG9hZEh5Z2llbmUgU2VydmljZVxuICogRm9jdXNlcyBvbiBjb3JlIGZ1bmN0aW9uYWxpdHkgd2l0aG91dCBleHRlbnNpdmUgbW9jayBpbXBsZW1lbnRhdGlvbnNcbiAqL1xuXG5pbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgamVzdCwgYmVmb3JlRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0ICogYXMgSW1hZ2VQaWNrZXIgZnJvbSAnZXhwby1pbWFnZS1waWNrZXInO1xuaW1wb3J0ICogYXMgSW1hZ2VNYW5pcHVsYXRvciBmcm9tICdleHBvLWltYWdlLW1hbmlwdWxhdG9yJztcbmltcG9ydCAqIGFzIEZpbGVTeXN0ZW0gZnJvbSAnZXhwby1maWxlLXN5c3RlbSc7XG5pbXBvcnQge1xuICBwcm9jZXNzSW1hZ2VGb3JVcGxvYWQsXG4gIHBpY2tBbmRQcm9jZXNzSW1hZ2UsXG4gIGNhcHR1cmVBbmRQcm9jZXNzSW1hZ2UsXG4gIGNoZWNrVXBsb2FkUXVvdGEsXG4gIHVwbG9hZFdpdGhSZXRyeSxcbn0gZnJvbSAnLi4vdXBsb2FkSHlnaWVuZSc7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJ2V4cG8taW1hZ2UtcGlja2VyJyk7XG5qZXN0Lm1vY2soJ2V4cG8taW1hZ2UtbWFuaXB1bGF0b3InKTtcbmplc3QubW9jaygnZXhwby1maWxlLXN5c3RlbScpO1xuamVzdC5tb2NrKCcuLi9sb2dnZXInLCAoKSA9PiAoe1xuICBsb2dnZXI6IHtcbiAgICBpbmZvOiBqZXN0LmZuKCksXG4gICAgd2FybjogamVzdC5mbigpLFxuICAgIGVycm9yOiBqZXN0LmZuKCksXG4gICAgZGVidWc6IGplc3QuZm4oKSxcbiAgICBzZWN1cml0eTogamVzdC5mbigpLFxuICAgIGJ1ZmZlck9mZmxpbmVMb2c6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIGZsdXNoT2ZmbGluZUxvZ3M6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIHNldFVzZXJJbmZvOiBqZXN0LmZuKCksXG4gICAgY2xlYXJVc2VySW5mbzogamVzdC5mbigpLFxuICAgIGdldFNlc3Npb25JZDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgndGVzdC1zZXNzaW9uJyksXG4gICAgZGVzdHJveTogamVzdC5mbigpLFxuICB9XG59KSk7XG5cbmNvbnN0IG1vY2tJbWFnZVBpY2tlciA9IEltYWdlUGlja2VyIGFzIGFueTtcbmNvbnN0IG1vY2tJbWFnZU1hbmlwdWxhdG9yID0gSW1hZ2VNYW5pcHVsYXRvciBhcyBhbnk7XG5jb25zdCBtb2NrRmlsZVN5c3RlbSA9IEZpbGVTeXN0ZW0gYXMgYW55O1xuXG5kZXNjcmliZSgnVXBsb2FkSHlnaWVuZSBTZXJ2aWNlIC0gU2ltcGxpZmllZCBUZXN0cycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgXG4gICAgLy8gU2V0dXAgbWluaW1hbCBtb2Nrc1xuICAgIG1vY2tJbWFnZU1hbmlwdWxhdG9yLm1hbmlwdWxhdGVBc3luYy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICB1cmk6ICdwcm9jZXNzZWQtaW1hZ2UuanBnJyxcbiAgICAgIHdpZHRoOiAxMDI0LFxuICAgICAgaGVpZ2h0OiA3NjgsXG4gICAgICBiYXNlNjQ6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgICBcbiAgICBtb2NrRmlsZVN5c3RlbS5nZXRJbmZvQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZXhpc3RzOiB0cnVlLFxuICAgICAgaXNEaXJlY3Rvcnk6IGZhbHNlLFxuICAgICAgc2l6ZTogNTEyMDAwLFxuICAgICAgdXJpOiAndGVzdC1pbWFnZS5qcGcnLFxuICAgICAgbW9kaWZpY2F0aW9uVGltZTogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgICBcbiAgICBtb2NrSW1hZ2VQaWNrZXIucmVxdWVzdE1lZGlhTGlicmFyeVBlcm1pc3Npb25zQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgc3RhdHVzOiAnZ3JhbnRlZCcgYXMgYW55LFxuICAgICAgZ3JhbnRlZDogdHJ1ZSxcbiAgICAgIGNhbkFza0FnYWluOiB0cnVlLFxuICAgIH0gYXMgYW55KTtcbiAgICBcbiAgICBtb2NrSW1hZ2VQaWNrZXIucmVxdWVzdENhbWVyYVBlcm1pc3Npb25zQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgc3RhdHVzOiAnZ3JhbnRlZCcgYXMgYW55LFxuICAgICAgZ3JhbnRlZDogdHJ1ZSxcbiAgICAgIGNhbkFza0FnYWluOiB0cnVlLFxuICAgIH0gYXMgYW55KTtcbiAgICBcbiAgICBtb2NrSW1hZ2VQaWNrZXIubGF1bmNoSW1hZ2VMaWJyYXJ5QXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgY2FuY2VsZWQ6IGZhbHNlLFxuICAgICAgYXNzZXRzOiBbe1xuICAgICAgICB1cmk6ICdwaWNrZWQtaW1hZ2UuanBnJyxcbiAgICAgICAgd2lkdGg6IDIwNDgsXG4gICAgICAgIGhlaWdodDogMTUzNixcbiAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgZmlsZU5hbWU6ICd0ZXN0LmpwZycsXG4gICAgICAgIGZpbGVTaXplOiAxMDI0MDAwLFxuICAgICAgICAvLyBtaW1lVHlwZSBpcyBub3QgcGFydCBvZiBJbWFnZVBpY2tlckFzc2V0IHR5cGVcbiAgICAgICAgZXhpZjoge30sXG4gICAgICB9XSxcbiAgICB9IGFzIGFueSk7XG4gICAgXG4gICAgbW9ja0ltYWdlUGlja2VyLmxhdW5jaENhbWVyYUFzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGNhbmNlbGVkOiBmYWxzZSxcbiAgICAgIGFzc2V0czogW3tcbiAgICAgICAgdXJpOiAnY2FwdHVyZWQtaW1hZ2UuanBnJyxcbiAgICAgICAgd2lkdGg6IDIwNDgsXG4gICAgICAgIGhlaWdodDogMTUzNixcbiAgICAgICAgdHlwZTogJ2ltYWdlJyxcbiAgICAgICAgZmlsZU5hbWU6ICdjYXB0dXJlLmpwZycsXG4gICAgICAgIGZpbGVTaXplOiAxMDI0MDAwLFxuICAgICAgICAvLyBtaW1lVHlwZSBpcyBub3QgcGFydCBvZiBJbWFnZVBpY2tlckFzc2V0IHR5cGVcbiAgICAgICAgZXhpZjoge30sXG4gICAgICB9XSxcbiAgICB9IGFzIGFueSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdwcm9jZXNzSW1hZ2VGb3JVcGxvYWQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcm9jZXNzIGltYWdlIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb2Nlc3NJbWFnZUZvclVwbG9hZCgndGVzdC5qcGcnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXJpKS50b0JlKCdwcm9jZXNzZWQtaW1hZ2UuanBnJyk7XG4gICAgICBleHBlY3QocmVzdWx0LndpZHRoKS50b0JlKDEwMjQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5oZWlnaHQpLnRvQmUoNzY4KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZmlsZVNpemUpLnRvQmUoNTEyMDAwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWltZVR5cGUpLnRvQmUoJ2ltYWdlL2pwZWcnKTtcbiAgICB9KTtcbiAgICBcbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIGZpbGUgdHlwZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmlsZVN5c3RlbS5nZXRJbmZvQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBleGlzdHM6IHRydWUsXG4gICAgICAgIGlzRGlyZWN0b3J5OiBmYWxzZSxcbiAgICAgICAgc2l6ZTogMTAwMCxcbiAgICAgICAgdXJpOiAndGVzdC50eHQnLFxuICAgICAgICBtb2RpZmljYXRpb25UaW1lOiBEYXRlLm5vdygpLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGV4cGVjdChwcm9jZXNzSW1hZ2VGb3JVcGxvYWQoJ3Rlc3QudHh0JykpLnJlamVjdHMudG9UaHJvdygnSW52YWxpZCBmaWxlIHR5cGUnKTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgncGlja0FuZFByb2Nlc3NJbWFnZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHBpY2sgYW5kIHByb2Nlc3MgaW1hZ2Ugc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGlja0FuZFByb2Nlc3NJbWFnZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja0ltYWdlUGlja2VyLnJlcXVlc3RNZWRpYUxpYnJhcnlQZXJtaXNzaW9uc0FzeW5jKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja0ltYWdlUGlja2VyLmxhdW5jaEltYWdlTGlicmFyeUFzeW5jKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdCEudXJpKS50b0JlKCdwcm9jZXNzZWQtaW1hZ2UuanBnJyk7XG4gICAgfSk7XG4gICAgXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGVybWlzc2lvbiBkZW5pYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSW1hZ2VQaWNrZXIucmVxdWVzdE1lZGlhTGlicmFyeVBlcm1pc3Npb25zQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdGF0dXM6ICdkZW5pZWQnIGFzIGFueSxcbiAgICAgICAgZ3JhbnRlZDogZmFsc2UsXG4gICAgICAgIGNhbkFza0FnYWluOiB0cnVlLFxuICAgICAgfSBhcyBhbnkpO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QocGlja0FuZFByb2Nlc3NJbWFnZSgpKS5yZWplY3RzLnRvVGhyb3coJ0NhbWVyYSByb2xsIHBlcm1pc3Npb25zIG5vdCBncmFudGVkJyk7XG4gICAgfSk7XG4gICAgXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdXNlciBjYW5jZWxsYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSW1hZ2VQaWNrZXIubGF1bmNoSW1hZ2VMaWJyYXJ5QXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBjYW5jZWxlZDogdHJ1ZSxcbiAgICAgICAgYXNzZXRzOiBudWxsLFxuICAgICAgfSBhcyBhbnkpO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwaWNrQW5kUHJvY2Vzc0ltYWdlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ2NhcHR1cmVBbmRQcm9jZXNzSW1hZ2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYXB0dXJlIGFuZCBwcm9jZXNzIGltYWdlIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNhcHR1cmVBbmRQcm9jZXNzSW1hZ2UoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tJbWFnZVBpY2tlci5yZXF1ZXN0Q2FtZXJhUGVybWlzc2lvbnNBc3luYykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tJbWFnZVBpY2tlci5sYXVuY2hDYW1lcmFBc3luYykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQhLnVyaSkudG9CZSgncHJvY2Vzc2VkLWltYWdlLmpwZycpO1xuICAgIH0pO1xuICAgIFxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNhbWVyYSBwZXJtaXNzaW9uIGRlbmlhbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tJbWFnZVBpY2tlci5yZXF1ZXN0Q2FtZXJhUGVybWlzc2lvbnNBc3luYy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN0YXR1czogJ2RlbmllZCcgYXMgYW55LFxuICAgICAgICBncmFudGVkOiBmYWxzZSxcbiAgICAgICAgY2FuQXNrQWdhaW46IGZhbHNlLFxuICAgICAgfSBhcyBhbnkpO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QoY2FwdHVyZUFuZFByb2Nlc3NJbWFnZSgpKS5yZWplY3RzLnRvVGhyb3coJ0NhbWVyYSBwZXJtaXNzaW9ucyBub3QgZ3JhbnRlZCcpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdjaGVja1VwbG9hZFF1b3RhJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHF1b3RhIGluZm9ybWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tVcGxvYWRRdW90YSgndXNlcjEyMycpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5hbGxvd2VkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZW1haW5pbmcpLnRvQmUoMTApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5saW1pdCkudG9CZSgxMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc2V0QXQpLnRvQmVJbnN0YW5jZU9mKERhdGUpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCd1cGxvYWRXaXRoUmV0cnknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzdWNjZWVkIG9uIGZpcnN0IGF0dGVtcHQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBHaXZlIHRoZSBtb2NrIGEgc2hhcGUgc28gVFMgZG9lc24ndCBpbmZlciBgbmV2ZXJgXG4gICAgICB0eXBlIFVwbG9hZEZuID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBQcm9taXNlPHN0cmluZz47XG4gICAgICBjb25zdCB1cGxvYWRGbjogamVzdC5Nb2NrZWRGdW5jdGlvbjxVcGxvYWRGbj4gPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ3N1Y2Nlc3MnKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBsb2FkV2l0aFJldHJ5KHVwbG9hZEZuKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnc3VjY2VzcycpO1xuICAgICAgZXhwZWN0KHVwbG9hZEZuKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgfSk7XG4gICAgXG4gICAgaXQoJ3Nob3VsZCByZXRyeSBvbiBmYWlsdXJlIGFuZCBzdWNjZWVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gR2l2ZSB0aGUgbW9jayBhIHNoYXBlIHNvIFRTIGRvZXNuJ3QgaW5mZXIgYG5ldmVyYFxuICAgICAgdHlwZSBVcGxvYWRGbiA9ICguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICAgICAgY29uc3QgdXBsb2FkRm46IGplc3QuTW9ja2VkRnVuY3Rpb248VXBsb2FkRm4+ID0gamVzdC5mbigpO1xuICAgICAgKHVwbG9hZEZuIGFzIGplc3QuTW9jaylcbiAgICAgICAgLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0F0dGVtcHQgMSBmYWlsZWQnKSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSgnc3VjY2VzcycpO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGxvYWRXaXRoUmV0cnkodXBsb2FkRm4sIDMsIDEwMCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ3N1Y2Nlc3MnKTtcbiAgICAgIGV4cGVjdCh1cGxvYWRGbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQWtCQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsbUJBQW1CLENBQUM7QUFDOUJELFdBQUEsR0FBS0MsSUFBSSxDQUFDLHdCQUF3QixDQUFDO0FBQ25DRCxXQUFBLEdBQUtDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztBQUM3QkQsV0FBQSxHQUFLQyxJQUFJLGNBQWM7RUFBQSxPQUFPO0lBQzVCQyxNQUFNLEVBQUU7TUFDTkMsSUFBSSxFQUFFQyxhQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO01BQ2ZDLElBQUksRUFBRUYsYUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUNmRSxLQUFLLEVBQUVILGFBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDaEJHLEtBQUssRUFBRUosYUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUNoQkksUUFBUSxFQUFFTCxhQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO01BQ25CSyxnQkFBZ0IsRUFBRU4sYUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDTSxp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