966b6c45a911c05a8543618636c93ecb
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSocket = getSocket;
exports.socketService = exports.socketClient = void 0;
var _socket = require("socket.io-client");
var URL = process.env.EXPO_PUBLIC_SOCKET_URL || process.env.SOCKET_URL || "";
var socket = null;
function getSocket() {
  if (!socket) {
    socket = (0, _socket.io)(URL, {
      transports: ["websocket"],
      forceNew: true,
      reconnection: true,
      reconnectionDelay: 1000,
      reconnectionDelayMax: 5000,
      reconnectionAttempts: 5
    });
  }
  return socket;
}
var socketClient = exports.socketClient = getSocket();
var socketService = exports.socketService = {
  connect: function connect() {
    return getSocket();
  },
  disconnect: function disconnect() {
    if (socket) {
      socket.disconnect();
      socket = null;
    }
  },
  getSocket: getSocket,
  socketClient: socketClient
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc29ja2V0IiwicmVxdWlyZSIsIlVSTCIsInByb2Nlc3MiLCJlbnYiLCJFWFBPX1BVQkxJQ19TT0NLRVRfVVJMIiwiU09DS0VUX1VSTCIsInNvY2tldCIsImdldFNvY2tldCIsImlvIiwidHJhbnNwb3J0cyIsImZvcmNlTmV3IiwicmVjb25uZWN0aW9uIiwicmVjb25uZWN0aW9uRGVsYXkiLCJyZWNvbm5lY3Rpb25EZWxheU1heCIsInJlY29ubmVjdGlvbkF0dGVtcHRzIiwic29ja2V0Q2xpZW50IiwiZXhwb3J0cyIsInNvY2tldFNlcnZpY2UiLCJjb25uZWN0IiwiZGlzY29ubmVjdCJdLCJzb3VyY2VzIjpbInNvY2tldC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbywgU29ja2V0IH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcblxuY29uc3QgVVJMID0gcHJvY2Vzcy5lbnYuRVhQT19QVUJMSUNfU09DS0VUX1VSTCB8fCBwcm9jZXNzLmVudi5TT0NLRVRfVVJMIHx8IFwiXCI7XG5cbmxldCBzb2NrZXQ6IFNvY2tldCB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U29ja2V0KCk6IFNvY2tldCB7XG4gIGlmICghc29ja2V0KSB7XG4gICAgc29ja2V0ID0gaW8oVVJMLCB7XG4gICAgICB0cmFuc3BvcnRzOiBbXCJ3ZWJzb2NrZXRcIl0sXG4gICAgICBmb3JjZU5ldzogdHJ1ZSxcbiAgICAgIHJlY29ubmVjdGlvbjogdHJ1ZSxcbiAgICAgIHJlY29ubmVjdGlvbkRlbGF5OiAxMDAwLFxuICAgICAgcmVjb25uZWN0aW9uRGVsYXlNYXg6IDUwMDAsXG4gICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogNSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gc29ja2V0O1xufVxuXG5leHBvcnQgY29uc3Qgc29ja2V0Q2xpZW50ID0gZ2V0U29ja2V0KCk7XG5cbi8vIEV4cG9ydCBhcyBzb2NrZXRTZXJ2aWNlIGZvciB0ZXN0IGNvbXBhdGliaWxpdHlcbmV4cG9ydCBjb25zdCBzb2NrZXRTZXJ2aWNlID0ge1xuICBjb25uZWN0OiAoKSA9PiBnZXRTb2NrZXQoKSxcbiAgZGlzY29ubmVjdDogKCkgPT4ge1xuICAgIGlmIChzb2NrZXQpIHtcbiAgICAgIHNvY2tldC5kaXNjb25uZWN0KCk7XG4gICAgICBzb2NrZXQgPSBudWxsO1xuICAgIH1cbiAgfSxcbiAgZ2V0U29ja2V0LFxuICBzb2NrZXRDbGllbnQsXG59O1xuXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFFQSxJQUFNQyxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxzQkFBc0IsSUFBSUYsT0FBTyxDQUFDQyxHQUFHLENBQUNFLFVBQVUsSUFBSSxFQUFFO0FBRTlFLElBQUlDLE1BQXFCLEdBQUcsSUFBSTtBQUV6QixTQUFTQyxTQUFTQSxDQUFBLEVBQVc7RUFDbEMsSUFBSSxDQUFDRCxNQUFNLEVBQUU7SUFDWEEsTUFBTSxHQUFHLElBQUFFLFVBQUUsRUFBQ1AsR0FBRyxFQUFFO01BQ2ZRLFVBQVUsRUFBRSxDQUFDLFdBQVcsQ0FBQztNQUN6QkMsUUFBUSxFQUFFLElBQUk7TUFDZEMsWUFBWSxFQUFFLElBQUk7TUFDbEJDLGlCQUFpQixFQUFFLElBQUk7TUFDdkJDLG9CQUFvQixFQUFFLElBQUk7TUFDMUJDLG9CQUFvQixFQUFFO0lBQ3hCLENBQUMsQ0FBQztFQUNKO0VBQ0EsT0FBT1IsTUFBTTtBQUNmO0FBRU8sSUFBTVMsWUFBWSxHQUFBQyxPQUFBLENBQUFELFlBQUEsR0FBR1IsU0FBUyxDQUFDLENBQUM7QUFHaEMsSUFBTVUsYUFBYSxHQUFBRCxPQUFBLENBQUFDLGFBQUEsR0FBRztFQUMzQkMsT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUE7SUFBQSxPQUFRWCxTQUFTLENBQUMsQ0FBQztFQUFBO0VBQzFCWSxVQUFVLEVBQUUsU0FBWkEsVUFBVUEsQ0FBQSxFQUFRO0lBQ2hCLElBQUliLE1BQU0sRUFBRTtNQUNWQSxNQUFNLENBQUNhLFVBQVUsQ0FBQyxDQUFDO01BQ25CYixNQUFNLEdBQUcsSUFBSTtJQUNmO0VBQ0YsQ0FBQztFQUNEQyxTQUFTLEVBQVRBLFNBQVM7RUFDVFEsWUFBWSxFQUFaQTtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=