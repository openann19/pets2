{"version":3,"names":["FileSystem","_interopRequireWildcard","require","_api","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","uploadPhoto","_x","_x2","_uploadPhoto","apply","arguments","_asyncToGenerator2","fileUri","contentType","data","request","method","body","uploadAsync","url","httpMethod","headers","uploadType","FileSystemUploadType","BINARY_CONTENT","key"],"sources":["photoUpload.ts"],"sourcesContent":["import * as FileSystem from \"expo-file-system\";\nimport { request } from \"./api\";\n\nexport async function uploadPhoto(fileUri: string, contentType: string) {\n  const data = await request<{ url: string; key: string }>(\"/uploads/photos/presign\", { method: 'POST', body: { contentType } });\n  await FileSystem.uploadAsync(data.url, fileUri, {\n    httpMethod: \"PUT\",\n    headers: { \"Content-Type\": contentType },\n    uploadType: FileSystem.FileSystemUploadType.BINARY_CONTENT,\n  });\n  return data.key;\n}\n\n"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,IAAA,GAAAD,OAAA;AAAgC,SAAAD,wBAAAG,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAL,uBAAA,YAAAA,wBAAAG,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,GAAA,IAAAd,CAAA,gBAAAc,GAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,GAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,GAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,GAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,GAAA,IAAAd,CAAA,CAAAc,GAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,SAEVmB,WAAWA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,YAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,aAAA;EAAAA,YAAA,OAAAG,kBAAA,CAAAhB,OAAA,EAA1B,WAA2BiB,OAAe,EAAEC,WAAmB,EAAE;IACtE,IAAMC,IAAI,SAAS,IAAAC,YAAO,EAA+B,yBAAyB,EAAE;MAAEC,MAAM,EAAE,MAAM;MAAEC,IAAI,EAAE;QAAEJ,WAAW,EAAXA;MAAY;IAAE,CAAC,CAAC;IAC9H,MAAMhC,UAAU,CAACqC,WAAW,CAACJ,IAAI,CAACK,GAAG,EAAEP,OAAO,EAAE;MAC9CQ,UAAU,EAAE,KAAK;MACjBC,OAAO,EAAE;QAAE,cAAc,EAAER;MAAY,CAAC;MACxCS,UAAU,EAAEzC,UAAU,CAAC0C,oBAAoB,CAACC;IAC9C,CAAC,CAAC;IACF,OAAOV,IAAI,CAACW,GAAG;EACjB,CAAC;EAAA,OAAAjB,YAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA","ignoreList":[]}