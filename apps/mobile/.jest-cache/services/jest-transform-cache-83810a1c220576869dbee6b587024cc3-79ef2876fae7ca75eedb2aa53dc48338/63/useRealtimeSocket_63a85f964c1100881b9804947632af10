db8751de17e5c9b0748f32ecad0ab3e5
"use strict";
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useRealtimeSocket = useRealtimeSocket;
var react_1 = require("react");
var logger_1 = require("../utils/logger");
var env_1 = require("../utils/env");
function useRealtimeSocket() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var _options$url = options.url,
    url = _options$url === void 0 ? process.env['NEXT_PUBLIC_SOCKET_URL'] || 'http://localhost:5000' : _options$url,
    _options$autoConnect = options.autoConnect,
    autoConnect = _options$autoConnect === void 0 ? true : _options$autoConnect;
  var _ref = (0, react_1.useState)(false),
    _ref2 = (0, _slicedToArray2.default)(_ref, 2),
    isConnected = _ref2[0],
    setIsConnected = _ref2[1];
  var _ref3 = (0, react_1.useState)(null),
    _ref4 = (0, _slicedToArray2.default)(_ref3, 2),
    error = _ref4[0],
    setError = _ref4[1];
  var socketRef = (0, react_1.useRef)(null);
  var connect = (0, react_1.useCallback)(function () {
    var _socketRef$current;
    if ((_socketRef$current = socketRef.current) != null && _socketRef$current.connected) {
      logger_1.logger.info('Socket already connected');
      return;
    }
    try {
      if (!(0, env_1.isBrowser)()) return;
      var mockSocket = {
        connected: false,
        on: function on() {},
        off: function off() {},
        emit: function emit() {},
        disconnect: function disconnect() {}
      };
      socketRef.current = mockSocket;
      setIsConnected(true);
      setError(null);
      logger_1.logger.info('Socket connected', {
        url: url
      });
    } catch (err) {
      var errorMessage = err instanceof Error ? err.message : 'Failed to connect';
      setError(errorMessage);
      logger_1.logger.error('Socket connection failed', {
        error: errorMessage
      });
    }
  }, [url]);
  var disconnect = (0, react_1.useCallback)(function () {
    if (socketRef.current) {
      socketRef.current.disconnect();
      socketRef.current = null;
      setIsConnected(false);
      logger_1.logger.info('Socket disconnected');
    }
  }, []);
  var emitTyping = (0, react_1.useCallback)(function (matchId, isTyping) {
    var _socketRef$current2;
    if (!((_socketRef$current2 = socketRef.current) != null && _socketRef$current2.connected)) {
      logger_1.logger.warn('Cannot emit typing - socket not connected');
      return;
    }
    socketRef.current.emit('typing', {
      matchId: matchId,
      isTyping: isTyping
    });
    logger_1.logger.info('Typing indicator emitted', {
      matchId: matchId,
      isTyping: isTyping
    });
  }, []);
  var onTyping = (0, react_1.useCallback)(function (callback) {
    if (!socketRef.current) return function () {};
    var handler = function handler(data) {
      callback(data);
    };
    socketRef.current.on('typing', handler);
    return function () {
      var _socketRef$current3;
      (_socketRef$current3 = socketRef.current) == null ? void 0 : _socketRef$current3.off('typing', handler);
    };
  }, []);
  var onMessage = (0, react_1.useCallback)(function (callback) {
    if (!socketRef.current) return function () {};
    var handler = function handler(data) {
      callback(data);
    };
    socketRef.current.on('message', handler);
    return function () {
      var _socketRef$current4;
      (_socketRef$current4 = socketRef.current) == null ? void 0 : _socketRef$current4.off('message', handler);
    };
  }, []);
  var onOnlineStatus = (0, react_1.useCallback)(function (callback) {
    if (!socketRef.current) return function () {};
    var handler = function handler(data) {
      callback(data);
    };
    socketRef.current.on('onlineStatus', handler);
    return function () {
      var _socketRef$current5;
      (_socketRef$current5 = socketRef.current) == null ? void 0 : _socketRef$current5.off('onlineStatus', handler);
    };
  }, []);
  (0, react_1.useEffect)(function () {
    if (autoConnect) {
      connect();
    }
    return function () {
      disconnect();
    };
  }, [autoConnect, connect, disconnect]);
  return {
    socket: socketRef.current,
    isConnected: isConnected,
    error: error,
    connect: connect,
    disconnect: disconnect,
    emitTyping: emitTyping,
    onTyping: onTyping,
    onMessage: onMessage,
    onOnlineStatus: onOnlineStatus
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9zbGljZWRUb0FycmF5MiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwidXNlUmVhbHRpbWVTb2NrZXQiLCJyZWFjdF8xIiwibG9nZ2VyXzEiLCJlbnZfMSIsIm9wdGlvbnMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJfb3B0aW9ucyR1cmwiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiX29wdGlvbnMkYXV0b0Nvbm5lY3QiLCJhdXRvQ29ubmVjdCIsIl9yZWYiLCJ1c2VTdGF0ZSIsIl9yZWYyIiwiZGVmYXVsdCIsImlzQ29ubmVjdGVkIiwic2V0SXNDb25uZWN0ZWQiLCJfcmVmMyIsIl9yZWY0IiwiZXJyb3IiLCJzZXRFcnJvciIsInNvY2tldFJlZiIsInVzZVJlZiIsImNvbm5lY3QiLCJ1c2VDYWxsYmFjayIsIl9zb2NrZXRSZWYkY3VycmVudCIsImN1cnJlbnQiLCJjb25uZWN0ZWQiLCJsb2dnZXIiLCJpbmZvIiwiaXNCcm93c2VyIiwibW9ja1NvY2tldCIsIm9uIiwib2ZmIiwiZW1pdCIsImRpc2Nvbm5lY3QiLCJlcnIiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJlbWl0VHlwaW5nIiwibWF0Y2hJZCIsImlzVHlwaW5nIiwiX3NvY2tldFJlZiRjdXJyZW50MiIsIndhcm4iLCJvblR5cGluZyIsImNhbGxiYWNrIiwiaGFuZGxlciIsImRhdGEiLCJfc29ja2V0UmVmJGN1cnJlbnQzIiwib25NZXNzYWdlIiwiX3NvY2tldFJlZiRjdXJyZW50NCIsIm9uT25saW5lU3RhdHVzIiwiX3NvY2tldFJlZiRjdXJyZW50NSIsInVzZUVmZmVjdCIsInNvY2tldCJdLCJzb3VyY2VzIjpbInVzZVJlYWx0aW1lU29ja2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBSZWFsLXRpbWUgV2ViU29ja2V0IEhvb2tcbiAqIFByb3ZpZGVzIHJlYWwtdGltZSB1cGRhdGVzIHZpYSBTb2NrZXQuaW9cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VSZWFsdGltZVNvY2tldCA9IHVzZVJlYWx0aW1lU29ja2V0O1xuY29uc3QgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbmNvbnN0IGxvZ2dlcl8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2xvZ2dlclwiKTtcbmNvbnN0IGVudl8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2VudlwiKTtcbi8qKlxuICogSG9vayBmb3IgcmVhbC10aW1lIFdlYlNvY2tldCBjb21tdW5pY2F0aW9uXG4gKi9cbmZ1bmN0aW9uIHVzZVJlYWx0aW1lU29ja2V0KG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgdXJsID0gcHJvY2Vzcy5lbnZbJ05FWFRfUFVCTElDX1NPQ0tFVF9VUkwnXSB8fCAnaHR0cDovL2xvY2FsaG9zdDo1MDAwJywgYXV0b0Nvbm5lY3QgPSB0cnVlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKGZhbHNlKTtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShudWxsKTtcbiAgICBjb25zdCBzb2NrZXRSZWYgPSAoMCwgcmVhY3RfMS51c2VSZWYpKG51bGwpO1xuICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0XG4gICAgY29uc3QgY29ubmVjdCA9ICgwLCByZWFjdF8xLnVzZUNhbGxiYWNrKSgoKSA9PiB7XG4gICAgICAgIGlmIChzb2NrZXRSZWYuY3VycmVudD8uY29ubmVjdGVkKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuaW5mbygnU29ja2V0IGFscmVhZHkgY29ubmVjdGVkJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIER5bmFtaWMgaW1wb3J0IHRvIGF2b2lkIFNTUiBpc3N1ZXNcbiAgICAgICAgICAgIGlmICghKDAsIGVudl8xLmlzQnJvd3NlcikoKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBVc2UgZXhpc3Rpbmcgc29ja2V0LmlvIGNsaWVudCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgIC8vIFRva2VuIHdvdWxkIGJlIHVzZWQgaGVyZTogZ2V0TG9jYWxTdG9yYWdlSXRlbSgnYWNjZXNzVG9rZW4nKVxuICAgICAgICAgICAgLy8gQ3JlYXRlIHNvY2tldCBjb25uZWN0aW9uIChzaW1wbGlmaWVkIC0gYWN0dWFsIGltcGxlbWVudGF0aW9uIHdvdWxkIHVzZSBzb2NrZXQuaW8tY2xpZW50KVxuICAgICAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwgY3JlYXRlIGEgbW9jayBzb2NrZXQgdGhhdCBjYW4gYmUgcmVwbGFjZWQgd2l0aCByZWFsIGltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICBjb25zdCBtb2NrU29ja2V0ID0ge1xuICAgICAgICAgICAgICAgIGNvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb246ICgpID0+IHsgfSxcbiAgICAgICAgICAgICAgICBvZmY6ICgpID0+IHsgfSxcbiAgICAgICAgICAgICAgICBlbWl0OiAoKSA9PiB7IH0sXG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdDogKCkgPT4geyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEluIHJlYWwgaW1wbGVtZW50YXRpb246XG4gICAgICAgICAgICAvLyBpbXBvcnQgaW8gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XG4gICAgICAgICAgICAvLyBjb25zdCBzb2NrZXQgPSBpbyh1cmwsIHtcbiAgICAgICAgICAgIC8vICAgYXV0aDogeyB0b2tlbiB9LFxuICAgICAgICAgICAgLy8gICB0cmFuc3BvcnRzOiBbJ3dlYnNvY2tldCddLFxuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICBzb2NrZXRSZWYuY3VycmVudCA9IG1vY2tTb2NrZXQ7XG4gICAgICAgICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmluZm8oJ1NvY2tldCBjb25uZWN0ZWQnLCB7IHVybCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBjb25uZWN0JztcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ1NvY2tldCBjb25uZWN0aW9uIGZhaWxlZCcsIHsgZXJyb3I6IGVycm9yTWVzc2FnZSB9KTtcbiAgICAgICAgfVxuICAgIH0sIFt1cmxdKTtcbiAgICAvLyBEaXNjb25uZWN0IGZyb20gV2ViU29ja2V0XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgwLCByZWFjdF8xLnVzZUNhbGxiYWNrKSgoKSA9PiB7XG4gICAgICAgIGlmIChzb2NrZXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgc29ja2V0UmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgc29ja2V0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmluZm8oJ1NvY2tldCBkaXNjb25uZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICAvLyBFbWl0IHR5cGluZyBpbmRpY2F0b3JcbiAgICBjb25zdCBlbWl0VHlwaW5nID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKChtYXRjaElkLCBpc1R5cGluZykgPT4ge1xuICAgICAgICBpZiAoIXNvY2tldFJlZi5jdXJyZW50Py5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdDYW5ub3QgZW1pdCB0eXBpbmcgLSBzb2NrZXQgbm90IGNvbm5lY3RlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoJ3R5cGluZycsIHsgbWF0Y2hJZCwgaXNUeXBpbmcgfSk7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5pbmZvKCdUeXBpbmcgaW5kaWNhdG9yIGVtaXR0ZWQnLCB7IG1hdGNoSWQsIGlzVHlwaW5nIH0pO1xuICAgIH0sIFtdKTtcbiAgICAvLyBMaXN0ZW4gZm9yIHR5cGluZyBpbmRpY2F0b3JzXG4gICAgY29uc3Qgb25UeXBpbmcgPSAoMCwgcmVhY3RfMS51c2VDYWxsYmFjaykoKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmICghc29ja2V0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICBzb2NrZXRSZWYuY3VycmVudC5vbigndHlwaW5nJywgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzb2NrZXRSZWYuY3VycmVudD8ub2ZmKCd0eXBpbmcnLCBoYW5kbGVyKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgLy8gTGlzdGVuIGZvciBuZXcgbWVzc2FnZXNcbiAgICBjb25zdCBvbk1lc3NhZ2UgPSAoMCwgcmVhY3RfMS51c2VDYWxsYmFjaykoKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmICghc29ja2V0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICBzb2NrZXRSZWYuY3VycmVudC5vbignbWVzc2FnZScsIGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc29ja2V0UmVmLmN1cnJlbnQ/Lm9mZignbWVzc2FnZScsIGhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICAvLyBMaXN0ZW4gZm9yIG9ubGluZSBzdGF0dXMgY2hhbmdlc1xuICAgIGNvbnN0IG9uT25saW5lU3RhdHVzID0gKDAsIHJlYWN0XzEudXNlQ2FsbGJhY2spKChjYWxsYmFjaykgPT4ge1xuICAgICAgICBpZiAoIXNvY2tldFJlZi5jdXJyZW50KVxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgfTtcbiAgICAgICAgc29ja2V0UmVmLmN1cnJlbnQub24oJ29ubGluZVN0YXR1cycsIGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc29ja2V0UmVmLmN1cnJlbnQ/Lm9mZignb25saW5lU3RhdHVzJywgaGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIC8vIEF1dG8tY29ubmVjdCBvbiBtb3VudFxuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBpZiAoYXV0b0Nvbm5lY3QpIHtcbiAgICAgICAgICAgIGNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgIH0sIFthdXRvQ29ubmVjdCwgY29ubmVjdCwgZGlzY29ubmVjdF0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNvY2tldDogc29ja2V0UmVmLmN1cnJlbnQsXG4gICAgICAgIGlzQ29ubmVjdGVkLFxuICAgICAgICBlcnJvcixcbiAgICAgICAgY29ubmVjdCxcbiAgICAgICAgZGlzY29ubmVjdCxcbiAgICAgICAgZW1pdFR5cGluZyxcbiAgICAgICAgb25UeXBpbmcsXG4gICAgICAgIG9uTWVzc2FnZSxcbiAgICAgICAgb25PbmxpbmVTdGF0dXMsXG4gICAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTtBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFLYkUsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFBRUMsS0FBSyxFQUFFO0FBQUssQ0FBQyxDQUFDO0FBQzdERCxPQUFPLENBQUNFLGlCQUFpQixHQUFHQSxpQkFBaUI7QUFDN0MsSUFBTUMsT0FBTyxHQUFHUCxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQ2hDLElBQU1RLFFBQVEsR0FBR1IsT0FBTyxrQkFBa0IsQ0FBQztBQUMzQyxJQUFNUyxLQUFLLEdBQUdULE9BQU8sZUFBZSxDQUFDO0FBSXJDLFNBQVNNLGlCQUFpQkEsQ0FBQSxFQUFlO0VBQUEsSUFBZEksT0FBTyxHQUFBQyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBRyxDQUFDLENBQUM7RUFDbkMsSUFBQUcsWUFBQSxHQUF1R0osT0FBTyxDQUF0R0ssR0FBRztJQUFIQSxHQUFHLEdBQUFELFlBQUEsY0FBR0UsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0JBQXdCLENBQUMsSUFBSSx1QkFBdUIsR0FBQUgsWUFBQTtJQUFBSSxvQkFBQSxHQUF5QlIsT0FBTyxDQUE5QlMsV0FBVztJQUFYQSxXQUFXLEdBQUFELG9CQUFBLGNBQUcsSUFBSSxHQUFBQSxvQkFBQTtFQUNsRyxJQUFBRSxJQUFBLEdBQXND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