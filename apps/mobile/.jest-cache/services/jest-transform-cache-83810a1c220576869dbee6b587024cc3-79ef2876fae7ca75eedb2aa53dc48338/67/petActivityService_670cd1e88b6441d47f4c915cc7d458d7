dde2ae6b549158c4e0f967ba54f256ca
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.endPetActivity = endPetActivity;
exports.getActivityHistory = getActivityHistory;
exports.startPetActivity = startPetActivity;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var Location = _interopRequireWildcard(require("expo-location"));
var _reactNative = require("react-native");
var _core = require("@pawfectmatch/core");
var _socket = require("./socket");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var API_URL = process.env.EXPO_PUBLIC_API_URL || process.env.API_URL || "";
function getCurrentLocation() {
  return _getCurrentLocation.apply(this, arguments);
}
function _getCurrentLocation() {
  _getCurrentLocation = (0, _asyncToGenerator2.default)(function* () {
    var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),
      status = _yield$Location$reque.status;
    if (status !== "granted") {
      throw new Error("Location permission not granted");
    }
    var pos = yield Location.getCurrentPositionAsync({
      accuracy: Location.Accuracy.High
    });
    return {
      lat: pos.coords.latitude,
      lng: pos.coords.longitude
    };
  });
  return _getCurrentLocation.apply(this, arguments);
}
function startPetActivity(_x) {
  return _startPetActivity.apply(this, arguments);
}
function _startPetActivity() {
  _startPetActivity = (0, _asyncToGenerator2.default)(function* (data) {
    var _data$shareToMap, _data$radiusMeters;
    var loc = yield getCurrentLocation();
    var body = {
      petId: data.petId,
      activity: data.activity,
      message: data.message || "",
      shareToMap: (_data$shareToMap = data.shareToMap) != null ? _data$shareToMap : true,
      location: loc,
      radius: (_data$radiusMeters = data.radiusMeters) != null ? _data$radiusMeters : 500,
      device: _reactNative.Platform.OS
    };
    var res = yield fetch(`${API_URL}/api/pets/activity/start`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(body)
    });
    if (!res.ok) {
      var t = yield res.text();
      throw new Error(`startPetActivity failed: ${res.status} ${t}`);
    }
    var result = yield res.json();
    var record = result.data;
    _socket.socketClient.emit("activity:start", _objectSpread(_objectSpread({}, body), {}, {
      _id: record._id
    }));
    _core.logger.info("Activity started", {
      record: record
    });
    return record;
  });
  return _startPetActivity.apply(this, arguments);
}
function endPetActivity(_x2) {
  return _endPetActivity.apply(this, arguments);
}
function _endPetActivity() {
  _endPetActivity = (0, _asyncToGenerator2.default)(function* (activityId) {
    var res = yield fetch(`${API_URL}/api/pets/activity/end`, {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        activityId: activityId
      })
    });
    if (!res.ok) {
      var t = yield res.text();
      throw new Error(`endPetActivity failed: ${res.status} ${t}`);
    }
    var result = yield res.json();
    var record = result.data;
    _socket.socketClient.emit("activity:end", {
      _id: record._id
    });
    _core.logger.info("Activity ended", {
      record: record
    });
    return record;
  });
  return _endPetActivity.apply(this, arguments);
}
function getActivityHistory(_x3) {
  return _getActivityHistory.apply(this, arguments);
}
function _getActivityHistory() {
  _getActivityHistory = (0, _asyncToGenerator2.default)(function* (petId) {
    var res = yield fetch(`${API_URL}/api/pets/activity/history?petId=${encodeURIComponent(petId)}`);
    if (!res.ok) {
      var t = yield res.text();
      throw new Error(`getActivityHistory failed: ${res.status} ${t}`);
    }
    var result = yield res.json();
    return result.data;
  });
  return _getActivityHistory.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMb2NhdGlvbiIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9jb3JlIiwiX3NvY2tldCIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdDIiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiQVBJX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJFWFBPX1BVQkxJQ19BUElfVVJMIiwiZ2V0Q3VycmVudExvY2F0aW9uIiwiX2dldEN1cnJlbnRMb2NhdGlvbiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl95aWVsZCRMb2NhdGlvbiRyZXF1ZSIsInJlcXVlc3RGb3JlZ3JvdW5kUGVybWlzc2lvbnNBc3luYyIsInN0YXR1cyIsIkVycm9yIiwicG9zIiwiZ2V0Q3VycmVudFBvc2l0aW9uQXN5bmMiLCJhY2N1cmFjeSIsIkFjY3VyYWN5IiwiSGlnaCIsImxhdCIsImNvb3JkcyIsImxhdGl0dWRlIiwibG5nIiwibG9uZ2l0dWRlIiwic3RhcnRQZXRBY3Rpdml0eSIsIl94IiwiX3N0YXJ0UGV0QWN0aXZpdHkiLCJkYXRhIiwiX2RhdGEkc2hhcmVUb01hcCIsIl9kYXRhJHJhZGl1c01ldGVycyIsImxvYyIsImJvZHkiLCJwZXRJZCIsImFjdGl2aXR5IiwibWVzc2FnZSIsInNoYXJlVG9NYXAiLCJsb2NhdGlvbiIsInJhZGl1cyIsInJhZGl1c01ldGVycyIsImRldmljZSIsIlBsYXRmb3JtIiwiT1MiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJ0ZXh0IiwicmVzdWx0IiwianNvbiIsInJlY29yZCIsInNvY2tldENsaWVudCIsImVtaXQiLCJfaWQiLCJsb2dnZXIiLCJpbmZvIiwiZW5kUGV0QWN0aXZpdHkiLCJfeDIiLCJfZW5kUGV0QWN0aXZpdHkiLCJhY3Rpdml0eUlkIiwiZ2V0QWN0aXZpdHlIaXN0b3J5IiwiX3gzIiwiX2dldEFjdGl2aXR5SGlzdG9yeSIsImVuY29kZVVSSUNvbXBvbmVudCJdLCJzb3VyY2VzIjpbInBldEFjdGl2aXR5U2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBMb2NhdGlvbiBmcm9tIFwiZXhwby1sb2NhdGlvblwiO1xuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tIFwicmVhY3QtbmF0aXZlXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiQHBhd2ZlY3RtYXRjaC9jb3JlXCI7XG5pbXBvcnQgeyBzb2NrZXRDbGllbnQgfSBmcm9tIFwiLi9zb2NrZXRcIjtcblxuY29uc3QgQVBJX1VSTCA9IHByb2Nlc3MuZW52LkVYUE9fUFVCTElDX0FQSV9VUkwgfHwgcHJvY2Vzcy5lbnYuQVBJX1VSTCB8fCBcIlwiO1xuXG5leHBvcnQgdHlwZSBBY3Rpdml0eUtpbmQgPVxuICB8IFwid2Fsa1wiXG4gIHwgXCJwbGF5XCJcbiAgfCBcImZlZWRpbmdcIlxuICB8IFwicmVzdFwiXG4gIHwgXCJ0cmFpbmluZ1wiXG4gIHwgXCJsb3N0X3BldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0QWN0aXZpdHlQYXlsb2FkIHtcbiAgcGV0SWQ6IHN0cmluZztcbiAgYWN0aXZpdHk6IEFjdGl2aXR5S2luZDtcbiAgbWVzc2FnZT86IHN0cmluZztcbiAgc2hhcmVUb01hcD86IGJvb2xlYW47XG4gIHJhZGl1c01ldGVycz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpdml0eVJlY29yZCB7XG4gIF9pZDogc3RyaW5nO1xuICBwZXRJZDogc3RyaW5nO1xuICBhY3Rpdml0eTogQWN0aXZpdHlLaW5kO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBsYXQ6IG51bWJlcjtcbiAgbG5nOiBudW1iZXI7XG4gIHJhZGl1cz86IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xuICBhY3RpdmU6IGJvb2xlYW47XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHtcbiAgY29uc3QgeyBzdGF0dXMgfSA9IGF3YWl0IExvY2F0aW9uLnJlcXVlc3RGb3JlZ3JvdW5kUGVybWlzc2lvbnNBc3luYygpO1xuICBpZiAoc3RhdHVzICE9PSBcImdyYW50ZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkxvY2F0aW9uIHBlcm1pc3Npb24gbm90IGdyYW50ZWRcIik7XG4gIH1cbiAgY29uc3QgcG9zID0gYXdhaXQgTG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uQXN5bmMoeyBhY2N1cmFjeTogTG9jYXRpb24uQWNjdXJhY3kuSGlnaCB9KTtcbiAgcmV0dXJuIHsgbGF0OiBwb3MuY29vcmRzLmxhdGl0dWRlLCBsbmc6IHBvcy5jb29yZHMubG9uZ2l0dWRlIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydFBldEFjdGl2aXR5KGRhdGE6IFN0YXJ0QWN0aXZpdHlQYXlsb2FkKTogUHJvbWlzZTxBY3Rpdml0eVJlY29yZD4ge1xuICBjb25zdCBsb2MgPSBhd2FpdCBnZXRDdXJyZW50TG9jYXRpb24oKTtcbiAgY29uc3QgYm9keSA9IHtcbiAgICBwZXRJZDogZGF0YS5wZXRJZCxcbiAgICBhY3Rpdml0eTogZGF0YS5hY3Rpdml0eSxcbiAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UgfHwgXCJcIixcbiAgICBzaGFyZVRvTWFwOiBkYXRhLnNoYXJlVG9NYXAgPz8gdHJ1ZSxcbiAgICBsb2NhdGlvbjogbG9jLFxuICAgIHJhZGl1czogZGF0YS5yYWRpdXNNZXRlcnMgPz8gNTAwLFxuICAgIGRldmljZTogUGxhdGZvcm0uT1MsXG4gIH07XG5cbiAgLy8gUkVTVCAoYXV0aG9yaXRhdGl2ZSkgKyBzb2NrZXQgKHJlYWx0aW1lKVxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUElfVVJMfS9hcGkvcGV0cy9hY3Rpdml0eS9zdGFydGAsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgfSk7XG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgdCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBzdGFydFBldEFjdGl2aXR5IGZhaWxlZDogJHtyZXMuc3RhdHVzfSAke3R9YCk7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgY29uc3QgcmVjb3JkOiBBY3Rpdml0eVJlY29yZCA9IHJlc3VsdC5kYXRhO1xuXG4gIC8vIFJlYWx0aW1lIGJyb2FkY2FzdFxuICBzb2NrZXRDbGllbnQuZW1pdChcImFjdGl2aXR5OnN0YXJ0XCIsIHsgLi4uYm9keSwgX2lkOiByZWNvcmQuX2lkIH0pO1xuXG4gIGxvZ2dlci5pbmZvKFwiQWN0aXZpdHkgc3RhcnRlZFwiLCB7IHJlY29yZCB9KTtcbiAgcmV0dXJuIHJlY29yZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuZFBldEFjdGl2aXR5KGFjdGl2aXR5SWQ6IHN0cmluZyk6IFByb21pc2U8QWN0aXZpdHlSZWNvcmQ+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vYXBpL3BldHMvYWN0aXZpdHkvZW5kYCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYWN0aXZpdHlJZCB9KSxcbiAgfSk7XG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgdCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBlbmRQZXRBY3Rpdml0eSBmYWlsZWQ6ICR7cmVzLnN0YXR1c30gJHt0fWApO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcy5qc29uKCk7XG4gIGNvbnN0IHJlY29yZDogQWN0aXZpdHlSZWNvcmQgPSByZXN1bHQuZGF0YTtcblxuICBzb2NrZXRDbGllbnQuZW1pdChcImFjdGl2aXR5OmVuZFwiLCB7IF9pZDogcmVjb3JkLl9pZCB9KTtcbiAgbG9nZ2VyLmluZm8oXCJBY3Rpdml0eSBlbmRlZFwiLCB7IHJlY29yZCB9KTtcblxuICByZXR1cm4gcmVjb3JkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZpdHlIaXN0b3J5KHBldElkOiBzdHJpbmcpOiBQcm9taXNlPEFjdGl2aXR5UmVjb3JkW10+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vYXBpL3BldHMvYWN0aXZpdHkvaGlzdG9yeT9wZXRJZD0ke2VuY29kZVVSSUNvbXBvbmVudChwZXRJZCl9YCk7XG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgdCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBnZXRBY3Rpdml0eUhpc3RvcnkgZmFpbGVkOiAke3Jlcy5zdGF0dXN9ICR7dH1gKTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXMuanNvbigpO1xuICByZXR1cm4gcmVzdWx0LmRhdGEgYXMgQWN0aXZpdHlSZWNvcmRbXTtcbn1cblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFB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