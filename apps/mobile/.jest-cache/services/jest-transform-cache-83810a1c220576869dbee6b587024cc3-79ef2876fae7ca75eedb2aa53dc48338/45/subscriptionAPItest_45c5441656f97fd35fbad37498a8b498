9f85956feafeb037eb55d5189a57bed4
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
require("../api");
global.fetch = jest.fn();
describe("Subscription API", function () {
  beforeEach(function () {
    jest.resetAllMocks();
    fetch.mockImplementation(function () {
      return Promise.resolve({
        ok: true,
        json: function json() {
          return Promise.resolve({});
        }
      });
    });
  });
  describe("getCurrentSubscription", function () {
    it("should return subscription data when request succeeds", (0, _asyncToGenerator2.default)(function* () {
      var mockSubscription = {
        id: "sub_123",
        status: "active",
        plan: {
          id: "plan_premium",
          name: "Premium",
          interval: "month"
        },
        currentPeriodStart: "2025-09-10T00:00:00.000Z",
        currentPeriodEnd: "2025-10-10T00:00:00.000Z"
      };
      fetch.mockImplementationOnce(function () {
        return Promise.resolve({
          ok: true,
          json: function json() {
            return Promise.resolve(mockSubscription);
          }
        });
      });
      var result = yield subscriptionAPI.getCurrentSubscription();
      expect(result).toEqual(mockSubscription);
      expect(fetch).toHaveBeenCalledWith(expect.stringMatching(/\/subscription\/current$/), expect.objectContaining({
        headers: expect.objectContaining({
          "Content-Type": "application/json"
        })
      }));
    }));
    it("should return null when request fails", (0, _asyncToGenerator2.default)(function* () {
      fetch.mockImplementationOnce(function () {
        return Promise.reject(new Error("Network error"));
      });
      var result = yield subscriptionAPI.getCurrentSubscription();
      expect(result).toBeNull();
    }));
  });
  describe("getUsageStats", function () {
    it("should return usage stats when request succeeds", (0, _asyncToGenerator2.default)(function* () {
      var mockUsageStats = {
        swipesRemaining: 50,
        totalSwipes: 100,
        superLikesRemaining: 5,
        totalSuperLikes: 5,
        resetDate: "2025-10-15T00:00:00.000Z"
      };
      fetch.mockImplementationOnce(function () {
        return Promise.resolve({
          ok: true,
          json: function json() {
            return Promise.resolve(mockUsageStats);
          }
        });
      });
      var result = yield subscriptionAPI.getUsageStats();
      expect(result).toEqual(mockUsageStats);
      expect(fetch).toHaveBeenCalledWith(expect.stringMatching(/\/subscription\/usage$/), expect.any(Object));
    }));
    it("should return null when request fails", (0, _asyncToGenerator2.default)(function* () {
      fetch.mockImplementationOnce(function () {
        return Promise.reject(new Error("Network error"));
      });
      var result = yield subscriptionAPI.getUsageStats();
      expect(result).toBeNull();
    }));
  });
  describe("createCheckoutSession", function () {
    it("should create a checkout session with the correct parameters", (0, _asyncToGenerator2.default)(function* () {
      var mockSession = {
        id: "cs_test_123",
        url: "https://checkout.stripe.com/pay/cs_test_123",
        status: "open"
      };
      fetch.mockImplementationOnce(function () {
        return Promise.resolve({
          ok: true,
          json: function json() {
            return Promise.resolve(mockSession);
          }
        });
      });
      var params = {
        priceId: "price_premium_monthly",
        successUrl: "pawfectmatch://subscription/success",
        cancelUrl: "pawfectmatch://subscription/cancel",
        metadata: {
          tier: "premium"
        }
      };
      var result = yield subscriptionAPI.createCheckoutSession(params);
      expect(result).toEqual(mockSession);
      expect(fetch).toHaveBeenCalledWith(expect.stringMatching(/\/subscription\/create-checkout$/), expect.objectContaining({
        method: "POST",
        body: JSON.stringify(params)
      }));
    }));
    it("should handle errors when creating a checkout session", (0, _asyncToGenerator2.default)(function* () {
      fetch.mockImplementationOnce(function () {
        return Promise.resolve({
          ok: false,
          status: 400,
          json: function json() {
            return Promise.resolve({
              error: "Invalid price ID"
            });
          }
        });
      });
      var params = {
        priceId: "invalid_price_id",
        successUrl: "pawfectmatch://subscription/success",
        cancelUrl: "pawfectmatch://subscription/cancel"
      };
      yield expect(subscriptionAPI.createCheckoutSession(params)).rejects.toThrow();
    }));
  });
  describe("cancelSubscription", function () {
    it("should cancel a subscription successfully", (0, _asyncToGenerator2.default)(function* () {
      var mockResponse = {
        id: "sub_123",
        status: "canceled",
        cancel_at_period_end: true
      };
      fetch.mockImplementationOnce(function () {
        return Promise.resolve({
          ok: true,
          json: function json() {
            return Promise.resolve(mockResponse);
          }
        });
      });
      var result = yield subscriptionAPI.cancelSubscription("sub_123");
      expect(result).toEqual(mockResponse);
      expect(fetch).toHaveBeenCalledWith(expect.stringMatching(/\/subscription\/sub_123\/cancel$/), expect.objectContaining({
        method: "POST"
      }));
    }));
  });
  describe("reactivateSubscription", function () {
    it("should reactivate a canceled subscription", (0, _asyncToGenerator2.default)(function* () {
      var mockResponse = {
        id: "sub_123",
        status: "active",
        cancel_at_period_end: false
      };
      fetch.mockImplementationOnce(function () {
        return Promise.resolve({
          ok: true,
          json: function json() {
            return Promise.resolve(mockResponse);
          }
        });
      });
      var result = yield subscriptionAPI.reactivateSubscription("sub_123");
      expect(result).toEqual(mockResponse);
      expect(fetch).toHaveBeenCalledWith(expect.stringMatching(/\/subscription\/sub_123\/reactivate$/), expect.objectContaining({
        method: "POST"
      }));
    }));
  });
  describe("getPlans", function () {
    it("should return available subscription plans", (0, _asyncToGenerator2.default)(function* () {
      var mockPlans = [{
        id: "price_basic_monthly",
        name: "Basic",
        interval: "month",
        amount: 999,
        currency: "USD"
      }, {
        id: "price_premium_monthly",
        name: "Premium",
        interval: "month",
        amount: 1999,
        currency: "USD"
      }];
      fetch.mockImplementationOnce(function () {
        return Promise.resolve({
          ok: true,
          json: function json() {
            return Promise.resolve(mockPlans);
          }
        });
      });
      var result = yield subscriptionAPI.getPlans();
      expect(result).toEqual(mockPlans);
      expect(fetch).toHaveBeenCalledWith(expect.stringMatching(/\/subscription\/plans$/), expect.any(Object));
    }));
    it("should return empty array when request fails", (0, _asyncToGenerator2.default)(function* () {
      fetch.mockImplementationOnce(function () {
        return Promise.reject(new Error("Network error"));
      });
      var result = yield subscriptionAPI.getPlans();
      expect(result).toEqual([]);
    }));
  });
  describe("updatePaymentMethod", function () {
    it("should update the payment method successfully", (0, _asyncToGenerator2.default)(function* () {
      var mockResponse = {
        success: true,
        subscription: {
          id: "sub_123",
          default_payment_method: "pm_123"
        }
      };
      fetch.mockImplementationOnce(function () {
        return Promise.resolve({
          ok: true,
          json: function json() {
            return Promise.resolve(mockResponse);
          }
        });
      });
      var result = yield subscriptionAPI.updatePaymentMethod("pm_123");
      expect(result).toEqual(mockResponse);
      expect(fetch).toHaveBeenCalledWith(expect.stringMatching(/\/subscription\/payment-method$/), expect.objectContaining({
        method: "PUT",
        body: JSON.stringify({
          paymentMethodId: "pm_123"
        })
      }));
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiZ2xvYmFsIiwiZmV0Y2giLCJqZXN0IiwiZm4iLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJyZXNldEFsbE1vY2tzIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvayIsImpzb24iLCJpdCIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRlZmF1bHQiLCJtb2NrU3Vic2NyaXB0aW9uIiwiaWQiLCJzdGF0dXMiLCJwbGFuIiwibmFtZSIsImludGVydmFsIiwiY3VycmVudFBlcmlvZFN0YXJ0IiwiY3VycmVudFBlcmlvZEVuZCIsIm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UiLCJyZXN1bHQiLCJzdWJzY3JpcHRpb25BUEkiLCJnZXRDdXJyZW50U3Vic2NyaXB0aW9uIiwiZXhwZWN0IiwidG9FcXVhbCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwic3RyaW5nTWF0Y2hpbmciLCJvYmplY3RDb250YWluaW5nIiwiaGVhZGVycyIsInJlamVjdCIsIkVycm9yIiwidG9CZU51bGwiLCJtb2NrVXNhZ2VTdGF0cyIsInN3aXBlc1JlbWFpbmluZyIsInRvdGFsU3dpcGVzIiwic3VwZXJMaWtlc1JlbWFpbmluZyIsInRvdGFsU3VwZXJMaWtlcyIsInJlc2V0RGF0ZSIsImdldFVzYWdlU3RhdHMiLCJhbnkiLCJPYmplY3QiLCJtb2NrU2Vzc2lvbiIsInVybCIsInBhcmFtcyIsInByaWNlSWQiLCJzdWNjZXNzVXJsIiwiY2FuY2VsVXJsIiwibWV0YWRhdGEiLCJ0aWVyIiwiY3JlYXRlQ2hlY2tvdXRTZXNzaW9uIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsInJlamVjdHMiLCJ0b1Rocm93IiwibW9ja1Jlc3BvbnNlIiwiY2FuY2VsX2F0X3BlcmlvZF9lbmQiLCJjYW5jZWxTdWJzY3JpcHRpb24iLCJyZWFjdGl2YXRlU3Vic2NyaXB0aW9uIiwibW9ja1BsYW5zIiwiYW1vdW50IiwiY3VycmVuY3kiLCJnZXRQbGFucyIsInN1Y2Nlc3MiLCJzdWJzY3JpcHRpb24iLCJkZWZhdWx0X3BheW1lbnRfbWV0aG9kIiwidXBkYXRlUGF5bWVudE1ldGhvZCIsInBheW1lbnRNZXRob2RJZCJdLCJzb3VyY2VzIjpbInN1YnNjcmlwdGlvbkFQSS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7fSBmcm9tIFwiLi4vYXBpXCI7XG5cbi8vIE1vY2sgdGhlIGdsb2JhbCBmZXRjaCBmdW5jdGlvblxuZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xuXG5kZXNjcmliZShcIlN1YnNjcmlwdGlvbiBBUElcIiwgKCkgPT4ge1xuICAvLyBSZXNldCBtb2NrcyBiZWZvcmUgZWFjaCB0ZXN0XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzZXRBbGxNb2NrcygpO1xuICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PlxuICAgICAgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7fSksXG4gICAgICB9KSxcbiAgICApO1xuICB9KTtcblxuICBkZXNjcmliZShcImdldEN1cnJlbnRTdWJzY3JpcHRpb25cIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHJldHVybiBzdWJzY3JpcHRpb24gZGF0YSB3aGVuIHJlcXVlc3Qgc3VjY2VlZHNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1N1YnNjcmlwdGlvbiA9IHtcbiAgICAgICAgaWQ6IFwic3ViXzEyM1wiLFxuICAgICAgICBzdGF0dXM6IFwiYWN0aXZlXCIsXG4gICAgICAgIHBsYW46IHtcbiAgICAgICAgICBpZDogXCJwbGFuX3ByZW1pdW1cIixcbiAgICAgICAgICBuYW1lOiBcIlByZW1pdW1cIixcbiAgICAgICAgICBpbnRlcnZhbDogXCJtb250aFwiLFxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50UGVyaW9kU3RhcnQ6IFwiMjAyNS0wOS0xMFQwMDowMDowMC4wMDBaXCIsXG4gICAgICAgIGN1cnJlbnRQZXJpb2RFbmQ6IFwiMjAyNS0xMC0xMFQwMDowMDowMC4wMDBaXCIsXG4gICAgICB9O1xuXG4gICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tTdWJzY3JpcHRpb24pLFxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1YnNjcmlwdGlvbkFQSS5nZXRDdXJyZW50U3Vic2NyaXB0aW9uKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1N1YnNjcmlwdGlvbik7XG4gICAgICBleHBlY3QoZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL1xcL3N1YnNjcmlwdGlvblxcL2N1cnJlbnQkLyksXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBoZWFkZXJzOiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIG51bGwgd2hlbiByZXF1ZXN0IGZhaWxzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoKCkgPT5cbiAgICAgICAgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTmV0d29yayBlcnJvclwiKSksXG4gICAgICApO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdWJzY3JpcHRpb25BUEkuZ2V0Q3VycmVudFN1YnNjcmlwdGlvbigpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImdldFVzYWdlU3RhdHNcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHJldHVybiB1c2FnZSBzdGF0cyB3aGVuIHJlcXVlc3Qgc3VjY2VlZHNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1VzYWdlU3RhdHMgPSB7XG4gICAgICAgIHN3aXBlc1JlbWFpbmluZzogNTAsXG4gICAgICAgIHRvdGFsU3dpcGVzOiAxMDAsXG4gICAgICAgIHN1cGVyTGlrZXNSZW1haW5pbmc6IDUsXG4gICAgICAgIHRvdGFsU3VwZXJMaWtlczogNSxcbiAgICAgICAgcmVzZXREYXRlOiBcIjIwMjUtMTAtMTVUMDA6MDA6MDAuMDAwWlwiLFxuICAgICAgfTtcblxuICAgICAgKGZldGNoIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uT25jZSgoKSA9PlxuICAgICAgICBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZShtb2NrVXNhZ2VTdGF0cyksXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3Vic2NyaXB0aW9uQVBJLmdldFVzYWdlU3RhdHMoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrVXNhZ2VTdGF0cyk7XG4gICAgICBleHBlY3QoZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL1xcL3N1YnNjcmlwdGlvblxcL3VzYWdlJC8pLFxuICAgICAgICBleHBlY3QuYW55KE9iamVjdCksXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIG51bGwgd2hlbiByZXF1ZXN0IGZhaWxzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoKCkgPT5cbiAgICAgICAgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTmV0d29yayBlcnJvclwiKSksXG4gICAgICApO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdWJzY3JpcHRpb25BUEkuZ2V0VXNhZ2VTdGF0cygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImNyZWF0ZUNoZWNrb3V0U2Vzc2lvblwiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgY3JlYXRlIGEgY2hlY2tvdXQgc2Vzc2lvbiB3aXRoIHRoZSBjb3JyZWN0IHBhcmFtZXRlcnNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1Nlc3Npb24gPSB7XG4gICAgICAgIGlkOiBcImNzX3Rlc3RfMTIzXCIsXG4gICAgICAgIHVybDogXCJodHRwczovL2NoZWNrb3V0LnN0cmlwZS5jb20vcGF5L2NzX3Rlc3RfMTIzXCIsXG4gICAgICAgIHN0YXR1czogXCJvcGVuXCIsXG4gICAgICB9O1xuXG4gICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tTZXNzaW9uKSxcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIHByaWNlSWQ6IFwicHJpY2VfcHJlbWl1bV9tb250aGx5XCIsXG4gICAgICAgIHN1Y2Nlc3NVcmw6IFwicGF3ZmVjdG1hdGNoOi8vc3Vic2NyaXB0aW9uL3N1Y2Nlc3NcIixcbiAgICAgICAgY2FuY2VsVXJsOiBcInBhd2ZlY3RtYXRjaDovL3N1YnNjcmlwdGlvbi9jYW5jZWxcIixcbiAgICAgICAgbWV0YWRhdGE6IHsgdGllcjogXCJwcmVtaXVtXCIgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1YnNjcmlwdGlvbkFQSS5jcmVhdGVDaGVja291dFNlc3Npb24ocGFyYW1zKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrU2Vzc2lvbik7XG4gICAgICBleHBlY3QoZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL1xcL3N1YnNjcmlwdGlvblxcL2NyZWF0ZS1jaGVja291dCQvKSxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGFyYW1zKSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIGVycm9ycyB3aGVuIGNyZWF0aW5nIGEgY2hlY2tvdXQgc2Vzc2lvblwiLCBhc3luYyAoKSA9PiB7XG4gICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGVycm9yOiBcIkludmFsaWQgcHJpY2UgSURcIiB9KSxcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgIHByaWNlSWQ6IFwiaW52YWxpZF9wcmljZV9pZFwiLFxuICAgICAgICBzdWNjZXNzVXJsOiBcInBhd2ZlY3RtYXRjaDovL3N1YnNjcmlwdGlvbi9zdWNjZXNzXCIsXG4gICAgICAgIGNhbmNlbFVybDogXCJwYXdmZWN0bWF0Y2g6Ly9zdWJzY3JpcHRpb24vY2FuY2VsXCIsXG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHN1YnNjcmlwdGlvbkFQSS5jcmVhdGVDaGVja291dFNlc3Npb24ocGFyYW1zKSxcbiAgICAgICkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiY2FuY2VsU3Vic2NyaXB0aW9uXCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCBjYW5jZWwgYSBzdWJzY3JpcHRpb24gc3VjY2Vzc2Z1bGx5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgaWQ6IFwic3ViXzEyM1wiLFxuICAgICAgICBzdGF0dXM6IFwiY2FuY2VsZWRcIixcbiAgICAgICAgY2FuY2VsX2F0X3BlcmlvZF9lbmQ6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tSZXNwb25zZSksXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3Vic2NyaXB0aW9uQVBJLmNhbmNlbFN1YnNjcmlwdGlvbihcInN1Yl8xMjNcIik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1Jlc3BvbnNlKTtcbiAgICAgIGV4cGVjdChmZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdNYXRjaGluZygvXFwvc3Vic2NyaXB0aW9uXFwvc3ViXzEyM1xcL2NhbmNlbCQvKSxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJyZWFjdGl2YXRlU3Vic2NyaXB0aW9uXCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCByZWFjdGl2YXRlIGEgY2FuY2VsZWQgc3Vic2NyaXB0aW9uXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgaWQ6IFwic3ViXzEyM1wiLFxuICAgICAgICBzdGF0dXM6IFwiYWN0aXZlXCIsXG4gICAgICAgIGNhbmNlbF9hdF9wZXJpb2RfZW5kOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoKCkgPT5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobW9ja1Jlc3BvbnNlKSxcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdWJzY3JpcHRpb25BUEkucmVhY3RpdmF0ZVN1YnNjcmlwdGlvbihcInN1Yl8xMjNcIik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1Jlc3BvbnNlKTtcbiAgICAgIGV4cGVjdChmZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdNYXRjaGluZygvXFwvc3Vic2NyaXB0aW9uXFwvc3ViXzEyM1xcL3JlYWN0aXZhdGUkLyksXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZ2V0UGxhbnNcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHJldHVybiBhdmFpbGFibGUgc3Vic2NyaXB0aW9uIHBsYW5zXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tQbGFucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcInByaWNlX2Jhc2ljX21vbnRobHlcIixcbiAgICAgICAgICBuYW1lOiBcIkJhc2ljXCIsXG4gICAgICAgICAgaW50ZXJ2YWw6IFwibW9udGhcIixcbiAgICAgICAgICBhbW91bnQ6IDk5OSxcbiAgICAgICAgICBjdXJyZW5jeTogXCJVU0RcIixcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcInByaWNlX3ByZW1pdW1fbW9udGhseVwiLFxuICAgICAgICAgIG5hbWU6IFwiUHJlbWl1bVwiLFxuICAgICAgICAgIGludGVydmFsOiBcIm1vbnRoXCIsXG4gICAgICAgICAgYW1vdW50OiAxOTk5LFxuICAgICAgICAgIGN1cnJlbmN5OiBcIlVTRFwiLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgKGZldGNoIGFzIGplc3QuTW9jaykubW9ja0ltcGxlbWVudGF0aW9uT25jZSgoKSA9PlxuICAgICAgICBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZShtb2NrUGxhbnMpLFxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1YnNjcmlwdGlvbkFQSS5nZXRQbGFucygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tQbGFucyk7XG4gICAgICBleHBlY3QoZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL1xcL3N1YnNjcmlwdGlvblxcL3BsYW5zJC8pLFxuICAgICAgICBleHBlY3QuYW55KE9iamVjdCksXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIGVtcHR5IGFycmF5IHdoZW4gcmVxdWVzdCBmYWlsc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+XG4gICAgICAgIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIk5ldHdvcmsgZXJyb3JcIikpLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3Vic2NyaXB0aW9uQVBJLmdldFBsYW5zKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcInVwZGF0ZVBheW1lbnRNZXRob2RcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHVwZGF0ZSB0aGUgcGF5bWVudCBtZXRob2Qgc3VjY2Vzc2Z1bGx5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgc3Vic2NyaXB0aW9uOiB7XG4gICAgICAgICAgaWQ6IFwic3ViXzEyM1wiLFxuICAgICAgICAgIGRlZmF1bHRfcGF5bWVudF9tZXRob2Q6IFwicG1fMTIzXCIsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrSW1wbGVtZW50YXRpb25PbmNlKCgpID0+XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tSZXNwb25zZSksXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3Vic2NyaXB0aW9uQVBJLnVwZGF0ZVBheW1lbnRNZXRob2QoXCJwbV8xMjNcIik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1Jlc3BvbnNlKTtcbiAgICAgIGV4cGVjdChmZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdNYXRjaGluZygvXFwvc3Vic2NyaXB0aW9uXFwvcGF5bWVudC1tZXRob2QkLyksXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwYXltZW50TWV0aG9kSWQ6IFwicG1fMTIzXCIgfSksXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBQSxPQUFBO0FBR0FDLE1BQU0sQ0FBQ0MsS0FBSyxHQUFHQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0FBRXhCQyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsWUFBTTtFQUVqQ0MsVUFBVSxDQUFDLFlBQU07SUFDZkgsSUFBSSxDQUFDSSxhQUFhLENBQUMsQ0FBQztJQUNuQkwsS0FBSyxDQUFlTSxrQkFBa0IsQ0FBQztNQUFBLE9BQ3RDQyxPQUFPLENBQUNDLE9BQU8sQ0FBQztRQUNkQyxFQUFFLEVBQUUsSUFBSTtRQUNSQyxJQUFJLEVBQUUsU0FBTkEsSUFBSUEsQ0FBQTtVQUFBLE9BQVFILE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQUE7TUFDakMsQ0FBQyxDQUFDO0lBQUEsQ0FDSixDQUFDO0VBQ0gsQ0FBQyxDQUFDO0VBRUZMLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRSxZQUFNO0lBQ3ZDUSxFQUFFLENBQUMsdURBQXVELE1BQUFDLGtCQUFBLENBQUFDLE9BQUEsRUFBRSxhQUFZO01BQ3RFLElBQU1DLGdCQUFnQixHQUFHO1FBQ3ZCQyxFQUFFLEVBQUUsU0FBUztRQUNiQyxNQUFNLEVBQUUsUUFBUTtRQUNoQkMsSUFBSSxFQUFFO1VBQ0pGLEVBQUUsRUFBRSxj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