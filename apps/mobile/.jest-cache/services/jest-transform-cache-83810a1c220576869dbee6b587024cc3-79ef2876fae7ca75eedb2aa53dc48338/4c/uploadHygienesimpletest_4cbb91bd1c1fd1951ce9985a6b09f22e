96ce8a5d44ff4de04d1259818a2948a1
"use strict";

_getJestObj().mock('expo-image-picker');
_getJestObj().mock('expo-image-manipulator');
_getJestObj().mock('expo-file-system');
_getJestObj().mock("../logger", function () {
  return {
    logger: {
      info: _globals.jest.fn(),
      warn: _globals.jest.fn(),
      error: _globals.jest.fn(),
      debug: _globals.jest.fn(),
      security: _globals.jest.fn(),
      bufferOfflineLog: _globals.jest.fn().mockResolvedValue(undefined),
      flushOfflineLogs: _globals.jest.fn().mockResolvedValue(undefined),
      setUserInfo: _globals.jest.fn(),
      clearUserInfo: _globals.jest.fn(),
      getSessionId: _globals.jest.fn().mockReturnValue('test-session'),
      destroy: _globals.jest.fn()
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _globals = require("@jest/globals");
var ImagePicker = _interopRequireWildcard(require("expo-image-picker"));
var ImageManipulator = _interopRequireWildcard(require("expo-image-manipulator"));
var FileSystem = _interopRequireWildcard(require("expo-file-system"));
var _uploadHygiene = require("../uploadHygiene");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockImagePicker = ImagePicker;
var mockImageManipulator = ImageManipulator;
var mockFileSystem = FileSystem;
(0, _globals.describe)('UploadHygiene Service - Simplified Tests', function () {
  (0, _globals.beforeEach)(function () {
    _globals.jest.clearAllMocks();
    mockImageManipulator.manipulateAsync.mockResolvedValue({
      uri: 'processed-image.jpg',
      width: 1024,
      height: 768,
      base64: undefined
    });
    mockFileSystem.getInfoAsync.mockResolvedValue({
      exists: true,
      isDirectory: false,
      size: 512000,
      uri: 'test-image.jpg',
      modificationTime: Date.now()
    });
    mockImagePicker.requestMediaLibraryPermissionsAsync.mockResolvedValue({
      status: 'granted',
      granted: true,
      canAskAgain: true
    });
    mockImagePicker.requestCameraPermissionsAsync.mockResolvedValue({
      status: 'granted',
      granted: true,
      canAskAgain: true
    });
    mockImagePicker.launchImageLibraryAsync.mockResolvedValue({
      canceled: false,
      assets: [{
        uri: 'picked-image.jpg',
        width: 2048,
        height: 1536,
        type: 'image',
        fileName: 'test.jpg',
        fileSize: 1024000,
        exif: {}
      }]
    });
    mockImagePicker.launchCameraAsync.mockResolvedValue({
      canceled: false,
      assets: [{
        uri: 'captured-image.jpg',
        width: 2048,
        height: 1536,
        type: 'image',
        fileName: 'capture.jpg',
        fileSize: 1024000,
        exif: {}
      }]
    });
  });
  (0, _globals.describe)('processImageForUpload', function () {
    (0, _globals.it)('should process image successfully', (0, _asyncToGenerator2.default)(function* () {
      var result = yield (0, _uploadHygiene.processImageForUpload)('test.jpg');
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(result.uri).toBe('processed-image.jpg');
      (0, _globals.expect)(result.width).toBe(1024);
      (0, _globals.expect)(result.height).toBe(768);
      (0, _globals.expect)(result.fileSize).toBe(512000);
      (0, _globals.expect)(result.mimeType).toBe('image/jpeg');
    }));
    (0, _globals.it)('should reject invalid file types', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockResolvedValue({
        exists: true,
        isDirectory: false,
        size: 1000,
        uri: 'test.txt',
        modificationTime: Date.now()
      });
      yield (0, _globals.expect)((0, _uploadHygiene.processImageForUpload)('test.txt')).rejects.toThrow('Invalid file type');
    }));
  });
  (0, _globals.describe)('pickAndProcessImage', function () {
    (0, _globals.it)('should pick and process image successfully', (0, _asyncToGenerator2.default)(function* () {
      var result = yield (0, _uploadHygiene.pickAndProcessImage)();
      (0, _globals.expect)(mockImagePicker.requestMediaLibraryPermissionsAsync).toHaveBeenCalled();
      (0, _globals.expect)(mockImagePicker.launchImageLibraryAsync).toHaveBeenCalled();
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(result.uri).toBe('processed-image.jpg');
    }));
    (0, _globals.it)('should handle permission denial', (0, _asyncToGenerator2.default)(function* () {
      mockImagePicker.requestMediaLibraryPermissionsAsync.mockResolvedValue({
        status: 'denied',
        granted: false,
        canAskAgain: true
      });
      yield (0, _globals.expect)((0, _uploadHygiene.pickAndProcessImage)()).rejects.toThrow('Camera roll permissions not granted');
    }));
    (0, _globals.it)('should handle user cancellation', (0, _asyncToGenerator2.default)(function* () {
      mockImagePicker.launchImageLibraryAsync.mockResolvedValue({
        canceled: true,
        assets: null
      });
      var result = yield (0, _uploadHygiene.pickAndProcessImage)();
      (0, _globals.expect)(result).toBeNull();
    }));
  });
  (0, _globals.describe)('captureAndProcessImage', function () {
    (0, _globals.it)('should capture and process image successfully', (0, _asyncToGenerator2.default)(function* () {
      var result = yield (0, _uploadHygiene.captureAndProcessImage)();
      (0, _globals.expect)(mockImagePicker.requestCameraPermissionsAsync).toHaveBeenCalled();
      (0, _globals.expect)(mockImagePicker.launchCameraAsync).toHaveBeenCalled();
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(result.uri).toBe('processed-image.jpg');
    }));
    (0, _globals.it)('should handle camera permission denial', (0, _asyncToGenerator2.default)(function* () {
      mockImagePicker.requestCameraPermissionsAsync.mockResolvedValue({
        status: 'denied',
        granted: false,
        canAskAgain: false
      });
      yield (0, _globals.expect)((0, _uploadHygiene.captureAndProcessImage)()).rejects.toThrow('Camera permissions not granted');
    }));
  });
  (0, _globals.describe)('checkUploadQuota', function () {
    (0, _globals.it)('should return quota information', (0, _asyncToGenerator2.default)(function* () {
      var result = yield (0, _uploadHygiene.checkUploadQuota)('user123');
      (0, _globals.expect)(result).toBeDefined();
      (0, _globals.expect)(result.allowed).toBe(true);
      (0, _globals.expect)(result.remaining).toBe(10);
      (0, _globals.expect)(result.limit).toBe(10);
      (0, _globals.expect)(result.resetAt).toBeInstanceOf(Date);
    }));
  });
  (0, _globals.describe)('uploadWithRetry', function () {
    (0, _globals.it)('should succeed on first attempt', (0, _asyncToGenerator2.default)(function* () {
      var uploadFn = _globals.jest.fn().mockResolvedValue('success');
      var result = yield (0, _uploadHygiene.uploadWithRetry)(uploadFn);
      (0, _globals.expect)(result).toBe('success');
      (0, _globals.expect)(uploadFn).toHaveBeenCalledTimes(1);
    }));
    (0, _globals.it)('should retry on failure and succeed', (0, _asyncToGenerator2.default)(function* () {
      var uploadFn = _globals.jest.fn();
      uploadFn.mockRejectedValueOnce(new Error('Attempt 1 failed')).mockResolvedValueOnce('success');
      var result = yield (0, _uploadHygiene.uploadWithRetry)(uploadFn, 3, 100);
      (0, _globals.expect)(result).toBe('success');
      (0, _globals.expect)(uploadFn).toHaveBeenCalledTimes(2);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJsb2dnZXIiLCJpbmZvIiwiamVzdCIsImZuIiwid2FybiIsImVycm9yIiwiZGVidWciLCJzZWN1cml0eSIsImJ1ZmZlck9mZmxpbmVMb2ciLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVuZGVmaW5lZCIsImZsdXNoT2ZmbGluZUxvZ3MiLCJzZXRVc2VySW5mbyIsImNsZWFyVXNlckluZm8iLCJnZXRTZXNzaW9uSWQiLCJtb2NrUmV0dXJuVmFsdWUiLCJkZXN0cm95IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfZ2xvYmFscyIsIkltYWdlUGlja2VyIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJJbWFnZU1hbmlwdWxhdG9yIiwiRmlsZVN5c3RlbSIsIl91cGxvYWRIeWdpZW5lIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90MiIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlcXVpcmUiLCJtb2NrSW1hZ2VQaWNrZXIiLCJtb2NrSW1hZ2VNYW5pcHVsYXRvciIsIm1vY2tGaWxlU3lzdGVtIiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1hbmlwdWxhdGVBc3luYyIsInVyaSIsIndpZHRoIiwiaGVpZ2h0IiwiYmFzZTY0IiwiZ2V0SW5mb0FzeW5jIiwiZXhpc3RzIiwiaXNEaXJlY3RvcnkiLCJzaXplIiwibW9kaWZpY2F0aW9uVGltZSIsIkRhdGUiLCJub3ciLCJyZXF1ZXN0TWVkaWFMaWJyYXJ5UGVybWlzc2lvbnNBc3luYyIsInN0YXR1cyIsImdyYW50ZWQiLCJjYW5Bc2tBZ2FpbiIsInJlcXVlc3RDYW1lcmFQZXJtaXNzaW9uc0FzeW5jIiwibGF1bmNoSW1hZ2VMaWJyYXJ5QXN5bmMiLCJjYW5jZWxlZCIsImFzc2V0cyIsInR5cGUiLCJmaWxlTmFtZSIsImZpbGVTaXplIiwiZXhpZiIsImxhdW5jaENhbWVyYUFzeW5jIiwiaXQiLCJyZXN1bHQiLCJwcm9jZXNzSW1hZ2VGb3JVcGxvYWQiLCJleHBlY3QiLCJ0b0JlRGVmaW5lZCIsInRvQmUiLCJtaW1lVHlwZSIsInJlamVjdHMiLCJ0b1Rocm93IiwicGlja0FuZFByb2Nlc3NJbWFnZSIsInRvSGF2ZUJlZW5DYWxsZWQiLCJ0b0JlTnVsbCIsImNhcHR1cmVBbmRQcm9jZXNzSW1hZ2UiLCJjaGVja1VwbG9hZFF1b3RhIiwiYWxsb3dlZCIsInJlbWFpbmluZyIsImxpbWl0IiwicmVzZXRBdCIsInRvQmVJbnN0YW5jZU9mIiwidXBsb2FkRm4iLCJ1cGxvYWRXaXRoUmV0cnkiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJtb2NrUmVqZWN0ZWRWYWx1ZU9uY2UiLCJFcnJvciIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSJdLCJzb3VyY2VzIjpbInVwbG9hZEh5Z2llbmUuc2ltcGxlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTaW1wbGlmaWVkIHRlc3RzIGZvciBVcGxvYWRIeWdpZW5lIFNlcnZpY2VcbiAqIEZvY3VzZXMgb24gY29yZSBmdW5jdGlvbmFsaXR5IHdpdGhvdXQgZXh0ZW5zaXZlIG1vY2sgaW1wbGVtZW50YXRpb25zXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGplc3QsIGJlZm9yZUVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCAqIGFzIEltYWdlUGlja2VyIGZyb20gJ2V4cG8taW1hZ2UtcGlja2VyJztcbmltcG9ydCAqIGFzIEltYWdlTWFuaXB1bGF0b3IgZnJvbSAnZXhwby1pbWFnZS1tYW5pcHVsYXRvcic7XG5pbXBvcnQgKiBhcyBGaWxlU3lzdGVtIGZyb20gJ2V4cG8tZmlsZS1zeXN0ZW0nO1xuaW1wb3J0IHtcbiAgcHJvY2Vzc0ltYWdlRm9yVXBsb2FkLFxuICBwaWNrQW5kUHJvY2Vzc0ltYWdlLFxuICBjYXB0dXJlQW5kUHJvY2Vzc0ltYWdlLFxuICBjaGVja1VwbG9hZFF1b3RhLFxuICB1cGxvYWRXaXRoUmV0cnksXG59IGZyb20gJy4uL3VwbG9hZEh5Z2llbmUnO1xuXG4vLyBNb2NrIGRlcGVuZGVuY2llc1xuamVzdC5tb2NrKCdleHBvLWltYWdlLXBpY2tlcicpO1xuamVzdC5tb2NrKCdleHBvLWltYWdlLW1hbmlwdWxhdG9yJyk7XG5qZXN0Lm1vY2soJ2V4cG8tZmlsZS1zeXN0ZW0nKTtcbmplc3QubW9jaygnLi4vbG9nZ2VyJywgKCkgPT4gKHtcbiAgbG9nZ2VyOiB7XG4gICAgaW5mbzogamVzdC5mbigpLFxuICAgIHdhcm46IGplc3QuZm4oKSxcbiAgICBlcnJvcjogamVzdC5mbigpLFxuICAgIGRlYnVnOiBqZXN0LmZuKCksXG4gICAgc2VjdXJpdHk6IGplc3QuZm4oKSxcbiAgICBidWZmZXJPZmZsaW5lTG9nOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICBmbHVzaE9mZmxpbmVMb2dzOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICBzZXRVc2VySW5mbzogamVzdC5mbigpLFxuICAgIGNsZWFyVXNlckluZm86IGplc3QuZm4oKSxcbiAgICBnZXRTZXNzaW9uSWQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoJ3Rlc3Qtc2Vzc2lvbicpLFxuICAgIGRlc3Ryb3k6IGplc3QuZm4oKSxcbiAgfVxufSkpO1xuXG5jb25zdCBtb2NrSW1hZ2VQaWNrZXIgPSBJbWFnZVBpY2tlciBhcyBhbnk7XG5jb25zdCBtb2NrSW1hZ2VNYW5pcHVsYXRvciA9IEltYWdlTWFuaXB1bGF0b3IgYXMgYW55O1xuY29uc3QgbW9ja0ZpbGVTeXN0ZW0gPSBGaWxlU3lzdGVtIGFzIGFueTtcblxuZGVzY3JpYmUoJ1VwbG9hZEh5Z2llbmUgU2VydmljZSAtIFNpbXBsaWZpZWQgVGVzdHMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIFxuICAgIC8vIFNldHVwIG1pbmltYWwgbW9ja3NcbiAgICBtb2NrSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgdXJpOiAncHJvY2Vzc2VkLWltYWdlLmpwZycsXG4gICAgICB3aWR0aDogMTAyNCxcbiAgICAgIGhlaWdodDogNzY4LFxuICAgICAgYmFzZTY0OiB1bmRlZmluZWQsXG4gICAgfSk7XG4gICAgXG4gICAgbW9ja0ZpbGVTeXN0ZW0uZ2V0SW5mb0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGV4aXN0czogdHJ1ZSxcbiAgICAgIGlzRGlyZWN0b3J5OiBmYWxzZSxcbiAgICAgIHNpemU6IDUxMjAwMCxcbiAgICAgIHVyaTogJ3Rlc3QtaW1hZ2UuanBnJyxcbiAgICAgIG1vZGlmaWNhdGlvblRpbWU6IERhdGUubm93KCksXG4gICAgfSk7XG4gICAgXG4gICAgbW9ja0ltYWdlUGlja2VyLnJlcXVlc3RNZWRpYUxpYnJhcnlQZXJtaXNzaW9uc0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIHN0YXR1czogJ2dyYW50ZWQnIGFzIGFueSxcbiAgICAgIGdyYW50ZWQ6IHRydWUsXG4gICAgICBjYW5Bc2tBZ2FpbjogdHJ1ZSxcbiAgICB9IGFzIGFueSk7XG4gICAgXG4gICAgbW9ja0ltYWdlUGlja2VyLnJlcXVlc3RDYW1lcmFQZXJtaXNzaW9uc0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIHN0YXR1czogJ2dyYW50ZWQnIGFzIGFueSxcbiAgICAgIGdyYW50ZWQ6IHRydWUsXG4gICAgICBjYW5Bc2tBZ2FpbjogdHJ1ZSxcbiAgICB9IGFzIGFueSk7XG4gICAgXG4gICAgbW9ja0ltYWdlUGlja2VyLmxhdW5jaEltYWdlTGlicmFyeUFzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIGNhbmNlbGVkOiBmYWxzZSxcbiAgICAgIGFzc2V0czogW3tcbiAgICAgICAgdXJpOiAncGlja2VkLWltYWdlLmpwZycsXG4gICAgICAgIHdpZHRoOiAyMDQ4LFxuICAgICAgICBoZWlnaHQ6IDE1MzYsXG4gICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgIGZpbGVOYW1lOiAndGVzdC5qcGcnLFxuICAgICAgICBmaWxlU2l6ZTogMTAyNDAwMCxcbiAgICAgICAgLy8gbWltZVR5cGUgaXMgbm90IHBhcnQgb2YgSW1hZ2VQaWNrZXJBc3NldCB0eXBlXG4gICAgICAgIGV4aWY6IHt9LFxuICAgICAgfV0sXG4gICAgfSBhcyBhbnkpO1xuICAgIFxuICAgIG1vY2tJbWFnZVBpY2tlci5sYXVuY2hDYW1lcmFBc3luYy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBjYW5jZWxlZDogZmFsc2UsXG4gICAgICBhc3NldHM6IFt7XG4gICAgICAgIHVyaTogJ2NhcHR1cmVkLWltYWdlLmpwZycsXG4gICAgICAgIHdpZHRoOiAyMDQ4LFxuICAgICAgICBoZWlnaHQ6IDE1MzYsXG4gICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgIGZpbGVOYW1lOiAnY2FwdHVyZS5qcGcnLFxuICAgICAgICBmaWxlU2l6ZTogMTAyNDAwMCxcbiAgICAgICAgLy8gbWltZVR5cGUgaXMgbm90IHBhcnQgb2YgSW1hZ2VQaWNrZXJBc3NldCB0eXBlXG4gICAgICAgIGV4aWY6IHt9LFxuICAgICAgfV0sXG4gICAgfSBhcyBhbnkpO1xuICB9KTtcblxuICBkZXNjcmliZSgncHJvY2Vzc0ltYWdlRm9yVXBsb2FkJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcHJvY2VzcyBpbWFnZSBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcm9jZXNzSW1hZ2VGb3JVcGxvYWQoJ3Rlc3QuanBnJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LnVyaSkudG9CZSgncHJvY2Vzc2VkLWltYWdlLmpwZycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC53aWR0aCkudG9CZSgxMDI0KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaGVpZ2h0KS50b0JlKDc2OCk7XG4gICAgICBleHBlY3QocmVzdWx0LmZpbGVTaXplKS50b0JlKDUxMjAwMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm1pbWVUeXBlKS50b0JlKCdpbWFnZS9qcGVnJyk7XG4gICAgfSk7XG4gICAgXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBmaWxlIHR5cGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZpbGVTeXN0ZW0uZ2V0SW5mb0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZXhpc3RzOiB0cnVlLFxuICAgICAgICBpc0RpcmVjdG9yeTogZmFsc2UsXG4gICAgICAgIHNpemU6IDEwMDAsXG4gICAgICAgIHVyaTogJ3Rlc3QudHh0JyxcbiAgICAgICAgbW9kaWZpY2F0aW9uVGltZTogRGF0ZS5ub3coKSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QocHJvY2Vzc0ltYWdlRm9yVXBsb2FkKCd0ZXN0LnR4dCcpKS5yZWplY3RzLnRvVGhyb3coJ0ludmFsaWQgZmlsZSB0eXBlJyk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ3BpY2tBbmRQcm9jZXNzSW1hZ2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwaWNrIGFuZCBwcm9jZXNzIGltYWdlIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBpY2tBbmRQcm9jZXNzSW1hZ2UoKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tJbWFnZVBpY2tlci5yZXF1ZXN0TWVkaWFMaWJyYXJ5UGVybWlzc2lvbnNBc3luYykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tJbWFnZVBpY2tlci5sYXVuY2hJbWFnZUxpYnJhcnlBc3luYykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQhLnVyaSkudG9CZSgncHJvY2Vzc2VkLWltYWdlLmpwZycpO1xuICAgIH0pO1xuICAgIFxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHBlcm1pc3Npb24gZGVuaWFsJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ltYWdlUGlja2VyLnJlcXVlc3RNZWRpYUxpYnJhcnlQZXJtaXNzaW9uc0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3RhdHVzOiAnZGVuaWVkJyBhcyBhbnksXG4gICAgICAgIGdyYW50ZWQ6IGZhbHNlLFxuICAgICAgICBjYW5Bc2tBZ2FpbjogdHJ1ZSxcbiAgICAgIH0gYXMgYW55KTtcbiAgICAgIFxuICAgICAgYXdhaXQgZXhwZWN0KHBpY2tBbmRQcm9jZXNzSW1hZ2UoKSkucmVqZWN0cy50b1Rocm93KCdDYW1lcmEgcm9sbCBwZXJtaXNzaW9ucyBub3QgZ3JhbnRlZCcpO1xuICAgIH0pO1xuICAgIFxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVzZXIgY2FuY2VsbGF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ltYWdlUGlja2VyLmxhdW5jaEltYWdlTGlicmFyeUFzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgY2FuY2VsZWQ6IHRydWUsXG4gICAgICAgIGFzc2V0czogbnVsbCxcbiAgICAgIH0gYXMgYW55KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcGlja0FuZFByb2Nlc3NJbWFnZSgpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdjYXB0dXJlQW5kUHJvY2Vzc0ltYWdlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FwdHVyZSBhbmQgcHJvY2VzcyBpbWFnZSBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjYXB0dXJlQW5kUHJvY2Vzc0ltYWdlKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChtb2NrSW1hZ2VQaWNrZXIucmVxdWVzdENhbWVyYVBlcm1pc3Npb25zQXN5bmMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChtb2NrSW1hZ2VQaWNrZXIubGF1bmNoQ2FtZXJhQXN5bmMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0IS51cmkpLnRvQmUoJ3Byb2Nlc3NlZC1pbWFnZS5qcGcnKTtcbiAgICB9KTtcbiAgICBcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjYW1lcmEgcGVybWlzc2lvbiBkZW5pYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSW1hZ2VQaWNrZXIucmVxdWVzdENhbWVyYVBlcm1pc3Npb25zQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdGF0dXM6ICdkZW5pZWQnIGFzIGFueSxcbiAgICAgICAgZ3JhbnRlZDogZmFsc2UsXG4gICAgICAgIGNhbkFza0FnYWluOiBmYWxzZSxcbiAgICAgIH0gYXMgYW55KTtcbiAgICAgIFxuICAgICAgYXdhaXQgZXhwZWN0KGNhcHR1cmVBbmRQcm9jZXNzSW1hZ2UoKSkucmVqZWN0cy50b1Rocm93KCdDYW1lcmEgcGVybWlzc2lvbnMgbm90IGdyYW50ZWQnKTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgnY2hlY2tVcGxvYWRRdW90YScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBxdW90YSBpbmZvcm1hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoZWNrVXBsb2FkUXVvdGEoJ3VzZXIxMjMnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYWxsb3dlZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucmVtYWluaW5nKS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubGltaXQpLnRvQmUoMTApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXNldEF0KS50b0JlSW5zdGFuY2VPZihEYXRlKTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgndXBsb2FkV2l0aFJldHJ5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc3VjY2VlZCBvbiBmaXJzdCBhdHRlbXB0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gR2l2ZSB0aGUgbW9jayBhIHNoYXBlIHNvIFRTIGRvZXNuJ3QgaW5mZXIgYG5ldmVyYFxuICAgICAgdHlwZSBVcGxvYWRGbiA9ICguLi5hcmdzOiBhbnlbXSkgPT4gUHJvbWlzZTxzdHJpbmc+O1xuICAgICAgY29uc3QgdXBsb2FkRm46IGplc3QuTW9ja2VkRnVuY3Rpb248VXBsb2FkRm4+ID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdzdWNjZXNzJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwbG9hZFdpdGhSZXRyeSh1cGxvYWRGbik7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ3N1Y2Nlc3MnKTtcbiAgICAgIGV4cGVjdCh1cGxvYWRGbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuICAgIFxuICAgIGl0KCdzaG91bGQgcmV0cnkgb24gZmFpbHVyZSBhbmQgc3VjY2VlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEdpdmUgdGhlIG1vY2sgYSBzaGFwZSBzbyBUUyBkb2Vzbid0IGluZmVyIGBuZXZlcmBcbiAgICAgIHR5cGUgVXBsb2FkRm4gPSAoLi4uYXJnczogYW55W10pID0+IFByb21pc2U8c3RyaW5nPjtcbiAgICAgIGNvbnN0IHVwbG9hZEZuOiBqZXN0Lk1vY2tlZEZ1bmN0aW9uPFVwbG9hZEZuPiA9IGplc3QuZm4oKTtcbiAgICAgICh1cGxvYWRGbiBhcyBqZXN0Lk1vY2spXG4gICAgICAgIC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdBdHRlbXB0IDEgZmFpbGVkJykpXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoJ3N1Y2Nlc3MnKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBsb2FkV2l0aFJldHJ5KHVwbG9hZEZuLCAzLCAxMDApO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdzdWNjZXNzJyk7XG4gICAgICBleHBlY3QodXBsb2FkRm4pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFrQkFBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG1CQUFtQixDQUFDO0FBQzlCRCxXQUFBLEdBQUtDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztBQUNuQ0QsV0FBQSxHQUFLQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7QUFDN0JELFdBQUEsR0FBS0MsSUFBSSxjQUFjO0VBQUEsT0FBTztJQUM1QkMsTUFBTSxFQUFFO01BQ05DLElBQUksRUFBRUMsYUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUNmQyxJQUFJLEVBQUVGLGFBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDZkUsS0FBSyxFQUFFSCxhQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO01BQ2hCRyxLQUFLLEVBQUVKLGFBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDaEJJLFFBQVEsRUFBRUwsYUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUNuQkssZ0JBQWdCLEVBQUVOLGFBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ00s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