{"version":3,"names":["_interopRequireDefault","require","_asyncToGenerator2","_classCallCheck2","_createClass2","Object","defineProperty","exports","value","AccountService","baseUrl","default","key","_requestAccountDeletion","request","token","response","fetch","method","headers","body","JSON","stringify","ok","_error$message","error","json","Error","message","requestAccountDeletion","_x","_x2","apply","arguments","_cancelAccountDeletion","_error$message2","cancelAccountDeletion","_x3","_x4","_deactivateAccount","_error$message3","deactivateAccount","_x5","_x6","_reactivateAccount","_error$message4","reactivateAccount","_x7","_requestDataExport","_error$message5","requestDataExport","_x8","_x9","_getDataExportStatus","exportId","_error$message6","getDataExportStatus","_x0","_x1","_downloadDataExport","_error$message7","blob","downloadDataExport","_x10","_x11"],"sources":["AccountService.js"],"sourcesContent":["\"use strict\";\n/**\n * Account Management Service\n * GDPR-compliant account operations\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AccountService = void 0;\nclass AccountService {\n    baseUrl;\n    constructor(baseUrl) {\n        this.baseUrl = baseUrl;\n    }\n    /**\n     * Request account deletion with 30-day grace period (GDPR Article 17)\n     */\n    async requestAccountDeletion(request, token) {\n        const response = await fetch(`${this.baseUrl}/api/account/delete`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify(request),\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.message ?? 'Failed to request account deletion');\n        }\n        return await response.json();\n    }\n    /**\n     * Cancel pending account deletion (within grace period)\n     */\n    async cancelAccountDeletion(request, token) {\n        const response = await fetch(`${this.baseUrl}/api/account/cancel-deletion`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify(request),\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.message ?? 'Failed to cancel account deletion');\n        }\n        return await response.json();\n    }\n    /**\n     * Deactivate account (temporary suspension)\n     */\n    async deactivateAccount(request, token) {\n        const response = await fetch(`${this.baseUrl}/api/account/deactivate`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify(request),\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.message ?? 'Failed to deactivate account');\n        }\n        return await response.json();\n    }\n    /**\n     * Reactivate deactivated account\n     */\n    async reactivateAccount(token) {\n        const response = await fetch(`${this.baseUrl}/api/account/reactivate`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.message ?? 'Failed to reactivate account');\n        }\n        return await response.json();\n    }\n    /**\n     * Request data export (GDPR Article 20)\n     */\n    async requestDataExport(request, token) {\n        const response = await fetch(`${this.baseUrl}/api/account/export-data`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify(request),\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.message ?? 'Failed to request data export');\n        }\n        return await response.json();\n    }\n    /**\n     * Check data export status\n     */\n    async getDataExportStatus(exportId, token) {\n        const response = await fetch(`${this.baseUrl}/api/account/export-data/${exportId}/status`, {\n            headers: {\n                'Authorization': `Bearer ${token}`,\n            },\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.message ?? 'Failed to get export status');\n        }\n        return await response.json();\n    }\n    /**\n     * Download data export\n     */\n    async downloadDataExport(exportId, token) {\n        const response = await fetch(`${this.baseUrl}/api/account/export-data/${exportId}/download`, {\n            headers: {\n                'Authorization': `Bearer ${token}`,\n            },\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.message ?? 'Failed to download data export');\n        }\n        return await response.blob();\n    }\n}\nexports.AccountService = AccountService;\n"],"mappings":"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","ignoreList":[]}