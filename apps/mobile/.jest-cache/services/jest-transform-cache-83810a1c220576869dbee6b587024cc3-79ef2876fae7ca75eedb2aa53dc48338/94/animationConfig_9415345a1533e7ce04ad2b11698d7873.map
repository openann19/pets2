{"version":3,"names":["_interopRequireDefault","require","_asyncToGenerator2","_defineProperty2","_classCallCheck2","_createClass2","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","default","getOwnPropertyDescriptors","defineProperties","defineProperty","exports","value","animationConfig","useAnimationConfig","animations_1","env_1","AnimationConfigService","config","defaultAnimationConfig","listeners","Set","loadConfig","key","getConfig","updateConfig","updates","saveConfig","notifyListeners","resetToDefaults","subscribe","listener","_this","add","delete","areAnimationsEnabled","enabled","isFeatureEnabled","feature","Boolean","getButtonConfig","buttons","getCardConfig","cards","getListConfig","lists","getCelebrationConfig","celebrations","getMobileConfig","mobile","getWebConfig","web","_loadConfig","Promise","resolve","stored","getLocalStorageItem","parsed","JSON","parse","error","console","warn","_saveConfig","setLocalStorageItem","stringify","_this2"],"sources":["animationConfig.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animationConfig = void 0;\nexports.useAnimationConfig = useAnimationConfig;\nconst animations_1 = require(\"../types/animations\");\nconst env_1 = require(\"../utils/env\");\nclass AnimationConfigService {\n    config = { ...animations_1.defaultAnimationConfig };\n    listeners = new Set();\n    constructor() {\n        void this.loadConfig();\n    }\n    // Get current configuration\n    getConfig() {\n        return { ...this.config };\n    }\n    // Update configuration\n    updateConfig(updates) {\n        this.config = { ...this.config, ...updates };\n        void this.saveConfig();\n        this.notifyListeners();\n    }\n    // Reset to defaults\n    resetToDefaults() {\n        this.config = { ...animations_1.defaultAnimationConfig };\n        void this.saveConfig();\n        this.notifyListeners();\n    }\n    // Subscribe to configuration changes\n    subscribe(listener) {\n        this.listeners.add(listener);\n        return () => {\n            this.listeners.delete(listener);\n        };\n    }\n    // Check if animations are enabled globally\n    areAnimationsEnabled() {\n        return this.config.enabled;\n    }\n    // Check if a specific feature is enabled\n    isFeatureEnabled(feature) {\n        return this.config.enabled && Boolean(this.config[feature]);\n    }\n    // Get button animation config\n    getButtonConfig() {\n        return this.config.buttons;\n    }\n    // Get card animation config\n    getCardConfig() {\n        return this.config.cards;\n    }\n    // Get list animation config\n    getListConfig() {\n        return this.config.lists;\n    }\n    // Get celebration config\n    getCelebrationConfig() {\n        return this.config.celebrations;\n    }\n    // Get platform-specific config\n    getMobileConfig() {\n        return this.config.mobile;\n    }\n    getWebConfig() {\n        return this.config.web;\n    }\n    async loadConfig() {\n        try {\n            await Promise.resolve(); // Satisfy require-await\n            // Load from localStorage (web) or AsyncStorage (mobile)\n            const stored = (0, env_1.getLocalStorageItem)('animation-config');\n            if (stored != null && stored !== '') {\n                const parsed = JSON.parse(stored);\n                this.config = { ...animations_1.defaultAnimationConfig, ...parsed };\n            }\n        }\n        catch (error) {\n            console.warn('Failed to load animation config:', error);\n            this.config = { ...animations_1.defaultAnimationConfig };\n        }\n    }\n    async saveConfig() {\n        try {\n            await Promise.resolve(); // Satisfy require-await\n            (0, env_1.setLocalStorageItem)('animation-config', JSON.stringify(this.config));\n        }\n        catch (error) {\n            console.warn('Failed to save animation config:', error);\n        }\n    }\n    notifyListeners() {\n        this.listeners.forEach(listener => {\n            try {\n                listener(this.getConfig());\n            }\n            catch (error) {\n                console.warn('Error notifying animation config listener:', error);\n            }\n        });\n    }\n}\n// Singleton instance\nexports.animationConfig = new AnimationConfigService();\n// Lightweight helper for consumers that previously relied on a\n// named export `useAnimationConfig`. Historically this returned a\n// small accessor around the singleton. Provide a stable export\n// to satisfy existing public API surface and TypeScript checks.\nfunction useAnimationConfig() {\n    // Return the singleton instance; callers can call getConfig() or\n    // subscribe() on the returned object.\n    return exports.animationConfig;\n}\n"],"mappings":"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","ignoreList":[]}