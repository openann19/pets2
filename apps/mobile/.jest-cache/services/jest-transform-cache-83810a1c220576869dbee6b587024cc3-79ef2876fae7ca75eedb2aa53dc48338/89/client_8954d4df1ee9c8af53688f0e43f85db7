5d83f5d969d0c8624d98007645de4e02
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.apiClient = void 0;
var axios_1 = require("axios");
var environment_1 = require("../utils/environment");
var ApiClient = function () {
  function ApiClient() {
    var _process$env$NEXT_PUB;
    (0, _classCallCheck2.default)(this, ApiClient);
    this.client = axios_1.default.create({
      baseURL: (_process$env$NEXT_PUB = process.env['NEXT_PUBLIC_API_URL']) != null ? _process$env$NEXT_PUB : 'http://localhost:5000/api',
      timeout: 10000,
      headers: {
        'Content-Type': 'application/json'
      }
    });
    this.setupInterceptors();
  }
  return (0, _createClass2.default)(ApiClient, [{
    key: "setupInterceptors",
    value: function setupInterceptors() {
      this.client.interceptors.request.use(function (config) {
        var storage = (0, environment_1.getLocalStorage)();
        var token = storage == null ? void 0 : storage.getItem('accessToken');
        if (typeof token === 'string' && token.trim().length > 0) {
          var _config$headers;
          var bearerToken = `Bearer ${token.trim()}`;
          var headers = isAxiosHeaders(config.headers) ? config.headers : new axios_1.AxiosHeaders((_config$headers = config.headers) != null ? _config$headers : {});
          headers.set('Authorization', bearerToken);
          config.headers = headers;
        }
        return config;
      }, function (error) {
        return Promise.reject(new Error(extractErrorMessage(error, 'Request interceptor failed')));
      });
      this.client.interceptors.response.use(function (response) {
        return response;
      }, function (error) {
        console.error('Response interceptor error:', extractErrorMessage(error, 'Unknown error'));
        if (isAxiosErrorLike(error)) {
          var _error$response, _error$response2, _statusCode$toString;
          if (((_error$response = error.response) == null ? void 0 : _error$response.status) === 401) {
            var storage = (0, environment_1.getLocalStorage)();
            storage == null ? void 0 : storage.removeItem('accessToken');
            storage == null ? void 0 : storage.removeItem('refreshToken');
            (0, environment_1.redirectTo)('/login');
          }
          var statusCode = (_error$response2 = error.response) == null ? void 0 : _error$response2.status;
          return Promise.reject(new Error(`API request failed: ${(_statusCode$toString = statusCode == null ? void 0 : statusCode.toString()) != null ? _statusCode$toString : 'Unknown error'}`));
        }
        return Promise.reject(new Error(extractErrorMessage(error, 'Response interceptor failed')));
      });
    }
  }, {
    key: "get",
    value: function () {
      var _get = (0, _asyncToGenerator2.default)(function* (url, config) {
        try {
          var response = yield this.client.get(url, config);
          return response.data;
        } catch (error) {
          throw new Error(extractErrorMessage(error, 'Request failed'));
        }
      });
      function get(_x, _x2) {
        return _get.apply(this, arguments);
      }
      return get;
    }()
  }, {
    key: "post",
    value: function () {
      var _post = (0, _asyncToGenerator2.default)(function* (url, data, config) {
        try {
          var response = yield this.client.post(url, data, config);
          return response.data;
        } catch (error) {
          throw new Error(extractErrorMessage(error, 'Request failed'));
        }
      });
      function post(_x3, _x4, _x5) {
        return _post.apply(this, arguments);
      }
      return post;
    }()
  }, {
    key: "put",
    value: function () {
      var _put = (0, _asyncToGenerator2.default)(function* (url, data, config) {
        try {
          var response = yield this.client.put(url, data, config);
          return response.data;
        } catch (error) {
          throw new Error(extractErrorMessage(error, 'Request failed'));
        }
      });
      function put(_x6, _x7, _x8) {
        return _put.apply(this, arguments);
      }
      return put;
    }()
  }, {
    key: "patch",
    value: function () {
      var _patch = (0, _asyncToGenerator2.default)(function* (url, data, config) {
        try {
          var response = yield this.client.patch(url, data, config);
          return response.data;
        } catch (error) {
          throw new Error(extractErrorMessage(error, 'Request failed'));
        }
      });
      function patch(_x9, _x0, _x1) {
        return _patch.apply(this, arguments);
      }
      return patch;
    }()
  }, {
    key: "delete",
    value: function () {
      var _delete2 = (0, _asyncToGenerator2.default)(function* (url, config) {
        try {
          var response = yield this.client.delete(url, config);
          return response.data;
        } catch (error) {
          throw new Error(extractErrorMessage(error, 'Request failed'));
        }
      });
      function _delete(_x10, _x11) {
        return _delete2.apply(this, arguments);
      }
      return _delete;
    }()
  }, {
    key: "uploadFile",
    value: function () {
      var _uploadFile = (0, _asyncToGenerator2.default)(function* (url, config) {
        try {
          var formData = new FormData();
          formData.append('file', config.file);
          if (config.additionalData != null) {
            Object.entries(config.additionalData).forEach(function (_ref) {
              var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
                key = _ref2[0],
                value = _ref2[1];
              formData.append(key, String(value));
            });
          }
          var axiosConfig = {
            headers: {
              'Content-Type': 'multipart/form-data'
            }
          };
          if (config.onProgress != null) {
            axiosConfig.onUploadProgress = function (progressEvent) {
              if (progressEvent.total != null && progressEvent.total > 0) {
                var progress = Math.round(progressEvent.loaded * 100 / progressEvent.total);
                config.onProgress(progress);
              }
            };
          }
          var response = yield this.client.post(url, formData, axiosConfig);
          return response.data;
        } catch (error) {
          throw new Error(extractErrorMessage(error, 'Upload failed'));
        }
      });
      function uploadFile(_x12, _x13) {
        return _uploadFile.apply(this, arguments);
      }
      return uploadFile;
    }()
  }]);
}();
exports.apiClient = new ApiClient();
exports.default = exports.apiClient;
var isAxiosErrorLike = function isAxiosErrorLike(error) {
  return typeof error === 'object' && error !== null && 'response' in error;
};
var isAxiosHeaders = function isAxiosHeaders(headers) {
  return typeof headers === 'object' && headers !== null && 'set' in headers && typeof headers.set === 'function';
};
var extractErrorMessage = function extractErrorMessage(error, fallback) {
  if (isAxiosErrorLike(error)) {
    var _error$response$data$, _error$response3, _error$response3$data;
    var message = (_error$response$data$ = (_error$response3 = error.response) == null ? void 0 : (_error$response3$data = _error$response3.data) == null ? void 0 : _error$response3$data.message) != null ? _error$response$data$ : error.message;
    if (typeof message === 'string' && message.trim().length > 0) {
      return message;
    }
  }
  if (error instanceof Error && error.message.trim().length > 0) {
    return error.message;
  }
  if (typeof error === 'string' && error.trim().length > 0) {
    return error.trim();
  }
  return fallback;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9zbGljZWRUb0FycmF5MiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJhcGlDbGllbnQiLCJheGlvc18xIiwiZW52aXJvbm1lbnRfMSIsIkFwaUNsaWVudCIsIl9wcm9jZXNzJGVudiRORVhUX1BVQiIsImRlZmF1bHQiLCJjbGllbnQiLCJjcmVhdGUiLCJiYXNlVVJMIiwicHJvY2VzcyIsImVudiIsInRpbWVvdXQiLCJoZWFkZXJzIiwic2V0dXBJbnRlcmNlcHRvcnMiLCJrZXkiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwiY29uZmlnIiwic3RvcmFnZSIsImdldExvY2FsU3RvcmFnZSIsInRva2VuIiwiZ2V0SXRlbSIsInRyaW0iLCJsZW5ndGgiLCJfY29uZmlnJGhlYWRlcnMiLCJiZWFyZXJUb2tlbiIsImlzQXhpb3NIZWFkZXJzIiwiQXhpb3NIZWFkZXJzIiwic2V0IiwiZXJyb3IiLCJQcm9taXNlIiwicmVqZWN0IiwiRXJyb3IiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwicmVzcG9uc2UiLCJjb25zb2xlIiwiaXNBeGlvc0Vycm9yTGlrZSIsIl9lcnJvciRyZXNwb25zZSIsIl9lcnJvciRyZXNwb25zZTIiLCJfc3RhdHVzQ29kZSR0b1N0cmluZyIsInN0YXR1cyIsInJlbW92ZUl0ZW0iLCJyZWRpcmVjdFRvIiwic3RhdHVzQ29kZSIsInRvU3RyaW5nIiwiX2dldCIsInVybCIsImdldCIsImRhdGEiLCJfeCIsIl94MiIsImFwcGx5IiwiYXJndW1lbnRzIiwiX3Bvc3QiLCJwb3N0IiwiX3gzIiwiX3g0IiwiX3g1IiwiX3B1dCIsInB1dCIsIl94NiIsIl94NyIsIl94OCIsIl9wYXRjaCIsInBhdGNoIiwiX3g5IiwiX3gwIiwiX3gxIiwiX2RlbGV0ZTIiLCJkZWxldGUiLCJfeDEwIiwiX3gxMSIsIl91cGxvYWRGaWxlIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsImZpbGUiLCJhZGRpdGlvbmFsRGF0YSIsImVudHJpZXMiLCJmb3JFYWNoIiwiX3JlZiIsIl9yZWYyIiwiU3RyaW5nIiwiYXhpb3NDb25maWciLCJvblByb2dyZXNzIiwib25VcGxvYWRQcm9ncmVzcyIsInByb2dyZXNzRXZlbnQiLCJ0b3RhbCIsInByb2dyZXNzIiwiTWF0aCIsInJvdW5kIiwibG9hZGVkIiwidXBsb2FkRmlsZSIsIl94MTIiLCJfeDEzIiwiZmFsbGJhY2siLCJfZXJyb3IkcmVzcG9uc2UkZGF0YSQiLCJfZXJyb3IkcmVzcG9uc2UzIiwiX2Vycm9yJHJlc3BvbnNlMyRkYXRhIiwibWVzc2FnZSJdLCJzb3VyY2VzIjpbImNsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYXBpQ2xpZW50ID0gdm9pZCAwO1xuY29uc3QgYXhpb3NfMSA9IHJlcXVpcmUoXCJheGlvc1wiKTtcbmNvbnN0IGVudmlyb25tZW50XzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZW52aXJvbm1lbnRcIik7XG5jbGFzcyBBcGlDbGllbnQge1xuICAgIGNsaWVudDtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBheGlvc18xLmRlZmF1bHQuY3JlYXRlKHtcbiAgICAgICAgICAgIGJhc2VVUkw6IHByb2Nlc3MuZW52WydORVhUX1BVQkxJQ19BUElfVVJMJ10gPz8gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGknLFxuICAgICAgICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldHVwSW50ZXJjZXB0b3JzKCk7XG4gICAgfVxuICAgIHNldHVwSW50ZXJjZXB0b3JzKCkge1xuICAgICAgICAvLyBSZXF1ZXN0IGludGVyY2VwdG9yIHRvIGFkZCBhdXRoIHRva2VuXG4gICAgICAgIHRoaXMuY2xpZW50LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZSgoY29uZmlnKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlID0gKDAsIGVudmlyb25tZW50XzEuZ2V0TG9jYWxTdG9yYWdlKSgpO1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBzdG9yYWdlPy5nZXRJdGVtKCdhY2Nlc3NUb2tlbicpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycgJiYgdG9rZW4udHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiZWFyZXJUb2tlbiA9IGBCZWFyZXIgJHt0b2tlbi50cmltKCl9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gaXNBeGlvc0hlYWRlcnMoY29uZmlnLmhlYWRlcnMpXG4gICAgICAgICAgICAgICAgICAgID8gY29uZmlnLmhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgYXhpb3NfMS5BeGlvc0hlYWRlcnMoY29uZmlnLmhlYWRlcnMgPz8ge30pO1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgYmVhcmVyVG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzID0gaGVhZGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgIH0sIChlcnJvcikgPT4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IsICdSZXF1ZXN0IGludGVyY2VwdG9yIGZhaWxlZCcpKSkpO1xuICAgICAgICAvLyBSZXNwb25zZSBpbnRlcmNlcHRvciBmb3IgZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgdGhpcy5jbGllbnQuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgocmVzcG9uc2UpID0+IHJlc3BvbnNlLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Jlc3BvbnNlIGludGVyY2VwdG9yIGVycm9yOicsIGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IsICdVbmtub3duIGVycm9yJykpO1xuICAgICAgICAgICAgaWYgKGlzQXhpb3NFcnJvckxpa2UoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yYWdlID0gKDAsIGVudmlyb25tZW50XzEuZ2V0TG9jYWxTdG9yYWdlKSgpO1xuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlPy5yZW1vdmVJdGVtKCdhY2Nlc3NUb2tlbicpO1xuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlPy5yZW1vdmVJdGVtKCdyZWZyZXNoVG9rZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGVudmlyb25tZW50XzEucmVkaXJlY3RUbykoJy9sb2dpbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNDb2RlID0gZXJyb3IucmVzcG9uc2U/LnN0YXR1cztcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBBUEkgcmVxdWVzdCBmYWlsZWQ6ICR7c3RhdHVzQ29kZT8udG9TdHJpbmcoKSA/PyAnVW5rbm93biBlcnJvcid9YCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yLCAnUmVzcG9uc2UgaW50ZXJjZXB0b3IgZmFpbGVkJykpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEdlbmVyaWMgcmVxdWVzdCBtZXRob2RzIHdpdGggcHJvcGVyIGVycm9yIGhhbmRsaW5nXG4gICAgYXN5bmMgZ2V0KHVybCwgY29uZmlnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCh1cmwsIGNvbmZpZyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yLCAnUmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcG9zdCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KHVybCwgZGF0YSwgY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IsICdSZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwdXQodXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQucHV0KHVybCwgZGF0YSwgY29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IsICdSZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXRjaCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wYXRjaCh1cmwsIGRhdGEsIGNvbmZpZyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yLCAnUmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZGVsZXRlKHVybCwgY29uZmlnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmRlbGV0ZSh1cmwsIGNvbmZpZyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yLCAnUmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gRmlsZSB1cGxvYWQgaGVscGVyIHdpdGggcHJvcGVyIHR5cGluZ1xuICAgIGFzeW5jIHVwbG9hZEZpbGUodXJsLCBjb25maWcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBjb25maWcuZmlsZSk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLmFkZGl0aW9uYWxEYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhjb25maWcuYWRkaXRpb25hbERhdGEpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGF4aW9zQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjb25maWcub25Qcm9ncmVzcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYXhpb3NDb25maWcub25VcGxvYWRQcm9ncmVzcyA9IChwcm9ncmVzc0V2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzc0V2ZW50LnRvdGFsICE9IG51bGwgJiYgcHJvZ3Jlc3NFdmVudC50b3RhbCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5yb3VuZCgocHJvZ3Jlc3NFdmVudC5sb2FkZWQgKiAxMDApIC8gcHJvZ3Jlc3NFdmVudC50b3RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcub25Qcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KHVybCwgZm9ybURhdGEsIGF4aW9zQ29uZmlnKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IsICdVcGxvYWQgZmFpbGVkJykpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gQ3JlYXRlIGFuZCBleHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnRzLmFwaUNsaWVudCA9IG5ldyBBcGlDbGllbnQoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IGV4cG9ydHMuYXBpQ2xpZW50O1xuY29uc3QgaXNBeGlvc0Vycm9yTGlrZSA9IChlcnJvcikgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yICE9PSBudWxsICYmICdyZXNwb25zZScgaW4gZXJyb3I7XG59O1xuY29uc3QgaXNBeGlvc0hlYWRlcnMgPSAoaGVhZGVycykgPT4ge1xuICAgIHJldHVybiAodHlwZW9mIGhlYWRlcnMgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGhlYWRlcnMgIT09IG51bGwgJiZcbiAgICAgICAgJ3NldCcgaW4gaGVhZGVycyAmJlxuICAgICAgICB0eXBlb2YgaGVhZGVycy5zZXQgPT09ICdmdW5jdGlvbicpO1xufTtcbmNvbnN0IGV4dHJhY3RFcnJvck1lc3NhZ2UgPSAoZXJyb3IsIGZhbGxiYWNrKSA9PiB7XG4gICAgaWYgKGlzQXhpb3NFcnJvckxpa2UoZXJyb3IpKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSA/PyBlcnJvci5tZXNzYWdlO1xuICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnICYmIG1lc3NhZ2UudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnICYmIGVycm9yLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBlcnJvci50cmltKCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxsYmFjaztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQUMsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFFLGtCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBRyxnQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUksYUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ2JLLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0VBQUVDLEtBQUssRUFBRTtBQUFLLENBQUMsQ0FBQztBQUM3REQsT0FBTyxDQUFDRSxTQUFTLEdBQUcsS0FBSyxDQUFDO0FBQzFCLElBQU1DLE9BQU8sR0FBR1YsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUNoQyxJQUFNVyxhQUFhLEdBQUdYLE9BQU8sdUJBQXVCLENBQUM7QUFBQyxJQUNoRFksU0FBUztFQUVYLFNBQUFBLFVBQUEsRUFBYztJQUFBLElBQUFDLHFCQUFBO0lBQUEsSUFBQVYsZ0JBQUEsQ0FBQVcsT0FBQSxRQUFBRixTQUFBO0lBQ1YsSUFBSSxDQUFDRyxNQUFNLEdBQUdMLE9BQU8sQ0FBQ0ksT0FBTyxDQUFDRSxNQUFNLENBQUM7TUFDakNDLE9BQU8sR0FBQUoscUJBQUEsR0FBRUssT0FBTyxDQUFDQyxHQUFHLENBQUMscUJBQXFCLENBQUMsWUFBQU4scUJBQUEsR0FBSSwyQkFBMkI7TUFDMUVPLE9BQU8sRUFBRSxLQUFLO01BQ2RDLE9BQU8sRUFBRTtRQUNMLGNBQWMsRUFBRTtNQUNwQjtJQUNKLENBQUMsQ0FBQztJQUNGLElBQUksQ0FBQ0MsaUJBQWlCLENBQUMsQ0FBQztFQUM1QjtFQUFDLFdBQUFsQixhQUFBLENB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