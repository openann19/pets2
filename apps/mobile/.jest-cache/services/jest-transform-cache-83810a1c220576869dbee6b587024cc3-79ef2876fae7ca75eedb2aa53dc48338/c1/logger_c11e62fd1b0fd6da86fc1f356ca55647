80fc2c527fac4e836e95a089ebf90794
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.logger = exports.LogLevel = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var Sentry = _interopRequireWildcard(require("@sentry/react-native"));
var Keychain = _interopRequireWildcard(require("react-native-keychain"));
var Aes = _interopRequireWildcard(require("react-native-aes-crypto"));
var _reactNativeEncryptedStorage = _interopRequireDefault(require("react-native-encrypted-storage"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var sentry = Sentry;
var LogLevel = exports.LogLevel = function (LogLevel) {
  LogLevel["DEBUG"] = "debug";
  LogLevel["INFO"] = "info";
  LogLevel["WARN"] = "warn";
  LogLevel["ERROR"] = "error";
  LogLevel["SECURITY"] = "security";
  LogLevel["PERFORMANCE"] = "performance";
  return LogLevel;
}({});
var MobileLogger = function () {
  function MobileLogger() {
    (0, _classCallCheck2.default)(this, MobileLogger);
    this.isDevelopment = __DEV__;
    this.userInfo = null;
    this.logBuffer = [];
    this.offlineBuffer = [];
    this.encryptionKey = null;
    this.encryptionSalt = null;
    this.ENCRYPTION_KEY_SIZE = 32;
    this.ENCRYPTION_IV_SIZE = 16;
    this.ENCRYPTION_KEY_STORAGE_KEY = "logger_encryption_key";
    this.ENCRYPTION_SALT_STORAGE_KEY = "logger_encryption_salt";
    this.MAX_LOG_BUFFER_SIZE = 1000;
    this.MAX_LOG_SIZE = 32768;
    this.MAX_OFFLINE_BUFFER_SIZE = 500;
    this.rateLimitBackoff = 100;
    this.rateLimits = (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, LogLevel.DEBUG, {
      points: 1000,
      interval: 60000
    }), LogLevel.INFO, {
      points: 500,
      interval: 60000
    }), LogLevel.WARN, {
      points: 100,
      interval: 60000
    }), LogLevel.ERROR, {
      points: 50,
      interval: 60000
    }), LogLevel.SECURITY, {
      points: 20,
      interval: 60000
    }), LogLevel.PERFORMANCE, {
      points: 200,
      interval: 60000
    });
    this.rateTracking = (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, LogLevel.DEBUG, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.INFO, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.WARN, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.ERROR, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.SECURITY, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.PERFORMANCE, {
      count: 0,
      resetTime: Date.now()
    });
    this.lastLogTime = 0;
    this.sessionId = this.generateSessionId();
    this.appVersion = "1.0.0";
    this.setupLogRotation();
    void this.initializeEncryption();
  }
  return (0, _createClass2.default)(MobileLogger, [{
    key: "initializeEncryption",
    value: (function () {
      var _initializeEncryption = (0, _asyncToGenerator2.default)(function* () {
        try {
          var storedKey = yield Keychain.getGenericPassword({
            service: this.ENCRYPTION_KEY_STORAGE_KEY
          });
          var storedSalt = yield Keychain.getGenericPassword({
            service: this.ENCRYPTION_SALT_STORAGE_KEY
          });
          if (storedKey && storedSalt) {
            this.encryptionKey = storedKey.password;
            this.encryptionSalt = storedSalt.password;
          } else {
            var _key = yield this.generateSecureKey();
            var salt = yield this.generateSecureRandomBytes(this.ENCRYPTION_KEY_SIZE);
            yield Keychain.setGenericPassword(this.ENCRYPTION_KEY_STORAGE_KEY, _key, {
              service: this.ENCRYPTION_KEY_STORAGE_KEY
            });
            yield Keychain.setGenericPassword(this.ENCRYPTION_SALT_STORAGE_KEY, salt, {
              service: this.ENCRYPTION_SALT_STORAGE_KEY
            });
            this.encryptionKey = _key;
            this.encryptionSalt = salt;
          }
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to initialize encryption", {
            error: new Error(errorMessage),
            component: "Logger",
            action: "initializeEncryption"
          });
          this.encryptionKey = null;
          this.encryptionSalt = null;
        }
      });
      function initializeEncryption() {
        return _initializeEncryption.apply(this, arguments);
      }
      return initializeEncryption;
    }())
  }, {
    key: "setUserContext",
    value: function setUserContext(userId) {
      var properties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      this.userInfo = {
        id: userId
      };
      try {
        sentry.setUser(_objectSpread({
          id: userId
        }, properties));
      } catch (_unused) {}
    }
  }, {
    key: "clearUserContext",
    value: function clearUserContext() {
      this.userInfo = null;
      this.clearSentryContext();
    }
  }, {
    key: "generateSecureKey",
    value: (function () {
      var _generateSecureKey = (0, _asyncToGenerator2.default)(function* () {
        try {
          var _this$encryptionSalt;
          var randomBytes = yield this.generateSecureRandomBytes(this.ENCRYPTION_KEY_SIZE);
          return yield Aes.pbkdf2(randomBytes, (_this$encryptionSalt = this.encryptionSalt) != null ? _this$encryptionSalt : yield this.generateSecureRandomBytes(this.ENCRYPTION_KEY_SIZE), 10000, this.ENCRYPTION_KEY_SIZE, "sha256");
        } catch (error) {
          throw new Error("Failed to generate secure key: " + String(error));
        }
      });
      function generateSecureKey() {
        return _generateSecureKey.apply(this, arguments);
      }
      return generateSecureKey;
    }())
  }, {
    key: "generateSecureRandomBytes",
    value: (function () {
      var _generateSecureRandomBytes = (0, _asyncToGenerator2.default)(function* (size) {
        try {
          var _key2 = yield Aes.randomKey(size);
          return _key2;
        } catch (error) {
          throw new Error("Failed to generate random bytes: " + String(error));
        }
      });
      function generateSecureRandomBytes(_x) {
        return _generateSecureRandomBytes.apply(this, arguments);
      }
      return generateSecureRandomBytes;
    }())
  }, {
    key: "encryptData",
    value: (function () {
      var _encryptData = (0, _asyncToGenerator2.default)(function* (data) {
        try {
          if (!this.encryptionKey || !this.encryptionSalt) {
            throw new Error("Encryption not initialized");
          }
          var iv = yield this.generateSecureRandomBytes(this.ENCRYPTION_IV_SIZE);
          var ciphertext = yield Aes.encrypt(data, this.encryptionKey, iv, "aes-256-cbc");
          return {
            ciphertext: ciphertext,
            iv: iv
          };
        } catch (error) {
          throw new Error("Encryption failed: " + String(error));
        }
      });
      function encryptData(_x2) {
        return _encryptData.apply(this, arguments);
      }
      return encryptData;
    }())
  }, {
    key: "decryptData",
    value: (function () {
      var _decryptData = (0, _asyncToGenerator2.default)(function* (encryptedData) {
        try {
          if (!this.encryptionKey || !this.encryptionSalt) {
            throw new Error("Encryption not initialized");
          }
          var decrypted = yield Aes.decrypt(encryptedData.ciphertext, this.encryptionKey, encryptedData.iv, "aes-128-cbc");
          return decrypted;
        } catch (error) {
          throw new Error("Decryption failed: " + String(error));
        }
      });
      function decryptData(_x3) {
        return _decryptData.apply(this, arguments);
      }
      return decryptData;
    }())
  }, {
    key: "setupLogRotation",
    value: function setupLogRotation() {
      var _this = this;
      setInterval(function () {
        if (_this.logBuffer.length > 0) {
          void _this.rotateAndPersistLogs();
        }
      }, 60000);
    }
  }, {
    key: "rotateAndPersistLogs",
    value: (function () {
      var _rotateAndPersistLogs = (0, _asyncToGenerator2.default)(function* () {
        var _this2 = this;
        try {
          var logsToRotate = (0, _toConsumableArray2.default)(this.logBuffer);
          this.logBuffer = [];
          var encryptedLogs = yield Promise.all(logsToRotate.map(function () {
            var _ref = (0, _asyncToGenerator2.default)(function* (log) {
              return _this2.shouldEncryptLog(log) ? yield _this2.encryptLogEntry(log) : log;
            });
            return function (_x4) {
              return _ref.apply(this, arguments);
            };
          }()));
          this.logBuffer = encryptedLogs.slice(-this.MAX_LOG_BUFFER_SIZE);
        } catch (error) {
          console.error("Failed to rotate logs:", error instanceof Error ? error.message : String(error));
        }
      });
      function rotateAndPersistLogs() {
        return _rotateAndPersistLogs.apply(this, arguments);
      }
      return rotateAndPersistLogs;
    }())
  }, {
    key: "shouldEncryptLog",
    value: function shouldEncryptLog(log) {
      return log.level === LogLevel.SECURITY || log.metadata.userId !== undefined || log.metadata.sessionId !== undefined;
    }
  }, {
    key: "encryptLogEntry",
    value: (function () {
      var _encryptLogEntry = (0, _asyncToGenerator2.default)(function* (log) {
        try {
          if (!this.encryptionKey) {
            return _objectSpread(_objectSpread({}, log), {}, {
              message: "[REDACTED] Encryption unavailable",
              metadata: {
                timestamp: log.timestamp,
                level: log.level,
                isRedacted: true
              }
            });
          }
          var encryptedData = yield this.encryptData(JSON.stringify({
            message: log.message,
            metadata: this.sanitizeMetadata(log.metadata)
          }));
          return _objectSpread(_objectSpread({}, log), {}, {
            message: "[ENCRYPTED]",
            metadata: _objectSpread(_objectSpread({}, log.metadata), {}, {
              isEncrypted: true,
              encryptedAt: new Date().toISOString(),
              encryptedData: encryptedData,
              integrity: {
                hash: yield this.generateHMAC(log.message + JSON.stringify(log.metadata)),
                timestamp: new Date().toISOString()
              }
            })
          });
        } catch (error) {
          this.error("Log encryption failed", {
            error: error instanceof Error ? error : new Error(String(error)),
            component: "Logger",
            action: "encryptLogEntry"
          });
          return _objectSpread(_objectSpread({}, log), {}, {
            message: "[REDACTED] Log encryption failed",
            metadata: {
              timestamp: log.timestamp,
              level: log.level,
              isRedacted: true,
              error: new Error("Encryption failed")
            }
          });
        }
      });
      function encryptLogEntry(_x5) {
        return _encryptLogEntry.apply(this, arguments);
      }
      return encryptLogEntry;
    }())
  }, {
    key: "generateHMAC",
    value: (function () {
      var _generateHMAC = (0, _asyncToGenerator2.default)(function* (data) {
        try {
          if (!this.encryptionKey || !this.encryptionSalt) {
            throw new Error("Encryption not initialized");
          }
          var hmac = yield Aes.hmac256(data, this.encryptionKey);
          return hmac;
        } catch (error) {
          throw new Error("HMAC generation failed: " + String(error));
        }
      });
      function generateHMAC(_x6) {
        return _generateHMAC.apply(this, arguments);
      }
      return generateHMAC;
    }())
  }, {
    key: "generateSessionId",
    value: function generateSessionId() {
      var timestamp = Date.now();
      var randomValue = Math.random().toString(36).substring(2, 10);
      return `mobile_session_${timestamp.toString()}_${randomValue}`;
    }
  }, {
    key: "sanitizeMetadata",
    value: function sanitizeMetadata(data) {
      var _this3 = this;
      if (data === undefined) {
        return {};
      }
      var sanitized = {};
      var sensitiveFields = ["password", "token", "accessToken", "refreshToken", "secret", "apiKey", "authorization", "auth", "credentials", "credit", "card", "ccv", "cvv", "ssn", "social", "address", "phone", "birth", "zip", "postal", "payment"];
      var hashValue = function hashValue(value) {
        if (value === undefined || value === null || value === "") {
          return "empty";
        }
        var hash = 0;
        for (var i = 0; i < value.length; i++) {
          var char = value.charCodeAt(i);
          hash = (hash << 5) - hash + char;
          hash = hash & hash;
        }
        return hash.toString(16).substring(0, 8);
      };
      var _loop = function _loop() {
        var lowerKey = _key3.toLowerCase();
        if (sensitiveFields.some(function (field) {
          return lowerKey.includes(field);
        })) {
          if (typeof value === "string" && value !== "") {
            sanitized[_key3] = `[REDACTED:${hashValue(value)}]`;
          } else {
            sanitized[_key3] = "[REDACTED]";
          }
        } else if (value instanceof Error) {
          var _value$stack$split, _value$stack, _value$message, _value$name, _code;
          var stackLines = (_value$stack$split = (_value$stack = value.stack) == null ? void 0 : _value$stack.split("\n")) != null ? _value$stack$split : [];
          var sensitivePatterns = [/password=/i, /api_?key=/i, /secret=/i, /token=/i, /auth=/i, /bearer /i, /basic /i, /\/users\/\d+/i, /\b[\w.%+-]+@[\w.-]+\.[A-Za-z]{2,}\b/, /\b\d{4}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}\b/];
          var sanitizedStack = _this3.isDevelopment ? stackLines.filter(function (line) {
            return !sensitivePatterns.some(function (pattern) {
              return pattern.test(line);
            });
          }).join("\n") : undefined;
          sanitized[_key3] = {
            message: (_value$message = value.message) != null ? _value$message : "Unknown error",
            stack: sanitizedStack,
            name: (_value$name = value.name) != null ? _value$name : "Error",
            code: (_code = value.code) != null ? _code : "UNKNOWN"
          };
        } else if (value !== null && typeof value === "object") {
          sanitized[_key3] = _this3.sanitizeMetadata(value);
        } else {
          sanitized[_key3] = value;
        }
      };
      for (var _ref2 of Object.entries(data)) {
        var _ref3 = (0, _slicedToArray2.default)(_ref2, 2);
        var _key3 = _ref3[0];
        var value = _ref3[1];
        _loop();
      }
      return sanitized;
    }
  }, {
    key: "formatLogMessage",
    value: function formatLogMessage(level, message, metadata) {
      var timestamp = new Date().toISOString();
      var sanitized = this.sanitizeMetadata(metadata);
      var parts = [`[${timestamp}]`, `[${level.toUpperCase()}]`, message];
      if (Object.keys(sanitized).length > 0) {
        parts.push(JSON.stringify(sanitized, null, 2));
      }
      return parts.join(" ");
    }
  }, {
    key: "validateLogEntry",
    value: function validateLogEntry(message, metadata) {
      if (message.length === 0) {
        return false;
      }
      var totalSize = new TextEncoder().encode(JSON.stringify({
        message: message,
        metadata: metadata
      })).length;
      if (totalSize > this.MAX_LOG_SIZE) {
        this.warn("Log entry exceeded maximum size limit", {
          size: totalSize,
          limit: this.MAX_LOG_SIZE,
          truncated: true
        });
        return false;
      }
      return true;
    }
  }, {
    key: "checkRateLimit",
    value: function checkRateLimit(level) {
      if (this.isDevelopment) {
        return true;
      }
      var now = Date.now();
      var tracking = this.rateTracking[level];
      var limits = this.rateLimits[level];
      if (now - tracking.resetTime >= limits.interval) {
        tracking.count = 0;
        tracking.resetTime = now;
      }
      if (tracking.count >= limits.points) {
        return false;
      }
      tracking.count++;
      return true;
    }
  }, {
    key: "applyRateLimit",
    value: function applyRateLimit() {
      if (this.isDevelopment) {
        return true;
      }
      var now = Date.now();
      var timeSinceLastLog = now - this.lastLogTime;
      if (timeSinceLastLog < this.rateLimitBackoff) {
        this.rateLimitBackoff = Math.min(this.rateLimitBackoff * 2, 5000);
        return false;
      }
      if (timeSinceLastLog > 1000) {
        this.rateLimitBackoff = 100;
      }
      this.lastLogTime = now;
      return true;
    }
  }, {
    key: "bufferOfflineLog",
    value: (function () {
      var _bufferOfflineLog = (0, _asyncToGenerator2.default)(function* (entry) {
        if (entry.level === LogLevel.DEBUG || entry.level === LogLevel.INFO) {
          return;
        }
        try {
          this.offlineBuffer.push(entry);
          if (this.offlineBuffer.length > this.MAX_OFFLINE_BUFFER_SIZE) {
            this.offlineBuffer = this.offlineBuffer.slice(-this.MAX_OFFLINE_BUFFER_SIZE);
          }
          var storageKey = `offline_log_${entry.timestamp}_${this.hashIdentifier(entry.message)}`;
          var encryptedData = yield this.encryptData(JSON.stringify(entry));
          yield _reactNativeEncryptedStorage.default.setItem(storageKey, JSON.stringify({
            data: encryptedData,
            timestamp: entry.timestamp,
            level: entry.level,
            hash: yield this.generateHMAC(JSON.stringify(entry))
          }));
          yield this.cleanupOldOfflineLogs();
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to buffer offline log", {
            error: new Error(errorMessage),
            component: "Logger",
            action: "bufferOfflineLog"
          });
        }
      });
      function bufferOfflineLog(_x7) {
        return _bufferOfflineLog.apply(this, arguments);
      }
      return bufferOfflineLog;
    }())
  }, {
    key: "cleanupOldOfflineLogs",
    value: (function () {
      var _cleanupOldOfflineLogs = (0, _asyncToGenerator2.default)(function* () {
        try {
          var allKeys = Object.keys((yield _reactNativeEncryptedStorage.default.getItem("__keys__")) || {});
          var offlineLogKeys = allKeys.filter(function (key) {
            return key.startsWith("offline_log_");
          });
          offlineLogKeys.sort(function (a, b) {
            var _a$split = a.split("_"),
              _a$split2 = (0, _slicedToArray2.default)(_a$split, 3),
              _a$split2$ = _a$split2[2],
              timestampA = _a$split2$ === void 0 ? "0" : _a$split2$;
            var _b$split = b.split("_"),
              _b$split2 = (0, _slicedToArray2.default)(_b$split, 3),
              _b$split2$ = _b$split2[2],
              timestampB = _b$split2$ === void 0 ? "0" : _b$split2$;
            return timestampA.localeCompare(timestampB);
          });
          var logsToRemove = offlineLogKeys.slice(0, -this.MAX_OFFLINE_BUFFER_SIZE);
          yield Promise.all(logsToRemove.map(function (key) {
            return _reactNativeEncryptedStorage.default.removeItem(key);
          }));
          if (logsToRemove.length > 0) {
            this.info("Cleaned up old offline logs", {
              component: "Logger",
              action: "cleanupOldOfflineLogs",
              removedCount: logsToRemove.length
            });
          }
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to cleanup old offline logs", {
            error: new Error(errorMessage),
            component: "Logger",
            action: "cleanupOldOfflineLogs"
          });
        }
      });
      function cleanupOldOfflineLogs() {
        return _cleanupOldOfflineLogs.apply(this, arguments);
      }
      return cleanupOldOfflineLogs;
    }())
  }, {
    key: "loadOfflineLogs",
    value: (function () {
      var _loadOfflineLogs = (0, _asyncToGenerator2.default)(function* () {
        try {
          var allKeys = Object.keys((yield _reactNativeEncryptedStorage.default.getItem("__keys__")) || {});
          var offlineLogKeys = allKeys.filter(function (key) {
            return key.startsWith("offline_log_");
          });
          var encryptedLogs = yield Promise.all(offlineLogKeys.map(function () {
            var _ref4 = (0, _asyncToGenerator2.default)(function* (key) {
              try {
                var encrypted = yield _reactNativeEncryptedStorage.default.getItem(key);
                if (!encrypted) return null;
                var parsedItem = JSON.parse(encrypted);
                return _objectSpread({
                  key: key
                }, parsedItem);
              } catch (_error) {
                yield _reactNativeEncryptedStorage.default.removeItem(key);
                return null;
              }
            });
            return function (_x8) {
              return _ref4.apply(this, arguments);
            };
          }()));
          for (var log of encryptedLogs) {
            if (!log) continue;
            try {
              var decrypted = yield this.decryptData(log.data);
              var entry = JSON.parse(decrypted);
              var calculatedHash = yield this.generateHMAC(JSON.stringify(entry));
              if (calculatedHash !== log.hash) {
                this.error("Offline log integrity check failed", {
                  error: new Error("Log tampering detected"),
                  component: "Logger",
                  action: "loadOfflineLogs",
                  key: log.key
                });
                yield _reactNativeEncryptedStorage.default.removeItem(log.key);
                continue;
              }
              this.offlineBuffer.push(entry);
            } catch (decryptError) {
              yield _reactNativeEncryptedStorage.default.removeItem(log.key);
              var errorMessage = decryptError instanceof Error ? decryptError.message : String(decryptError);
              this.error("Failed to decrypt offline log", {
                error: new Error(errorMessage),
                component: "Logger",
                action: "loadOfflineLogs",
                key: log.key
              });
            }
          }
          this.offlineBuffer.sort(function (a, b) {
            return a.timestamp.localeCompare(b.timestamp);
          });
          if (this.offlineBuffer.length > this.MAX_OFFLINE_BUFFER_SIZE) {
            this.offlineBuffer = this.offlineBuffer.slice(-this.MAX_OFFLINE_BUFFER_SIZE);
          }
          this.info("Offline logs loaded successfully", {
            component: "Logger",
            action: "loadOfflineLogs",
            logsLoaded: this.offlineBuffer.length
          });
        } catch (error) {
          var _errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to load offline logs", {
            error: new Error(_errorMessage),
            component: "Logger",
            action: "loadOfflineLogs"
          });
        }
      });
      function loadOfflineLogs() {
        return _loadOfflineLogs.apply(this, arguments);
      }
      return loadOfflineLogs;
    }())
  }, {
    key: "getBufferMetrics",
    value: function getBufferMetrics() {
      var criticalEntries = this.offlineBuffer.filter(function (entry) {
        return entry.level === LogLevel.ERROR || entry.level === LogLevel.SECURITY;
      }).length;
      var oldestEntry = null;
      var latestEntry = null;
      if (this.offlineBuffer.length > 0) {
        var firstEntry = this.offlineBuffer[0];
        var lastEntry = this.offlineBuffer[this.offlineBuffer.length - 1];
        if (firstEntry && firstEntry.timestamp) {
          oldestEntry = new Date(firstEntry.timestamp);
        }
        if (lastEntry && lastEntry.timestamp) {
          latestEntry = new Date(lastEntry.timestamp);
        }
      }
      return {
        totalEntries: this.offlineBuffer.length,
        criticalEntries: criticalEntries,
        oldestEntry: oldestEntry,
        latestEntry: latestEntry
      };
    }
  }, {
    key: "log",
    value: function log(level, message, metadata) {
      var _this$userInfo, _enhancedMetadata$tim;
      if (!this.isDevelopment && level === LogLevel.DEBUG) {
        return;
      }
      if (!this.validateLogEntry(message, metadata)) {
        return;
      }
      if (!this.applyRateLimit() || !this.checkRateLimit(level)) {
        if (level === LogLevel.ERROR || level === LogLevel.SECURITY) {
          var timestamp = new Date().toISOString();
          void this.bufferOfflineLog({
            message: `[Rate Limited] ${message}`,
            level: level,
            timestamp: timestamp,
            metadata: _objectSpread(_objectSpread({}, metadata), {}, {
              rateLimited: true,
              originalTimestamp: timestamp
            })
          });
        }
        return;
      }
      var enhancedMetadata = _objectSpread(_objectSpread({
        timestamp: new Date().toISOString(),
        sessionId: this.sessionId,
        version: this.appVersion,
        userId: ((_this$userInfo = this.userInfo) == null ? void 0 : _this$userInfo.id) !== undefined ? this.userInfo.id : "anonymous"
      }, metadata), {}, {
        securityContext: {
          environment: this.isDevelopment ? "development" : "production",
          sessionHash: this.hashIdentifier(this.sessionId),
          logId: this.hashIdentifier(`${level}_${String(Date.now())}_${message}`)
        }
      });
      var formattedMessage = this.formatLogMessage(level, message, enhancedMetadata);
      var sanitized = this.sanitizeMetadata(enhancedMetadata);
      var logEntry = {
        message: message,
        level: level,
        timestamp: (_enhancedMetadata$tim = enhancedMetadata.timestamp) != null ? _enhancedMetadata$tim : new Date().toISOString(),
        metadata: sanitized
      };
      void this.bufferOfflineLog(logEntry);
      if (this.isDevelopment) {
        switch (level) {
          case LogLevel.DEBUG:
            console.warn(formattedMessage);
            break;
          case LogLevel.INFO:
            console.warn(formattedMessage);
            break;
          case LogLevel.WARN:
            console.warn(formattedMessage);
            break;
          case LogLevel.ERROR:
            console.error(formattedMessage);
            break;
          case LogLevel.SECURITY:
            console.warn(`🔒 ${formattedMessage}`);
            break;
          case LogLevel.PERFORMANCE:
            console.warn(`⚡ ${formattedMessage}`);
            break;
        }
      }
      if (level === LogLevel.ERROR || level === LogLevel.SECURITY) {
        try {
          var fingerprint = this.generateErrorFingerprint(message, metadata);
          if ((metadata == null ? void 0 : metadata.error) instanceof Error) {
            var _metadata$component, _metadata$action;
            sentry.captureException(metadata.error, _objectSpread({
              extra: sanitized,
              tags: _objectSpread({
                logLevel: level,
                errorType: metadata.error.name,
                errorCode: metadata.error.code
              }, metadata.tags !== undefined ? Object.fromEntries(metadata.tags.map(function (tag) {
                return [tag, true];
              })) : {}),
              fingerprint: fingerprint
            }, metadata.correlationId ? {
              transaction: `${(_metadata$component = metadata.component) != null ? _metadata$component : "unknown"}.${(_metadata$action = metadata.action) != null ? _metadata$action : "action"}`,
              transactionHash: this.hashIdentifier(metadata.correlationId)
            } : {}));
          } else {
            var sentryLevel = String(level) === "security" ? "warning" : "error";
            var secureContext = _objectSpread(_objectSpread({}, sanitized), {}, {
              timestamp: new Date().toISOString(),
              sessionHash: this.hashIdentifier(this.sessionId),
              environment: this.isDevelopment ? "development" : "production"
            });
            sentry.setContext("metadata", secureContext);
            sentry.captureMessage(message, sentryLevel);
          }
          this.clearSentryContext();
        } catch (error) {
          if (this.isDevelopment) {
            console.error("Failed to send to Sentry:", error instanceof Error ? error.message : String(error));
          }
        }
      }
    }
  }, {
    key: "debug",
    value: function debug(message, metadata) {
      this.log(LogLevel.DEBUG, message, metadata);
    }
  }, {
    key: "info",
    value: function info(message, metadata) {
      this.log(LogLevel.INFO, message, metadata);
    }
  }, {
    key: "warn",
    value: function warn(message, metadata) {
      this.log(LogLevel.WARN, message, metadata);
    }
  }, {
    key: "error",
    value: function error(message, metadata) {
      this.log(LogLevel.ERROR, message, metadata);
    }
  }, {
    key: "security",
    value: function security(message, metadata) {
      this.log(LogLevel.SECURITY, message, _objectSpread(_objectSpread({}, metadata), {}, {
        tags: [].concat((0, _toConsumableArray2.default)((metadata == null ? void 0 : metadata.tags) !== undefined && metadata.tags !== null ? metadata.tags : []), ["security"])
      }));
    }
  }, {
    key: "performance",
    value: function performance(operation, durationMs, metadata) {
      this.log(LogLevel.PERFORMANCE, `${operation} completed in ${String(durationMs)}ms`, _objectSpread(_objectSpread({}, metadata), {}, {
        duration: durationMs,
        operation: operation,
        tags: [].concat((0, _toConsumableArray2.default)((metadata == null ? void 0 : metadata.tags) !== undefined && metadata.tags !== null ? metadata.tags : []), ["performance"])
      }));
    }
  }, {
    key: "startTimer",
    value: function startTimer(operation) {
      var _this4 = this;
      var startTime = Date.now();
      return function (metadata) {
        var duration = Math.round(Date.now() - startTime);
        _this4.performance(operation, duration, metadata);
      };
    }
  }, {
    key: "setUser",
    value: function setUser(user) {
      if (user === undefined || user === null || user.id === undefined || user.id === null || user.id === "" || user.email === undefined || user.email === null || user.email === "" || user.username === undefined || user.username === null || user.username === "") {
        throw new Error("Invalid user data provided to logger");
      }
      this.userInfo = user;
      sentry.setUser({
        id: user.id,
        email: user.email,
        username: user.username
      });
      this.info("User context set", {
        userId: user.id,
        tags: ["user-context"],
        level: LogLevel.INFO
      });
    }
  }, {
    key: "addBreadcrumb",
    value: function addBreadcrumb(message, category, data) {
      var sanitizedData = this.sanitizeMetadata(data);
      try {
        var _data$component;
        var secureBreadcrumb = {
          message: this.truncateString(message, 1000),
          category: this.validateCategory(category),
          data: sanitizedData,
          level: "info",
          timestamp: Date.now() / 1000,
          sessionHash: this.hashIdentifier(this.sessionId),
          sourceComponent: (_data$component = data == null ? void 0 : data["component"]) != null ? _data$component : "unknown"
        };
        sentry.addBreadcrumb(secureBreadcrumb);
        if (this.isDevelopment) {
          this.debug(`Breadcrumb: ${message}`, _objectSpread(_objectSpread({
            category: category
          }, sanitizedData), {}, {
            securityHash: this.hashIdentifier(message)
          }));
        }
      } catch (error) {
        if (this.isDevelopment) {
          console.warn("Failed to add breadcrumb:", error instanceof Error ? error.message : String(error));
        }
      }
    }
  }, {
    key: "exportAuditLogs",
    value: function () {
      var _exportAuditLogs = (0, _asyncToGenerator2.default)(function* () {
        var _this5 = this;
        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        try {
          var startDate = options.startDate,
            _options$endDate = options.endDate,
            endDate = _options$endDate === void 0 ? new Date() : _options$endDate,
            _options$levels = options.levels,
            levels = _options$levels === void 0 ? Object.values(LogLevel) : _options$levels,
            _options$includeMetri = options.includeMetrics,
            includeMetrics = _options$includeMetri === void 0 ? false : _options$includeMetri;
          if (endDate < (startDate != null ? startDate : new Date(0))) {
            throw new Error("End date must be after start date");
          }
          var filteredLogs = [].concat((0, _toConsumableArray2.default)(this.logBuffer), (0, _toConsumableArray2.default)(this.offlineBuffer)).filter(function (entry) {
            if (!entry.timestamp) {
              return false;
            }
            var entryDate = new Date(entry.timestamp);
            if (isNaN(entryDate.getTime())) {
              return false;
            }
            var matchesDate = startDate ? entryDate >= startDate && entryDate <= endDate : true;
            var matchesLevel = levels.includes(entry.level);
            return matchesDate && matchesLevel;
          }).map(function (entry) {
            return _objectSpread(_objectSpread({}, entry), {}, {
              metadata: _this5.sanitizeMetadata(entry.metadata)
            });
          });
          var baseFilters = {
            startDate: (startDate != null ? startDate : new Date(0)).toISOString(),
            endDate: endDate.toISOString(),
            levels: levels,
            includeMetrics: includeMetrics,
            contentHash: "",
            totalEntries: 0
          };
          var exportData = _objectSpread(_objectSpread({
            logs: filteredLogs
          }, includeMetrics ? {
            metrics: this.getBufferMetrics()
          } : {}), {}, {
            exportMetadata: {
              timestamp: new Date().toISOString(),
              exportId: this.hashIdentifier(`audit_${Date.now()}`),
              filters: baseFilters
            }
          });
          var contentHash = this.hashIdentifier(JSON.stringify(exportData.logs));
          exportData.exportMetadata.filters.contentHash = contentHash;
          exportData.exportMetadata.filters.totalEntries = filteredLogs.length;
          this.security("Audit logs exported", {
            exportId: exportData.exportMetadata.exportId,
            entriesCount: filteredLogs.length,
            timeRange: {
              start: startDate == null ? void 0 : startDate.toISOString(),
              end: endDate.toISOString()
            },
            contentHash: contentHash
          });
          return exportData;
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to export audit logs", {
            error: new Error(errorMessage),
            options: options
          });
          throw new Error("Audit log export failed: " + errorMessage);
        }
      });
      function exportAuditLogs() {
        return _exportAuditLogs.apply(this, arguments);
      }
      return exportAuditLogs;
    }()
  }, {
    key: "generateErrorFingerprint",
    value: function generateErrorFingerprint(message, metadata) {
      var _metadata$component2, _metadata$action2;
      var components = [(_metadata$component2 = metadata == null ? void 0 : metadata.component) != null ? _metadata$component2 : "unknown", (_metadata$action2 = metadata == null ? void 0 : metadata.action) != null ? _metadata$action2 : "action", this.hashIdentifier(message)];
      if ((metadata == null ? void 0 : metadata.error) instanceof Error) {
        var _code2;
        components.push(metadata.error.name, (_code2 = metadata.error.code) != null ? _code2 : "UNKNOWN");
      }
      if ((metadata == null ? void 0 : metadata.tags) !== undefined) {
        components.push.apply(components, (0, _toConsumableArray2.default)(metadata.tags));
      }
      return components;
    }
  }, {
    key: "hashIdentifier",
    value: function hashIdentifier(value) {
      var hash = 0;
      for (var i = 0; i < value.length; i++) {
        var char = value.charCodeAt(i);
        hash = (hash << 5) - hash + char;
        hash = hash & hash;
      }
      return hash.toString(36).substring(0, 8);
    }
  }, {
    key: "clearSentryContext",
    value: function clearSentryContext() {
      try {
        sentry.setContext("metadata", {});
        sentry.setUser({});
      } catch (_unused2) {}
    }
  }, {
    key: "exportSecureAuditLogs",
    value: (function () {
      var _exportSecureAuditLogs = (0, _asyncToGenerator2.default)(function* () {
        var _this6 = this;
        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        try {
          var _startDate$toISOStrin, _startDate$toISOStrin2;
          var startDate = options.startDate,
            _options$endDate2 = options.endDate,
            endDate = _options$endDate2 === void 0 ? new Date() : _options$endDate2,
            _options$levels2 = options.levels,
            levels = _options$levels2 === void 0 ? Object.values(LogLevel) : _options$levels2,
            _options$includeMetri2 = options.includeMetrics,
            includeMetrics = _options$includeMetri2 === void 0 ? false : _options$includeMetri2;
          if (endDate < (startDate != null ? startDate : new Date(0))) {
            throw new Error("End date must be after start date");
          }
          var filteredLogs = [].concat((0, _toConsumableArray2.default)(this.logBuffer), (0, _toConsumableArray2.default)(this.offlineBuffer)).filter(function (entry) {
            if (!entry.timestamp) {
              return false;
            }
            var entryDate = new Date(entry.timestamp);
            if (isNaN(entryDate.getTime())) {
              return false;
            }
            var matchesDate = startDate ? entryDate >= startDate && entryDate <= endDate : true;
            var matchesLevel = levels.includes(entry.level);
            return matchesDate && matchesLevel;
          }).map(function (entry) {
            return _objectSpread(_objectSpread({}, entry), {}, {
              metadata: _this6.sanitizeMetadata(entry.metadata)
            });
          });
          var metrics = this.getBufferMetrics();
          var contentHash = this.hashIdentifier(JSON.stringify(filteredLogs));
          var exportData = {
            logs: filteredLogs,
            metrics: metrics,
            exportMetadata: {
              timestamp: new Date().toISOString(),
              exportId: this.hashIdentifier(`audit_${Date.now()}`),
              filters: {
                startDate: (_startDate$toISOStrin = startDate == null ? void 0 : startDate.toISOString()) != null ? _startDate$toISOStrin : undefined,
                endDate: endDate.toISOString(),
                levels: levels,
                includeMetrics: includeMetrics,
                contentHash: contentHash,
                totalEntries: filteredLogs.length
              }
            }
          };
          this.security("Audit logs exported", {
            exportId: exportData.exportMetadata.exportId,
            entriesCount: filteredLogs.length,
            timeRange: {
              start: (_startDate$toISOStrin2 = startDate == null ? void 0 : startDate.toISOString()) != null ? _startDate$toISOStrin2 : "beginning",
              end: endDate.toISOString()
            },
            contentHash: contentHash
          });
          return exportData;
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to export audit logs", {
            error: new Error(errorMessage),
            options: options
          });
          throw new Error("Audit log export failed: " + errorMessage);
        }
      });
      function exportSecureAuditLogs() {
        return _exportSecureAuditLogs.apply(this, arguments);
      }
      return exportSecureAuditLogs;
    }())
  }, {
    key: "validateCategory",
    value: function validateCategory(category) {
      return category.replace(/[^a-zA-Z0-9_.-]/g, "_").substring(0, 100);
    }
  }, {
    key: "truncateString",
    value: function truncateString(str, maxLength) {
      if (str.length <= maxLength) {
        return str;
      }
      return str.substring(0, maxLength - 3) + "...";
    }
  }, {
    key: "trackFeature",
    value: function trackFeature(feature, metadata) {
      var enhancedMetadata = _objectSpread(_objectSpread({}, metadata), {}, {
        feature: feature,
        tags: [].concat((0, _toConsumableArray2.default)((metadata == null ? void 0 : metadata.tags) !== undefined ? metadata.tags : []), ["feature-usage"]),
        trackingId: this.hashIdentifier(`${feature}_${Date.now()}`),
        featureHash: this.hashIdentifier(feature),
        timestamp: new Date().toISOString(),
        sessionHash: this.hashIdentifier(this.sessionId)
      });
      this.info(`Feature used: ${feature}`, enhancedMetadata);
    }
  }, {
    key: "logSecurityEvent",
    value: function logSecurityEvent(event, details) {
      var _details$component, _details$action;
      var safeEvent = this.validateCategory(event);
      var sanitizedDetails = this.sanitizeMetadata(details);
      var enhancedDetails = _objectSpread(_objectSpread({}, sanitizedDetails), {}, {
        eventType: safeEvent,
        timestamp: new Date().toISOString(),
        sessionHash: this.hashIdentifier(this.sessionId),
        securityLevel: "standard",
        contentHash: this.hashIdentifier(JSON.stringify(sanitizedDetails)),
        component: String((_details$component = details["component"]) != null ? _details$component : "unknown"),
        action: String((_details$action = details["action"]) != null ? _details$action : "unknown"),
        eventId: this.hashIdentifier(`${safeEvent}_${Date.now()}`),
        environmentHash: this.hashIdentifier(this.isDevelopment ? "development" : "production")
      });
      this.security(`Security Event: ${safeEvent}`, enhancedDetails);
      this.clearSentryContext();
    }
  }]);
}();
var logger = exports.logger = new MobileLogger();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTZW50cnkiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJLZXljaGFpbiIsIkFlcyIsIl9yZWFjdE5hdGl2ZUVuY3J5cHRlZFN0b3JhZ2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90MiIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJmaWx0ZXIiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJzZW50cnkiLCJMb2dMZXZlbCIsImV4cG9ydHMiLCJNb2JpbGVMb2dnZXIiLCJfY2xhc3NDYWxsQ2hlY2syIiwiaXNEZXZlbG9wbWVudCIsIl9fREVWX18iLCJ1c2VySW5mbyIsImxvZ0J1ZmZlciIsIm9mZmxpbmVCdWZmZXIiLCJlbmNyeXB0aW9uS2V5IiwiZW5jcnlwdGlvblNhbHQiLCJFTkNSWVBUSU9OX0tFWV9TSVpFIiwiRU5DUllQVElPTl9JVl9TSVpFIiwiRU5DUllQVElPTl9LRVlfU1RPUkFHRV9LRVkiLCJFTkNSWVBUSU9OX1NBTFRfU1RPUkFHRV9LRVkiLCJNQVhfTE9HX0JVRkZFUl9TSVpFIiwiTUFYX0xPR19TSVpFIiwiTUFYX09GRkxJTkVfQlVGRkVSX1NJWkUiLCJyYXRlTGltaXRCYWNrb2ZmIiwicmF0ZUxpbWl0cyIsIkRFQlVHIiwicG9pbnRzIiwiaW50ZXJ2YWwiLCJJTkZPIiwiV0FSTiIsIkVSUk9SIiwiU0VDVVJJVFkiLCJQRVJGT1JNQU5DRSIsInJhdGVUcmFja2luZyIsImNvdW50IiwicmVzZXRUaW1lIiwiRGF0ZSIsIm5vdyIsImxhc3RMb2dUaW1lIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJhcHBWZXJzaW9uIiwic2V0dXBMb2dSb3RhdGlvbiIsImluaXRpYWxpemVFbmNyeXB0aW9uIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwiX2luaXRpYWxpemVFbmNyeXB0aW9uIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwic3RvcmVkS2V5IiwiZ2V0R2VuZXJpY1Bhc3N3b3JkIiwic2VydmljZSIsInN0b3JlZFNhbHQiLCJwYXNzd29yZCIsImdlbmVyYXRlU2VjdXJlS2V5Iiwic2FsdCIsImdlbmVyYXRlU2VjdXJlUmFuZG9tQnl0ZXMiLCJzZXRHZW5lcmljUGFzc3dvcmQiLCJlcnJvciIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsImNvbXBvbmVudCIsImFjdGlvbiIsInNldFVzZXJDb250ZXh0IiwidXNlcklkIiwicHJvcGVydGllcyIsInVuZGVmaW5lZCIsImlkIiwic2V0VXNlciIsIl91bnVzZWQiLCJjbGVhclVzZXJDb250ZXh0IiwiY2xlYXJTZW50cnlDb250ZXh0IiwiX2dlbmVyYXRlU2VjdXJlS2V5IiwiX3RoaXMkZW5jcnlwdGlvblNhbHQiLCJyYW5kb21CeXRlcyIsInBia2RmMiIsIl9nZW5lcmF0ZVNlY3VyZVJhbmRvbUJ5dGVzIiwic2l6ZSIsInJhbmRvbUtleSIsIl94IiwiX2VuY3J5cHREYXRhIiwiZGF0YSIsIml2IiwiY2lwaGVydGV4dCIsImVuY3J5cHQiLCJlbmNyeXB0RGF0YSIsIl94MiIsIl9kZWNyeXB0RGF0YSIsImVuY3J5cHRlZERhdGEiLCJkZWNyeXB0ZWQiLCJkZWNyeXB0IiwiZGVjcnlwdERhdGEiLCJfeDMiLCJfdGhpcyIsInNldEludGVydmFsIiwicm90YXRlQW5kUGVyc2lzdExvZ3MiLCJfcm90YXRlQW5kUGVyc2lzdExvZ3MiLCJfdGhpczIiLCJsb2dzVG9Sb3RhdGUiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiZW5jcnlwdGVkTG9ncyIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJfcmVmIiwibG9nIiwic2hvdWxkRW5jcnlwdExvZyIsImVuY3J5cHRMb2dFbnRyeSIsIl94NCIsInNsaWNlIiwiY29uc29sZSIsImxldmVsIiwibWV0YWRhdGEiLCJfZW5jcnlwdExvZ0VudHJ5IiwidGltZXN0YW1wIiwiaXNSZWRhY3RlZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzYW5pdGl6ZU1ldGFkYXRhIiwiaXNFbmNyeXB0ZWQiLCJlbmNyeXB0ZWRBdCIsInRvSVNPU3RyaW5nIiwiaW50ZWdyaXR5IiwiaGFzaCIsImdlbmVyYXRlSE1BQyIsIl94NSIsIl9nZW5lcmF0ZUhNQUMiLCJobWFjIiwiaG1hYzI1NiIsIl94NiIsInJhbmRvbVZhbHVlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiX3RoaXMzIiwic2FuaXRpemVkIiwic2Vuc2l0aXZlRmllbGRzIiwiaGFzaFZhbHVlIiwiY2hhciIsImNoYXJDb2RlQXQiLCJfbG9vcCIsImxvd2VyS2V5IiwidG9Mb3dlckNhc2UiLCJzb21lIiwiZmllbGQiLCJpbmNsdWRlcyIsIl92YWx1ZSRzdGFjayRzcGxpdCIsIl92YWx1ZSRzdGFjayIsIl92YWx1ZSRtZXNzYWdlIiwiX3ZhbHVlJG5hbWUiLCJfY29kZSIsInN0YWNrTGluZXMiLCJzdGFjayIsInNwbGl0Iiwic2Vuc2l0aXZlUGF0dGVybnMiLCJzYW5pdGl6ZWRTdGFjayIsImxpbmUiLCJwYXR0ZXJuIiwidGVzdCIsImpvaW4iLCJuYW1lIiwiY29kZSIsIl9yZWYyIiwiZW50cmllcyIsIl9yZWYzIiwiX3NsaWNlZFRvQXJyYXkyIiwiZm9ybWF0TG9nTWVzc2FnZSIsInBhcnRzIiwidG9VcHBlckNhc2UiLCJ2YWxpZGF0ZUxvZ0VudHJ5IiwidG90YWxTaXplIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJ3YXJuIiwibGltaXQiLCJ0cnVuY2F0ZWQiLCJjaGVja1JhdGVMaW1pdCIsInRyYWNraW5nIiwibGltaXRzIiwiYXBwbHlSYXRlTGltaXQiLCJ0aW1lU2luY2VMYXN0TG9nIiwibWluIiwiX2J1ZmZlck9mZmxpbmVMb2ciLCJlbnRyeSIsInN0b3JhZ2VLZXkiLCJoYXNoSWRlbnRpZmllciIsIkVuY3J5cHRlZFN0b3JhZ2UiLCJzZXRJdGVtIiwiY2xlYW51cE9sZE9mZmxpbmVMb2dzIiwiYnVmZmVyT2ZmbGluZUxvZyIsIl94NyIsIl9jbGVhbnVwT2xkT2ZmbGluZUxvZ3MiLCJhbGxLZXlzIiwiZ2V0SXRlbSIsIm9mZmxpbmVMb2dLZXlzIiwic3RhcnRzV2l0aCIsInNvcnQiLCJhIiwiYiIsIl9hJHNwbGl0IiwiX2Ekc3BsaXQyIiwiX2Ekc3BsaXQyJCIsInRpbWVzdGFtcEEiLCJfYiRzcGxpdCIsIl9iJHNwbGl0MiIsIl9iJHNwbGl0MiQiLCJ0aW1lc3RhbXBCIiwibG9jYWxlQ29tcGFyZSIsImxvZ3NUb1JlbW92ZSIsInJlbW92ZUl0ZW0iLCJpbmZvIiwicmVtb3ZlZENvdW50IiwiX2xvYWRPZmZsaW5lTG9ncyIsIl9yZWY0IiwiZW5jcnlwdGVkIiwicGFyc2VkSXRlbSIsInBhcnNlIiwiX2Vycm9yIiwiX3g4IiwiY2FsY3VsYXRlZEhhc2giLCJkZWNyeXB0RXJyb3IiLCJsb2dzTG9hZGVkIiwibG9hZE9mZmxpbmVMb2dzIiwiZ2V0QnVmZmVyTWV0cmljcyIsImNyaXRpY2FsRW50cmllcyIsIm9sZGVzdEVudHJ5IiwibGF0ZXN0RW50cnkiLCJmaXJzdEVudHJ5IiwibGFzdEVudHJ5IiwidG90YWxFbnRyaWVzIiwiX3RoaXMkdXNlckluZm8iLCJfZW5oYW5jZWRNZXRhZGF0YSR0aW0iLCJyYXRlTGltaXRlZCIsIm9yaWdpbmFsVGltZXN0YW1wIiwiZW5oYW5jZWRNZXRhZGF0YSIsInZlcnNpb24iLCJzZWN1cml0eUNvbnRleHQiLCJlbnZpcm9ubWVudCIsInNlc3Npb25IYXNoIiwibG9nSWQiLCJmb3JtYXR0ZWRNZXNzYWdlIiwibG9nRW50cnkiLCJmaW5nZXJwcmludCIsImdlbmVyYXRlRXJyb3JGaW5nZXJwcmludCIsIl9tZXRhZGF0YSRjb21wb25lbnQiLCJfbWV0YWRhdGEkYWN0aW9uIiwiY2FwdHVyZUV4Y2VwdGlvbiIsImV4dHJhIiwidGFncyIsImxvZ0xldmVsIiwiZXJyb3JUeXBlIiwiZXJyb3JDb2RlIiwiZnJvbUVudHJpZXMiLCJ0YWciLCJjb3JyZWxhdGlvbklkIiwidHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbkhhc2giLCJzZW50cnlMZXZlbCIsInNlY3VyZUNvbnRleHQiLCJzZXRDb250ZXh0IiwiY2FwdHVyZU1lc3NhZ2UiLCJkZWJ1ZyIsInNlY3VyaXR5IiwiY29uY2F0IiwicGVyZm9ybWFuY2UiLCJvcGVyYXRpb24iLCJkdXJhdGlvbk1zIiwiZHVyYXRpb24iLCJzdGFydFRpbWVyIiwiX3RoaXM0Iiwic3RhcnRUaW1lIiwicm91bmQiLCJ1c2VyIiwiZW1haWwiLCJ1c2VybmFtZSIsImFkZEJyZWFkY3J1bWIiLCJjYXRlZ29yeSIsInNhbml0aXplZERhdGEiLCJfZGF0YSRjb21wb25lbnQiLCJzZWN1cmVCcmVhZGNydW1iIiwidHJ1bmNhdGVTdHJpbmciLCJ2YWxpZGF0ZUNhdGVnb3J5Iiwic291cmNlQ29tcG9uZW50Iiwic2VjdXJpdHlIYXNoIiwiX2V4cG9ydEF1ZGl0TG9ncyIsIl90aGlzNSIsIm9wdGlvbnMiLCJzdGFydERhdGUiLCJfb3B0aW9ucyRlbmREYXRlIiwiZW5kRGF0ZSIsIl9vcHRpb25zJGxldmVscyIsImxldmVscyIsInZhbHVlcyIsIl9vcHRpb25zJGluY2x1ZGVNZXRyaSIsImluY2x1ZGVNZXRyaWNzIiwiZmlsdGVyZWRMb2dzIiwiZW50cnlEYXRlIiwiaXNOYU4iLCJnZXRUaW1lIiwibWF0Y2hlc0RhdGUiLCJtYXRjaGVzTGV2ZWwiLCJiYXNlRmlsdGVycyIsImNvbnRlbnRIYXNoIiwiZXhwb3J0RGF0YSIsImxvZ3MiLCJtZXRyaWNzIiwiZXhwb3J0TWV0YWRhdGEiLCJleHBvcnRJZCIsImZpbHRlcnMiLCJlbnRyaWVzQ291bnQiLCJ0aW1lUmFuZ2UiLCJzdGFydCIsImVuZCIsImV4cG9ydEF1ZGl0TG9ncyIsIl9tZXRhZGF0YSRjb21wb25lbnQyIiwiX21ldGFkYXRhJGFjdGlvbjIiLCJjb21wb25lbnRzIiwiX2NvZGUyIiwiX3VudXNlZDIiLCJfZXhwb3J0U2VjdXJlQXVkaXRMb2dzIiwiX3RoaXM2IiwiX3N0YXJ0RGF0ZSR0b0lTT1N0cmluIiwiX3N0YXJ0RGF0ZSR0b0lTT1N0cmluMiIsIl9vcHRpb25zJGVuZERhdGUyIiwiX29wdGlvbnMkbGV2ZWxzMiIsIl9vcHRpb25zJGluY2x1ZGVNZXRyaTIiLCJleHBvcnRTZWN1cmVBdWRpdExvZ3MiLCJyZXBsYWNlIiwic3RyIiwibWF4TGVuZ3RoIiwidHJhY2tGZWF0dXJlIiwiZmVhdHVyZSIsInRyYWNraW5nSWQiLCJmZWF0dXJlSGFzaCIsImxvZ1NlY3VyaXR5RXZlbnQiLCJldmVudCIsImRldGFpbHMiLCJfZGV0YWlscyRjb21wb25lbnQiLCJfZGV0YWlscyRhY3Rpb24iLCJzYWZlRXZlbnQiLCJzYW5pdGl6ZWREZXRhaWxzIiwiZW5oYW5jZWREZXRhaWxzIiwiZXZlbnRUeXBlIiwic2VjdXJpdHlMZXZlbCIsImV2ZW50SWQiLCJlbnZpcm9ubWVudEhhc2giLCJsb2dnZXIiXSwic291cmNlcyI6WyJsb2dnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNb2JpbGUgTG9nZ2VyIFNlcnZpY2VcbiAqIExpZ2h0d2VpZ2h0IGxvZ2dpbmcgZm9yIFJlYWN0IE5hdGl2ZSB3aXRoIFNlbnRyeSBpbnRlZ3JhdGlvblxuICovXG5cbmltcG9ydCAqIGFzIFNlbnRyeSBmcm9tIFwiQHNlbnRyeS9yZWFjdC1uYXRpdmVcIjtcbmltcG9ydCAqIGFzIEtleWNoYWluIGZyb20gXCJyZWFjdC1uYXRpdmUta2V5Y2hhaW5cIjtcbmltcG9ydCAqIGFzIEFlcyBmcm9tIFwicmVhY3QtbmF0aXZlLWFlcy1jcnlwdG9cIjtcbmltcG9ydCBFbmNyeXB0ZWRTdG9yYWdlIGZyb20gXCJyZWFjdC1uYXRpdmUtZW5jcnlwdGVkLXN0b3JhZ2VcIjtcblxuLy8gVHlwZSBhc3NlcnRpb24gZm9yIFNlbnRyeSB0byBhdm9pZCB1bnNhZmUgY2FsbCBlcnJvcnNcbmNvbnN0IHNlbnRyeSA9IFNlbnRyeSBhcyB7XG4gIGNhcHR1cmVFeGNlcHRpb246IChlcnJvcjogRXJyb3IsIGNvbnRleHQ/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gdm9pZDtcbiAgY2FwdHVyZU1lc3NhZ2U6IChtZXNzYWdlOiBzdHJpbmcsIGxldmVsOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNldENvbnRleHQ6IChrZXk6IHN0cmluZywgY29udGV4dDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHZvaWQ7XG4gIHNldFVzZXI6ICh1c2VyOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gdm9pZDtcbiAgYWRkQnJlYWRjcnVtYjogKGJyZWFkY3J1bWI6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGVudW0gTG9nTGV2ZWwge1xuICBERUJVRyA9IFwiZGVidWdcIixcbiAgSU5GTyA9IFwiaW5mb1wiLFxuICBXQVJOID0gXCJ3YXJuXCIsXG4gIEVSUk9SID0gXCJlcnJvclwiLFxuICBTRUNVUklUWSA9IFwic2VjdXJpdHlcIixcbiAgUEVSRk9STUFOQ0UgPSBcInBlcmZvcm1hbmNlXCIsXG59XG5cbmV4cG9ydCB0eXBlIExvZ0xldmVsVHlwZSA9IGAke0xvZ0xldmVsfWA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JEZXRhaWxzIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzdGFjaz86IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBjb2RlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ01ldGFkYXRhIHtcbiAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbiAgZXJyb3I/OiBFcnJvcjtcbiAgdXNlcklkPzogc3RyaW5nO1xuICBzZXNzaW9uSWQ/OiBzdHJpbmc7XG4gIGNvcnJlbGF0aW9uSWQ/OiBzdHJpbmc7XG4gIHJlcXVlc3RJZD86IHN0cmluZztcbiAgY29tcG9uZW50Pzogc3RyaW5nO1xuICBhY3Rpb24/OiBzdHJpbmc7XG4gIGR1cmF0aW9uPzogbnVtYmVyO1xuICB0YWdzPzogc3RyaW5nW107XG4gIHZlcnNpb24/OiBzdHJpbmc7XG4gIHRpbWVzdGFtcD86IHN0cmluZztcbiAgbGV2ZWw/OiBMb2dMZXZlbDtcbiAgZXJyb3JEZXRhaWxzPzogRXJyb3JEZXRhaWxzO1xuICBpc0VuY3J5cHRlZD86IGJvb2xlYW47XG4gIGVuY3J5cHRlZEF0Pzogc3RyaW5nO1xuICBlbmNyeXB0ZWREYXRhPzogRW5jcnlwdGVkRGF0YTtcbiAgaW50ZWdyaXR5Pzoge1xuICAgIGhhc2g6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IHN0cmluZztcbiAgfTtcbiAgaXNSZWRhY3RlZD86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBBdWRpdExvZ1JlcXVlc3Qge1xuICBzdGFydERhdGU/OiBEYXRlO1xuICBlbmREYXRlPzogRGF0ZTtcbiAgbGV2ZWxzPzogTG9nTGV2ZWxbXTtcbiAgaW5jbHVkZU1ldHJpY3M/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGl0TG9nRmlsdGVycyB7XG4gIHN0YXJ0RGF0ZTogc3RyaW5nO1xuICBlbmREYXRlOiBzdHJpbmc7XG4gIGxldmVsczogTG9nTGV2ZWxbXTtcbiAgaW5jbHVkZU1ldHJpY3M6IGJvb2xlYW47XG4gIGNvbnRlbnRIYXNoOiBzdHJpbmc7XG4gIHRvdGFsRW50cmllczogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgRXhwb3J0TWV0YWRhdGEge1xuICB0aW1lc3RhbXA6IHN0cmluZztcbiAgZXhwb3J0SWQ6IHN0cmluZztcbiAgZmlsdGVyczogQXVkaXRMb2dGaWx0ZXJzO1xufVxuXG5pbnRlcmZhY2UgQXVkaXRMb2dFeHBvcnQge1xuICBsb2dzOiBTdHJ1Y3R1cmVkTG9nRW50cnlbXTtcbiAgbWV0cmljcz86IExvZ0J1ZmZlck1ldHJpY3M7XG4gIGV4cG9ydE1ldGFkYXRhOiBFeHBvcnRNZXRhZGF0YTtcbn1cblxuLyoqXG4gKiBUeXBlIGZvciB3b3JraW5nIHdpdGggc3RvcmFnZSBrZXlzXG4gKiBAcHJpdmF0ZVxuICovXG50eXBlIFN0b3JhZ2VLZXkgPSBzdHJpbmcgJiB7IHJlYWRvbmx5IF9fc3RvcmFnZUtleTogdW5pcXVlIHN5bWJvbCB9O1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgZW5jcnlwdGVkIGxvZyBzdG9yYWdlIGl0ZW1cbiAqIEBwcml2YXRlXG4gKi9cbmludGVyZmFjZSBFbmNyeXB0ZWRMb2dTdG9yYWdlSXRlbSB7XG4gIGRhdGE6IEVuY3J5cHRlZERhdGE7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBsZXZlbDogTG9nTGV2ZWw7XG4gIGhhc2g6IHN0cmluZztcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIEtleWNoYWluIG9wdGlvbnNcbiAqIEBwcml2YXRlXG4gKi9cbmludGVyZmFjZSBfS2V5Y2hhaW5PcHRpb25zIHtcbiAgYWNjZXNzaWJsZT86IEtleWNoYWluLkFDQ0VTU0lCTEU7XG4gIGFjY2Vzc0NvbnRyb2w/OiBLZXljaGFpbi5BQ0NFU1NfQ09OVFJPTDtcbn1cblxuLyoqXG4gKiBDb3JlIGxvZyBlbnRyeSBzdHJ1Y3R1cmVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3R1cmVkTG9nRW50cnkge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGxldmVsOiBMb2dMZXZlbDtcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG4gIG1ldGFkYXRhOiBMb2dNZXRhZGF0YTtcbn1cbmludGVyZmFjZSBSYXRlTGltaXRDb25maWcge1xuICBwb2ludHM6IG51bWJlcjtcbiAgaW50ZXJ2YWw6IG51bWJlcjsgLy8gaW4gbWlsbGlzZWNvbmRzXG59XG5cbmludGVyZmFjZSBFbmNyeXB0ZWREYXRhIHtcbiAgY2lwaGVydGV4dDogc3RyaW5nO1xuICBpdjogc3RyaW5nO1xuICB0YWc/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBfRW5jcnlwdGlvbktleXMge1xuICBrZXk6IHN0cmluZztcbiAgc2FsdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgTG9nQnVmZmVyTWV0cmljcyB7XG4gIHRvdGFsRW50cmllczogbnVtYmVyO1xuICBjcml0aWNhbEVudHJpZXM6IG51bWJlcjtcbiAgb2xkZXN0RW50cnk6IERhdGUgfCBudWxsO1xuICBsYXRlc3RFbnRyeTogRGF0ZSB8IG51bGw7XG59XG5cbmNsYXNzIE1vYmlsZUxvZ2dlciB7XG4gIHByaXZhdGUgaXNEZXZlbG9wbWVudCA9IF9fREVWX187XG4gIHByaXZhdGUgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIHByaXZhdGUgYXBwVmVyc2lvbjogc3RyaW5nO1xuICBwcml2YXRlIHVzZXJJbmZvOiB7IGlkPzogc3RyaW5nOyBlbWFpbD86IHN0cmluZzsgdXNlcm5hbWU/OiBzdHJpbmcgfSB8IG51bGwgPVxuICAgIG51bGw7XG4gIHByaXZhdGUgbG9nQnVmZmVyOiBTdHJ1Y3R1cmVkTG9nRW50cnlbXSA9IFtdO1xuICBwcml2YXRlIG9mZmxpbmVCdWZmZXI6IFN0cnVjdHVyZWRMb2dFbnRyeVtdID0gW107XG4gIHByaXZhdGUgZW5jcnlwdGlvbktleTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZW5jcnlwdGlvblNhbHQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIC8vIEVuY3J5cHRpb24gY29uc3RhbnRzXG4gIHByaXZhdGUgcmVhZG9ubHkgRU5DUllQVElPTl9LRVlfU0laRSA9IDMyOyAvLyAyNTYgYml0c1xuICBwcml2YXRlIHJlYWRvbmx5IEVOQ1JZUFRJT05fSVZfU0laRSA9IDE2OyAvLyAxMjggYml0c1xuICBwcml2YXRlIHJlYWRvbmx5IEVOQ1JZUFRJT05fS0VZX1NUT1JBR0VfS0VZID0gXCJsb2dnZXJfZW5jcnlwdGlvbl9rZXlcIjtcbiAgcHJpdmF0ZSByZWFkb25seSBFTkNSWVBUSU9OX1NBTFRfU1RPUkFHRV9LRVkgPSBcImxvZ2dlcl9lbmNyeXB0aW9uX3NhbHRcIjtcblxuICAvLyBDb25zdGFudHNcbiAgcHJpdmF0ZSByZWFkb25seSBNQVhfTE9HX0JVRkZFUl9TSVpFID0gMTAwMDtcbiAgcHJpdmF0ZSByZWFkb25seSBNQVhfTE9HX1NJWkUgPSAzMjc2ODsgLy8gMzJLQiBwZXIgbG9nIGVudHJ5XG4gIHByaXZhdGUgcmVhZG9ubHkgTUFYX09GRkxJTkVfQlVGRkVSX1NJWkUgPSA1MDA7XG4gIHByaXZhdGUgcmF0ZUxpbWl0QmFja29mZiA9IDEwMDsgLy8gSW5pdGlhbCBiYWNrb2ZmIGluIG1zXG5cbiAgLy8gUmF0ZSBsaW1pdGluZyBjb25maWd1cmF0aW9uIHBlciBsb2cgbGV2ZWxcbiAgcHJpdmF0ZSByZWFkb25seSByYXRlTGltaXRzOiBSZWNvcmQ8TG9nTGV2ZWwsIFJhdGVMaW1pdENvbmZpZz4gPSB7XG4gICAgW0xvZ0xldmVsLkRFQlVHXTogeyBwb2ludHM6IDEwMDAsIGludGVydmFsOiA2MDAwMCB9LCAvLyAxMDAwIHBlciBtaW51dGVcbiAgICBbTG9nTGV2ZWwuSU5GT106IHsgcG9pbnRzOiA1MDAsIGludGVydmFsOiA2MDAwMCB9LCAvLyA1MDAgcGVyIG1pbnV0ZVxuICAgIFtMb2dMZXZlbC5XQVJOXTogeyBwb2ludHM6IDEwMCwgaW50ZXJ2YWw6IDYwMDAwIH0sIC8vIDEwMCBwZXIgbWludXRlXG4gICAgW0xvZ0xldmVsLkVSUk9SXTogeyBwb2ludHM6IDUwLCBpbnRlcnZhbDogNjAwMDAgfSwgLy8gNTAgcGVyIG1pbnV0ZVxuICAgIFtMb2dMZXZlbC5TRUNVUklUWV06IHsgcG9pbnRzOiAyMCwgaW50ZXJ2YWw6IDYwMDAwIH0sIC8vIDIwIHBlciBtaW51dGVcbiAgICBbTG9nTGV2ZWwuUEVSRk9STUFOQ0VdOiB7IHBvaW50czogMjAwLCBpbnRlcnZhbDogNjAwMDAgfSwgLy8gMjAwIHBlciBtaW51dGVcbiAgfTtcblxuICAvLyBSYXRlIGxpbWl0aW5nIHN0YXRlXG4gIHByaXZhdGUgcmF0ZVRyYWNraW5nOiBSZWNvcmQ8TG9nTGV2ZWwsIHsgY291bnQ6IG51bWJlcjsgcmVzZXRUaW1lOiBudW1iZXIgfT4gPVxuICAgIHtcbiAgICAgIFtMb2dMZXZlbC5ERUJVR106IHsgY291bnQ6IDAsIHJlc2V0VGltZTogRGF0ZS5ub3coKSB9LFxuICAgICAgW0xvZ0xldmVsLklORk9dOiB7IGNvdW50OiAwLCByZXNldFRpbWU6IERhdGUubm93KCkgfSxcbiAgICAgIFtMb2dMZXZlbC5XQVJOXTogeyBjb3VudDogMCwgcmVzZXRUaW1lOiBEYXRlLm5vdygpIH0sXG4gICAgICBbTG9nTGV2ZWwuRVJST1JdOiB7IGNvdW50OiAwLCByZXNldFRpbWU6IERhdGUubm93KCkgfSxcbiAgICAgIFtMb2dMZXZlbC5TRUNVUklUWV06IHsgY291bnQ6IDAsIHJlc2V0VGltZTogRGF0ZS5ub3coKSB9LFxuICAgICAgW0xvZ0xldmVsLlBFUkZPUk1BTkNFXTogeyBjb3VudDogMCwgcmVzZXRUaW1lOiBEYXRlLm5vdygpIH0sXG4gICAgfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcbiAgICB0aGlzLmFwcFZlcnNpb24gPSBcIjEuMC4wXCI7IC8vIENvdWxkIGJlIGZyb20gYXBwIGNvbmZpZ1xuICAgIHRoaXMuc2V0dXBMb2dSb3RhdGlvbigpO1xuICAgIHZvaWQgdGhpcy5pbml0aWFsaXplRW5jcnlwdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZW5jcnlwdGlvbiBrZXlzIGFuZCBzdG9yYWdlXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVFbmNyeXB0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgdG8gcmV0cmlldmUgZXhpc3RpbmcgZW5jcnlwdGlvbiBrZXlzXG4gICAgICBjb25zdCBzdG9yZWRLZXkgPSBhd2FpdCBLZXljaGFpbi5nZXRHZW5lcmljUGFzc3dvcmQoe1xuICAgICAgICBzZXJ2aWNlOiB0aGlzLkVOQ1JZUFRJT05fS0VZX1NUT1JBR0VfS0VZLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBzdG9yZWRTYWx0ID0gYXdhaXQgS2V5Y2hhaW4uZ2V0R2VuZXJpY1Bhc3N3b3JkKHtcbiAgICAgICAgc2VydmljZTogdGhpcy5FTkNSWVBUSU9OX1NBTFRfU1RPUkFHRV9LRVksXG4gICAgICB9KTtcblxuICAgICAgaWYgKHN0b3JlZEtleSAmJiBzdG9yZWRTYWx0KSB7XG4gICAgICAgIHRoaXMuZW5jcnlwdGlvbktleSA9IHN0b3JlZEtleS5wYXNzd29yZDtcbiAgICAgICAgdGhpcy5lbmNyeXB0aW9uU2FsdCA9IHN0b3JlZFNhbHQucGFzc3dvcmQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBHZW5lcmF0ZSBuZXcgZW5jcnlwdGlvbiBrZXlzXG4gICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVTZWN1cmVLZXkoKTtcbiAgICAgICAgY29uc3Qgc2FsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVTZWN1cmVSYW5kb21CeXRlcyhcbiAgICAgICAgICB0aGlzLkVOQ1JZUFRJT05fS0VZX1NJWkUsXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gU3RvcmUga2V5cyBzZWN1cmVseVxuICAgICAgICBhd2FpdCBLZXljaGFpbi5zZXRHZW5lcmljUGFzc3dvcmQoXG4gICAgICAgICAgdGhpcy5FTkNSWVBUSU9OX0tFWV9TVE9SQUdFX0tFWSxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgeyBzZXJ2aWNlOiB0aGlzLkVOQ1JZUFRJT05fS0VZX1NUT1JBR0VfS0VZIH0sXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IEtleWNoYWluLnNldEdlbmVyaWNQYXNzd29yZChcbiAgICAgICAgICB0aGlzLkVOQ1JZUFRJT05fU0FMVF9TVE9SQUdFX0tFWSxcbiAgICAgICAgICBzYWx0LFxuICAgICAgICAgIHsgc2VydmljZTogdGhpcy5FTkNSWVBUSU9OX1NBTFRfU1RPUkFHRV9LRVkgfSxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmVuY3J5cHRpb25LZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuZW5jcnlwdGlvblNhbHQgPSBzYWx0O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICB0aGlzLmVycm9yKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgZW5jcnlwdGlvblwiLCB7XG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSxcbiAgICAgICAgY29tcG9uZW50OiBcIkxvZ2dlclwiLFxuICAgICAgICBhY3Rpb246IFwiaW5pdGlhbGl6ZUVuY3J5cHRpb25cIixcbiAgICAgIH0pO1xuICAgICAgLy8gRmFsbCBiYWNrIHRvIHVuZW5jcnlwdGVkIGxvZ2dpbmcgaWYgZW5jcnlwdGlvbiBzZXR1cCBmYWlsc1xuICAgICAgdGhpcy5lbmNyeXB0aW9uS2V5ID0gbnVsbDtcbiAgICAgIHRoaXMuZW5jcnlwdGlvblNhbHQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wYXRpYmlsaXR5IGhlbHBlcnMgZm9yIG9ic2VydmFiaWxpdHkgc2VydmljZVxuICAgKi9cbiAgc2V0VXNlckNvbnRleHQoXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgcHJvcGVydGllczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fSxcbiAgKTogdm9pZCB7XG4gICAgLy8gVXBkYXRlIGludGVybmFsIHVzZXIgaW5mbyBtaW5pbWFsbHlcbiAgICB0aGlzLnVzZXJJbmZvID0geyBpZDogdXNlcklkIH07XG4gICAgdHJ5IHtcbiAgICAgIHNlbnRyeS5zZXRVc2VyKHsgaWQ6IHVzZXJJZCwgLi4ucHJvcGVydGllcyB9KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIGlnbm9yZVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyVXNlckNvbnRleHQoKTogdm9pZCB7XG4gICAgdGhpcy51c2VySW5mbyA9IG51bGw7XG4gICAgdGhpcy5jbGVhclNlbnRyeUNvbnRleHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIHNlY3VyZSByYW5kb20ga2V5IGZvciBlbmNyeXB0aW9uXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlU2VjdXJlS2V5KCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhbmRvbUJ5dGVzID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVNlY3VyZVJhbmRvbUJ5dGVzKFxuICAgICAgICB0aGlzLkVOQ1JZUFRJT05fS0VZX1NJWkUsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGF3YWl0IEFlcy5wYmtkZjIoXG4gICAgICAgIHJhbmRvbUJ5dGVzLFxuICAgICAgICB0aGlzLmVuY3J5cHRpb25TYWx0ID8/XG4gICAgICAgICAgKGF3YWl0IHRoaXMuZ2VuZXJhdGVTZWN1cmVSYW5kb21CeXRlcyh0aGlzLkVOQ1JZUFRJT05fS0VZX1NJWkUpKSxcbiAgICAgICAgMTAwMDAsIC8vIEl0ZXJhdGlvbnNcbiAgICAgICAgdGhpcy5FTkNSWVBUSU9OX0tFWV9TSVpFLFxuICAgICAgICBcInNoYTI1NlwiLCAvLyBIYXNoIGFsZ29yaXRobVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHNlY3VyZSBrZXk6IFwiICsgU3RyaW5nKGVycm9yKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHNlY3VyZSByYW5kb20gYnl0ZXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVTZWN1cmVSYW5kb21CeXRlcyhzaXplOiBudW1iZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBrZXkgPSBhd2FpdCBBZXMucmFuZG9tS2V5KHNpemUpO1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHJhbmRvbSBieXRlczogXCIgKyBTdHJpbmcoZXJyb3IpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW5jcnlwdCBzZW5zaXRpdmUgZGF0YVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBlbmNyeXB0RGF0YShkYXRhOiBzdHJpbmcpOiBQcm9taXNlPEVuY3J5cHRlZERhdGE+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLmVuY3J5cHRpb25LZXkgfHwgIXRoaXMuZW5jcnlwdGlvblNhbHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGlvbiBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGl2ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVNlY3VyZVJhbmRvbUJ5dGVzKHRoaXMuRU5DUllQVElPTl9JVl9TSVpFKTtcbiAgICAgIGNvbnN0IGNpcGhlcnRleHQgPSBhd2FpdCBBZXMuZW5jcnlwdChcbiAgICAgICAgZGF0YSxcbiAgICAgICAgdGhpcy5lbmNyeXB0aW9uS2V5LFxuICAgICAgICBpdixcbiAgICAgICAgXCJhZXMtMjU2LWNiY1wiLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2lwaGVydGV4dCxcbiAgICAgICAgaXYsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmNyeXB0aW9uIGZhaWxlZDogXCIgKyBTdHJpbmcoZXJyb3IpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVjcnlwdCBlbmNyeXB0ZWQgZGF0YVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBkZWNyeXB0RGF0YShlbmNyeXB0ZWREYXRhOiBFbmNyeXB0ZWREYXRhKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLmVuY3J5cHRpb25LZXkgfHwgIXRoaXMuZW5jcnlwdGlvblNhbHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGlvbiBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlY3J5cHRlZCA9IGF3YWl0IEFlcy5kZWNyeXB0KFxuICAgICAgICBlbmNyeXB0ZWREYXRhLmNpcGhlcnRleHQsXG4gICAgICAgIHRoaXMuZW5jcnlwdGlvbktleSxcbiAgICAgICAgZW5jcnlwdGVkRGF0YS5pdixcbiAgICAgICAgXCJhZXMtMTI4LWNiY1wiLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIGRlY3J5cHRlZDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGVjcnlwdGlvbiBmYWlsZWQ6IFwiICsgU3RyaW5nKGVycm9yKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCBwZXJpb2RpYyBsb2cgcm90YXRpb25cbiAgICovXG4gIHByaXZhdGUgc2V0dXBMb2dSb3RhdGlvbigpOiB2b2lkIHtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5sb2dCdWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICB2b2lkIHRoaXMucm90YXRlQW5kUGVyc2lzdExvZ3MoKTtcbiAgICAgIH1cbiAgICB9LCA2MDAwMCk7IC8vIFJvdGF0ZSBldmVyeSBtaW51dGUgaWYgbmVlZGVkXG4gIH1cblxuICAvKipcbiAgICogUm90YXRlIGFuZCBwZXJzaXN0IGxvZ3Mgc2VjdXJlbHlcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcm90YXRlQW5kUGVyc2lzdExvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGxvZ3NUb1JvdGF0ZSA9IFsuLi50aGlzLmxvZ0J1ZmZlcl07XG4gICAgICB0aGlzLmxvZ0J1ZmZlciA9IFtdO1xuXG4gICAgICAvLyBFbmNyeXB0IHNlbnNpdGl2ZSBsb2dzIGJlZm9yZSBwZXJzaXN0aW5nXG4gICAgICBjb25zdCBlbmNyeXB0ZWRMb2dzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIGxvZ3NUb1JvdGF0ZS5tYXAoYXN5bmMgKGxvZykgPT5cbiAgICAgICAgICB0aGlzLnNob3VsZEVuY3J5cHRMb2cobG9nKSA/IGF3YWl0IHRoaXMuZW5jcnlwdExvZ0VudHJ5KGxvZykgOiBsb2csXG4gICAgICAgICksXG4gICAgICApO1xuXG4gICAgICAvLyBIZXJlIHdlIGNvdWxkIHBlcnNpc3QgdG8gc2VjdXJlIHN0b3JhZ2Ugb3Igc2VuZCB0byBzZWN1cmUgbG9nZ2luZyBzZXJ2aWNlXG4gICAgICAvLyBGb3Igbm93LCB3ZSdsbCBqdXN0IGtlZXAgaW4gbWVtb3J5IHdpdGggc2l6ZSBsaW1pdHNcbiAgICAgIHRoaXMubG9nQnVmZmVyID0gZW5jcnlwdGVkTG9ncy5zbGljZSgtdGhpcy5NQVhfTE9HX0JVRkZFUl9TSVpFKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJGYWlsZWQgdG8gcm90YXRlIGxvZ3M6XCIsXG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGxvZyBlbnRyeSBjb250YWlucyBzZW5zaXRpdmUgZGF0YSByZXF1aXJpbmcgZW5jcnlwdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBzaG91bGRFbmNyeXB0TG9nKGxvZzogU3RydWN0dXJlZExvZ0VudHJ5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIGxvZy5sZXZlbCA9PT0gTG9nTGV2ZWwuU0VDVVJJVFkgfHxcbiAgICAgIGxvZy5tZXRhZGF0YS51c2VySWQgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgbG9nLm1ldGFkYXRhLnNlc3Npb25JZCAhPT0gdW5kZWZpbmVkXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCYXNpYyBlbmNyeXB0aW9uIGZvciBzZW5zaXRpdmUgbG9nIGVudHJpZXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZW5jcnlwdExvZ0VudHJ5KFxuICAgIGxvZzogU3RydWN0dXJlZExvZ0VudHJ5LFxuICApOiBQcm9taXNlPFN0cnVjdHVyZWRMb2dFbnRyeT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuZW5jcnlwdGlvbktleSkge1xuICAgICAgICAvLyBGYWxsIGJhY2sgdG8gcmVkYWN0aW9uIGlmIGVuY3J5cHRpb24gaXMgbm90IGF2YWlsYWJsZVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmxvZyxcbiAgICAgICAgICBtZXNzYWdlOiBcIltSRURBQ1RFRF0gRW5jcnlwdGlvbiB1bmF2YWlsYWJsZVwiLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IGxvZy50aW1lc3RhbXAsXG4gICAgICAgICAgICBsZXZlbDogbG9nLmxldmVsLFxuICAgICAgICAgICAgaXNSZWRhY3RlZDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBFbmNyeXB0IHRoZSBzZW5zaXRpdmUgcGFydHNcbiAgICAgIGNvbnN0IGVuY3J5cHRlZERhdGEgPSBhd2FpdCB0aGlzLmVuY3J5cHREYXRhKFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbWVzc2FnZTogbG9nLm1lc3NhZ2UsXG4gICAgICAgICAgbWV0YWRhdGE6IHRoaXMuc2FuaXRpemVNZXRhZGF0YShsb2cubWV0YWRhdGEpLFxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmxvZyxcbiAgICAgICAgbWVzc2FnZTogXCJbRU5DUllQVEVEXVwiLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIC4uLmxvZy5tZXRhZGF0YSxcbiAgICAgICAgICBpc0VuY3J5cHRlZDogdHJ1ZSxcbiAgICAgICAgICBlbmNyeXB0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGVuY3J5cHRlZERhdGE6IGVuY3J5cHRlZERhdGEsXG4gICAgICAgICAgaW50ZWdyaXR5OiB7XG4gICAgICAgICAgICBoYXNoOiBhd2FpdCB0aGlzLmdlbmVyYXRlSE1BQyhcbiAgICAgICAgICAgICAgbG9nLm1lc3NhZ2UgKyBKU09OLnN0cmluZ2lmeShsb2cubWV0YWRhdGEpLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZiBlbmNyeXB0aW9uIGZhaWxzLCByZWRhY3Qgc2Vuc2l0aXZlIGRhdGFcbiAgICAgIHRoaXMuZXJyb3IoXCJMb2cgZW5jcnlwdGlvbiBmYWlsZWRcIiwge1xuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpLFxuICAgICAgICBjb21wb25lbnQ6IFwiTG9nZ2VyXCIsXG4gICAgICAgIGFjdGlvbjogXCJlbmNyeXB0TG9nRW50cnlcIixcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5sb2csXG4gICAgICAgIG1lc3NhZ2U6IFwiW1JFREFDVEVEXSBMb2cgZW5jcnlwdGlvbiBmYWlsZWRcIixcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IGxvZy50aW1lc3RhbXAsXG4gICAgICAgICAgbGV2ZWw6IGxvZy5sZXZlbCxcbiAgICAgICAgICBpc1JlZGFjdGVkOiB0cnVlLFxuICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoXCJFbmNyeXB0aW9uIGZhaWxlZFwiKSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIEhNQUMgZm9yIGxvZyBpbnRlZ3JpdHlcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVITUFDKGRhdGE6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5lbmNyeXB0aW9uS2V5IHx8ICF0aGlzLmVuY3J5cHRpb25TYWx0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY3J5cHRpb24gbm90IGluaXRpYWxpemVkXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBobWFjID0gYXdhaXQgQWVzLmhtYWMyNTYoZGF0YSwgdGhpcy5lbmNyeXB0aW9uS2V5KTtcbiAgICAgIHJldHVybiBobWFjO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJITUFDIGdlbmVyYXRpb24gZmFpbGVkOiBcIiArIFN0cmluZyhlcnJvcikpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVTZXNzaW9uSWQoKTogc3RyaW5nIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHJhbmRvbVZhbHVlID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDEwKTtcbiAgICByZXR1cm4gYG1vYmlsZV9zZXNzaW9uXyR7dGltZXN0YW1wLnRvU3RyaW5nKCl9XyR7cmFuZG9tVmFsdWV9YDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYW5pdGl6ZXMgbG9nIGRhdGEgdG8gY29tcGx5IHdpdGggcHJpdmFjeSByZWd1bGF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBzYW5pdGl6ZU1ldGFkYXRhKGRhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IExvZ01ldGFkYXRhIHtcbiAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgY29uc3Qgc2FuaXRpemVkOiBMb2dNZXRhZGF0YSA9IHt9O1xuICAgIGNvbnN0IHNlbnNpdGl2ZUZpZWxkcyA9IFtcbiAgICAgIFwicGFzc3dvcmRcIixcbiAgICAgIFwidG9rZW5cIixcbiAgICAgIFwiYWNjZXNzVG9rZW5cIixcbiAgICAgIFwicmVmcmVzaFRva2VuXCIsXG4gICAgICBcInNlY3JldFwiLFxuICAgICAgXCJhcGlLZXlcIixcbiAgICAgIFwiYXV0aG9yaXphdGlvblwiLFxuICAgICAgXCJhdXRoXCIsXG4gICAgICBcImNyZWRlbnRpYWxzXCIsXG4gICAgICBcImNyZWRpdFwiLFxuICAgICAgXCJjYXJkXCIsXG4gICAgICBcImNjdlwiLFxuICAgICAgXCJjdnZcIixcbiAgICAgIFwic3NuXCIsXG4gICAgICBcInNvY2lhbFwiLFxuICAgICAgXCJhZGRyZXNzXCIsXG4gICAgICBcInBob25lXCIsXG4gICAgICBcImJpcnRoXCIsXG4gICAgICBcInppcFwiLFxuICAgICAgXCJwb3N0YWxcIixcbiAgICAgIFwicGF5bWVudFwiLFxuICAgIF07XG5cbiAgICBjb25zdCBoYXNoVmFsdWUgPSAodmFsdWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICByZXR1cm4gXCJlbXB0eVwiO1xuICAgICAgfVxuICAgICAgbGV0IGhhc2ggPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGFyID0gdmFsdWUuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNoYXI7XG4gICAgICAgIGhhc2ggPSBoYXNoICYgaGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNoLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMCwgOCk7XG4gICAgfTtcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XG4gICAgICBjb25zdCBsb3dlcktleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICBpZiAoc2Vuc2l0aXZlRmllbGRzLnNvbWUoKGZpZWxkKSA9PiBsb3dlcktleS5pbmNsdWRlcyhmaWVsZCkpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICBzYW5pdGl6ZWRba2V5XSA9IGBbUkVEQUNURUQ6JHtoYXNoVmFsdWUodmFsdWUpfV1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNhbml0aXplZFtrZXldID0gXCJbUkVEQUNURURdXCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAvLyBQcm9jZXNzIGVycm9yIHNhZmVseVxuICAgICAgICBjb25zdCBzdGFja0xpbmVzID0gdmFsdWUuc3RhY2s/LnNwbGl0KFwiXFxuXCIpID8/IFtdO1xuICAgICAgICBjb25zdCBzZW5zaXRpdmVQYXR0ZXJucyA9IFtcbiAgICAgICAgICAvcGFzc3dvcmQ9L2ksXG4gICAgICAgICAgL2FwaV8/a2V5PS9pLFxuICAgICAgICAgIC9zZWNyZXQ9L2ksXG4gICAgICAgICAgL3Rva2VuPS9pLFxuICAgICAgICAgIC9hdXRoPS9pLFxuICAgICAgICAgIC9iZWFyZXIgL2ksXG4gICAgICAgICAgL2Jhc2ljIC9pLFxuICAgICAgICAgIC9cXC91c2Vyc1xcL1xcZCsvaSxcbiAgICAgICAgICAvXFxiW1xcdy4lKy1dK0BbXFx3Li1dK1xcLltBLVphLXpdezIsfVxcYi8sXG4gICAgICAgICAgL1xcYlxcZHs0fVstIF0/XFxkezR9Wy0gXT9cXGR7NH1bLSBdP1xcZHs0fVxcYi8sXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gRmlsdGVyIHNlbnNpdGl2ZSBpbmZvIGZyb20gc3RhY2sgaWYgaW4gZGV2ZWxvcG1lbnRcbiAgICAgICAgY29uc3Qgc2FuaXRpemVkU3RhY2sgPSB0aGlzLmlzRGV2ZWxvcG1lbnRcbiAgICAgICAgICA/IHN0YWNrTGluZXNcbiAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAobGluZSkgPT5cbiAgICAgICAgICAgICAgICAgICFzZW5zaXRpdmVQYXR0ZXJucy5zb21lKChwYXR0ZXJuKSA9PiBwYXR0ZXJuLnRlc3QobGluZSkpLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC5qb2luKFwiXFxuXCIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgc2FuaXRpemVkW2tleV0gPSB7XG4gICAgICAgICAgbWVzc2FnZTogdmFsdWUubWVzc2FnZSA/PyBcIlVua25vd24gZXJyb3JcIixcbiAgICAgICAgICBzdGFjazogc2FuaXRpemVkU3RhY2ssXG4gICAgICAgICAgbmFtZTogdmFsdWUubmFtZSA/PyBcIkVycm9yXCIsXG4gICAgICAgICAgY29kZTogKHZhbHVlIGFzIEVycm9yICYgeyBjb2RlPzogc3RyaW5nIH0pLmNvZGUgPz8gXCJVTktOT1dOXCIsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBzYW5pdGl6ZWRba2V5XSA9IHRoaXMuc2FuaXRpemVNZXRhZGF0YShcbiAgICAgICAgICB2YWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNhbml0aXplZFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNhbml0aXplZDtcbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0TG9nTWVzc2FnZShcbiAgICBsZXZlbDogTG9nTGV2ZWwsXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIG1ldGFkYXRhPzogTG9nTWV0YWRhdGEsXG4gICk6IHN0cmluZyB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIGNvbnN0IHNhbml0aXplZCA9IHRoaXMuc2FuaXRpemVNZXRhZGF0YShtZXRhZGF0YSk7XG5cbiAgICBjb25zdCBwYXJ0cyA9IFtgWyR7dGltZXN0YW1wfV1gLCBgWyR7bGV2ZWwudG9VcHBlckNhc2UoKX1dYCwgbWVzc2FnZV07XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoc2FuaXRpemVkKS5sZW5ndGggPiAwKSB7XG4gICAgICBwYXJ0cy5wdXNoKEpTT04uc3RyaW5naWZ5KHNhbml0aXplZCwgbnVsbCwgMikpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJ0cy5qb2luKFwiIFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3JlIGxvZ2dpbmcgZnVuY3Rpb25cbiAgICovXG4gIHByaXZhdGUgdmFsaWRhdGVMb2dFbnRyeShtZXNzYWdlOiBzdHJpbmcsIG1ldGFkYXRhPzogTG9nTWV0YWRhdGEpOiBib29sZWFuIHtcbiAgICBpZiAobWVzc2FnZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB0b3RhbCBsb2cgc2l6ZVxuICAgIGNvbnN0IHRvdGFsU2l6ZSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZSwgbWV0YWRhdGEgfSksXG4gICAgKS5sZW5ndGg7XG5cbiAgICBpZiAodG90YWxTaXplID4gdGhpcy5NQVhfTE9HX1NJWkUpIHtcbiAgICAgIHRoaXMud2FybihcIkxvZyBlbnRyeSBleGNlZWRlZCBtYXhpbXVtIHNpemUgbGltaXRcIiwge1xuICAgICAgICBzaXplOiB0b3RhbFNpemUsXG4gICAgICAgIGxpbWl0OiB0aGlzLk1BWF9MT0dfU0laRSxcbiAgICAgICAgdHJ1bmNhdGVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgYW5kIHVwZGF0ZSByYXRlIGxpbWl0cyBmb3IgYSBzcGVjaWZpYyBsb2cgbGV2ZWxcbiAgICovXG4gIHByaXZhdGUgY2hlY2tSYXRlTGltaXQobGV2ZWw6IExvZ0xldmVsKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudCkge1xuICAgICAgcmV0dXJuIHRydWU7IC8vIE5vIHJhdGUgbGltaXRpbmcgaW4gZGV2ZWxvcG1lbnRcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHRyYWNraW5nID0gdGhpcy5yYXRlVHJhY2tpbmdbbGV2ZWxdO1xuICAgIGNvbnN0IGxpbWl0cyA9IHRoaXMucmF0ZUxpbWl0c1tsZXZlbF07XG5cbiAgICAvLyBSZXNldCBpZiBpbnRlcnZhbCBoYXMgcGFzc2VkXG4gICAgaWYgKG5vdyAtIHRyYWNraW5nLnJlc2V0VGltZSA+PSBsaW1pdHMuaW50ZXJ2YWwpIHtcbiAgICAgIHRyYWNraW5nLmNvdW50ID0gMDtcbiAgICAgIHRyYWNraW5nLnJlc2V0VGltZSA9IG5vdztcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB3aXRoaW4gbGltaXRzXG4gICAgaWYgKHRyYWNraW5nLmNvdW50ID49IGxpbWl0cy5wb2ludHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cmFja2luZy5jb3VudCsrO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGdlbmVyYWwgcmF0ZSBsaW1pdGluZyB3aXRoIGJhY2tvZmZcbiAgICovXG4gIHByaXZhdGUgYXBwbHlSYXRlTGltaXQoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCB0aW1lU2luY2VMYXN0TG9nID0gbm93IC0gdGhpcy5sYXN0TG9nVGltZTtcblxuICAgIGlmICh0aW1lU2luY2VMYXN0TG9nIDwgdGhpcy5yYXRlTGltaXRCYWNrb2ZmKSB7XG4gICAgICAvLyBJbmNyZWFzZSBiYWNrb2ZmIGZvciBmcmVxdWVudCBsb2dnaW5nXG4gICAgICB0aGlzLnJhdGVMaW1pdEJhY2tvZmYgPSBNYXRoLm1pbih0aGlzLnJhdGVMaW1pdEJhY2tvZmYgKiAyLCA1MDAwKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBiYWNrb2ZmIGlmIGVub3VnaCB0aW1lIGhhcyBwYXNzZWRcbiAgICBpZiAodGltZVNpbmNlTGFzdExvZyA+IDEwMDApIHtcbiAgICAgIHRoaXMucmF0ZUxpbWl0QmFja29mZiA9IDEwMDtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RMb2dUaW1lID0gbm93O1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBlbnRyeSB0byBvZmZsaW5lIGJ1ZmZlclxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBidWZmZXJPZmZsaW5lTG9nKGVudHJ5OiBTdHJ1Y3R1cmVkTG9nRW50cnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBPbmx5IGJ1ZmZlciBpbXBvcnRhbnQgbG9nc1xuICAgIGlmIChlbnRyeS5sZXZlbCA9PT0gTG9nTGV2ZWwuREVCVUcgfHwgZW50cnkubGV2ZWwgPT09IExvZ0xldmVsLklORk8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gQWRkIHRvIG1lbW9yeSBidWZmZXJcbiAgICAgIHRoaXMub2ZmbGluZUJ1ZmZlci5wdXNoKGVudHJ5KTtcblxuICAgICAgLy8gVHJpbSBidWZmZXIgaWYgaXQgZXhjZWVkcyBzaXplIGxpbWl0XG4gICAgICBpZiAodGhpcy5vZmZsaW5lQnVmZmVyLmxlbmd0aCA+IHRoaXMuTUFYX09GRkxJTkVfQlVGRkVSX1NJWkUpIHtcbiAgICAgICAgLy8gS2VlcCBtb3N0IHJlY2VudCBsb2dzLCByZW1vdmluZyBvbGRlc3RcbiAgICAgICAgdGhpcy5vZmZsaW5lQnVmZmVyID0gdGhpcy5vZmZsaW5lQnVmZmVyLnNsaWNlKFxuICAgICAgICAgIC10aGlzLk1BWF9PRkZMSU5FX0JVRkZFUl9TSVpFLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBQZXJzaXN0IHRvIHNlY3VyZSBzdG9yYWdlXG4gICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYG9mZmxpbmVfbG9nXyR7ZW50cnkudGltZXN0YW1wfV8ke3RoaXMuaGFzaElkZW50aWZpZXIoZW50cnkubWVzc2FnZSl9YDtcbiAgICAgIGNvbnN0IGVuY3J5cHRlZERhdGEgPSBhd2FpdCB0aGlzLmVuY3J5cHREYXRhKEpTT04uc3RyaW5naWZ5KGVudHJ5KSk7XG5cbiAgICAgIGF3YWl0IEVuY3J5cHRlZFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgc3RvcmFnZUtleSxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGRhdGE6IGVuY3J5cHRlZERhdGEsXG4gICAgICAgICAgdGltZXN0YW1wOiBlbnRyeS50aW1lc3RhbXAsXG4gICAgICAgICAgbGV2ZWw6IGVudHJ5LmxldmVsLFxuICAgICAgICAgIGhhc2g6IGF3YWl0IHRoaXMuZ2VuZXJhdGVITUFDKEpTT04uc3RyaW5naWZ5KGVudHJ5KSksXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgb2xkIGVudHJpZXMgZnJvbSBzdG9yYWdlXG4gICAgICBhd2FpdCB0aGlzLmNsZWFudXBPbGRPZmZsaW5lTG9ncygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICB0aGlzLmVycm9yKFwiRmFpbGVkIHRvIGJ1ZmZlciBvZmZsaW5lIGxvZ1wiLCB7XG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSxcbiAgICAgICAgY29tcG9uZW50OiBcIkxvZ2dlclwiLFxuICAgICAgICBhY3Rpb246IFwiYnVmZmVyT2ZmbGluZUxvZ1wiLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFuIHVwIG9sZCBvZmZsaW5lIGxvZ3MgZnJvbSBzZWN1cmUgc3RvcmFnZVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBjbGVhbnVwT2xkT2ZmbGluZUxvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhbGwgc3RvcmFnZSBrZXlzXG4gICAgICBjb25zdCBhbGxLZXlzID0gT2JqZWN0LmtleXMoXG4gICAgICAgIChhd2FpdCBFbmNyeXB0ZWRTdG9yYWdlLmdldEl0ZW0oXCJfX2tleXNfX1wiKSkgfHwge30sXG4gICAgICApO1xuICAgICAgY29uc3Qgb2ZmbGluZUxvZ0tleXMgPSBhbGxLZXlzLmZpbHRlcigoa2V5KToga2V5IGlzIHN0cmluZyA9PlxuICAgICAgICBrZXkuc3RhcnRzV2l0aChcIm9mZmxpbmVfbG9nX1wiKSxcbiAgICAgICk7XG5cbiAgICAgIC8vIFNvcnQgYnkgdGltZXN0YW1wIChlbWJlZGRlZCBpbiBrZXkpXG4gICAgICBvZmZsaW5lTG9nS2V5cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IFssICwgdGltZXN0YW1wQSA9IFwiMFwiXSA9IGEuc3BsaXQoXCJfXCIpO1xuICAgICAgICBjb25zdCBbLCAsIHRpbWVzdGFtcEIgPSBcIjBcIl0gPSBiLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgcmV0dXJuIHRpbWVzdGFtcEEubG9jYWxlQ29tcGFyZSh0aW1lc3RhbXBCKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZW1vdmUgb2xkZXN0IGVudHJpZXMgaWYgd2UgZXhjZWVkIHRoZSBsaW1pdFxuICAgICAgY29uc3QgbG9nc1RvUmVtb3ZlID0gb2ZmbGluZUxvZ0tleXMuc2xpY2UoXG4gICAgICAgIDAsXG4gICAgICAgIC10aGlzLk1BWF9PRkZMSU5FX0JVRkZFUl9TSVpFLFxuICAgICAgKTtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBsb2dzVG9SZW1vdmUubWFwKChrZXkpID0+IEVuY3J5cHRlZFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpKSxcbiAgICAgICk7XG5cbiAgICAgIC8vIExvZyBjbGVhbnVwXG4gICAgICBpZiAobG9nc1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5pbmZvKFwiQ2xlYW5lZCB1cCBvbGQgb2ZmbGluZSBsb2dzXCIsIHtcbiAgICAgICAgICBjb21wb25lbnQ6IFwiTG9nZ2VyXCIsXG4gICAgICAgICAgYWN0aW9uOiBcImNsZWFudXBPbGRPZmZsaW5lTG9nc1wiLFxuICAgICAgICAgIHJlbW92ZWRDb3VudDogbG9nc1RvUmVtb3ZlLmxlbmd0aCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgIHRoaXMuZXJyb3IoXCJGYWlsZWQgdG8gY2xlYW51cCBvbGQgb2ZmbGluZSBsb2dzXCIsIHtcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgICAgICBjb21wb25lbnQ6IFwiTG9nZ2VyXCIsXG4gICAgICAgIGFjdGlvbjogXCJjbGVhbnVwT2xkT2ZmbGluZUxvZ3NcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHBlcnNpc3RlZCBvZmZsaW5lIGxvZ3MgZnJvbSBzZWN1cmUgc3RvcmFnZVxuICAgKi9cbiAgLyoqXG4gICAqIExvYWQgcGVyc2lzdGVkIGxvZ3MgZnJvbSBzZWN1cmUgc3RvcmFnZSBvbiBpbml0aWFsaXphdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBsb2FkT2ZmbGluZUxvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhbGwgc3RvcmVkIGtleXNcbiAgICAgIGNvbnN0IGFsbEtleXMgPSBPYmplY3Qua2V5cyhcbiAgICAgICAgKGF3YWl0IEVuY3J5cHRlZFN0b3JhZ2UuZ2V0SXRlbShcIl9fa2V5c19fXCIpKSB8fCB7fSxcbiAgICAgICk7XG4gICAgICBjb25zdCBvZmZsaW5lTG9nS2V5cyA9IGFsbEtleXMuZmlsdGVyKChrZXk6IHN0cmluZyk6IGtleSBpcyBTdG9yYWdlS2V5ID0+XG4gICAgICAgIGtleS5zdGFydHNXaXRoKFwib2ZmbGluZV9sb2dfXCIpLFxuICAgICAgKTtcblxuICAgICAgLy8gTG9hZCBhbmQgZGVjcnlwdCBhbGwgbG9nc1xuICAgICAgY29uc3QgZW5jcnlwdGVkTG9ncyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBvZmZsaW5lTG9nS2V5cy5tYXAoYXN5bmMgKGtleTogU3RvcmFnZUtleSkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlbmNyeXB0ZWQgPSBhd2FpdCBFbmNyeXB0ZWRTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgIGlmICghZW5jcnlwdGVkKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgY29uc3QgcGFyc2VkSXRlbSA9IEpTT04ucGFyc2UoZW5jcnlwdGVkKSBhcyBFbmNyeXB0ZWRMb2dTdG9yYWdlSXRlbTtcbiAgICAgICAgICAgIHJldHVybiB7IGtleSwgLi4ucGFyc2VkSXRlbSB9O1xuICAgICAgICAgIH0gY2F0Y2ggKF9lcnJvcikge1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgY29ycnVwdGVkIGVudHJpZXNcbiAgICAgICAgICAgIGF3YWl0IEVuY3J5cHRlZFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIC8vIFByb2Nlc3MgdmFsaWQgbG9nc1xuICAgICAgZm9yIChjb25zdCBsb2cgb2YgZW5jcnlwdGVkTG9ncykge1xuICAgICAgICBpZiAoIWxvZykgY29udGludWU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkZWNyeXB0ZWQgPSBhd2FpdCB0aGlzLmRlY3J5cHREYXRhKGxvZy5kYXRhKTtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IEpTT04ucGFyc2UoZGVjcnlwdGVkKSBhcyBTdHJ1Y3R1cmVkTG9nRW50cnk7XG5cbiAgICAgICAgICAvLyBWZXJpZnkgaW50ZWdyaXR5XG4gICAgICAgICAgY29uc3QgY2FsY3VsYXRlZEhhc2ggPSBhd2FpdCB0aGlzLmdlbmVyYXRlSE1BQyhKU09OLnN0cmluZ2lmeShlbnRyeSkpO1xuICAgICAgICAgIGlmIChjYWxjdWxhdGVkSGFzaCAhPT0gbG9nLmhhc2gpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoXCJPZmZsaW5lIGxvZyBpbnRlZ3JpdHkgY2hlY2sgZmFpbGVkXCIsIHtcbiAgICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihcIkxvZyB0YW1wZXJpbmcgZGV0ZWN0ZWRcIiksXG4gICAgICAgICAgICAgIGNvbXBvbmVudDogXCJMb2dnZXJcIixcbiAgICAgICAgICAgICAgYWN0aW9uOiBcImxvYWRPZmZsaW5lTG9nc1wiLFxuICAgICAgICAgICAgICBrZXk6IGxvZy5rZXksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IEVuY3J5cHRlZFN0b3JhZ2UucmVtb3ZlSXRlbShsb2cua2V5KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMub2ZmbGluZUJ1ZmZlci5wdXNoKGVudHJ5KTtcbiAgICAgICAgfSBjYXRjaCAoZGVjcnlwdEVycm9yKSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIGNvcnJ1cHRlZCBsb2dcbiAgICAgICAgICBhd2FpdCBFbmNyeXB0ZWRTdG9yYWdlLnJlbW92ZUl0ZW0obG9nLmtleSk7XG4gICAgICAgICAgLy8gTG9nIGVycm9yIGRldGFpbHNcbiAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICAgICAgZGVjcnlwdEVycm9yIGluc3RhbmNlb2YgRXJyb3JcbiAgICAgICAgICAgICAgPyBkZWNyeXB0RXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICA6IFN0cmluZyhkZWNyeXB0RXJyb3IpO1xuICAgICAgICAgIHRoaXMuZXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdCBvZmZsaW5lIGxvZ1wiLCB7XG4gICAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKGVycm9yTWVzc2FnZSksXG4gICAgICAgICAgICBjb21wb25lbnQ6IFwiTG9nZ2VyXCIsXG4gICAgICAgICAgICBhY3Rpb246IFwibG9hZE9mZmxpbmVMb2dzXCIsXG4gICAgICAgICAgICBrZXk6IGxvZy5rZXksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU29ydCBhbmQgdHJpbSBidWZmZXJcbiAgICAgIHRoaXMub2ZmbGluZUJ1ZmZlci5zb3J0KChhLCBiKSA9PiBhLnRpbWVzdGFtcC5sb2NhbGVDb21wYXJlKGIudGltZXN0YW1wKSk7XG4gICAgICBpZiAodGhpcy5vZmZsaW5lQnVmZmVyLmxlbmd0aCA+IHRoaXMuTUFYX09GRkxJTkVfQlVGRkVSX1NJWkUpIHtcbiAgICAgICAgdGhpcy5vZmZsaW5lQnVmZmVyID0gdGhpcy5vZmZsaW5lQnVmZmVyLnNsaWNlKFxuICAgICAgICAgIC10aGlzLk1BWF9PRkZMSU5FX0JVRkZFUl9TSVpFLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBMb2cgc3VjY2Vzc1xuICAgICAgdGhpcy5pbmZvKFwiT2ZmbGluZSBsb2dzIGxvYWRlZCBzdWNjZXNzZnVsbHlcIiwge1xuICAgICAgICBjb21wb25lbnQ6IFwiTG9nZ2VyXCIsXG4gICAgICAgIGFjdGlvbjogXCJsb2FkT2ZmbGluZUxvZ3NcIixcbiAgICAgICAgbG9nc0xvYWRlZDogdGhpcy5vZmZsaW5lQnVmZmVyLmxlbmd0aCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICB0aGlzLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgb2ZmbGluZSBsb2dzXCIsIHtcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgICAgICBjb21wb25lbnQ6IFwiTG9nZ2VyXCIsXG4gICAgICAgIGFjdGlvbjogXCJsb2FkT2ZmbGluZUxvZ3NcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYnVmZmVyIG1ldHJpY3MgZm9yIG1vbml0b3JpbmdcbiAgICovXG4gIHByaXZhdGUgZ2V0QnVmZmVyTWV0cmljcygpOiBMb2dCdWZmZXJNZXRyaWNzIHtcbiAgICBjb25zdCBjcml0aWNhbEVudHJpZXMgPSB0aGlzLm9mZmxpbmVCdWZmZXIuZmlsdGVyKFxuICAgICAgKGVudHJ5KSA9PlxuICAgICAgICBlbnRyeS5sZXZlbCA9PT0gTG9nTGV2ZWwuRVJST1IgfHwgZW50cnkubGV2ZWwgPT09IExvZ0xldmVsLlNFQ1VSSVRZLFxuICAgICkubGVuZ3RoO1xuXG4gICAgbGV0IG9sZGVzdEVudHJ5OiBEYXRlIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGxhdGVzdEVudHJ5OiBEYXRlIHwgbnVsbCA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5vZmZsaW5lQnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZpcnN0RW50cnkgPSB0aGlzLm9mZmxpbmVCdWZmZXJbMF07XG4gICAgICBjb25zdCBsYXN0RW50cnkgPSB0aGlzLm9mZmxpbmVCdWZmZXJbdGhpcy5vZmZsaW5lQnVmZmVyLmxlbmd0aCAtIDFdO1xuXG4gICAgICBpZiAoZmlyc3RFbnRyeSAmJiBmaXJzdEVudHJ5LnRpbWVzdGFtcCkge1xuICAgICAgICBvbGRlc3RFbnRyeSA9IG5ldyBEYXRlKGZpcnN0RW50cnkudGltZXN0YW1wKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxhc3RFbnRyeSAmJiBsYXN0RW50cnkudGltZXN0YW1wKSB7XG4gICAgICAgIGxhdGVzdEVudHJ5ID0gbmV3IERhdGUobGFzdEVudHJ5LnRpbWVzdGFtcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsRW50cmllczogdGhpcy5vZmZsaW5lQnVmZmVyLmxlbmd0aCxcbiAgICAgIGNyaXRpY2FsRW50cmllcyxcbiAgICAgIG9sZGVzdEVudHJ5LFxuICAgICAgbGF0ZXN0RW50cnksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgbG9nKGxldmVsOiBMb2dMZXZlbCwgbWVzc2FnZTogc3RyaW5nLCBtZXRhZGF0YT86IExvZ01ldGFkYXRhKTogdm9pZCB7XG4gICAgLy8gU2tpcCBkZWJ1ZyBsb2dzIGluIHByb2R1Y3Rpb25cbiAgICBpZiAoIXRoaXMuaXNEZXZlbG9wbWVudCAmJiBsZXZlbCA9PT0gTG9nTGV2ZWwuREVCVUcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBsb2cgZW50cnlcbiAgICBpZiAoIXRoaXMudmFsaWRhdGVMb2dFbnRyeShtZXNzYWdlLCBtZXRhZGF0YSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBcHBseSBib3RoIGdlbmVyYWwgYW5kIGxldmVsLXNwZWNpZmljIHJhdGUgbGltaXRpbmdcbiAgICBpZiAoIXRoaXMuYXBwbHlSYXRlTGltaXQoKSB8fCAhdGhpcy5jaGVja1JhdGVMaW1pdChsZXZlbCkpIHtcbiAgICAgIC8vIEJ1ZmZlciBpbXBvcnRhbnQgbG9ncyB0aGF0IHdlcmUgcmF0ZSBsaW1pdGVkXG4gICAgICBpZiAobGV2ZWwgPT09IExvZ0xldmVsLkVSUk9SIHx8IGxldmVsID09PSBMb2dMZXZlbC5TRUNVUklUWSkge1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIHZvaWQgdGhpcy5idWZmZXJPZmZsaW5lTG9nKHtcbiAgICAgICAgICBtZXNzYWdlOiBgW1JhdGUgTGltaXRlZF0gJHttZXNzYWdlfWAsXG4gICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgdGltZXN0YW1wLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAuLi5tZXRhZGF0YSxcbiAgICAgICAgICAgIHJhdGVMaW1pdGVkOiB0cnVlLFxuICAgICAgICAgICAgb3JpZ2luYWxUaW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBZGQgc3RhbmRhcmQgbWV0YWRhdGFcbiAgICBjb25zdCBlbmhhbmNlZE1ldGFkYXRhOiBMb2dNZXRhZGF0YSA9IHtcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgIHZlcnNpb246IHRoaXMuYXBwVmVyc2lvbixcbiAgICAgIHVzZXJJZDogdGhpcy51c2VySW5mbz8uaWQgIT09IHVuZGVmaW5lZCA/IHRoaXMudXNlckluZm8uaWQgOiBcImFub255bW91c1wiLFxuICAgICAgLi4ubWV0YWRhdGEsXG4gICAgICAvLyBBZGQgc2VjdXJpdHkgY29udGV4dFxuICAgICAgc2VjdXJpdHlDb250ZXh0OiB7XG4gICAgICAgIGVudmlyb25tZW50OiB0aGlzLmlzRGV2ZWxvcG1lbnQgPyBcImRldmVsb3BtZW50XCIgOiBcInByb2R1Y3Rpb25cIixcbiAgICAgICAgc2Vzc2lvbkhhc2g6IHRoaXMuaGFzaElkZW50aWZpZXIodGhpcy5zZXNzaW9uSWQpLFxuICAgICAgICBsb2dJZDogdGhpcy5oYXNoSWRlbnRpZmllcihgJHtsZXZlbH1fJHtTdHJpbmcoRGF0ZS5ub3coKSl9XyR7bWVzc2FnZX1gKSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGNvbnN0IGZvcm1hdHRlZE1lc3NhZ2UgPSB0aGlzLmZvcm1hdExvZ01lc3NhZ2UoXG4gICAgICBsZXZlbCxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBlbmhhbmNlZE1ldGFkYXRhLFxuICAgICk7XG4gICAgY29uc3Qgc2FuaXRpemVkID0gdGhpcy5zYW5pdGl6ZU1ldGFkYXRhKGVuaGFuY2VkTWV0YWRhdGEpO1xuXG4gICAgLy8gQ3JlYXRlIHN0cnVjdHVyZWQgbG9nIGVudHJ5XG4gICAgY29uc3QgbG9nRW50cnk6IFN0cnVjdHVyZWRMb2dFbnRyeSA9IHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBsZXZlbCxcbiAgICAgIHRpbWVzdGFtcDogZW5oYW5jZWRNZXRhZGF0YS50aW1lc3RhbXAgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgbWV0YWRhdGE6IHNhbml0aXplZCxcbiAgICB9O1xuXG4gICAgLy8gQWRkIHRvIGJ1ZmZlciBmb3IgcG90ZW50aWFsIG9mZmxpbmUgcGVyc2lzdGVuY2VcbiAgICB2b2lkIHRoaXMuYnVmZmVyT2ZmbGluZUxvZyhsb2dFbnRyeSk7XG5cbiAgICAvLyBDb25zb2xlIGxvZ2dpbmcgKG9ubHkgaW4gZGV2ZWxvcG1lbnQpIC0gdXNpbmcgbG9nZ2VyIG1ldGhvZHMgaW5zdGVhZCBvZiBjb25zb2xlXG4gICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudCkge1xuICAgICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgICBjYXNlIExvZ0xldmVsLkRFQlVHOlxuICAgICAgICAgIC8vIFVzZSBjb25zb2xlLndhcm4gZm9yIGRlYnVnIGluIGRldmVsb3BtZW50XG4gICAgICAgICAgY29uc29sZS53YXJuKGZvcm1hdHRlZE1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIExvZ0xldmVsLklORk86XG4gICAgICAgICAgLy8gVXNlIGNvbnNvbGUud2FybiBmb3IgaW5mbyBpbiBkZXZlbG9wbWVudFxuICAgICAgICAgIGNvbnNvbGUud2Fybihmb3JtYXR0ZWRNZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBMb2dMZXZlbC5XQVJOOlxuICAgICAgICAgIGNvbnNvbGUud2Fybihmb3JtYXR0ZWRNZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBMb2dMZXZlbC5FUlJPUjpcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGZvcm1hdHRlZE1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIExvZ0xldmVsLlNFQ1VSSVRZOlxuICAgICAgICAgIGNvbnNvbGUud2Fybihg8J+UkiAke2Zvcm1hdHRlZE1lc3NhZ2V9YCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTG9nTGV2ZWwuUEVSRk9STUFOQ0U6XG4gICAgICAgICAgY29uc29sZS53YXJuKGDimqEgJHtmb3JtYXR0ZWRNZXNzYWdlfWApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNlbmQgdG8gU2VudHJ5IGZvciBlcnJvcnMgYW5kIHNlY3VyaXR5IGV2ZW50cyB3aXRoIGVuaGFuY2VkIGNvbnRleHRcbiAgICBpZiAobGV2ZWwgPT09IExvZ0xldmVsLkVSUk9SIHx8IGxldmVsID09PSBMb2dMZXZlbC5TRUNVUklUWSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ3JlYXRlIHNlY3VyZSBmaW5nZXJwcmludCBmb3IgZXJyb3IgZ3JvdXBpbmdcbiAgICAgICAgY29uc3QgZmluZ2VycHJpbnQgPSB0aGlzLmdlbmVyYXRlRXJyb3JGaW5nZXJwcmludChtZXNzYWdlLCBtZXRhZGF0YSk7XG5cbiAgICAgICAgaWYgKG1ldGFkYXRhPy5lcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgLy8gRW5oYW5jZWQgZXJyb3IgY2FwdHVyZSB3aXRoIHNlY3VyZSBjb250ZXh0XG4gICAgICAgICAgc2VudHJ5LmNhcHR1cmVFeGNlcHRpb24obWV0YWRhdGEuZXJyb3IsIHtcbiAgICAgICAgICAgIGV4dHJhOiBzYW5pdGl6ZWQsXG4gICAgICAgICAgICB0YWdzOiB7XG4gICAgICAgICAgICAgIGxvZ0xldmVsOiBsZXZlbCxcbiAgICAgICAgICAgICAgZXJyb3JUeXBlOiBtZXRhZGF0YS5lcnJvci5uYW1lLFxuICAgICAgICAgICAgICBlcnJvckNvZGU6IChtZXRhZGF0YS5lcnJvciBhcyBFcnJvciAmIHsgY29kZT86IHN0cmluZyB9KS5jb2RlLFxuICAgICAgICAgICAgICAuLi4obWV0YWRhdGEudGFncyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuZnJvbUVudHJpZXMobWV0YWRhdGEudGFncy5tYXAoKHRhZykgPT4gW3RhZywgdHJ1ZV0pKVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmdlcnByaW50LFxuICAgICAgICAgICAgLy8gQWRkIHNlY3VyZSB0cmFuc2FjdGlvbiBkYXRhIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgLi4uKG1ldGFkYXRhLmNvcnJlbGF0aW9uSWRcbiAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbjogYCR7bWV0YWRhdGEuY29tcG9uZW50ID8/IFwidW5rbm93blwifS4ke21ldGFkYXRhLmFjdGlvbiA/PyBcImFjdGlvblwifWAsXG4gICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbkhhc2g6IHRoaXMuaGFzaElkZW50aWZpZXIobWV0YWRhdGEuY29ycmVsYXRpb25JZCksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBzZW50cnlMZXZlbCA9XG4gICAgICAgICAgICBTdHJpbmcobGV2ZWwpID09PSBcInNlY3VyaXR5XCIgPyBcIndhcm5pbmdcIiA6IFwiZXJyb3JcIjtcblxuICAgICAgICAgIC8vIFNldCBzZWN1cmUgY29udGV4dCBiZWZvcmUgY2FwdHVyaW5nIG1lc3NhZ2VcbiAgICAgICAgICBjb25zdCBzZWN1cmVDb250ZXh0ID0ge1xuICAgICAgICAgICAgLi4uc2FuaXRpemVkLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBzZXNzaW9uSGFzaDogdGhpcy5oYXNoSWRlbnRpZmllcih0aGlzLnNlc3Npb25JZCksXG4gICAgICAgICAgICBlbnZpcm9ubWVudDogdGhpcy5pc0RldmVsb3BtZW50ID8gXCJkZXZlbG9wbWVudFwiIDogXCJwcm9kdWN0aW9uXCIsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHNlbnRyeS5zZXRDb250ZXh0KFwibWV0YWRhdGFcIiwgc2VjdXJlQ29udGV4dCk7XG4gICAgICAgICAgc2VudHJ5LmNhcHR1cmVNZXNzYWdlKG1lc3NhZ2UsIHNlbnRyeUxldmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsZWFuIHVwIHNlbnNpdGl2ZSBjb250ZXh0IGFmdGVyIHNlbmRpbmdcbiAgICAgICAgdGhpcy5jbGVhclNlbnRyeUNvbnRleHQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGNvbnNvbGUgaWYgU2VudHJ5IGZhaWxzXG4gICAgICAgIGlmICh0aGlzLmlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJGYWlsZWQgdG8gc2VuZCB0byBTZW50cnk6XCIsXG4gICAgICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgbWV0YWRhdGE/OiBMb2dNZXRhZGF0YSk6IHZvaWQge1xuICAgIHRoaXMubG9nKExvZ0xldmVsLkRFQlVHLCBtZXNzYWdlLCBtZXRhZGF0YSk7XG4gIH1cblxuICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgbWV0YWRhdGE/OiBMb2dNZXRhZGF0YSk6IHZvaWQge1xuICAgIHRoaXMubG9nKExvZ0xldmVsLklORk8sIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgfVxuXG4gIHdhcm4obWVzc2FnZTogc3RyaW5nLCBtZXRhZGF0YT86IExvZ01ldGFkYXRhKTogdm9pZCB7XG4gICAgdGhpcy5sb2coTG9nTGV2ZWwuV0FSTiwgbWVzc2FnZSwgbWV0YWRhdGEpO1xuICB9XG5cbiAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBtZXRhZGF0YT86IExvZ01ldGFkYXRhKTogdm9pZCB7XG4gICAgdGhpcy5sb2coTG9nTGV2ZWwuRVJST1IsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgc2VjdXJpdHktcmVsYXRlZCBldmVudHNcbiAgICovXG4gIHNlY3VyaXR5KG1lc3NhZ2U6IHN0cmluZywgbWV0YWRhdGE/OiBMb2dNZXRhZGF0YSk6IHZvaWQge1xuICAgIHRoaXMubG9nKExvZ0xldmVsLlNFQ1VSSVRZLCBtZXNzYWdlLCB7XG4gICAgICAuLi5tZXRhZGF0YSxcbiAgICAgIHRhZ3M6IFtcbiAgICAgICAgLi4uKG1ldGFkYXRhPy50YWdzICE9PSB1bmRlZmluZWQgJiYgbWV0YWRhdGEudGFncyAhPT0gbnVsbFxuICAgICAgICAgID8gbWV0YWRhdGEudGFnc1xuICAgICAgICAgIDogW10pLFxuICAgICAgICBcInNlY3VyaXR5XCIsXG4gICAgICBdLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZyBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gICAqL1xuICBwZXJmb3JtYW5jZShcbiAgICBvcGVyYXRpb246IHN0cmluZyxcbiAgICBkdXJhdGlvbk1zOiBudW1iZXIsXG4gICAgbWV0YWRhdGE/OiBMb2dNZXRhZGF0YSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5sb2coXG4gICAgICBMb2dMZXZlbC5QRVJGT1JNQU5DRSxcbiAgICAgIGAke29wZXJhdGlvbn0gY29tcGxldGVkIGluICR7U3RyaW5nKGR1cmF0aW9uTXMpfW1zYCxcbiAgICAgIHtcbiAgICAgICAgLi4ubWV0YWRhdGEsXG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbk1zLFxuICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgIHRhZ3M6IFtcbiAgICAgICAgICAuLi4obWV0YWRhdGE/LnRhZ3MgIT09IHVuZGVmaW5lZCAmJiBtZXRhZGF0YS50YWdzICE9PSBudWxsXG4gICAgICAgICAgICA/IG1ldGFkYXRhLnRhZ3NcbiAgICAgICAgICAgIDogW10pLFxuICAgICAgICAgIFwicGVyZm9ybWFuY2VcIixcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBwZXJmb3JtYW5jZSB0aW1lciB0aGF0IGxvZ3Mgd2hlbiBzdG9wcGVkXG4gICAqL1xuICBzdGFydFRpbWVyKG9wZXJhdGlvbjogc3RyaW5nKTogKCkgPT4gdm9pZCB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gKG1ldGFkYXRhPzogTG9nTWV0YWRhdGEpID0+IHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKTtcbiAgICAgIHRoaXMucGVyZm9ybWFuY2Uob3BlcmF0aW9uLCBkdXJhdGlvbiwgbWV0YWRhdGEpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVzZXIgY29udGV4dCBmb3IgbG9nZ2luZyBzeXN0ZW1zXG4gICAqL1xuICBzZXRVc2VyKHVzZXI6IHsgaWQ6IHN0cmluZzsgZW1haWw6IHN0cmluZzsgdXNlcm5hbWU6IHN0cmluZyB9KTogdm9pZCB7XG4gICAgaWYgKFxuICAgICAgdXNlciA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB1c2VyID09PSBudWxsIHx8XG4gICAgICB1c2VyLmlkID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHVzZXIuaWQgPT09IG51bGwgfHxcbiAgICAgIHVzZXIuaWQgPT09IFwiXCIgfHxcbiAgICAgIHVzZXIuZW1haWwgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdXNlci5lbWFpbCA9PT0gbnVsbCB8fFxuICAgICAgdXNlci5lbWFpbCA9PT0gXCJcIiB8fFxuICAgICAgdXNlci51c2VybmFtZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB1c2VyLnVzZXJuYW1lID09PSBudWxsIHx8XG4gICAgICB1c2VyLnVzZXJuYW1lID09PSBcIlwiXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVzZXIgZGF0YSBwcm92aWRlZCB0byBsb2dnZXJcIik7XG4gICAgfVxuXG4gICAgdGhpcy51c2VySW5mbyA9IHVzZXI7XG5cbiAgICAvLyBVcGRhdGUgU2VudHJ5IHVzZXIgY29udGV4dFxuICAgIHNlbnRyeS5zZXRVc2VyKHtcbiAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICB9KTtcblxuICAgIHRoaXMuaW5mbyhcIlVzZXIgY29udGV4dCBzZXRcIiwge1xuICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgdGFnczogW1widXNlci1jb250ZXh0XCJdLFxuICAgICAgbGV2ZWw6IExvZ0xldmVsLklORk8sXG4gICAgfSBhcyBMb2dNZXRhZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGJyZWFkY3J1bWIgZm9yIHRyYWNpbmcgYW5kIGRlYnVnZ2luZ1xuICAgKi9cbiAgYWRkQnJlYWRjcnVtYihcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgY2F0ZWdvcnk6IHN0cmluZyxcbiAgICBkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHNhbml0aXplZERhdGEgPSB0aGlzLnNhbml0aXplTWV0YWRhdGEoZGF0YSk7XG5cbiAgICAvLyBBZGQgc2VjdXJlIGJyZWFkY3J1bWIgd2l0aCBlbmhhbmNlZCBjb250ZXh0XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlY3VyZUJyZWFkY3J1bWIgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHRoaXMudHJ1bmNhdGVTdHJpbmcobWVzc2FnZSwgMTAwMCksIC8vIExpbWl0IG1lc3NhZ2Ugc2l6ZVxuICAgICAgICBjYXRlZ29yeTogdGhpcy52YWxpZGF0ZUNhdGVnb3J5KGNhdGVnb3J5KSxcbiAgICAgICAgZGF0YTogc2FuaXRpemVkRGF0YSxcbiAgICAgICAgbGV2ZWw6IFwiaW5mb1wiLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCkgLyAxMDAwLFxuICAgICAgICAvLyBBZGQgc2VjdXJpdHkgY29udGV4dFxuICAgICAgICBzZXNzaW9uSGFzaDogdGhpcy5oYXNoSWRlbnRpZmllcih0aGlzLnNlc3Npb25JZCksXG4gICAgICAgIHNvdXJjZUNvbXBvbmVudDogZGF0YT8uW1wiY29tcG9uZW50XCJdID8/IFwidW5rbm93blwiLFxuICAgICAgfTtcblxuICAgICAgc2VudHJ5LmFkZEJyZWFkY3J1bWIoc2VjdXJlQnJlYWRjcnVtYik7XG5cbiAgICAgIC8vIERlYnVnIGxvZyB0aGUgYnJlYWRjcnVtYiBpbiBkZXZlbG9wbWVudFxuICAgICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudCkge1xuICAgICAgICB0aGlzLmRlYnVnKGBCcmVhZGNydW1iOiAke21lc3NhZ2V9YCwge1xuICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICAgIC4uLnNhbml0aXplZERhdGEsXG4gICAgICAgICAgc2VjdXJpdHlIYXNoOiB0aGlzLmhhc2hJZGVudGlmaWVyKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gRmFpbCBzaWxlbnRseSBidXQgbG9nIGxvY2FsbHlcbiAgICAgIGlmICh0aGlzLmlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiRmFpbGVkIHRvIGFkZCBicmVhZGNydW1iOlwiLFxuICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyA9PT09PSBTRUNVUklUWSBDT05UUk9MUyA9PT09PVxuXG4gIGFzeW5jIGV4cG9ydEF1ZGl0TG9ncyhcbiAgICBvcHRpb25zOiBBdWRpdExvZ1JlcXVlc3QgPSB7fSxcbiAgKTogUHJvbWlzZTxBdWRpdExvZ0V4cG9ydD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kRGF0ZSA9IG5ldyBEYXRlKCksXG4gICAgICAgIGxldmVscyA9IE9iamVjdC52YWx1ZXMoTG9nTGV2ZWwpLFxuICAgICAgICBpbmNsdWRlTWV0cmljcyA9IGZhbHNlLFxuICAgICAgfSA9IG9wdGlvbnM7XG5cbiAgICAgIC8vIFZhbGlkYXRlIGlucHV0c1xuICAgICAgaWYgKGVuZERhdGUgPCAoc3RhcnREYXRlID8/IG5ldyBEYXRlKDApKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHN0YXJ0IGRhdGVcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbHRlciBhbmQgc2FuaXRpemUgbG9ncyB3aXRoIHByb3BlciB0eXBlIGhhbmRsaW5nXG4gICAgICBjb25zdCBmaWx0ZXJlZExvZ3MgPSBbLi4udGhpcy5sb2dCdWZmZXIsIC4uLnRoaXMub2ZmbGluZUJ1ZmZlcl1cbiAgICAgICAgLmZpbHRlcigoZW50cnkpID0+IHtcbiAgICAgICAgICBpZiAoIWVudHJ5LnRpbWVzdGFtcCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBlbnRyeURhdGUgPSBuZXcgRGF0ZShlbnRyeS50aW1lc3RhbXApO1xuICAgICAgICAgIGlmIChpc05hTihlbnRyeURhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBtYXRjaGVzRGF0ZSA9IHN0YXJ0RGF0ZVxuICAgICAgICAgICAgPyBlbnRyeURhdGUgPj0gc3RhcnREYXRlICYmIGVudHJ5RGF0ZSA8PSBlbmREYXRlXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgICAgY29uc3QgbWF0Y2hlc0xldmVsID0gbGV2ZWxzLmluY2x1ZGVzKGVudHJ5LmxldmVsKTtcbiAgICAgICAgICByZXR1cm4gbWF0Y2hlc0RhdGUgJiYgbWF0Y2hlc0xldmVsO1xuICAgICAgICB9KVxuICAgICAgICAubWFwKChlbnRyeSkgPT4gKHtcbiAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICBtZXRhZGF0YTogdGhpcy5zYW5pdGl6ZU1ldGFkYXRhKGVudHJ5Lm1ldGFkYXRhKSxcbiAgICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBiYXNlRmlsdGVyczogQXVkaXRMb2dGaWx0ZXJzID0ge1xuICAgICAgICBzdGFydERhdGU6IChzdGFydERhdGUgPz8gbmV3IERhdGUoMCkpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGVuZERhdGU6IGVuZERhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgbGV2ZWxzLFxuICAgICAgICBpbmNsdWRlTWV0cmljcyxcbiAgICAgICAgY29udGVudEhhc2g6IFwiXCIsXG4gICAgICAgIHRvdGFsRW50cmllczogMCxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGV4cG9ydERhdGE6IEF1ZGl0TG9nRXhwb3J0ID0ge1xuICAgICAgICBsb2dzOiBmaWx0ZXJlZExvZ3MsXG4gICAgICAgIC4uLihpbmNsdWRlTWV0cmljcyA/IHsgbWV0cmljczogdGhpcy5nZXRCdWZmZXJNZXRyaWNzKCkgfSA6IHt9KSxcbiAgICAgICAgZXhwb3J0TWV0YWRhdGE6IHtcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBleHBvcnRJZDogdGhpcy5oYXNoSWRlbnRpZmllcihgYXVkaXRfJHtEYXRlLm5vdygpfWApLFxuICAgICAgICAgIGZpbHRlcnM6IGJhc2VGaWx0ZXJzLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgLy8gQWRkIGludGVncml0eSB2ZXJpZmljYXRpb25cbiAgICAgIGNvbnN0IGNvbnRlbnRIYXNoID0gdGhpcy5oYXNoSWRlbnRpZmllcihKU09OLnN0cmluZ2lmeShleHBvcnREYXRhLmxvZ3MpKTtcbiAgICAgIGV4cG9ydERhdGEuZXhwb3J0TWV0YWRhdGEuZmlsdGVycy5jb250ZW50SGFzaCA9IGNvbnRlbnRIYXNoO1xuICAgICAgZXhwb3J0RGF0YS5leHBvcnRNZXRhZGF0YS5maWx0ZXJzLnRvdGFsRW50cmllcyA9IGZpbHRlcmVkTG9ncy5sZW5ndGg7XG5cbiAgICAgIC8vIExvZyBleHBvcnQgYXR0ZW1wdCBmb3Igc2VjdXJpdHkgYXVkaXRcbiAgICAgIHRoaXMuc2VjdXJpdHkoXCJBdWRpdCBsb2dzIGV4cG9ydGVkXCIsIHtcbiAgICAgICAgZXhwb3J0SWQ6IGV4cG9ydERhdGEuZXhwb3J0TWV0YWRhdGEuZXhwb3J0SWQsXG4gICAgICAgIGVudHJpZXNDb3VudDogZmlsdGVyZWRMb2dzLmxlbmd0aCxcbiAgICAgICAgdGltZVJhbmdlOiB7XG4gICAgICAgICAgc3RhcnQ6IHN0YXJ0RGF0ZT8udG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBlbmQ6IGVuZERhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudEhhc2gsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGV4cG9ydERhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgIHRoaXMuZXJyb3IoXCJGYWlsZWQgdG8gZXhwb3J0IGF1ZGl0IGxvZ3NcIiwge1xuICAgICAgICBlcnJvcjogbmV3IEVycm9yKGVycm9yTWVzc2FnZSksXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICB9KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkF1ZGl0IGxvZyBleHBvcnQgZmFpbGVkOiBcIiArIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgc2VjdXJlIGZpbmdlcnByaW50IGZvciBlcnJvciBncm91cGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUVycm9yRmluZ2VycHJpbnQoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIG1ldGFkYXRhPzogTG9nTWV0YWRhdGEsXG4gICk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBjb21wb25lbnRzID0gW1xuICAgICAgbWV0YWRhdGE/LmNvbXBvbmVudCA/PyBcInVua25vd25cIixcbiAgICAgIG1ldGFkYXRhPy5hY3Rpb24gPz8gXCJhY3Rpb25cIixcbiAgICAgIC8vIEhhc2ggbWVzc2FnZSB0byBub3JtYWxpemUgaXQgZm9yIGdyb3VwaW5nXG4gICAgICB0aGlzLmhhc2hJZGVudGlmaWVyKG1lc3NhZ2UpLFxuICAgIF07XG5cbiAgICBpZiAobWV0YWRhdGE/LmVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbXBvbmVudHMucHVzaChcbiAgICAgICAgbWV0YWRhdGEuZXJyb3IubmFtZSxcbiAgICAgICAgKG1ldGFkYXRhLmVycm9yIGFzIEVycm9yICYgeyBjb2RlPzogc3RyaW5nIH0pLmNvZGUgPz8gXCJVTktOT1dOXCIsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChtZXRhZGF0YT8udGFncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb21wb25lbnRzLnB1c2goLi4ubWV0YWRhdGEudGFncyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBvbmVudHM7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgc2VjdXJlIGhhc2ggZm9yIGlkZW50aWZpZXJzXG4gICAqL1xuICBwcml2YXRlIGhhc2hJZGVudGlmaWVyKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIFNpbXBsZSBidXQgY29uc2lzdGVudCBoYXNoaW5nIGZvciBncm91cGluZ1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGFyID0gdmFsdWUuY2hhckNvZGVBdChpKTtcbiAgICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBjaGFyO1xuICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoO1xuICAgIH1cbiAgICByZXR1cm4gaGFzaC50b1N0cmluZygzNikuc3Vic3RyaW5nKDAsIDgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIHNlbnNpdGl2ZSBjb250ZXh0IGRhdGEgZnJvbSBTZW50cnlcbiAgICovXG4gIHByaXZhdGUgY2xlYXJTZW50cnlDb250ZXh0KCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBzZW50cnkuc2V0Q29udGV4dChcIm1ldGFkYXRhXCIsIHt9KTtcbiAgICAgIHNlbnRyeS5zZXRVc2VyKHt9KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIElnbm9yZSBjbGVhbnVwIGVycm9yc1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvcnQgbG9ncyBzZWN1cmVseSBmb3IgYXVkaXQgcHVycG9zZXMgd2l0aCBlbmhhbmNlZCBzZWN1cml0eSBhbmQgdmFsaWRhdGlvblxuICAgKi9cbiAgYXN5bmMgZXhwb3J0U2VjdXJlQXVkaXRMb2dzKFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHN0YXJ0RGF0ZT86IERhdGUgfCB1bmRlZmluZWQ7XG4gICAgICBlbmREYXRlPzogRGF0ZSB8IHVuZGVmaW5lZDtcbiAgICAgIGxldmVscz86IExvZ0xldmVsW10gfCB1bmRlZmluZWQ7XG4gICAgICBpbmNsdWRlTWV0cmljcz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gICAgfSA9IHt9LFxuICApOiBQcm9taXNlPHtcbiAgICBsb2dzOiBTdHJ1Y3R1cmVkTG9nRW50cnlbXTtcbiAgICBtZXRyaWNzOiBMb2dCdWZmZXJNZXRyaWNzO1xuICAgIGV4cG9ydE1ldGFkYXRhOiB7XG4gICAgICB0aW1lc3RhbXA6IHN0cmluZztcbiAgICAgIGV4cG9ydElkOiBzdHJpbmc7XG4gICAgICBmaWx0ZXJzOiBBdWRpdExvZ0ZpbHRlcnM7XG4gICAgfTtcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kRGF0ZSA9IG5ldyBEYXRlKCksXG4gICAgICAgIGxldmVscyA9IE9iamVjdC52YWx1ZXMoTG9nTGV2ZWwpLFxuICAgICAgICBpbmNsdWRlTWV0cmljcyA9IGZhbHNlLFxuICAgICAgfSA9IG9wdGlvbnM7XG5cbiAgICAgIC8vIFZhbGlkYXRlIGlucHV0IGRhdGVzXG4gICAgICBpZiAoZW5kRGF0ZSA8IChzdGFydERhdGUgPz8gbmV3IERhdGUoMCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgc3RhcnQgZGF0ZVwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIGEgc2VjdXJlIGNvcHkgb2YgbG9ncyB3aXRoIGZpbHRlcmluZ1xuICAgICAgY29uc3QgZmlsdGVyZWRMb2dzID0gWy4uLnRoaXMubG9nQnVmZmVyLCAuLi50aGlzLm9mZmxpbmVCdWZmZXJdXG4gICAgICAgIC5maWx0ZXIoKGVudHJ5KSA9PiB7XG4gICAgICAgICAgaWYgKCFlbnRyeS50aW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZW50cnlEYXRlID0gbmV3IERhdGUoZW50cnkudGltZXN0YW1wKTtcbiAgICAgICAgICBpZiAoaXNOYU4oZW50cnlEYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbWF0Y2hlc0RhdGUgPSBzdGFydERhdGVcbiAgICAgICAgICAgID8gZW50cnlEYXRlID49IHN0YXJ0RGF0ZSAmJiBlbnRyeURhdGUgPD0gZW5kRGF0ZVxuICAgICAgICAgICAgOiB0cnVlO1xuICAgICAgICAgIGNvbnN0IG1hdGNoZXNMZXZlbCA9IGxldmVscy5pbmNsdWRlcyhlbnRyeS5sZXZlbCk7XG4gICAgICAgICAgcmV0dXJuIG1hdGNoZXNEYXRlICYmIG1hdGNoZXNMZXZlbDtcbiAgICAgICAgfSlcbiAgICAgICAgLm1hcCgoZW50cnkpID0+ICh7XG4gICAgICAgICAgLi4uZW50cnksXG4gICAgICAgICAgbWV0YWRhdGE6IHRoaXMuc2FuaXRpemVNZXRhZGF0YShlbnRyeS5tZXRhZGF0YSksXG4gICAgICAgIH0pKTtcblxuICAgICAgLy8gR2V0IGN1cnJlbnQgbWV0cmljc1xuICAgICAgY29uc3QgbWV0cmljcyA9IHRoaXMuZ2V0QnVmZmVyTWV0cmljcygpO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgaW50ZWdyaXR5IGhhc2hcbiAgICAgIGNvbnN0IGNvbnRlbnRIYXNoID0gdGhpcy5oYXNoSWRlbnRpZmllcihKU09OLnN0cmluZ2lmeShmaWx0ZXJlZExvZ3MpKTtcblxuICAgICAgY29uc3QgZXhwb3J0RGF0YSA9IHtcbiAgICAgICAgbG9nczogZmlsdGVyZWRMb2dzLFxuICAgICAgICBtZXRyaWNzLFxuICAgICAgICBleHBvcnRNZXRhZGF0YToge1xuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGV4cG9ydElkOiB0aGlzLmhhc2hJZGVudGlmaWVyKGBhdWRpdF8ke0RhdGUubm93KCl9YCksXG4gICAgICAgICAgZmlsdGVyczoge1xuICAgICAgICAgICAgc3RhcnREYXRlOiBzdGFydERhdGU/LnRvSVNPU3RyaW5nKCkgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgbGV2ZWxzLFxuICAgICAgICAgICAgaW5jbHVkZU1ldHJpY3MsXG4gICAgICAgICAgICBjb250ZW50SGFzaCxcbiAgICAgICAgICAgIHRvdGFsRW50cmllczogZmlsdGVyZWRMb2dzLmxlbmd0aCxcbiAgICAgICAgICB9IGFzIEF1ZGl0TG9nRmlsdGVycyxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIC8vIExvZyBleHBvcnQgYXR0ZW1wdCBmb3Igc2VjdXJpdHkgYXVkaXRcbiAgICAgIHRoaXMuc2VjdXJpdHkoXCJBdWRpdCBsb2dzIGV4cG9ydGVkXCIsIHtcbiAgICAgICAgZXhwb3J0SWQ6IGV4cG9ydERhdGEuZXhwb3J0TWV0YWRhdGEuZXhwb3J0SWQsXG4gICAgICAgIGVudHJpZXNDb3VudDogZmlsdGVyZWRMb2dzLmxlbmd0aCxcbiAgICAgICAgdGltZVJhbmdlOiB7XG4gICAgICAgICAgc3RhcnQ6IHN0YXJ0RGF0ZT8udG9JU09TdHJpbmcoKSA/PyBcImJlZ2lubmluZ1wiLFxuICAgICAgICAgIGVuZDogZW5kRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50SGFzaCxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZXhwb3J0RGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgdGhpcy5lcnJvcihcIkZhaWxlZCB0byBleHBvcnQgYXVkaXQgbG9nc1wiLCB7XG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXVkaXQgbG9nIGV4cG9ydCBmYWlsZWQ6IFwiICsgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgYW5kIHNhbml0aXplIGNhdGVnb3J5IHN0cmluZ3NcbiAgICovXG4gIHByaXZhdGUgdmFsaWRhdGVDYXRlZ29yeShjYXRlZ29yeTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBPbmx5IGFsbG93IGFscGhhbnVtZXJpYyBhbmQgYmFzaWMgcHVuY3R1YXRpb25cbiAgICByZXR1cm4gY2F0ZWdvcnkucmVwbGFjZSgvW15hLXpBLVowLTlfLi1dL2csIFwiX1wiKS5zdWJzdHJpbmcoMCwgMTAwKTsgLy8gTGltaXQgbGVuZ3RoXG4gIH1cblxuICAvKipcbiAgICogU2FmZWx5IHRydW5jYXRlIHN0cmluZ3MgdG8gcHJldmVudCBvdmVyc2l6ZWQgbG9nc1xuICAgKi9cbiAgcHJpdmF0ZSB0cnVuY2F0ZVN0cmluZyhzdHI6IHN0cmluZywgbWF4TGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChzdHIubGVuZ3RoIDw9IG1heExlbmd0aCkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgbWF4TGVuZ3RoIC0gMykgKyBcIi4uLlwiO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYWNrIGZlYXR1cmUgdXNhZ2VcbiAgICovXG4gIC8qKlxuICAgKiBUcmFjayBmZWF0dXJlIHVzYWdlIHdpdGggc2VjdXJpdHkgY29udGV4dFxuICAgKi9cbiAgdHJhY2tGZWF0dXJlKGZlYXR1cmU6IHN0cmluZywgbWV0YWRhdGE/OiBMb2dNZXRhZGF0YSk6IHZvaWQge1xuICAgIGNvbnN0IGVuaGFuY2VkTWV0YWRhdGEgPSB7XG4gICAgICAuLi5tZXRhZGF0YSxcbiAgICAgIGZlYXR1cmUsXG4gICAgICB0YWdzOiBbXG4gICAgICAgIC4uLihtZXRhZGF0YT8udGFncyAhPT0gdW5kZWZpbmVkID8gbWV0YWRhdGEudGFncyA6IFtdKSxcbiAgICAgICAgXCJmZWF0dXJlLXVzYWdlXCIsXG4gICAgICBdLFxuICAgICAgLy8gQWRkIHNlY3VyaXR5IHRyYWNraW5nXG4gICAgICB0cmFja2luZ0lkOiB0aGlzLmhhc2hJZGVudGlmaWVyKGAke2ZlYXR1cmV9XyR7RGF0ZS5ub3coKX1gKSxcbiAgICAgIGZlYXR1cmVIYXNoOiB0aGlzLmhhc2hJZGVudGlmaWVyKGZlYXR1cmUpLFxuICAgICAgLy8gQWRkIGV4ZWN1dGlvbiBjb250ZXh0XG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHNlc3Npb25IYXNoOiB0aGlzLmhhc2hJZGVudGlmaWVyKHRoaXMuc2Vzc2lvbklkKSxcbiAgICB9O1xuXG4gICAgdGhpcy5pbmZvKGBGZWF0dXJlIHVzZWQ6ICR7ZmVhdHVyZX1gLCBlbmhhbmNlZE1ldGFkYXRhKTtcbiAgfVxuXG4gIC8vID09PT09IFNFQ1VSSVRZIENPTlRST0xTID09PT09XG5cbiAgLyoqXG4gICAqIFJhdGUgbGltaXRpbmcgZm9yIGxvZyBtZXNzYWdlc1xuICAgKi9cbiAgcHJpdmF0ZSBsYXN0TG9nVGltZTogbnVtYmVyID0gMDtcbiAgLy8gUmF0ZSBsaW1pdGluZyBub3cgdXNlcyBkeW5hbWljIGJhY2tvZmYgdmlhIHJhdGVMaW1pdEJhY2tvZmZcblxuICAvKipcbiAgICogU3RydWN0dXJlZCBsb2dnaW5nIGZvciBzZWN1cml0eSBldmVudHNcbiAgICovXG4gIC8qKlxuICAgKiBTdHJ1Y3R1cmVkIGxvZ2dpbmcgZm9yIHNlY3VyaXR5IGV2ZW50cyB3aXRoIGVuaGFuY2VkIGNvbnRleHQgYW5kIHZhbGlkYXRpb25cbiAgICovXG4gIGxvZ1NlY3VyaXR5RXZlbnQoZXZlbnQ6IHN0cmluZywgZGV0YWlsczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiB2b2lkIHtcbiAgICAvLyBWYWxpZGF0ZSBldmVudCBuYW1lXG4gICAgY29uc3Qgc2FmZUV2ZW50ID0gdGhpcy52YWxpZGF0ZUNhdGVnb3J5KGV2ZW50KTtcbiAgICBjb25zdCBzYW5pdGl6ZWREZXRhaWxzID0gdGhpcy5zYW5pdGl6ZU1ldGFkYXRhKGRldGFpbHMpO1xuXG4gICAgLy8gQWRkIHNlY3VyaXR5LXNwZWNpZmljIGNvbnRleHRcbiAgICBjb25zdCBlbmhhbmNlZERldGFpbHMgPSB7XG4gICAgICAuLi5zYW5pdGl6ZWREZXRhaWxzLFxuICAgICAgZXZlbnRUeXBlOiBzYWZlRXZlbnQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHNlc3Npb25IYXNoOiB0aGlzLmhhc2hJZGVudGlmaWVyKHRoaXMuc2Vzc2lvbklkKSxcbiAgICAgIHNlY3VyaXR5TGV2ZWw6IFwic3RhbmRhcmRcIixcbiAgICAgIC8vIEFkZCBzZWN1cml0eSBzY2FubmluZyBtYXJrZXJzXG4gICAgICBjb250ZW50SGFzaDogdGhpcy5oYXNoSWRlbnRpZmllcihKU09OLnN0cmluZ2lmeShzYW5pdGl6ZWREZXRhaWxzKSksXG4gICAgICAvLyBBZGQgZXhlY3V0aW9uIGNvbnRleHRcbiAgICAgIGNvbXBvbmVudDogU3RyaW5nKGRldGFpbHNbXCJjb21wb25lbnRcIl0gPz8gXCJ1bmtub3duXCIpLFxuICAgICAgYWN0aW9uOiBTdHJpbmcoZGV0YWlsc1tcImFjdGlvblwiXSA/PyBcInVua25vd25cIiksXG4gICAgICAvLyBBZGQgdHJhY2tpbmdcbiAgICAgIGV2ZW50SWQ6IHRoaXMuaGFzaElkZW50aWZpZXIoYCR7c2FmZUV2ZW50fV8ke0RhdGUubm93KCl9YCksXG4gICAgICBlbnZpcm9ubWVudEhhc2g6IHRoaXMuaGFzaElkZW50aWZpZXIoXG4gICAgICAgIHRoaXMuaXNEZXZlbG9wbWVudCA/IFwiZGV2ZWxvcG1lbnRcIiA6IFwicHJvZHVjdGlvblwiLFxuICAgICAgKSxcbiAgICB9O1xuXG4gICAgdGhpcy5zZWN1cml0eShgU2VjdXJpdHkgRXZlbnQ6ICR7c2FmZUV2ZW50fWAsIGVuaGFuY2VkRGV0YWlscyk7XG5cbiAgICAvLyBDbGVhciBzZW5zaXRpdmUgY29udGV4dCBhZnRlciBsb2dnaW5nXG4gICAgdGhpcy5jbGVhclNlbnRyeUNvbnRleHQoKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IE1vYmlsZUxvZ2dlcigpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBS0EsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRix1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsNEJBQUEsR0FBQUMsc0JBQUEsQ0FBQUosT0FBQTtBQUE4RCxTQUFBRCx3QkFBQU0sQ0FBQSxFQUFBQyxDQUFBLDZCQUFBQyxPQUFBLE1BQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQVIsdUJBQUEsWUFBQUEsd0JBQUFNLENBQUEsRUFBQUMsQ0FBQSxTQUFBQSxDQUFBLElBQUFELENBQUEsSUFBQUEsQ0FBQSxDQUFBSyxVQUFBLFNBQUFMLENBQUEsTUFBQU0sQ0FBQSxFQUFBQyxDQUFBLEVBQUFDLENBQUEsS0FBQUMsU0FBQSxRQUFBQyxPQUFBLEVBQUFWLENBQUEsaUJBQUFBLENBQUEsdUJBQUFB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