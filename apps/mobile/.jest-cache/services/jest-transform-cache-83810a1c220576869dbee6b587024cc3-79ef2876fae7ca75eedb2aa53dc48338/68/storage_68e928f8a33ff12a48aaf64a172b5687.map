{"version":3,"names":["_interopRequireDefault","require","_asyncToGenerator2","_classCallCheck2","_createClass2","__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","ownKeys","getOwnPropertyNames","ar","prototype","hasOwnProperty","call","length","mod","result","i","exports","secureStorage","getAccessToken","setAccessToken","removeAccessToken","getRefreshToken","setRefreshToken","removeRefreshToken","environment_1","WebStorageImpl","getStorage","arguments","getLocalStorage","getNavigator","getNavigatorObject","default","key","encryptData","data","encrypted","charCode","charCodeAt","String","fromCharCode","btoa","error","console","decryptData","encryptedData","decoded","atob","decrypted","generateStorageKey","_navigator$userAgent","navigator","userAgent","timestamp","Date","now","toString","baseKey","slice","getItem","storage","Promise","resolve","item","storageKey","setItem","removeItem","MobileStorageImpl","secureStore","window","_unused","warn","_getItem","getItemAsync","AsyncStorageModule","then","AsyncStorage","_unused2","_unused3","_x","apply","_setItem","setItemAsync","_unused4","_unused5","_x2","_x3","_removeItem","deleteItemAsync","_unused6","_unused7","_x4","createStorageImplementation","isBrowserEnvironment","_getAccessToken","_x5","_setAccessToken","token","_removeAccessToken","_getRefreshToken","_x6","_setRefreshToken","_removeRefreshToken"],"sources":["storage.js"],"sourcesContent":["\"use strict\";\n/**\n * Cross-platform secure storage utility\n * Provides a consistent interface for web and mobile token storage\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.secureStorage = void 0;\nexports.getAccessToken = getAccessToken;\nexports.setAccessToken = setAccessToken;\nexports.removeAccessToken = removeAccessToken;\nexports.getRefreshToken = getRefreshToken;\nexports.setRefreshToken = setRefreshToken;\nexports.removeRefreshToken = removeRefreshToken;\n// Note: WebStorage and MobileStorage interfaces are defined inline in their implementations\n// to avoid unused interface warnings\n// Cross-platform storage interface\nconst environment_1 = require(\"./environment\");\n/**\n * Web storage implementation using localStorage with encryption\n */\nclass WebStorageImpl {\n    getStorage;\n    getNavigator;\n    constructor(getStorage = environment_1.getLocalStorage, getNavigator = environment_1.getNavigatorObject) {\n        this.getStorage = getStorage;\n        this.getNavigator = getNavigator;\n    }\n    encryptData(data, key) {\n        try {\n            let encrypted = '';\n            for (let i = 0; i < data.length; i++) {\n                const charCode = data.charCodeAt(i) ^ key.charCodeAt(i % key.length);\n                encrypted += String.fromCharCode(charCode);\n            }\n            return btoa(encrypted);\n        }\n        catch (error) {\n            console.error('Encryption error:', error);\n            return data;\n        }\n    }\n    decryptData(encryptedData, key) {\n        try {\n            const decoded = atob(encryptedData);\n            let decrypted = '';\n            for (let i = 0; i < decoded.length; i++) {\n                const charCode = decoded.charCodeAt(i) ^ key.charCodeAt(i % key.length);\n                decrypted += String.fromCharCode(charCode);\n            }\n            return decrypted;\n        }\n        catch (error) {\n            console.error('Decryption error:', error);\n            return '';\n        }\n    }\n    generateStorageKey() {\n        const navigator = this.getNavigator();\n        const userAgent = navigator?.userAgent ?? 'unknown_agent';\n        const timestamp = Date.now().toString(36);\n        const baseKey = `${userAgent}-${timestamp}`;\n        return btoa(baseKey).slice(0, 16);\n    }\n    getItem(key) {\n        const storage = this.getStorage();\n        if (storage == null)\n            return Promise.resolve(null);\n        try {\n            const item = storage.getItem(key);\n            if (item == null)\n                return Promise.resolve(null);\n            const storageKey = this.generateStorageKey();\n            const decrypted = this.decryptData(item, storageKey);\n            return Promise.resolve(decrypted);\n        }\n        catch (error) {\n            console.error('Web storage get error:', error);\n            return Promise.resolve(null);\n        }\n    }\n    setItem(key, value) {\n        const storage = this.getStorage();\n        if (storage == null)\n            return Promise.resolve();\n        try {\n            const storageKey = this.generateStorageKey();\n            const encrypted = this.encryptData(value, storageKey);\n            storage.setItem(key, encrypted);\n            return Promise.resolve();\n        }\n        catch (error) {\n            console.error('Web storage set error:', error);\n            return Promise.resolve();\n        }\n    }\n    removeItem(key) {\n        const storage = this.getStorage();\n        if (storage == null)\n            return Promise.resolve();\n        try {\n            storage.removeItem(key);\n            return Promise.resolve();\n        }\n        catch (error) {\n            console.error('Web storage remove error:', error);\n            return Promise.resolve();\n        }\n    }\n}\nclass MobileStorageImpl {\n    secureStore = null;\n    constructor() {\n        // Try to import expo-secure-store only in mobile environment\n        try {\n            if (typeof window === 'undefined') {\n                // This should work in React Native environment\n                // Dynamic import will be used in async methods\n            }\n        }\n        catch {\n            console.warn('expo-secure-store not available, falling back to AsyncStorage');\n        }\n    }\n    async getItem(key) {\n        try {\n            if (this.secureStore !== null) {\n                return await this.secureStore.getItemAsync(key);\n            }\n            else {\n                try {\n                    // Fallback to AsyncStorage if expo-secure-store is not available\n                    // Use dynamic import\n                    const AsyncStorageModule = await Promise.resolve().then(() => __importStar(require('@react-native-async-storage/async-storage')));\n                    const AsyncStorage = AsyncStorageModule.default;\n                    return await AsyncStorage.getItem(key);\n                }\n                catch {\n                    console.warn('AsyncStorage not available');\n                    return null;\n                }\n            }\n        }\n        catch {\n            console.error('Mobile storage get error');\n            return null;\n        }\n    }\n    async setItem(key, value) {\n        try {\n            if (this.secureStore !== null) {\n                await this.secureStore.setItemAsync(key, value);\n            }\n            else {\n                try {\n                    // Fallback to AsyncStorage if expo-secure-store is not available\n                    const AsyncStorageModule = await Promise.resolve().then(() => __importStar(require('@react-native-async-storage/async-storage')));\n                    const AsyncStorage = AsyncStorageModule.default;\n                    await AsyncStorage.setItem(key, value);\n                }\n                catch {\n                    console.warn('AsyncStorage not available');\n                }\n            }\n        }\n        catch {\n            console.error('Mobile storage set error');\n        }\n    }\n    async removeItem(key) {\n        try {\n            if (this.secureStore !== null) {\n                await this.secureStore.deleteItemAsync(key);\n            }\n            else {\n                try {\n                    // Fallback to AsyncStorage if expo-secure-store is not available\n                    const AsyncStorageModule = await Promise.resolve().then(() => __importStar(require('@react-native-async-storage/async-storage')));\n                    const AsyncStorage = AsyncStorageModule.default;\n                    await AsyncStorage.removeItem(key);\n                }\n                catch {\n                    console.warn('AsyncStorage not available');\n                }\n            }\n        }\n        catch {\n            console.error('Mobile storage remove error');\n        }\n    }\n}\nconst createStorageImplementation = () => {\n    if ((0, environment_1.isBrowserEnvironment)()) {\n        return new WebStorageImpl();\n    }\n    return new MobileStorageImpl();\n};\nexports.secureStorage = createStorageImplementation();\n// Convenience methods for auth tokens\nasync function getAccessToken() {\n    return await exports.secureStorage.getItem('accessToken');\n}\nasync function setAccessToken(token) {\n    await exports.secureStorage.setItem('accessToken', token);\n}\nasync function removeAccessToken() {\n    await exports.secureStorage.removeItem('accessToken');\n}\nasync function getRefreshToken() {\n    return await exports.secureStorage.getItem('refreshToken');\n}\nasync function setRefreshToken(token) {\n    await exports.secureStorage.setItem('refreshToken', token);\n}\nasync function removeRefreshToken() {\n    await exports.secureStorage.removeItem('refreshToken');\n}\n"],"mappings":"AAAA,YAAY;AAAC,IAAAA,sBAAA,GAAAC,OAAA;AAAA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAA,IAAAE,gBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAA,IAAAG,aAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAKb,IAAII,eAAe,GAAI,UAAQ,SAAKA,eAAe,KAAMC,MAAM,CAACC,MAAM,GAAI,UAASC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EAC5F,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5B,IAAIG,IAAI,GAAGP,MAAM,CAACQ,wBAAwB,CAACL,CAAC,EAAEC,CAAC,CAAC;EAChD,IAAI,CAACG,IAAI,KAAK,KAAK,IAAIA,IAAI,GAAG,CAACJ,CAAC,CAACM,UAAU,GAAGF,IAAI,CAACG,QAAQ,IAAIH,IAAI,CAACI,YAAY,CAAC,EAAE;IACjFJ,IAAI,GAAG;MAAEK,UAAU,EAAE,IAAI;MAAEC,GAAG,EAAE,SAALA,GAAGA,CAAA,EAAa;QAAE,OAAOV,CAAC,CAACC,CAAC,CAAC;MAAE;IAAE,CAAC;EAC/D;EACAJ,MAAM,CAACc,cAAc,CAACZ,CAAC,EAAEG,EAAE,EAAEE,IAAI,CAAC;AACtC,CAAC,GAAK,UAASL,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EACxB,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5BF,CAAC,CAACG,EAAE,CAAC,GAAGF,CAAC,CAACC,CAAC,CAAC;AAChB,CAAE,CAAC;AACH,IAAIW,kBAAkB,GAAI,UAAQ,SAAKA,kBAAkB,KAAMf,MAAM,CAACC,MAAM,GAAI,UAASC,CAAC,EAAEc,CAAC,EAAE;EAC3FhB,MAAM,CAACc,cAAc,CAACZ,CAAC,EAAE,SAAS,EAAE;IAAEU,UAAU,EAAE,IAAI;IAAEK,KAAK,EAAED;EAAE,CAAC,CAAC;AACvE,CAAC,GAAI,UAASd,CAAC,EAAEc,CAAC,EAAE;EAChBd,CAAC,CAAC,SAAS,CAAC,GAAGc,CAAC;AACpB,CAAC,CAAC;AACF,IAAIE,YAAY,GAAI,UAAQ,SAAKA,YAAY,IAAM,YAAY;EAC3D,IAAIC,QAAO,GAAG,SAAVA,OAAOA,CAAYjB,CAAC,EAAE;IACtBiB,QAAO,GAAGnB,MAAM,CAACoB,mBAAmB,IAAI,UAAUlB,CAAC,EAAE;MACjD,IAAImB,EAAE,GAAG,EAAE;MACX,KAAK,IAAIjB,CAAC,IAAIF,CAAC,EAAE,IAAIF,MAAM,CAACsB,SAAS,CAACC,cAAc,CAACC,IAAI,CAACtB,CAAC,EAAEE,CAAC,CAAC,EAAEiB,EAAE,CAACA,EAAE,CAACI,MAAM,CAAC,GAAGrB,CAAC;MAClF,OAAOiB,EAAE;IACb,CAAC;IACD,OAAOF,QAAO,CAACjB,CAAC,CAAC;EACrB,CAAC;EACD,OAAO,UAAUwB,GAAG,EAAE;IAClB,IAAIA,GAAG,IAAIA,GAAG,CAACjB,UAAU,EAAE,OAAOiB,GAAG;IACrC,IAAIC,MAAM,GAAG,CAAC,CAAC;IACf,IAAID,GAAG,IAAI,IAAI,EAAE,KAAK,IAAItB,CAAC,GAAGe,QAAO,CAACO,GAAG,CAAC,EAAEE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGxB,CAAC,CAACqB,MAAM,EAAEG,CAAC,EAAE,EAAE,IAAIxB,CAAC,CAACwB,CAAC,CAAC,KAAK,SAAS,EAAE7B,eAAe,CAAC4B,MAAM,EAAED,GAAG,EAAEtB,CAAC,CAACwB,CAAC,CAAC,CAAC;IAChIb,kBAAkB,CAACY,MAAM,EAAED,GAAG,CAAC;IAC/B,OAAOC,MAAM;EACjB,CAAC;AACL,CAAC,CAAE,CAAC;AACJ3B,MAAM,CAACc,cAAc,CAACe,OAAO,EAAE,YAAY,EAAE;EAAEZ,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DY,OAAO,CAACC,aAAa,GAAG,KAAK,CAAC;AAC9BD,OAAO,CAACE,cAAc,GAAGA,cAAc;AACvCF,OAAO,CAACG,cAAc,GAAGA,cAAc;AACvCH,OAAO,CAACI,iBAAiB,GAAGA,iBAAiB;AAC7CJ,OAAO,CAACK,eAAe,GAAGA,eAAe;AACzCL,OAAO,CAACM,eAAe,GAAGA,eAAe;AACzCN,OAAO,CAACO,kBAAkB,GAAGA,kBAAkB;AAI/C,IAAMC,aAAa,GAAG1C,OAAO,gBAAgB,CAAC;AAAC,IAIzC2C,cAAc;EAGhB,SAAAA,eAAA,EAAyG;IAAA,IAA7FC,UAAU,GAAAC,SAAA,CAAAf,MAAA,QAAAe,SAAA,QAAAlC,SAAA,GAAAkC,SAAA,MAAGH,aAAa,CAACI,eAAe;IAAA,IAAEC,YAAY,GAAAF,SAAA,CAAAf,MAAA,QAAAe,SAAA,QAAAlC,SAAA,GAAAkC,SAAA,MAAGH,aAAa,CAACM,kBAAkB;IAAA,IAAA9C,gBAAA,CAAA+C,OAAA,QAAAN,cAAA;IACnG,IAAI,CAACC,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACG,YAAY,GAAGA,YAAY;EACpC;EAAC,WAAA5C,aAAA,CAAA8C,OAAA,EAAAN,cAAA;IAAAO,GAAA;IAAA5B,KAAA,EACD,SAAA6B,WAAWA,CAACC,IAAI,EAAEF,GAAG,EAAE;MACnB,IAAI;QACA,IAAIG,SAAS,GAAG,EAAE;QAClB,KAAK,IAAIpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmB,IAAI,CAACtB,MAAM,EAAEG,CAAC,EAAE,EAAE;UAClC,IAAMqB,QAAQ,GAAGF,IAAI,CAACG,UAAU,CAACtB,CAAC,CAAC,GAAGiB,GAAG,CAACK,UAAU,CAACtB,CAAC,GAAGiB,GAAG,CAACpB,MAAM,CAAC;UACpEuB,SAAS,IAAIG,MAAM,CAACC,YAAY,CAACH,QAAQ,CAAC;QAC9C;QACA,OAAOI,IAAI,CAACL,SAAS,CAAC;MAC1B,CAAC,CACD,OAAOM,KAAK,EAAE;QACVC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzC,OAAOP,IAAI;MACf;IACJ;EAAC;IAAAF,GAAA;IAAA5B,KAAA,EACD,SAAAuC,WAAWA,CAACC,aAAa,EAAEZ,GAAG,EAAE;MAC5B,IAAI;QACA,IAAMa,OAAO,GAAGC,IAAI,CAACF,aAAa,CAAC;QACnC,IAAIG,SAAS,GAAG,EAAE;QAClB,KAAK,IAAIhC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8B,OAAO,CAACjC,MAAM,EAAEG,CAAC,EAAE,EAAE;UACrC,IAAMqB,QAAQ,GAAGS,OAAO,CAACR,UAAU,CAACtB,CAAC,CAAC,GAAGiB,GAAG,CAACK,UAAU,CAACtB,CAAC,GAAGiB,GAAG,CAACpB,MAAM,CAAC;UACvEmC,SAAS,IAAIT,MAAM,CAACC,YAAY,CAACH,QAAQ,CAAC;QAC9C;QACA,OAAOW,SAAS;MACpB,CAAC,CACD,OAAON,KAAK,EAAE;QACVC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzC,OAAO,EAAE;MACb;IACJ;EAAC;IAAAT,GAAA;IAAA5B,KAAA,EACD,SAAA4C,kBAAkBA,CAAA,EAAG;MAAA,IAAAC,oBAAA;MACjB,IAAMC,SAAS,GAAG,IAAI,CAACrB,YAAY,CAAC,CAAC;MACrC,IAAMsB,SAAS,IAAAF,oBAAA,GAAGC,SAAS,oBAATA,SAAS,CAAEC,SAAS,YAAAF,oBAAA,GAAI,eAAe;MACzD,IAAMG,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC;MACzC,IAAMC,OAAO,GAAG,GAAGL,SAAS,IAAIC,SAAS,EAAE;MAC3C,OAAOZ,IAAI,CAACgB,OAAO,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;IACrC;EAAC;IAAAzB,GAAA;IAAA5B,KAAA,EACD,SAAAsD,OAAOA,CAAC1B,GAAG,EAAE;MACT,IAAM2B,OAAO,GAAG,IAAI,CAACjC,UAAU,CAAC,CAAC;MACjC,IAAIiC,OAAO,IAAI,IAAI,EACf,OAAOC,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;MAChC,IAAI;QACA,IAAMC,IAAI,GAAGH,OAAO,CAACD,OAAO,CAAC1B,GAAG,CAAC;QACjC,IAAI8B,IAAI,IAAI,IAAI,EACZ,OAAOF,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;QAChC,IAAME,UAAU,GAAG,IAAI,CAACf,kBAAkB,CAAC,CAAC;QAC5C,IAAMD,SAAS,GAAG,IAAI,CAACJ,WAAW,CAACmB,IAAI,EAAEC,UAAU,CAAC;QACpD,OAAOH,OAAO,CAACC,OAAO,CAACd,SAAS,CAAC;MACrC,CAAC,CACD,OAAON,KAAK,EAAE;QACVC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9C,OAAOmB,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;MAChC;IACJ;EAAC;IAAA7B,GAAA;IAAA5B,KAAA,EACD,SAAA4D,OAAOA,CAAChC,GAAG,EAAE5B,KAAK,EAAE;MAChB,IAAMuD,OAAO,GAAG,IAAI,CAACjC,UAAU,CAAC,CAAC;MACjC,IAAIiC,OAAO,IAAI,IAAI,EACf,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;MAC5B,IAAI;QACA,IAAME,UAAU,GAAG,IAAI,CAACf,kBAAkB,CAAC,CAAC;QAC5C,IAAMb,SAAS,GAAG,IAAI,CAACF,WAAW,CAAC7B,KAAK,EAAE2D,UAAU,CAAC;QACrDJ,OAAO,CAACK,OAAO,CAAChC,GAAG,EAAEG,SAAS,CAAC;QAC/B,OAAOyB,OAAO,CAACC,OAAO,CAAC,CAAC;MAC5B,CAAC,CACD,OAAOpB,KAAK,EAAE;QACVC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9C,OAAOmB,OAAO,CAACC,OAAO,CAAC,CAAC;MAC5B;IACJ;EAAC;IAAA7B,GAAA;IAAA5B,KAAA,EACD,SAAA6D,UAAUA,CAACjC,GAAG,EAAE;MACZ,IAAM2B,OAAO,GAAG,IAAI,CAACjC,UAAU,CAAC,CAAC;MACjC,IAAIiC,OAAO,IAAI,IAAI,EACf,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;MAC5B,IAAI;QACAF,OAAO,CAACM,UAAU,CAACjC,GAAG,CAAC;QACvB,OAAO4B,OAAO,CAACC,OAAO,CAAC,CAAC;MAC5B,CAAC,CACD,OAAOpB,KAAK,EAAE;QACVC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD,OAAOmB,OAAO,CAACC,OAAO,CAAC,CAAC;MAC5B;IACJ;EAAC;AAAA;AAAA,IAECK,iBAAiB;EAEnB,SAAAA,kBAAA,EAAc;IAAA,IAAAlF,gBAAA,CAAA+C,OAAA,QAAAmC,iBAAA;IAAA,KADdC,WAAW,GAAG,IAAI;IAGd,IAAI;MACA,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE,CAGnC;IACJ,CAAC,CACD,OAAAC,OAAA,EAAM;MACF3B,OAAO,CAAC4B,IAAI,CAAC,+DAA+D,CAAC;IACjF;EACJ;EAAC,WAAArF,aAAA,CAAA8C,OAAA,EAAAmC,iBAAA;IAAAlC,GAAA;IAAA5B,KAAA;MAAA,IAAAmE,QAAA,OAAAxF,kBAAA,CAAAgD,OAAA,EACD,WAAcC,GAAG,EAAE;QACf,IAAI;UACA,IAAI,IAAI,CAACmC,WAAW,KAAK,IAAI,EAAE;YAC3B,aAAa,IAAI,CAACA,WAAW,CAACK,YAAY,CAACxC,GAAG,CAAC;UACnD,CAAC,MACI;YACD,IAAI;cAGA,IAAMyC,kBAAkB,SAASb,OAAO,CAACC,OAAO,CAAC,CAAC,CAACa,IAAI,CAAC;gBAAA,OAAMrE,YAAY,CAACvB,OAAO,CAAC,2CAA2C,CAAC,CAAC;cAAA,EAAC;cACjI,IAAM6F,YAAY,GAAGF,kBAAkB,CAAC1C,OAAO;cAC/C,aAAa4C,YAAY,CAACjB,OAAO,CAAC1B,GAAG,CAAC;YAC1C,CAAC,CACD,OAAA4C,QAAA,EAAM;cACFlC,OAAO,CAAC4B,IAAI,CAAC,4BAA4B,CAAC;cAC1C,OAAO,IAAI;YACf;UACJ;QACJ,CAAC,CACD,OAAAO,QAAA,EAAM;UACFnC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAC;UACzC,OAAO,IAAI;QACf;MACJ,CAAC;MAAA,SAvBKiB,OAAOA,CAAAoB,EAAA;QAAA,OAAAP,QAAA,CAAAQ,KAAA,OAAApD,SAAA;MAAA;MAAA,OAAP+B,OAAO;IAAA;EAAA;IAAA1B,GAAA;IAAA5B,KAAA;MAAA,IAAA4E,QAAA,OAAAjG,kBAAA,CAAAgD,OAAA,EAwBb,WAAcC,GAAG,EAAE5B,KAAK,EAAE;QACtB,IAAI;UACA,IAAI,IAAI,CAAC+D,WAAW,KAAK,IAAI,EAAE;YAC3B,MAAM,IAAI,CAACA,WAAW,CAACc,YAAY,CAACjD,GAAG,EAAE5B,KAAK,CAAC;UACnD,CAAC,MACI;YACD,IAAI;cAEA,IAAMqE,kBAAkB,SAASb,OAAO,CAACC,OAAO,CAAC,CAAC,CAACa,IAAI,CAAC;gBAAA,OAAMrE,YAAY,CAACvB,OAAO,CAAC,2CAA2C,CAAC,CAAC;cAAA,EAAC;cACjI,IAAM6F,YAAY,GAAGF,kBAAkB,CAAC1C,OAAO;cAC/C,MAAM4C,YAAY,CAACX,OAAO,CAAChC,GAAG,EAAE5B,KAAK,CAAC;YAC1C,CAAC,CACD,OAAA8E,QAAA,EAAM;cACFxC,OAAO,CAAC4B,IAAI,CAAC,4BAA4B,CAAC;YAC9C;UACJ;QACJ,CAAC,CACD,OAAAa,QAAA,EAAM;UACFzC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAC;QAC7C;MACJ,CAAC;MAAA,SApBKuB,OAAOA,CAAAoB,GAAA,EAAAC,GAAA;QAAA,OAAAL,QAAA,CAAAD,KAAA,OAAApD,SAAA;MAAA;MAAA,OAAPqC,OAAO;IAAA;EAAA;IAAAhC,GAAA;IAAA5B,KAAA;MAAA,IAAAkF,WAAA,OAAAvG,kBAAA,CAAAgD,OAAA,EAqBb,WAAiBC,GAAG,EAAE;QAClB,IAAI;UACA,IAAI,IAAI,CAACmC,WAAW,KAAK,IAAI,EAAE;YAC3B,MAAM,IAAI,CAACA,WAAW,CAACoB,eAAe,CAACvD,GAAG,CAAC;UAC/C,CAAC,MACI;YACD,IAAI;cAEA,IAAMyC,kBAAkB,SAASb,OAAO,CAACC,OAAO,CAAC,CAAC,CAACa,IAAI,CAAC;gBAAA,OAAMrE,YAAY,CAACvB,OAAO,CAAC,2CAA2C,CAAC,CAAC;cAAA,EAAC;cACjI,IAAM6F,YAAY,GAAGF,kBAAkB,CAAC1C,OAAO;cAC/C,MAAM4C,YAAY,CAACV,UAAU,CAACjC,GAAG,CAAC;YACtC,CAAC,CACD,OAAAwD,QAAA,EAAM;cACF9C,OAAO,CAAC4B,IAAI,CAAC,4BAA4B,CAAC;YAC9C;UACJ;QACJ,CAAC,CACD,OAAAmB,QAAA,EAAM;UACF/C,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAC;QAChD;MACJ,CAAC;MAAA,SApBKwB,UAAUA,CAAAyB,GAAA;QAAA,OAAAJ,WAAA,CAAAP,KAAA,OAAApD,SAAA;MAAA;MAAA,OAAVsC,UAAU;IAAA;EAAA;AAAA;AAsBpB,IAAM0B,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAA,EAAS;EACtC,IAAI,CAAC,CAAC,EAAEnE,aAAa,CAACoE,oBAAoB,EAAE,CAAC,EAAE;IAC3C,OAAO,IAAInE,cAAc,CAAC,CAAC;EAC/B;EACA,OAAO,IAAIyC,iBAAiB,CAAC,CAAC;AAClC,CAAC;AACDlD,OAAO,CAACC,aAAa,GAAG0E,2BAA2B,CAAC,CAAC;AAAC,SAEvCzE,cAAcA,CAAA;EAAA,OAAA2E,eAAA,CAAAd,KAAA,OAAApD,SAAA;AAAA;AAAA,SAAAkE,gBAAA;EAAAA,eAAA,OAAA9G,kBAAA,CAAAgD,OAAA,EAA7B,aAAgC;IAC5B,aAAaf,OAAO,CAACC,aAAa,CAACyC,OAAO,CAAC,aAAa,CAAC;EAC7D,CAAC;EAAA,OAAAmC,eAAA,CAAAd,KAAA,OAAApD,SAAA;AAAA;AAAA,SACcR,cAAcA,CAAA2E,GAAA;EAAA,OAAAC,eAAA,CAAAhB,KAAA,OAAApD,SAAA;AAAA;AAAA,SAAAoE,gBAAA;EAAAA,eAAA,OAAAhH,kBAAA,CAAAgD,OAAA,EAA7B,WAA8BiE,KAAK,EAAE;IACjC,MAAMhF,OAAO,CAACC,aAAa,CAAC+C,OAAO,CAAC,aAAa,EAAEgC,KAAK,CAAC;EAC7D,CAAC;EAAA,OAAAD,eAAA,CAAAhB,KAAA,OAAApD,SAAA;AAAA;AAAA,SACcP,iBAAiBA,CAAA;EAAA,OAAA6E,kBAAA,CAAAlB,KAAA,OAAApD,SAAA;AAAA;AAAA,SAAAsE,mBAAA;EAAAA,kBAAA,OAAAlH,kBAAA,CAAAgD,OAAA,EAAhC,aAAmC;IAC/B,MAAMf,OAAO,CAACC,aAAa,CAACgD,UAAU,CAAC,aAAa,CAAC;EACzD,CAAC;EAAA,OAAAgC,kBAAA,CAAAlB,KAAA,OAAApD,SAAA;AAAA;AAAA,SACcN,eAAeA,CAAA;EAAA,OAAA6E,gBAAA,CAAAnB,KAAA,OAAApD,SAAA;AAAA;AAAA,SAAAuE,iBAAA;EAAAA,gBAAA,OAAAnH,kBAAA,CAAAgD,OAAA,EAA9B,aAAiC;IAC7B,aAAaf,OAAO,CAACC,aAAa,CAACyC,OAAO,CAAC,cAAc,CAAC;EAC9D,CAAC;EAAA,OAAAwC,gBAAA,CAAAnB,KAAA,OAAApD,SAAA;AAAA;AAAA,SACcL,eAAeA,CAAA6E,GAAA;EAAA,OAAAC,gBAAA,CAAArB,KAAA,OAAApD,SAAA;AAAA;AAAA,SAAAyE,iBAAA;EAAAA,gBAAA,OAAArH,kBAAA,CAAAgD,OAAA,EAA9B,WAA+BiE,KAAK,EAAE;IAClC,MAAMhF,OAAO,CAACC,aAAa,CAAC+C,OAAO,CAAC,cAAc,EAAEgC,KAAK,CAAC;EAC9D,CAAC;EAAA,OAAAI,gBAAA,CAAArB,KAAA,OAAApD,SAAA;AAAA;AAAA,SACcJ,kBAAkBA,CAAA;EAAA,OAAA8E,mBAAA,CAAAtB,KAAA,OAAApD,SAAA;AAAA;AAAA,SAAA0E,oBAAA;EAAAA,mBAAA,OAAAtH,kBAAA,CAAAgD,OAAA,EAAjC,aAAoC;IAChC,MAAMf,OAAO,CAACC,aAAa,CAACgD,UAAU,CAAC,cAAc,CAAC;EAC1D,CAAC;EAAA,OAAAoC,mBAAA,CAAAtB,KAAA,OAAApD,SAAA;AAAA","ignoreList":[]}