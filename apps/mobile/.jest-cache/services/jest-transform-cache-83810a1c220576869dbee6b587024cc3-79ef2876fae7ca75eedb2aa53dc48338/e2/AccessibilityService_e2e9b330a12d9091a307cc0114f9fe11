56d420489ffe34a3152314c509e079f0
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.accessibilityService = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _reactNative = require("react-native");
var _logger = require("./logger");
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var AccessibilityService = function () {
  function AccessibilityService() {
    (0, _classCallCheck2.default)(this, AccessibilityService);
    this.config = {
      isScreenReaderEnabled: false,
      isBoldTextEnabled: false,
      isGrayscaleEnabled: false,
      isInvertColorsEnabled: false,
      isReduceMotionEnabled: false,
      isReduceTransparencyEnabled: false,
      preferredContentSizeCategory: "normal"
    };
    this.listeners = [];
    void this.initializeAccessibility();
  }
  return (0, _createClass2.default)(AccessibilityService, [{
    key: "initializeAccessibility",
    value: (function () {
      var _initializeAccessibility = (0, _asyncToGenerator2.default)(function* () {
        try {
          var _yield$Promise$all = yield Promise.all([_reactNative.AccessibilityInfo.isScreenReaderEnabled(), _reactNative.AccessibilityInfo.isBoldTextEnabled(), _reactNative.AccessibilityInfo.isGrayscaleEnabled(), _reactNative.AccessibilityInfo.isInvertColorsEnabled(), _reactNative.AccessibilityInfo.isReduceMotionEnabled(), _reactNative.AccessibilityInfo.isReduceTransparencyEnabled()]),
            _yield$Promise$all2 = (0, _slicedToArray2.default)(_yield$Promise$all, 6),
            screenReaderEnabled = _yield$Promise$all2[0],
            boldTextEnabled = _yield$Promise$all2[1],
            grayscaleEnabled = _yield$Promise$all2[2],
            invertColorsEnabled = _yield$Promise$all2[3],
            reduceMotionEnabled = _yield$Promise$all2[4],
            reduceTransparencyEnabled = _yield$Promise$all2[5];
          this.config = {
            isScreenReaderEnabled: screenReaderEnabled,
            isBoldTextEnabled: boldTextEnabled,
            isGrayscaleEnabled: grayscaleEnabled,
            isInvertColorsEnabled: invertColorsEnabled,
            isReduceMotionEnabled: reduceMotionEnabled,
            isReduceTransparencyEnabled: reduceTransparencyEnabled,
            preferredContentSizeCategory: "normal"
          };
          this.setupAccessibilityListeners();
        } catch (error) {
          _logger.logger.warn("Failed to initialize accessibility", {
            error: error instanceof Error ? error : new Error(String(error))
          });
        }
      });
      function initializeAccessibility() {
        return _initializeAccessibility.apply(this, arguments);
      }
      return initializeAccessibility;
    }())
  }, {
    key: "setupAccessibilityListeners",
    value: function setupAccessibilityListeners() {
      var _this = this;
      _reactNative.AccessibilityInfo.addEventListener("screenReaderChanged", function (enabled) {
        _this.config.isScreenReaderEnabled = enabled;
        _this.notifyListeners();
      });
      _reactNative.AccessibilityInfo.addEventListener("boldTextChanged", function (enabled) {
        _this.config.isBoldTextEnabled = enabled;
        _this.notifyListeners();
      });
      _reactNative.AccessibilityInfo.addEventListener("grayscaleChanged", function (enabled) {
        _this.config.isGrayscaleEnabled = enabled;
        _this.notifyListeners();
      });
      _reactNative.AccessibilityInfo.addEventListener("invertColorsChanged", function (enabled) {
        _this.config.isInvertColorsEnabled = enabled;
        _this.notifyListeners();
      });
      _reactNative.AccessibilityInfo.addEventListener("reduceMotionChanged", function (enabled) {
        _this.config.isReduceMotionEnabled = enabled;
        _this.notifyListeners();
      });
      _reactNative.AccessibilityInfo.addEventListener("reduceTransparencyChanged", function (enabled) {
        _this.config.isReduceTransparencyEnabled = enabled;
        _this.notifyListeners();
      });
    }
  }, {
    key: "getAccessibilityConfig",
    value: function getAccessibilityConfig() {
      return _objectSpread({}, this.config);
    }
  }, {
    key: "isScreenReaderEnabled",
    value: function isScreenReaderEnabled() {
      return this.config.isScreenReaderEnabled;
    }
  }, {
    key: "isBoldTextEnabled",
    value: function isBoldTextEnabled() {
      return this.config.isBoldTextEnabled;
    }
  }, {
    key: "isReduceMotionEnabled",
    value: function isReduceMotionEnabled() {
      return this.config.isReduceMotionEnabled;
    }
  }, {
    key: "isHighContrastEnabled",
    value: function isHighContrastEnabled() {
      return this.config.isGrayscaleEnabled || this.config.isInvertColorsEnabled;
    }
  }, {
    key: "getMinimumTouchTargetSize",
    value: function getMinimumTouchTargetSize() {
      return {
        width: 44,
        height: 44
      };
    }
  }, {
    key: "announceForAccessibility",
    value: function announceForAccessibility(message) {
      try {
        _reactNative.AccessibilityInfo.announceForAccessibility(message);
      } catch (error) {
        _logger.logger.warn("Failed to announce for accessibility", {
          error: error instanceof Error ? error : new Error(String(error))
        });
      }
    }
  }, {
    key: "setAccessibilityFocus",
    value: function setAccessibilityFocus(ref) {
      try {
        if (_reactNative.Platform.OS === "ios") {
          if (typeof ref === 'object' && ref !== null) {
            var accessibilityModule = _reactNative.AccessibilityInfo;
            if (accessibilityModule.setAccessibilityFocus) {
              accessibilityModule.setAccessibilityFocus(ref);
            }
          }
        } else {}
      } catch (error) {
        _logger.logger.warn("Failed to set accessibility focus", {
          error: error instanceof Error ? error : new Error(String(error))
        });
      }
    }
  }, {
    key: "getTextSizeMultiplier",
    value: function getTextSizeMultiplier() {
      var _multipliers$this$con;
      var multipliers = {
        extraSmall: 0.8,
        small: 0.9,
        normal: 1.0,
        large: 1.1,
        extraLarge: 1.2,
        extraExtraLarge: 1.3,
        extraExtraExtraLarge: 1.4,
        accessibilityMedium: 1.5,
        accessibilityLarge: 1.6,
        accessibilityExtraLarge: 1.7,
        accessibilityExtraExtraLarge: 1.8,
        accessibilityExtraExtraExtraLarge: 2.0
      };
      return (_multipliers$this$con = multipliers[this.config.preferredContentSizeCategory]) != null ? _multipliers$this$con : 1.0;
    }
  }, {
    key: "meetsContrastRequirement",
    value: function meetsContrastRequirement(_foregroundColor, _backgroundColor) {
      return true;
    }
  }, {
    key: "getAccessibleColorScheme",
    value: function getAccessibleColorScheme() {
      if (this.isHighContrastEnabled()) {
        return {
          primary: "#FFFFFF",
          secondary: "#CCCCCC",
          background: "#000000",
          surface: "#111111",
          text: "#FFFFFF",
          textSecondary: "#CCCCCC",
          error: "#FF4444",
          success: "#44FF44",
          warning: "#FFFF44"
        };
      }
      return {
        primary: "#2563EB",
        secondary: "#64748B",
        background: "#FFFFFF",
        surface: "#F8FAFC",
        text: "#1E293B",
        textSecondary: "#64748B",
        error: "#DC2626",
        success: "#16A34A",
        warning: "#D97706"
      };
    }
  }, {
    key: "addChangeListener",
    value: function addChangeListener(listener) {
      var _this2 = this;
      this.listeners.push(listener);
      return function () {
        var index = _this2.listeners.indexOf(listener);
        if (index > -1) {
          _this2.listeners.splice(index, 1);
        }
      };
    }
  }, {
    key: "notifyListeners",
    value: function notifyListeners() {
      var config = this.getAccessibilityConfig();
      this.listeners.forEach(function (listener) {
        try {
          listener(config);
        } catch (error) {
          _logger.logger.warn("Error notifying accessibility listener", {
            error: error instanceof Error ? error : new Error(String(error))
          });
        }
      });
    }
  }], [{
    key: "getInstance",
    value: function getInstance() {
      if (AccessibilityService.instance === undefined) {
        AccessibilityService.instance = new AccessibilityService();
      }
      return AccessibilityService.instance;
    }
  }]);
}();
var accessibilityService = exports.accessibilityService = AccessibilityService.getInstance();
var _default = exports.default = accessibilityService;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX2xvZ2dlciIsIm93bktleXMiLCJlIiwiciIsInQiLCJPYmplY3QiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibyIsImZpbHRlciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJkZWZhdWx0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsIkFjY2Vzc2liaWxpdHlTZXJ2aWNlIiwiX2NsYXNzQ2FsbENoZWNrMiIsImNvbmZpZyIsImlzU2NyZWVuUmVhZGVyRW5hYmxlZCIsImlzQm9sZFRleHRFbmFibGVkIiwiaXNHcmF5c2NhbGVFbmFibGVkIiwiaXNJbnZlcnRDb2xvcnNFbmFibGVkIiwiaXNSZWR1Y2VNb3Rpb25FbmFibGVkIiwiaXNSZWR1Y2VUcmFuc3BhcmVuY3lFbmFibGVkIiwicHJlZmVycmVkQ29udGVudFNpemVDYXRlZ29yeSIsImxpc3RlbmVycyIsImluaXRpYWxpemVBY2Nlc3NpYmlsaXR5IiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwiX2luaXRpYWxpemVBY2Nlc3NpYmlsaXR5IiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3lpZWxkJFByb21pc2UkYWxsIiwiUHJvbWlzZSIsImFsbCIsIkFjY2Vzc2liaWxpdHlJbmZvIiwiX3lpZWxkJFByb21pc2UkYWxsMiIsIl9zbGljZWRUb0FycmF5MiIsInNjcmVlblJlYWRlckVuYWJsZWQiLCJib2xkVGV4dEVuYWJsZWQiLCJncmF5c2NhbGVFbmFibGVkIiwiaW52ZXJ0Q29sb3JzRW5hYmxlZCIsInJlZHVjZU1vdGlvbkVuYWJsZWQiLCJyZWR1Y2VUcmFuc3BhcmVuY3lFbmFibGVkIiwic2V0dXBBY2Nlc3NpYmlsaXR5TGlzdGVuZXJzIiwiZXJyb3IiLCJsb2dnZXIiLCJ3YXJuIiwiRXJyb3IiLCJTdHJpbmciLCJfdGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbmFibGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiZ2V0QWNjZXNzaWJpbGl0eUNvbmZpZyIsImlzSGlnaENvbnRyYXN0RW5hYmxlZCIsImdldE1pbmltdW1Ub3VjaFRhcmdldFNpemUiLCJ3aWR0aCIsImhlaWdodCIsImFubm91bmNlRm9yQWNjZXNzaWJpbGl0eSIsIm1lc3NhZ2UiLCJzZXRBY2Nlc3NpYmlsaXR5Rm9jdXMiLCJyZWYiLCJQbGF0Zm9ybSIsIk9TIiwiYWNjZXNzaWJpbGl0eU1vZHVsZSIsImdldFRleHRTaXplTXVsdGlwbGllciIsIl9tdWx0aXBsaWVycyR0aGlzJGNvbiIsIm11bHRpcGxpZXJzIiwiZXh0cmFTbWFsbCIsInNtYWxsIiwibm9ybWFsIiwibGFyZ2UiLCJleHRyYUxhcmdlIiwiZXh0cmFFeHRyYUxhcmdlIiwiZXh0cmFFeHRyYUV4dHJhTGFyZ2UiLCJhY2Nlc3NpYmlsaXR5TWVkaXVtIiwiYWNjZXNzaWJpbGl0eUxhcmdlIiwiYWNjZXNzaWJpbGl0eUV4dHJhTGFyZ2UiLCJhY2Nlc3NpYmlsaXR5RXh0cmFFeHRyYUxhcmdlIiwiYWNjZXNzaWJpbGl0eUV4dHJhRXh0cmFFeHRyYUxhcmdlIiwibWVldHNDb250cmFzdFJlcXVpcmVtZW50IiwiX2ZvcmVncm91bmRDb2xvciIsIl9iYWNrZ3JvdW5kQ29sb3IiLCJnZXRBY2Nlc3NpYmxlQ29sb3JTY2hlbWUiLCJwcmltYXJ5Iiwic2Vjb25kYXJ5IiwiYmFja2dyb3VuZCIsInN1cmZhY2UiLCJ0ZXh0IiwidGV4dFNlY29uZGFyeSIsInN1Y2Nlc3MiLCJ3YXJuaW5nIiwiYWRkQ2hhbmdlTGlzdGVuZXIiLCJsaXN0ZW5lciIsIl90aGlzMiIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJ1bmRlZmluZWQiLCJhY2Nlc3NpYmlsaXR5U2VydmljZSIsImV4cG9ydHMiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIkFjY2Vzc2liaWxpdHlTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWNjZXNzaWJpbGl0eSBTZXJ2aWNlIGZvciBQYXdmZWN0TWF0Y2ggTW9iaWxlIEFwcFxuICogUHJvdmlkZXMgV0NBRyAyLjEgQUEgY29tcGxpYW50IGFjY2Vzc2liaWxpdHkgZmVhdHVyZXNcbiAqL1xuaW1wb3J0IHsgQWNjZXNzaWJpbGl0eUluZm8sIFBsYXRmb3JtIH0gZnJvbSBcInJlYWN0LW5hdGl2ZVwiO1xuXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi9sb2dnZXJcIjtcblxuaW50ZXJmYWNlIEFjY2Vzc2liaWxpdHlDb25maWcge1xuICBpc1NjcmVlblJlYWRlckVuYWJsZWQ6IGJvb2xlYW47XG4gIGlzQm9sZFRleHRFbmFibGVkOiBib29sZWFuO1xuICBpc0dyYXlzY2FsZUVuYWJsZWQ6IGJvb2xlYW47XG4gIGlzSW52ZXJ0Q29sb3JzRW5hYmxlZDogYm9vbGVhbjtcbiAgaXNSZWR1Y2VNb3Rpb25FbmFibGVkOiBib29sZWFuO1xuICBpc1JlZHVjZVRyYW5zcGFyZW5jeUVuYWJsZWQ6IGJvb2xlYW47XG4gIHByZWZlcnJlZENvbnRlbnRTaXplQ2F0ZWdvcnk6IHN0cmluZztcbn1cblxuY2xhc3MgQWNjZXNzaWJpbGl0eVNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQWNjZXNzaWJpbGl0eVNlcnZpY2UgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgY29uZmlnOiBBY2Nlc3NpYmlsaXR5Q29uZmlnID0ge1xuICAgIGlzU2NyZWVuUmVhZGVyRW5hYmxlZDogZmFsc2UsXG4gICAgaXNCb2xkVGV4dEVuYWJsZWQ6IGZhbHNlLFxuICAgIGlzR3JheXNjYWxlRW5hYmxlZDogZmFsc2UsXG4gICAgaXNJbnZlcnRDb2xvcnNFbmFibGVkOiBmYWxzZSxcbiAgICBpc1JlZHVjZU1vdGlvbkVuYWJsZWQ6IGZhbHNlLFxuICAgIGlzUmVkdWNlVHJhbnNwYXJlbmN5RW5hYmxlZDogZmFsc2UsXG4gICAgcHJlZmVycmVkQ29udGVudFNpemVDYXRlZ29yeTogXCJub3JtYWxcIixcbiAgfTtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHZvaWQgdGhpcy5pbml0aWFsaXplQWNjZXNzaWJpbGl0eSgpO1xuICB9XG5cbiAgc3RhdGljIGdldEluc3RhbmNlKCk6IEFjY2Vzc2liaWxpdHlTZXJ2aWNlIHtcbiAgICBpZiAoQWNjZXNzaWJpbGl0eVNlcnZpY2UuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgQWNjZXNzaWJpbGl0eVNlcnZpY2UuaW5zdGFuY2UgPSBuZXcgQWNjZXNzaWJpbGl0eVNlcnZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIEFjY2Vzc2liaWxpdHlTZXJ2aWNlLmluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYWNjZXNzaWJpbGl0eSBtb25pdG9yaW5nXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGluaXRpYWxpemVBY2Nlc3NpYmlsaXR5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgaW5pdGlhbCBhY2Nlc3NpYmlsaXR5IHNldHRpbmdzXG4gICAgICBjb25zdCBbXG4gICAgICAgIHNjcmVlblJlYWRlckVuYWJsZWQsXG4gICAgICAgIGJvbGRUZXh0RW5hYmxlZCxcbiAgICAgICAgZ3JheXNjYWxlRW5hYmxlZCxcbiAgICAgICAgaW52ZXJ0Q29sb3JzRW5hYmxlZCxcbiAgICAgICAgcmVkdWNlTW90aW9uRW5hYmxlZCxcbiAgICAgICAgcmVkdWNlVHJhbnNwYXJlbmN5RW5hYmxlZCxcbiAgICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIEFjY2Vzc2liaWxpdHlJbmZvLmlzU2NyZWVuUmVhZGVyRW5hYmxlZCgpLFxuICAgICAgICBBY2Nlc3NpYmlsaXR5SW5mby5pc0JvbGRUZXh0RW5hYmxlZCgpLFxuICAgICAgICBBY2Nlc3NpYmlsaXR5SW5mby5pc0dyYXlzY2FsZUVuYWJsZWQoKSxcbiAgICAgICAgQWNjZXNzaWJpbGl0eUluZm8uaXNJbnZlcnRDb2xvcnNFbmFibGVkKCksXG4gICAgICAgIEFjY2Vzc2liaWxpdHlJbmZvLmlzUmVkdWNlTW90aW9uRW5hYmxlZCgpLFxuICAgICAgICBBY2Nlc3NpYmlsaXR5SW5mby5pc1JlZHVjZVRyYW5zcGFyZW5jeUVuYWJsZWQoKSxcbiAgICAgIF0pO1xuXG4gICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgaXNTY3JlZW5SZWFkZXJFbmFibGVkOiBzY3JlZW5SZWFkZXJFbmFibGVkLFxuICAgICAgICBpc0JvbGRUZXh0RW5hYmxlZDogYm9sZFRleHRFbmFibGVkLFxuICAgICAgICBpc0dyYXlzY2FsZUVuYWJsZWQ6IGdyYXlzY2FsZUVuYWJsZWQsXG4gICAgICAgIGlzSW52ZXJ0Q29sb3JzRW5hYmxlZDogaW52ZXJ0Q29sb3JzRW5hYmxlZCxcbiAgICAgICAgaXNSZWR1Y2VNb3Rpb25FbmFibGVkOiByZWR1Y2VNb3Rpb25FbmFibGVkLFxuICAgICAgICBpc1JlZHVjZVRyYW5zcGFyZW5jeUVuYWJsZWQ6IHJlZHVjZVRyYW5zcGFyZW5jeUVuYWJsZWQsXG4gICAgICAgIHByZWZlcnJlZENvbnRlbnRTaXplQ2F0ZWdvcnk6IFwibm9ybWFsXCIsIC8vIFdvdWxkIG5lZWQgbmF0aXZlIGltcGxlbWVudGF0aW9uXG4gICAgICB9O1xuXG4gICAgICAvLyBTZXQgdXAgY2hhbmdlIGxpc3RlbmVyc1xuICAgICAgdGhpcy5zZXR1cEFjY2Vzc2liaWxpdHlMaXN0ZW5lcnMoKTtcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgbG9nZ2VyLndhcm4oXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBhY2Nlc3NpYmlsaXR5XCIsIHtcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBhY2Nlc3NpYmlsaXR5IGNoYW5nZSBsaXN0ZW5lcnNcbiAgICovXG4gIHByaXZhdGUgc2V0dXBBY2Nlc3NpYmlsaXR5TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIEFjY2Vzc2liaWxpdHlJbmZvLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JlZW5SZWFkZXJDaGFuZ2VkXCIsIChlbmFibGVkKSA9PiB7XG4gICAgICB0aGlzLmNvbmZpZy5pc1NjcmVlblJlYWRlckVuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoKTtcbiAgICB9KTtcblxuICAgIEFjY2Vzc2liaWxpdHlJbmZvLmFkZEV2ZW50TGlzdGVuZXIoXCJib2xkVGV4dENoYW5nZWRcIiwgKGVuYWJsZWQpID0+IHtcbiAgICAgIHRoaXMuY29uZmlnLmlzQm9sZFRleHRFbmFibGVkID0gZW5hYmxlZDtcbiAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG4gICAgfSk7XG5cbiAgICBBY2Nlc3NpYmlsaXR5SW5mby5hZGRFdmVudExpc3RlbmVyKFwiZ3JheXNjYWxlQ2hhbmdlZFwiLCAoZW5hYmxlZCkgPT4ge1xuICAgICAgdGhpcy5jb25maWcuaXNHcmF5c2NhbGVFbmFibGVkID0gZW5hYmxlZDtcbiAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG4gICAgfSk7XG5cbiAgICBBY2Nlc3NpYmlsaXR5SW5mby5hZGRFdmVudExpc3RlbmVyKFwiaW52ZXJ0Q29sb3JzQ2hhbmdlZFwiLCAoZW5hYmxlZCkgPT4ge1xuICAgICAgdGhpcy5jb25maWcuaXNJbnZlcnRDb2xvcnNFbmFibGVkID0gZW5hYmxlZDtcbiAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG4gICAgfSk7XG5cbiAgICBBY2Nlc3NpYmlsaXR5SW5mby5hZGRFdmVudExpc3RlbmVyKFwicmVkdWNlTW90aW9uQ2hhbmdlZFwiLCAoZW5hYmxlZCkgPT4ge1xuICAgICAgdGhpcy5jb25maWcuaXNSZWR1Y2VNb3Rpb25FbmFibGVkID0gZW5hYmxlZDtcbiAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKCk7XG4gICAgfSk7XG5cbiAgICBBY2Nlc3NpYmlsaXR5SW5mby5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJyZWR1Y2VUcmFuc3BhcmVuY3lDaGFuZ2VkXCIsXG4gICAgICAoZW5hYmxlZCkgPT4ge1xuICAgICAgICB0aGlzLmNvbmZpZy5pc1JlZHVjZVRyYW5zcGFyZW5jeUVuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycygpO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IGFjY2Vzc2liaWxpdHkgY29uZmlndXJhdGlvblxuICAgKi9cbiAgZ2V0QWNjZXNzaWJpbGl0eUNvbmZpZygpOiBBY2Nlc3NpYmlsaXR5Q29uZmlnIHtcbiAgICByZXR1cm4geyAuLi50aGlzLmNvbmZpZyB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHNjcmVlbiByZWFkZXIgaXMgZW5hYmxlZFxuICAgKi9cbiAgaXNTY3JlZW5SZWFkZXJFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5pc1NjcmVlblJlYWRlckVuYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYm9sZCB0ZXh0IGlzIGVuYWJsZWRcbiAgICovXG4gIGlzQm9sZFRleHRFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5pc0JvbGRUZXh0RW5hYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiByZWR1Y2UgbW90aW9uIGlzIGVuYWJsZWRcbiAgICovXG4gIGlzUmVkdWNlTW90aW9uRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuaXNSZWR1Y2VNb3Rpb25FbmFibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGhpZ2ggY29udHJhc3QgaXMgZW5hYmxlZFxuICAgKi9cbiAgaXNIaWdoQ29udHJhc3RFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5pc0dyYXlzY2FsZUVuYWJsZWQgfHwgdGhpcy5jb25maWcuaXNJbnZlcnRDb2xvcnNFbmFibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtaW5pbXVtIHRvdWNoIHRhcmdldCBzaXplIChXQ0FHIHJlcXVpcmVtZW50OiA0NHg0NCBwb2ludHMpXG4gICAqL1xuICBnZXRNaW5pbXVtVG91Y2hUYXJnZXRTaXplKCk6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB7XG4gICAgcmV0dXJuIHsgd2lkdGg6IDQ0LCBoZWlnaHQ6IDQ0IH07XG4gIH1cblxuICAvKipcbiAgICogQW5ub3VuY2UgY29udGVudCB0byBzY3JlZW4gcmVhZGVyc1xuICAgKi9cbiAgYW5ub3VuY2VGb3JBY2Nlc3NpYmlsaXR5KG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBBY2Nlc3NpYmlsaXR5SW5mby5hbm5vdW5jZUZvckFjY2Vzc2liaWxpdHkobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIGxvZ2dlci53YXJuKFwiRmFpbGVkIHRvIGFubm91bmNlIGZvciBhY2Nlc3NpYmlsaXR5XCIsIHtcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYWNjZXNzaWJpbGl0eSBmb2N1c1xuICAgKi9cbiAgc2V0QWNjZXNzaWJpbGl0eUZvY3VzKHJlZjogdW5rbm93bik6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBpZiAoUGxhdGZvcm0uT1MgPT09IFwiaW9zXCIpIHtcbiAgICAgICAgLy8gaU9TIHNwZWNpZmljIGZvY3VzXG4gICAgICAgIC8vIFJlYWN0IE5hdGl2ZSBBY2Nlc3NpYmlsaXR5SW5mbyBkb2Vzbid0IGV4cG9zZSBzZXRBY2Nlc3NpYmlsaXR5Rm9jdXNcbiAgICAgICAgLy8gVGhpcyB3b3VsZCByZXF1aXJlIGEgbmF0aXZlIG1vZHVsZSBpbXBsZW1lbnRhdGlvblxuICAgICAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ29iamVjdCcgJiYgcmVmICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gQXR0ZW1wdCB0byBzZXQgZm9jdXMgaWYgbmF0aXZlIG1vZHVsZSBpcyBhdmFpbGFibGVcbiAgICAgICAgICBjb25zdCBhY2Nlc3NpYmlsaXR5TW9kdWxlID0gQWNjZXNzaWJpbGl0eUluZm8gYXMgQWNjZXNzaWJpbGl0eUluZm8gJiB7XG4gICAgICAgICAgICBzZXRBY2Nlc3NpYmlsaXR5Rm9jdXM/OiAocmVmOiB1bmtub3duKSA9PiB2b2lkO1xuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGFjY2Vzc2liaWxpdHlNb2R1bGUuc2V0QWNjZXNzaWJpbGl0eUZvY3VzKSB7XG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5TW9kdWxlLnNldEFjY2Vzc2liaWxpdHlGb2N1cyhyZWYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQW5kcm9pZCBzcGVjaWZpYyBmb2N1c1xuICAgICAgICAvLyBXb3VsZCBuZWVkIGFkZGl0aW9uYWwgaW1wbGVtZW50YXRpb25cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgbG9nZ2VyLndhcm4oXCJGYWlsZWQgdG8gc2V0IGFjY2Vzc2liaWxpdHkgZm9jdXNcIiwge1xuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhY2Nlc3NpYmxlIHRleHQgc2l6ZSBtdWx0aXBsaWVyXG4gICAqL1xuICBnZXRUZXh0U2l6ZU11bHRpcGxpZXIoKTogbnVtYmVyIHtcbiAgICAvLyBNYXAgY29udGVudCBzaXplIGNhdGVnb3JpZXMgdG8gbXVsdGlwbGllcnNcbiAgICBjb25zdCBtdWx0aXBsaWVyczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgICAgIGV4dHJhU21hbGw6IDAuOCxcbiAgICAgIHNtYWxsOiAwLjksXG4gICAgICBub3JtYWw6IDEuMCxcbiAgICAgIGxhcmdlOiAxLjEsXG4gICAgICBleHRyYUxhcmdlOiAxLjIsXG4gICAgICBleHRyYUV4dHJhTGFyZ2U6IDEuMyxcbiAgICAgIGV4dHJhRXh0cmFFeHRyYUxhcmdlOiAxLjQsXG4gICAgICBhY2Nlc3NpYmlsaXR5TWVkaXVtOiAxLjUsXG4gICAgICBhY2Nlc3NpYmlsaXR5TGFyZ2U6IDEuNixcbiAgICAgIGFjY2Vzc2liaWxpdHlFeHRyYUxhcmdlOiAxLjcsXG4gICAgICBhY2Nlc3NpYmlsaXR5RXh0cmFFeHRyYUxhcmdlOiAxLjgsXG4gICAgICBhY2Nlc3NpYmlsaXR5RXh0cmFFeHRyYUV4dHJhTGFyZ2U6IDIuMCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG11bHRpcGxpZXJzW3RoaXMuY29uZmlnLnByZWZlcnJlZENvbnRlbnRTaXplQ2F0ZWdvcnldID8/IDEuMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjb250ZW50IG1lZXRzIGNvbnRyYXN0IHJlcXVpcmVtZW50c1xuICAgKi9cbiAgbWVldHNDb250cmFzdFJlcXVpcmVtZW50KFxuICAgIF9mb3JlZ3JvdW5kQ29sb3I6IHN0cmluZyxcbiAgICBfYmFja2dyb3VuZENvbG9yOiBzdHJpbmcsXG4gICk6IGJvb2xlYW4ge1xuICAgIC8vIFNpbXBsaWZpZWQgY29udHJhc3QgY2hlY2sgLSB3b3VsZCBuZWVkIHByb3BlciBjb2xvciBtYXRoXG4gICAgLy8gV0NBRyBBQSByZXF1aXJlcyA0LjU6MSBmb3Igbm9ybWFsIHRleHQsIDM6MSBmb3IgbGFyZ2UgdGV4dFxuICAgIHJldHVybiB0cnVlOyAvLyBQbGFjZWhvbGRlciAtIGltcGxlbWVudCBwcm9wZXIgY29udHJhc3QgY2FsY3VsYXRpb25cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWNjZXNzaWJpbGl0eS1mcmllbmRseSBjb2xvciBzY2hlbWVcbiAgICovXG4gIGdldEFjY2Vzc2libGVDb2xvclNjaGVtZSgpOiB7XG4gICAgcHJpbWFyeTogc3RyaW5nO1xuICAgIHNlY29uZGFyeTogc3RyaW5nO1xuICAgIGJhY2tncm91bmQ6IHN0cmluZztcbiAgICBzdXJmYWNlOiBzdHJpbmc7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIHRleHRTZWNvbmRhcnk6IHN0cmluZztcbiAgICBlcnJvcjogc3RyaW5nO1xuICAgIHN1Y2Nlc3M6IHN0cmluZztcbiAgICB3YXJuaW5nOiBzdHJpbmc7XG4gIH0ge1xuICAgIC8vIEhpZ2ggY29udHJhc3QgY29sb3Igc2NoZW1lIGZvciBhY2Nlc3NpYmlsaXR5XG4gICAgaWYgKHRoaXMuaXNIaWdoQ29udHJhc3RFbmFibGVkKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByaW1hcnk6IFwiI0ZGRkZGRlwiLFxuICAgICAgICBzZWNvbmRhcnk6IFwiI0NDQ0NDQ1wiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMwMDAwMDBcIixcbiAgICAgICAgc3VyZmFjZTogXCIjMTExMTExXCIsXG4gICAgICAgIHRleHQ6IFwiI0ZGRkZGRlwiLFxuICAgICAgICB0ZXh0U2Vjb25kYXJ5OiBcIiNDQ0NDQ0NcIixcbiAgICAgICAgZXJyb3I6IFwiI0ZGNDQ0NFwiLFxuICAgICAgICBzdWNjZXNzOiBcIiM0NEZGNDRcIixcbiAgICAgICAgd2FybmluZzogXCIjRkZGRjQ0XCIsXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFN0YW5kYXJkIGFjY2Vzc2libGUgY29sb3JzXG4gICAgcmV0dXJuIHtcbiAgICAgIHByaW1hcnk6IFwiIzI1NjNFQlwiLCAvLyBCbHVlLTYwMFxuICAgICAgc2Vjb25kYXJ5OiBcIiM2NDc0OEJcIiwgLy8gU2xhdGUtNTAwXG4gICAgICBiYWNrZ3JvdW5kOiBcIiNGRkZGRkZcIixcbiAgICAgIHN1cmZhY2U6IFwiI0Y4RkFGQ1wiLCAvLyBTbGF0ZS01MFxuICAgICAgdGV4dDogXCIjMUUyOTNCXCIsIC8vIFNsYXRlLTgwMFxuICAgICAgdGV4dFNlY29uZGFyeTogXCIjNjQ3NDhCXCIsIC8vIFNsYXRlLTUwMFxuICAgICAgZXJyb3I6IFwiI0RDMjYyNlwiLCAvLyBSZWQtNjAwXG4gICAgICBzdWNjZXNzOiBcIiMxNkEzNEFcIiwgLy8gR3JlZW4tNjAwXG4gICAgICB3YXJuaW5nOiBcIiNEOTc3MDZcIiwgLy8gQW1iZXItNjAwXG4gICAgfTtcbiAgfVxuXG4gIC8vIEV2ZW50IGxpc3RlbmVyc1xuICBwcml2YXRlIGxpc3RlbmVyczogKChjb25maWc6IEFjY2Vzc2liaWxpdHlDb25maWcpID0+IHZvaWQpW10gPSBbXTtcblxuICAvKipcbiAgICogQWRkIGFjY2Vzc2liaWxpdHkgY2hhbmdlIGxpc3RlbmVyXG4gICAqL1xuICBhZGRDaGFuZ2VMaXN0ZW5lcihcbiAgICBsaXN0ZW5lcjogKGNvbmZpZzogQWNjZXNzaWJpbGl0eUNvbmZpZykgPT4gdm9pZCxcbiAgKTogKCkgPT4gdm9pZCB7XG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICAvLyBSZXR1cm4gdW5zdWJzY3JpYmUgZnVuY3Rpb25cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZnkgbGlzdGVuZXJzIG9mIGFjY2Vzc2liaWxpdHkgY2hhbmdlc1xuICAgKi9cbiAgcHJpdmF0ZSBub3RpZnlMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXRBY2Nlc3NpYmlsaXR5Q29uZmlnKCk7XG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpc3RlbmVyKGNvbmZpZyk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICBsb2dnZXIud2FybihcIkVycm9yIG5vdGlmeWluZyBhY2Nlc3NpYmlsaXR5IGxpc3RlbmVyXCIsIHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgYWNjZXNzaWJpbGl0eVNlcnZpY2UgPSBBY2Nlc3NpYmlsaXR5U2VydmljZS5nZXRJbnN0YW5jZSgpO1xuXG4vLyBFeHBvcnQgdHlwZXNcbmV4cG9ydCB0eXBlIHsgQWNjZXNzaWJpbGl0eUNvbmZpZyB9O1xuZXhwb3J0IGRlZmF1bHQgYWNjZXNzaWJpbGl0eVNlcnZpY2U7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUlBLElBQUFBLFlBQUEsR0FBQUMsT0FBQTtBQUVBLElBQUFDLE9BQUEsR0FBQUQsT0FBQTtBQUFrQyxTQUFBRSxRQUFBQyxDQUFBLEVBQUFDLENBQUEsUUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLElBQUEsQ0FBQUosQ0FBQSxPQUFBRyxNQUFBLENBQUFFLHFCQUFBLFFBQUFDLENBQUEsR0FBQUgsTUFBQSxDQUFBRSxxQkFBQSxDQUFBTCxDQUFBLEdBQUFDLENBQUEsS0FBQUssQ0FBQSxHQUFBQSxDQUFBLENBQUFDLE1BQUEsV0FBQU4sQ0FBQSxXQUFBRSxNQUFBLENBQUFL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