309ded7dde0214d0f92ce77e64337468
"use strict";

_getJestObj().mock('expo-image-manipulator', function () {
  return {
    manipulateAsync: _globals.jest.fn(),
    SaveFormat: {
      JPEG: 'jpeg',
      PNG: 'png'
    }
  };
});
_getJestObj().mock('expo-file-system', function () {
  return {
    getInfoAsync: _globals.jest.fn(),
    deleteAsync: _globals.jest.fn()
  };
});
_getJestObj().mock('@pawfectmatch/core', function () {
  return {
    logger: {
      info: _globals.jest.fn(),
      error: _globals.jest.fn(),
      warn: _globals.jest.fn()
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _globals = require("@jest/globals");
var ImageManipulator = _interopRequireWildcard(require("expo-image-manipulator"));
var FileSystem = _interopRequireWildcard(require("expo-file-system"));
var _ImageCompressionService = require("../ImageCompressionService");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function _getJestObj() {
  var _require3 = require("@jest/globals"),
    jest = _require3.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockImageManipulator = ImageManipulator;
var mockFileSystem = FileSystem;
(0, _globals.describe)('ImageCompressionService', function () {
  var service;
  (0, _globals.beforeEach)(function () {
    _globals.jest.clearAllMocks();
    service = new _ImageCompressionService.ImageCompressionService();
    mockFileSystem.getInfoAsync.mockResolvedValue({
      exists: true,
      size: 2048000,
      uri: 'file://test.jpg',
      isDirectory: false
    });
    mockImageManipulator.manipulateAsync.mockResolvedValue({
      uri: 'file://compressed.jpg',
      width: 1920,
      height: 1080
    });
  });
  (0, _globals.describe)('Single Image Compression', function () {
    (0, _globals.it)('should compress image with default options', (0, _asyncToGenerator2.default)(function* () {
      var result = yield service.compressImage('file://input.jpg');
      (0, _globals.expect)(mockFileSystem.getInfoAsync).toHaveBeenCalledWith('file://input.jpg');
      (0, _globals.expect)(mockImageManipulator.manipulateAsync).toHaveBeenCalledWith('file://input.jpg', [{
        resize: {
          width: 1920,
          height: 1920
        }
      }], {
        compress: 0.8,
        format: 'jpeg'
      });
      (0, _globals.expect)(mockFileSystem.getInfoAsync).toHaveBeenCalledWith('file://compressed.jpg');
      (0, _globals.expect)(result).toEqual({
        uri: 'file://compressed.jpg',
        width: 1920,
        height: 1080,
        size: 2048000,
        originalSize: 2048000,
        compressionRatio: 0
      });
    }));
    (0, _globals.it)('should compress image with custom options', (0, _asyncToGenerator2.default)(function* () {
      var customOptions = {
        maxWidth: 1024,
        maxHeight: 768,
        quality: 0.6,
        format: 'png',
        maintainAspectRatio: false
      };
      yield service.compressImage('file://input.png', customOptions);
      (0, _globals.expect)(mockImageManipulator.manipulateAsync).toHaveBeenCalledWith('file://input.png', [{
        resize: {
          width: 1024,
          height: 768
        }
      }], {
        compress: 0.6,
        format: 'png'
      });
    }));
    (0, _globals.it)('should calculate compression ratio correctly', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockResolvedValueOnce({
        exists: true,
        size: 2097152,
        uri: '',
        isDirectory: false
      }).mockResolvedValueOnce({
        exists: true,
        size: 524288,
        uri: '',
        isDirectory: false
      });
      var result = yield service.compressImage('file://input.jpg');
      (0, _globals.expect)(result.compressionRatio).toBe(0.75);
    }));
    (0, _globals.it)('should handle compression errors', (0, _asyncToGenerator2.default)(function* () {
      mockImageManipulator.manipulateAsync.mockRejectedValue(new Error('Compression failed'));
      yield (0, _globals.expect)(service.compressImage('file://input.jpg')).rejects.toThrow('Failed to compress image');
    }));
    (0, _globals.it)('should handle file info errors', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockRejectedValue(new Error('File not found'));
      yield (0, _globals.expect)(service.compressImage('file://input.jpg')).rejects.toThrow('Failed to compress image');
    }));
  });
  (0, _globals.describe)('Batch Image Compression', function () {
    (0, _globals.it)('should compress multiple images successfully', (0, _asyncToGenerator2.default)(function* () {
      var uris = ['file://img1.jpg', 'file://img2.jpg', 'file://img3.jpg'];
      var results = yield service.compressImages(uris);
      (0, _globals.expect)(results).toHaveLength(3);
      (0, _globals.expect)(mockImageManipulator.manipulateAsync).toHaveBeenCalledTimes(3);
    }));
    (0, _globals.it)('should continue processing when one image fails', (0, _asyncToGenerator2.default)(function* () {
      mockImageManipulator.manipulateAsync.mockResolvedValueOnce({
        uri: 'file://compressed1.jpg',
        width: 1920,
        height: 1080
      }).mockRejectedValueOnce(new Error('Failed to compress')).mockResolvedValueOnce({
        uri: 'file://compressed3.jpg',
        width: 1920,
        height: 1080
      });
      var uris = ['file://img1.jpg', 'file://img2.jpg', 'file://img3.jpg'];
      var results = yield service.compressImages(uris);
      (0, _globals.expect)(results).toHaveLength(2);
      (0, _globals.expect)(mockImageManipulator.manipulateAsync).toHaveBeenCalledTimes(3);
    }));
    (0, _globals.it)('should handle empty batch', (0, _asyncToGenerator2.default)(function* () {
      var results = yield service.compressImages([]);
      (0, _globals.expect)(results).toEqual([]);
    }));
  });
  (0, _globals.describe)('Optimal Compression Settings', function () {
    (0, _globals.it)('should return JPEG optimization settings', function () {
      var settings = service.getOptimalCompressionSettings('file://photo.jpg');
      (0, _globals.expect)(settings).toEqual({
        maxWidth: 1920,
        maxHeight: 1920,
        quality: 0.75,
        format: 'jpeg'
      });
    });
    (0, _globals.it)('should return PNG optimization settings', function () {
      var settings = service.getOptimalCompressionSettings('file://image.png');
      (0, _globals.expect)(settings).toEqual({
        maxWidth: 1920,
        maxHeight: 1920,
        quality: 0.9,
        format: 'png'
      });
    });
    (0, _globals.it)('should return default settings for unknown formats', function () {
      var settings = service.getOptimalCompressionSettings('file://image.webp');
      (0, _globals.expect)(settings).toEqual({
        maxWidth: 1920,
        maxHeight: 1920,
        quality: 0.8,
        format: 'jpeg',
        maintainAspectRatio: true
      });
    });
    (0, _globals.it)('should handle uppercase extensions', function () {
      var settings = service.getOptimalCompressionSettings('file://PHOTO.JPG');
      (0, _globals.expect)(settings.quality).toBe(0.75);
    });
  });
  (0, _globals.describe)('Specialized Compression Methods', function () {
    (0, _globals.it)('should compress avatar images with correct settings', (0, _asyncToGenerator2.default)(function* () {
      yield service.compressAvatarImage('file://avatar.jpg');
      (0, _globals.expect)(mockImageManipulator.manipulateAsync).toHaveBeenCalledWith('file://avatar.jpg', [{
        resize: {
          width: 512,
          height: 512
        }
      }], {
        compress: 0.8,
        format: 'jpeg'
      });
    }));
    (0, _globals.it)('should compress pet images with optimal settings', (0, _asyncToGenerator2.default)(function* () {
      yield service.compressPetImage('file://pet.jpg');
      (0, _globals.expect)(mockImageManipulator.manipulateAsync).toHaveBeenCalledWith('file://pet.jpg', [{
        resize: {
          width: 1920,
          height: 1920
        }
      }], {
        compress: 0.75,
        format: 'jpeg'
      });
    }));
    (0, _globals.it)('should compress chat images with smaller dimensions', (0, _asyncToGenerator2.default)(function* () {
      yield service.compressChatImage('file://chat.jpg');
      (0, _globals.expect)(mockImageManipulator.manipulateAsync).toHaveBeenCalledWith('file://chat.jpg', [{
        resize: {
          width: 1024,
          height: 1024
        }
      }], {
        compress: 0.7,
        format: 'jpeg'
      });
    }));
  });
  (0, _globals.describe)('Image Validation', function () {
    (0, _globals.it)('should validate existing image file', (0, _asyncToGenerator2.default)(function* () {
      var result = yield service.validateImage('file://valid.jpg');
      (0, _globals.expect)(result).toEqual({
        isValid: true
      });
    }));
    (0, _globals.it)('should reject non-existent files', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockResolvedValueOnce({
        exists: false,
        size: 0,
        uri: '',
        isDirectory: false
      });
      var result = yield service.validateImage('file://missing.jpg');
      (0, _globals.expect)(result).toEqual({
        isValid: false,
        error: 'Image file does not exist'
      });
    }));
    (0, _globals.it)('should reject files that are too large', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockResolvedValueOnce({
        exists: true,
        size: 25 * 1024 * 1024,
        uri: '',
        isDirectory: false
      });
      var result = yield service.validateImage('file://toolarge.jpg');
      (0, _globals.expect)(result).toEqual({
        isValid: false,
        error: 'Image file is too large (max 20MB)'
      });
    }));
    (0, _globals.it)('should reject unsupported file formats', (0, _asyncToGenerator2.default)(function* () {
      var result = yield service.validateImage('file://image.bmp');
      (0, _globals.expect)(result).toEqual({
        isValid: false,
        error: 'Unsupported image format'
      });
    }));
    (0, _globals.it)('should accept all supported formats', (0, _asyncToGenerator2.default)(function* () {
      var supportedFormats = ['.jpg', '.jpeg', '.png', '.gif', '.webp'];
      for (var format of supportedFormats) {
        var result = yield service.validateImage(`file://image${format}`);
        (0, _globals.expect)(result.isValid).toBe(true);
      }
    }));
    (0, _globals.it)('should handle validation errors gracefully', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockRejectedValue(new Error('Permission denied'));
      var result = yield service.validateImage('file://invalid.jpg');
      (0, _globals.expect)(result).toEqual({
        isValid: false,
        error: 'Failed to validate image'
      });
    }));
  });
  (0, _globals.describe)('Temp File Cleanup', function () {
    (0, _globals.it)('should cleanup temp images in cache/temp directories', (0, _asyncToGenerator2.default)(function* () {
      var tempUris = ['file://cache/compressed1.jpg', 'file://temp/image2.png', 'file://ImageManipulator/result3.jpeg'];
      yield service.cleanupTempImages(tempUris);
      (0, _globals.expect)(mockFileSystem.deleteAsync).toHaveBeenCalledTimes(3);
      (0, _globals.expect)(mockFileSystem.deleteAsync).toHaveBeenCalledWith('file://cache/compressed1.jpg', {
        idempotent: true
      });
    }));
    (0, _globals.it)('should not delete files outside temp/cache directories', (0, _asyncToGenerator2.default)(function* () {
      var safeUris = ['file://documents/photo.jpg', 'file://downloads/image.png'];
      yield service.cleanupTempImages(safeUris);
      (0, _globals.expect)(mockFileSystem.deleteAsync).not.toHaveBeenCalled();
    }));
    (0, _globals.it)('should handle cleanup errors gracefully', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.deleteAsync.mockRejectedValue(new Error('Delete failed'));
      var tempUri = ['file://cache/temp.jpg'];
      yield (0, _globals.expect)(service.cleanupTempImages(tempUri)).resolves.not.toThrow();
    }));
  });
  (0, _globals.describe)('Image Dimensions', function () {
    (0, _globals.it)('should get image dimensions successfully', (0, _asyncToGenerator2.default)(function* () {
      mockImageManipulator.manipulateAsync.mockResolvedValue({
        uri: 'file://original.jpg',
        width: 4000,
        height: 3000
      });
      var dimensions = yield service.getImageDimensions('file://input.jpg');
      (0, _globals.expect)(dimensions).toEqual({
        width: 4000,
        height: 3000
      });
      (0, _globals.expect)(mockImageManipulator.manipulateAsync).toHaveBeenCalledWith('file://input.jpg', [], {
        format: 'jpeg'
      });
    }));
    (0, _globals.it)('should return null when dimensions cannot be retrieved', (0, _asyncToGenerator2.default)(function* () {
      mockImageManipulator.manipulateAsync.mockRejectedValue(new Error('Invalid image'));
      var dimensions = yield service.getImageDimensions('file://invalid.jpg');
      (0, _globals.expect)(dimensions).toBeNull();
    }));
  });
  (0, _globals.describe)('File Size Formatting', function () {
    (0, _globals.it)('should format file sizes correctly', function () {
      var formatMethod = service.formatFileSize.bind(service);
      (0, _globals.expect)(formatMethod(0)).toBe('0 B');
      (0, _globals.expect)(formatMethod(512)).toBe('512 B');
      (0, _globals.expect)(formatMethod(1024)).toBe('1 KB');
      (0, _globals.expect)(formatMethod(1536)).toBe('1.5 KB');
      (0, _globals.expect)(formatMethod(1048576)).toBe('1 MB');
      (0, _globals.expect)(formatMethod(2147483648)).toBe('2 GB');
    });
  });
  (0, _globals.describe)('Edge Cases and Error Handling', function () {
    (0, _globals.it)('should handle compression with zero original size', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockResolvedValueOnce({
        exists: true,
        size: 0,
        uri: '',
        isDirectory: false
      });
      var result = yield service.compressImage('file://empty.jpg');
      (0, _globals.expect)(result.compressionRatio).toBe(0);
    }));
    (0, _globals.it)('should handle compression with non-existent compressed file', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockResolvedValueOnce({
        exists: true,
        size: 1000000,
        uri: '',
        isDirectory: false
      }).mockResolvedValueOnce({
        exists: false,
        size: 0,
        uri: '',
        isDirectory: false
      });
      var result = yield service.compressImage('file://input.jpg');
      (0, _globals.expect)(result.size).toBe(0);
      (0, _globals.expect)(result.compressionRatio).toBe(0);
    }));
    (0, _globals.it)('should handle batch compression with mixed results', (0, _asyncToGenerator2.default)(function* () {
      mockImageManipulator.manipulateAsync.mockResolvedValueOnce({
        uri: 'file://comp1.jpg',
        width: 100,
        height: 100
      }).mockRejectedValueOnce(new Error('Compression failed')).mockResolvedValueOnce({
        uri: 'file://comp3.jpg',
        width: 100,
        height: 100
      }).mockRejectedValueOnce(new Error('Compression failed'));
      var uris = ['img1.jpg', 'img2.jpg', 'img3.jpg', 'img4.jpg'];
      var results = yield service.compressImages(uris);
      (0, _globals.expect)(results).toHaveLength(2);
    }));
    (0, _globals.it)('should validate image with edge case file sizes', (0, _asyncToGenerator2.default)(function* () {
      mockFileSystem.getInfoAsync.mockResolvedValueOnce({
        exists: true,
        size: 20 * 1024 * 1024,
        uri: '',
        isDirectory: false
      });
      var result = yield service.validateImage('file://exactly20mb.jpg');
      (0, _globals.expect)(result.isValid).toBe(true);
    }));
  });
  (0, _globals.describe)('Logging', function () {
    (0, _globals.it)('should log compression start and completion', (0, _asyncToGenerator2.default)(function* () {
      var _require = require('@pawfectmatch/core'),
        logger = _require.logger;
      yield service.compressImage('file://input.jpg');
      (0, _globals.expect)(logger.info).toHaveBeenCalledWith('Starting image compression', _globals.expect.objectContaining({
        uri: _globals.expect.any(String),
        options: _globals.expect.any(Object)
      }));
      (0, _globals.expect)(logger.info).toHaveBeenCalledWith('Image compression completed', _globals.expect.objectContaining({
        originalSize: _globals.expect.any(String),
        compressedSize: _globals.expect.any(String),
        compressionRatio: _globals.expect.any(String),
        dimensions: _globals.expect.any(String)
      }));
    }));
    (0, _globals.it)('should log compression errors', (0, _asyncToGenerator2.default)(function* () {
      var _require2 = require('@pawfectmatch/core'),
        logger = _require2.logger;
      mockImageManipulator.manipulateAsync.mockRejectedValue(new Error('Test error'));
      yield (0, _globals.expect)(service.compressImage('file://input.jpg')).rejects.toThrow();
      (0, _globals.expect)(logger.error).toHaveBeenCalledWith('Image compression failed', _globals.expect.objectContaining({
        error: _globals.expect.any(Error),
        imageUri: 'file://input.jpg'
      }));
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJtYW5pcHVsYXRlQXN5bmMiLCJqZXN0IiwiZm4iLCJTYXZlRm9ybWF0IiwiSlBFRyIsIlBORyIsImdldEluZm9Bc3luYyIsImRlbGV0ZUFzeW5jIiwibG9nZ2VyIiwiaW5mbyIsImVycm9yIiwid2FybiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX2dsb2JhbHMiLCJJbWFnZU1hbmlwdWxhdG9yIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJGaWxlU3lzdGVtIiwiX0ltYWdlQ29tcHJlc3Npb25TZXJ2aWNlIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfcmVxdWlyZTMiLCJtb2NrSW1hZ2VNYW5pcHVsYXRvciIsIm1vY2tGaWxlU3lzdGVtIiwiZGVzY3JpYmUiLCJzZXJ2aWNlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJJbWFnZUNvbXByZXNzaW9uU2VydmljZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZXhpc3RzIiwic2l6ZSIsInVyaSIsImlzRGlyZWN0b3J5Iiwid2lkdGgiLCJoZWlnaHQiLCJpdCIsInJlc3VsdCIsImNvbXByZXNzSW1hZ2UiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInJlc2l6ZSIsImNvbXByZXNzIiwiZm9ybWF0IiwidG9FcXVhbCIsIm9yaWdpbmFsU2l6ZSIsImNvbXByZXNzaW9uUmF0aW8iLCJjdXN0b21PcHRpb25zIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJxdWFsaXR5IiwibWFpbnRhaW5Bc3BlY3RSYXRpbyIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsInRvQmUiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwicmVqZWN0cyIsInRvVGhyb3ciLCJ1cmlzIiwicmVzdWx0cyIsImNvbXByZXNzSW1hZ2VzIiwidG9IYXZlTGVuZ3RoIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwic2V0dGluZ3MiLCJnZXRPcHRpbWFsQ29tcHJlc3Npb25TZXR0aW5ncyIsImNvbXByZXNzQXZhdGFySW1hZ2UiLCJjb21wcmVzc1BldEltYWdlIiwiY29tcHJlc3NDaGF0SW1hZ2UiLCJ2YWxpZGF0ZUltYWdlIiwiaXNWYWxpZCIsInN1cHBvcnRlZEZvcm1hdHMiLCJ0ZW1wVXJpcyIsImNsZWFudXBUZW1wSW1hZ2VzIiwiaWRlbXBvdGVudCIsInNhZmVVcmlzIiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsInRlbXBVcmkiLCJyZXNvbHZlcyIsImRpbWVuc2lvbnMiLCJnZXRJbWFnZURpbWVuc2lvbnMiLCJ0b0JlTnVsbCIsImZvcm1hdE1ldGhvZCIsImZvcm1hdEZpbGVTaXplIiwiYmluZCIsIl9yZXF1aXJlIiwib2JqZWN0Q29udGFpbmluZyIsImFueSIsIlN0cmluZyIsIm9wdGlvbnMiLCJjb21wcmVzc2VkU2l6ZSIsIl9yZXF1aXJlMiIsImltYWdlVXJpIl0sInNvdXJjZXMiOlsiSW1hZ2VDb21wcmVzc2lvblNlcnZpY2UudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbXByZWhlbnNpdmUgdGVzdHMgZm9yIEltYWdlQ29tcHJlc3Npb25TZXJ2aWNlXG4gKlxuICogQ292ZXJhZ2U6XG4gKiAtIEltYWdlIGNvbXByZXNzaW9uIGFuZCByZXNpemluZ1xuICogLSBCYXRjaCBjb21wcmVzc2lvbiBvcGVyYXRpb25zXG4gKiAtIE9wdGltYWwgY29tcHJlc3Npb24gc2V0dGluZ3MgYnkgaW1hZ2UgdHlwZVxuICogLSBTcGVjaWFsaXplZCBjb21wcmVzc2lvbiAoYXZhdGFyLCBwZXQsIGNoYXQgaW1hZ2VzKVxuICogLSBJbWFnZSB2YWxpZGF0aW9uIGFuZCBmaWxlIHNpemUgY2hlY2tzXG4gKiAtIFRlbXAgZmlsZSBjbGVhbnVwXG4gKiAtIEltYWdlIGRpbWVuc2lvbnMgcmV0cmlldmFsXG4gKiAtIEVycm9yIGhhbmRsaW5nIGFuZCBlZGdlIGNhc2VzXG4gKiAtIEZpbGUgc2l6ZSBmb3JtYXR0aW5nIHV0aWxpdGllc1xuICovXG5cbmltcG9ydCB7IGRlc2NyaWJlLCBpdCwgZXhwZWN0LCBqZXN0LCBiZWZvcmVFYWNoIH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XG5pbXBvcnQgKiBhcyBJbWFnZU1hbmlwdWxhdG9yIGZyb20gJ2V4cG8taW1hZ2UtbWFuaXB1bGF0b3InO1xuaW1wb3J0ICogYXMgRmlsZVN5c3RlbSBmcm9tICdleHBvLWZpbGUtc3lzdGVtJztcbmltcG9ydCB7IGltYWdlQ29tcHJlc3Npb24sIEltYWdlQ29tcHJlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi4vSW1hZ2VDb21wcmVzc2lvblNlcnZpY2UnO1xuXG4vLyBNb2NrIGV4cG8taW1hZ2UtbWFuaXB1bGF0b3Jcbmplc3QubW9jaygnZXhwby1pbWFnZS1tYW5pcHVsYXRvcicsICgpID0+ICh7XG4gIG1hbmlwdWxhdGVBc3luYzogamVzdC5mbigpLFxuICBTYXZlRm9ybWF0OiB7XG4gICAgSlBFRzogJ2pwZWcnLFxuICAgIFBORzogJ3BuZycsXG4gIH0sXG59KSk7XG5cbi8vIE1vY2sgZXhwby1maWxlLXN5c3RlbVxuamVzdC5tb2NrKCdleHBvLWZpbGUtc3lzdGVtJywgKCkgPT4gKHtcbiAgZ2V0SW5mb0FzeW5jOiBqZXN0LmZuKCksXG4gIGRlbGV0ZUFzeW5jOiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgbG9nZ2VyXG5qZXN0Lm1vY2soJ0BwYXdmZWN0bWF0Y2gvY29yZScsICgpID0+ICh7XG4gIGxvZ2dlcjoge1xuICAgIGluZm86IGplc3QuZm4oKSxcbiAgICBlcnJvcjogamVzdC5mbigpLFxuICAgIHdhcm46IGplc3QuZm4oKSxcbiAgfSxcbn0pKTtcblxuY29uc3QgbW9ja0ltYWdlTWFuaXB1bGF0b3IgPSBJbWFnZU1hbmlwdWxhdG9yIGFzIGplc3QuTW9ja2VkPHR5cGVvZiBJbWFnZU1hbmlwdWxhdG9yPjtcbmNvbnN0IG1vY2tGaWxlU3lzdGVtID0gRmlsZVN5c3RlbSBhcyBqZXN0Lk1vY2tlZDx0eXBlb2YgRmlsZVN5c3RlbT47XG5cbmRlc2NyaWJlKCdJbWFnZUNvbXByZXNzaW9uU2VydmljZScsICgpID0+IHtcbiAgbGV0IHNlcnZpY2U6IEltYWdlQ29tcHJlc3Npb25TZXJ2aWNlO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIHNlcnZpY2UgPSBuZXcgSW1hZ2VDb21wcmVzc2lvblNlcnZpY2UoKTtcblxuICAgIC8vIFNldHVwIGRlZmF1bHQgbW9ja3NcbiAgICBtb2NrRmlsZVN5c3RlbS5nZXRJbmZvQXN5bmMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgZXhpc3RzOiB0cnVlLFxuICAgICAgc2l6ZTogMjA0ODAwMCwgLy8gMk1CXG4gICAgICB1cmk6ICdmaWxlOi8vdGVzdC5qcGcnLFxuICAgICAgaXNEaXJlY3Rvcnk6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgbW9ja0ltYWdlTWFuaXB1bGF0b3IubWFuaXB1bGF0ZUFzeW5jLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgIHVyaTogJ2ZpbGU6Ly9jb21wcmVzc2VkLmpwZycsXG4gICAgICB3aWR0aDogMTkyMCxcbiAgICAgIGhlaWdodDogMTA4MCxcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NpbmdsZSBJbWFnZSBDb21wcmVzc2lvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbXByZXNzIGltYWdlIHdpdGggZGVmYXVsdCBvcHRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5jb21wcmVzc0ltYWdlKCdmaWxlOi8vaW5wdXQuanBnJyk7XG5cbiAgICAgIGV4cGVjdChtb2NrRmlsZVN5c3RlbS5nZXRJbmZvQXN5bmMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdmaWxlOi8vaW5wdXQuanBnJyk7XG4gICAgICBleHBlY3QobW9ja0ltYWdlTWFuaXB1bGF0b3IubWFuaXB1bGF0ZUFzeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2ZpbGU6Ly9pbnB1dC5qcGcnLFxuICAgICAgICBbeyByZXNpemU6IHsgd2lkdGg6IDE5MjAsIGhlaWdodDogMTkyMCB9IH1dLFxuICAgICAgICB7IGNvbXByZXNzOiAwLjgsIGZvcm1hdDogJ2pwZWcnIH1cbiAgICAgICk7XG4gICAgICBleHBlY3QobW9ja0ZpbGVTeXN0ZW0uZ2V0SW5mb0FzeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZmlsZTovL2NvbXByZXNzZWQuanBnJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoe1xuICAgICAgICB1cmk6ICdmaWxlOi8vY29tcHJlc3NlZC5qcGcnLFxuICAgICAgICB3aWR0aDogMTkyMCxcbiAgICAgICAgaGVpZ2h0OiAxMDgwLFxuICAgICAgICBzaXplOiAyMDQ4MDAwLFxuICAgICAgICBvcmlnaW5hbFNpemU6IDIwNDgwMDAsXG4gICAgICAgIGNvbXByZXNzaW9uUmF0aW86IDAsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY29tcHJlc3MgaW1hZ2Ugd2l0aCBjdXN0b20gb3B0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGN1c3RvbU9wdGlvbnMgPSB7XG4gICAgICAgIG1heFdpZHRoOiAxMDI0LFxuICAgICAgICBtYXhIZWlnaHQ6IDc2OCxcbiAgICAgICAgcXVhbGl0eTogMC42LFxuICAgICAgICBmb3JtYXQ6ICdwbmcnIGFzIGNvbnN0LFxuICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIGF3YWl0IHNlcnZpY2UuY29tcHJlc3NJbWFnZSgnZmlsZTovL2lucHV0LnBuZycsIGN1c3RvbU9wdGlvbnMpO1xuXG4gICAgICBleHBlY3QobW9ja0ltYWdlTWFuaXB1bGF0b3IubWFuaXB1bGF0ZUFzeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2ZpbGU6Ly9pbnB1dC5wbmcnLFxuICAgICAgICBbeyByZXNpemU6IHsgd2lkdGg6IDEwMjQsIGhlaWdodDogNzY4IH0gfV0sXG4gICAgICAgIHsgY29tcHJlc3M6IDAuNiwgZm9ybWF0OiAncG5nJyB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgY29tcHJlc3Npb24gcmF0aW8gY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gT3JpZ2luYWw6IDJNQiwgQ29tcHJlc3NlZDogNTAwS0JcbiAgICAgIG1vY2tGaWxlU3lzdGVtLmdldEluZm9Bc3luY1xuICAgICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZXhpc3RzOiB0cnVlLCBzaXplOiAyMDk3MTUyLCB1cmk6ICcnLCBpc0RpcmVjdG9yeTogZmFsc2UgfSkgLy8gMk1CXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBleGlzdHM6IHRydWUsIHNpemU6IDUyNDI4OCwgdXJpOiAnJywgaXNEaXJlY3Rvcnk6IGZhbHNlIH0pOyAvLyA1MDBLQlxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmNvbXByZXNzSW1hZ2UoJ2ZpbGU6Ly9pbnB1dC5qcGcnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jb21wcmVzc2lvblJhdGlvKS50b0JlKDAuNzUpOyAvLyAoMk1CIC0gNTAwS0IpIC8gMk1CID0gMS41TUIgLyAyTUIgPSAwLjc1XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wcmVzc2lvbiBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdDb21wcmVzc2lvbiBmYWlsZWQnKSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLmNvbXByZXNzSW1hZ2UoJ2ZpbGU6Ly9pbnB1dC5qcGcnKSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAnRmFpbGVkIHRvIGNvbXByZXNzIGltYWdlJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGZpbGUgaW5mbyBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmlsZVN5c3RlbS5nZXRJbmZvQXN5bmMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdGaWxlIG5vdCBmb3VuZCcpKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KHNlcnZpY2UuY29tcHJlc3NJbWFnZSgnZmlsZTovL2lucHV0LmpwZycpKS5yZWplY3RzLnRvVGhyb3coXG4gICAgICAgICdGYWlsZWQgdG8gY29tcHJlc3MgaW1hZ2UnXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQmF0Y2ggSW1hZ2UgQ29tcHJlc3Npb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjb21wcmVzcyBtdWx0aXBsZSBpbWFnZXMgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXJpcyA9IFsnZmlsZTovL2ltZzEuanBnJywgJ2ZpbGU6Ly9pbWcyLmpwZycsICdmaWxlOi8vaW1nMy5qcGcnXTtcblxuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHNlcnZpY2UuY29tcHJlc3NJbWFnZXModXJpcyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICBleHBlY3QobW9ja0ltYWdlTWFuaXB1bGF0b3IubWFuaXB1bGF0ZUFzeW5jKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbnRpbnVlIHByb2Nlc3Npbmcgd2hlbiBvbmUgaW1hZ2UgZmFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmNcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgdXJpOiAnZmlsZTovL2NvbXByZXNzZWQxLmpwZycsXG4gICAgICAgICAgd2lkdGg6IDE5MjAsXG4gICAgICAgICAgaGVpZ2h0OiAxMDgwLFxuICAgICAgICB9KVxuICAgICAgICAubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignRmFpbGVkIHRvIGNvbXByZXNzJykpXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIHVyaTogJ2ZpbGU6Ly9jb21wcmVzc2VkMy5qcGcnLFxuICAgICAgICAgIHdpZHRoOiAxOTIwLFxuICAgICAgICAgIGhlaWdodDogMTA4MCxcbiAgICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHVyaXMgPSBbJ2ZpbGU6Ly9pbWcxLmpwZycsICdmaWxlOi8vaW1nMi5qcGcnLCAnZmlsZTovL2ltZzMuanBnJ107XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VydmljZS5jb21wcmVzc0ltYWdlcyh1cmlzKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvSGF2ZUxlbmd0aCgyKTsgLy8gT25seSBzdWNjZXNzZnVsIGNvbXByZXNzaW9uc1xuICAgICAgZXhwZWN0KG1vY2tJbWFnZU1hbmlwdWxhdG9yLm1hbmlwdWxhdGVBc3luYykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgYmF0Y2gnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VydmljZS5jb21wcmVzc0ltYWdlcyhbXSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRzKS50b0VxdWFsKFtdKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ09wdGltYWwgQ29tcHJlc3Npb24gU2V0dGluZ3MnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gSlBFRyBvcHRpbWl6YXRpb24gc2V0dGluZ3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IHNlcnZpY2UuZ2V0T3B0aW1hbENvbXByZXNzaW9uU2V0dGluZ3MoJ2ZpbGU6Ly9waG90by5qcGcnKTtcblxuICAgICAgZXhwZWN0KHNldHRpbmdzKS50b0VxdWFsKHtcbiAgICAgICAgbWF4V2lkdGg6IDE5MjAsXG4gICAgICAgIG1heEhlaWdodDogMTkyMCxcbiAgICAgICAgcXVhbGl0eTogMC43NSxcbiAgICAgICAgZm9ybWF0OiAnanBlZycsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIFBORyBvcHRpbWl6YXRpb24gc2V0dGluZ3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IHNlcnZpY2UuZ2V0T3B0aW1hbENvbXByZXNzaW9uU2V0dGluZ3MoJ2ZpbGU6Ly9pbWFnZS5wbmcnKTtcblxuICAgICAgZXhwZWN0KHNldHRpbmdzKS50b0VxdWFsKHtcbiAgICAgICAgbWF4V2lkdGg6IDE5MjAsXG4gICAgICAgIG1heEhlaWdodDogMTkyMCxcbiAgICAgICAgcXVhbGl0eTogMC45LFxuICAgICAgICBmb3JtYXQ6ICdwbmcnLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBkZWZhdWx0IHNldHRpbmdzIGZvciB1bmtub3duIGZvcm1hdHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IHNlcnZpY2UuZ2V0T3B0aW1hbENvbXByZXNzaW9uU2V0dGluZ3MoJ2ZpbGU6Ly9pbWFnZS53ZWJwJyk7XG5cbiAgICAgIGV4cGVjdChzZXR0aW5ncykudG9FcXVhbCh7XG4gICAgICAgIG1heFdpZHRoOiAxOTIwLFxuICAgICAgICBtYXhIZWlnaHQ6IDE5MjAsXG4gICAgICAgIHF1YWxpdHk6IDAuOCxcbiAgICAgICAgZm9ybWF0OiAnanBlZycsXG4gICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IHRydWUsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVwcGVyY2FzZSBleHRlbnNpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBzZXJ2aWNlLmdldE9wdGltYWxDb21wcmVzc2lvblNldHRpbmdzKCdmaWxlOi8vUEhPVE8uSlBHJyk7XG5cbiAgICAgIGV4cGVjdChzZXR0aW5ncy5xdWFsaXR5KS50b0JlKDAuNzUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU3BlY2lhbGl6ZWQgQ29tcHJlc3Npb24gTWV0aG9kcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbXByZXNzIGF2YXRhciBpbWFnZXMgd2l0aCBjb3JyZWN0IHNldHRpbmdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc2VydmljZS5jb21wcmVzc0F2YXRhckltYWdlKCdmaWxlOi8vYXZhdGFyLmpwZycpO1xuXG4gICAgICBleHBlY3QobW9ja0ltYWdlTWFuaXB1bGF0b3IubWFuaXB1bGF0ZUFzeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2ZpbGU6Ly9hdmF0YXIuanBnJyxcbiAgICAgICAgW3sgcmVzaXplOiB7IHdpZHRoOiA1MTIsIGhlaWdodDogNTEyIH0gfV0sXG4gICAgICAgIHsgY29tcHJlc3M6IDAuOCwgZm9ybWF0OiAnanBlZycgfVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY29tcHJlc3MgcGV0IGltYWdlcyB3aXRoIG9wdGltYWwgc2V0dGluZ3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmNvbXByZXNzUGV0SW1hZ2UoJ2ZpbGU6Ly9wZXQuanBnJyk7XG5cbiAgICAgIGV4cGVjdChtb2NrSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnZmlsZTovL3BldC5qcGcnLFxuICAgICAgICBbeyByZXNpemU6IHsgd2lkdGg6IDE5MjAsIGhlaWdodDogMTkyMCB9IH1dLFxuICAgICAgICB7IGNvbXByZXNzOiAwLjc1LCBmb3JtYXQ6ICdqcGVnJyB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb21wcmVzcyBjaGF0IGltYWdlcyB3aXRoIHNtYWxsZXIgZGltZW5zaW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHNlcnZpY2UuY29tcHJlc3NDaGF0SW1hZ2UoJ2ZpbGU6Ly9jaGF0LmpwZycpO1xuXG4gICAgICBleHBlY3QobW9ja0ltYWdlTWFuaXB1bGF0b3IubWFuaXB1bGF0ZUFzeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2ZpbGU6Ly9jaGF0LmpwZycsXG4gICAgICAgIFt7IHJlc2l6ZTogeyB3aWR0aDogMTAyNCwgaGVpZ2h0OiAxMDI0IH0gfV0sXG4gICAgICAgIHsgY29tcHJlc3M6IDAuNywgZm9ybWF0OiAnanBlZycgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ltYWdlIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBleGlzdGluZyBpbWFnZSBmaWxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS52YWxpZGF0ZUltYWdlKCdmaWxlOi8vdmFsaWQuanBnJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoeyBpc1ZhbGlkOiB0cnVlIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3Qgbm9uLWV4aXN0ZW50IGZpbGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZpbGVTeXN0ZW0uZ2V0SW5mb0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGV4aXN0czogZmFsc2UsXG4gICAgICAgIHNpemU6IDAsXG4gICAgICAgIHVyaTogJycsXG4gICAgICAgIGlzRGlyZWN0b3J5OiBmYWxzZSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLnZhbGlkYXRlSW1hZ2UoJ2ZpbGU6Ly9taXNzaW5nLmpwZycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnSW1hZ2UgZmlsZSBkb2VzIG5vdCBleGlzdCcsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGZpbGVzIHRoYXQgYXJlIHRvbyBsYXJnZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGaWxlU3lzdGVtLmdldEluZm9Bc3luYy5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBleGlzdHM6IHRydWUsXG4gICAgICAgIHNpemU6IDI1ICogMTAyNCAqIDEwMjQsIC8vIDI1TUJcbiAgICAgICAgdXJpOiAnJyxcbiAgICAgICAgaXNEaXJlY3Rvcnk6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudmFsaWRhdGVJbWFnZSgnZmlsZTovL3Rvb2xhcmdlLmpwZycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnSW1hZ2UgZmlsZSBpcyB0b28gbGFyZ2UgKG1heCAyME1CKScsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHVuc3VwcG9ydGVkIGZpbGUgZm9ybWF0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudmFsaWRhdGVJbWFnZSgnZmlsZTovL2ltYWdlLmJtcCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnVW5zdXBwb3J0ZWQgaW1hZ2UgZm9ybWF0JyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBhY2NlcHQgYWxsIHN1cHBvcnRlZCBmb3JtYXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3VwcG9ydGVkRm9ybWF0cyA9IFsnLmpwZycsICcuanBlZycsICcucG5nJywgJy5naWYnLCAnLndlYnAnXTtcblxuICAgICAgZm9yIChjb25zdCBmb3JtYXQgb2Ygc3VwcG9ydGVkRm9ybWF0cykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLnZhbGlkYXRlSW1hZ2UoYGZpbGU6Ly9pbWFnZSR7Zm9ybWF0fWApO1xuICAgICAgICBleHBlY3QocmVzdWx0LmlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB2YWxpZGF0aW9uIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZpbGVTeXN0ZW0uZ2V0SW5mb0FzeW5jLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignUGVybWlzc2lvbiBkZW5pZWQnKSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudmFsaWRhdGVJbWFnZSgnZmlsZTovL2ludmFsaWQuanBnJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoe1xuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gdmFsaWRhdGUgaW1hZ2UnLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUZW1wIEZpbGUgQ2xlYW51cCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNsZWFudXAgdGVtcCBpbWFnZXMgaW4gY2FjaGUvdGVtcCBkaXJlY3RvcmllcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRlbXBVcmlzID0gW1xuICAgICAgICAnZmlsZTovL2NhY2hlL2NvbXByZXNzZWQxLmpwZycsXG4gICAgICAgICdmaWxlOi8vdGVtcC9pbWFnZTIucG5nJyxcbiAgICAgICAgJ2ZpbGU6Ly9JbWFnZU1hbmlwdWxhdG9yL3Jlc3VsdDMuanBlZycsXG4gICAgICBdO1xuXG4gICAgICBhd2FpdCBzZXJ2aWNlLmNsZWFudXBUZW1wSW1hZ2VzKHRlbXBVcmlzKTtcblxuICAgICAgZXhwZWN0KG1vY2tGaWxlU3lzdGVtLmRlbGV0ZUFzeW5jKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG4gICAgICBleHBlY3QobW9ja0ZpbGVTeXN0ZW0uZGVsZXRlQXN5bmMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdmaWxlOi8vY2FjaGUvY29tcHJlc3NlZDEuanBnJywge1xuICAgICAgICBpZGVtcG90ZW50OiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBkZWxldGUgZmlsZXMgb3V0c2lkZSB0ZW1wL2NhY2hlIGRpcmVjdG9yaWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2FmZVVyaXMgPSBbXG4gICAgICAgICdmaWxlOi8vZG9jdW1lbnRzL3Bob3RvLmpwZycsXG4gICAgICAgICdmaWxlOi8vZG93bmxvYWRzL2ltYWdlLnBuZycsXG4gICAgICBdO1xuXG4gICAgICBhd2FpdCBzZXJ2aWNlLmNsZWFudXBUZW1wSW1hZ2VzKHNhZmVVcmlzKTtcblxuICAgICAgZXhwZWN0KG1vY2tGaWxlU3lzdGVtLmRlbGV0ZUFzeW5jKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY2xlYW51cCBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGaWxlU3lzdGVtLmRlbGV0ZUFzeW5jLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRGVsZXRlIGZhaWxlZCcpKTtcblxuICAgICAgY29uc3QgdGVtcFVyaSA9IFsnZmlsZTovL2NhY2hlL3RlbXAuanBnJ107XG5cbiAgICAgIC8vIFNob3VsZCBub3QgdGhyb3dcbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLmNsZWFudXBUZW1wSW1hZ2VzKHRlbXBVcmkpKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW1hZ2UgRGltZW5zaW9ucycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdldCBpbWFnZSBkaW1lbnNpb25zIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tJbWFnZU1hbmlwdWxhdG9yLm1hbmlwdWxhdGVBc3luYy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHVyaTogJ2ZpbGU6Ly9vcmlnaW5hbC5qcGcnLFxuICAgICAgICB3aWR0aDogNDAwMCxcbiAgICAgICAgaGVpZ2h0OiAzMDAwLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBhd2FpdCBzZXJ2aWNlLmdldEltYWdlRGltZW5zaW9ucygnZmlsZTovL2lucHV0LmpwZycpO1xuXG4gICAgICBleHBlY3QoZGltZW5zaW9ucykudG9FcXVhbCh7IHdpZHRoOiA0MDAwLCBoZWlnaHQ6IDMwMDAgfSk7XG4gICAgICBleHBlY3QobW9ja0ltYWdlTWFuaXB1bGF0b3IubWFuaXB1bGF0ZUFzeW5jKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2ZpbGU6Ly9pbnB1dC5qcGcnLFxuICAgICAgICBbXSxcbiAgICAgICAgeyBmb3JtYXQ6ICdqcGVnJyB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbnVsbCB3aGVuIGRpbWVuc2lvbnMgY2Fubm90IGJlIHJldHJpZXZlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tJbWFnZU1hbmlwdWxhdG9yLm1hbmlwdWxhdGVBc3luYy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0ludmFsaWQgaW1hZ2UnKSk7XG5cbiAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBhd2FpdCBzZXJ2aWNlLmdldEltYWdlRGltZW5zaW9ucygnZmlsZTovL2ludmFsaWQuanBnJyk7XG5cbiAgICAgIGV4cGVjdChkaW1lbnNpb25zKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRmlsZSBTaXplIEZvcm1hdHRpbmcnLCAoKSA9PiB7XG4gICAgLy8gVGVzdGluZyBwcml2YXRlIG1ldGhvZCB2aWEgaW5zdGFuY2VcbiAgICBpdCgnc2hvdWxkIGZvcm1hdCBmaWxlIHNpemVzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGZvcm1hdE1ldGhvZCA9IChzZXJ2aWNlIGFzIGFueSkuZm9ybWF0RmlsZVNpemUuYmluZChzZXJ2aWNlKTtcblxuICAgICAgZXhwZWN0KGZvcm1hdE1ldGhvZCgwKSkudG9CZSgnMCBCJyk7XG4gICAgICBleHBlY3QoZm9ybWF0TWV0aG9kKDUxMikpLnRvQmUoJzUxMiBCJyk7XG4gICAgICBleHBlY3QoZm9ybWF0TWV0aG9kKDEwMjQpKS50b0JlKCcxIEtCJyk7XG4gICAgICBleHBlY3QoZm9ybWF0TWV0aG9kKDE1MzYpKS50b0JlKCcxLjUgS0InKTtcbiAgICAgIGV4cGVjdChmb3JtYXRNZXRob2QoMTA0ODU3NikpLnRvQmUoJzEgTUInKTtcbiAgICAgIGV4cGVjdChmb3JtYXRNZXRob2QoMjE0NzQ4MzY0OCkpLnRvQmUoJzIgR0InKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0VkZ2UgQ2FzZXMgYW5kIEVycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbXByZXNzaW9uIHdpdGggemVybyBvcmlnaW5hbCBzaXplJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZpbGVTeXN0ZW0uZ2V0SW5mb0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGV4aXN0czogdHJ1ZSxcbiAgICAgICAgc2l6ZTogMCxcbiAgICAgICAgdXJpOiAnJyxcbiAgICAgICAgaXNEaXJlY3Rvcnk6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuY29tcHJlc3NJbWFnZSgnZmlsZTovL2VtcHR5LmpwZycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNvbXByZXNzaW9uUmF0aW8pLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wcmVzc2lvbiB3aXRoIG5vbi1leGlzdGVudCBjb21wcmVzc2VkIGZpbGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmlsZVN5c3RlbS5nZXRJbmZvQXN5bmNcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGV4aXN0czogdHJ1ZSwgc2l6ZTogMTAwMDAwMCwgdXJpOiAnJywgaXNEaXJlY3Rvcnk6IGZhbHNlIH0pXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBleGlzdHM6IGZhbHNlLCBzaXplOiAwLCB1cmk6ICcnLCBpc0RpcmVjdG9yeTogZmFsc2UgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuY29tcHJlc3NJbWFnZSgnZmlsZTovL2lucHV0LmpwZycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnNpemUpLnRvQmUoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbXByZXNzaW9uUmF0aW8pLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBiYXRjaCBjb21wcmVzc2lvbiB3aXRoIG1peGVkIHJlc3VsdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmNcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IHVyaTogJ2ZpbGU6Ly9jb21wMS5qcGcnLCB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9KVxuICAgICAgICAubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignQ29tcHJlc3Npb24gZmFpbGVkJykpXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyB1cmk6ICdmaWxlOi8vY29tcDMuanBnJywgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSlcbiAgICAgICAgLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0NvbXByZXNzaW9uIGZhaWxlZCcpKTtcblxuICAgICAgY29uc3QgdXJpcyA9IFsnaW1nMS5qcGcnLCAnaW1nMi5qcGcnLCAnaW1nMy5qcGcnLCAnaW1nNC5qcGcnXTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBzZXJ2aWNlLmNvbXByZXNzSW1hZ2VzKHVyaXMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBpbWFnZSB3aXRoIGVkZ2UgY2FzZSBmaWxlIHNpemVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gRXhhY3RseSAyME1CIHNob3VsZCBiZSB2YWxpZFxuICAgICAgbW9ja0ZpbGVTeXN0ZW0uZ2V0SW5mb0FzeW5jLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGV4aXN0czogdHJ1ZSxcbiAgICAgICAgc2l6ZTogMjAgKiAxMDI0ICogMTAyNCxcbiAgICAgICAgdXJpOiAnJyxcbiAgICAgICAgaXNEaXJlY3Rvcnk6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UudmFsaWRhdGVJbWFnZSgnZmlsZTovL2V4YWN0bHkyMG1iLmpwZycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTG9nZ2luZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGxvZyBjb21wcmVzc2lvbiBzdGFydCBhbmQgY29tcGxldGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSByZXF1aXJlKCdAcGF3ZmVjdG1hdGNoL2NvcmUnKTtcblxuICAgICAgYXdhaXQgc2VydmljZS5jb21wcmVzc0ltYWdlKCdmaWxlOi8vaW5wdXQuanBnJyk7XG5cbiAgICAgIGV4cGVjdChsb2dnZXIuaW5mbykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdTdGFydGluZyBpbWFnZSBjb21wcmVzc2lvbicsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICB1cmk6IGV4cGVjdC5hbnkoU3RyaW5nKSxcbiAgICAgICAgICBvcHRpb25zOiBleHBlY3QuYW55KE9iamVjdCksXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobG9nZ2VyLmluZm8pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnSW1hZ2UgY29tcHJlc3Npb24gY29tcGxldGVkJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG9yaWdpbmFsU2l6ZTogZXhwZWN0LmFueShTdHJpbmcpLFxuICAgICAgICAgIGNvbXByZXNzZWRTaXplOiBleHBlY3QuYW55KFN0cmluZyksXG4gICAgICAgICAgY29tcHJlc3Npb25SYXRpbzogZXhwZWN0LmFueShTdHJpbmcpLFxuICAgICAgICAgIGRpbWVuc2lvbnM6IGV4cGVjdC5hbnkoU3RyaW5nKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZyBjb21wcmVzc2lvbiBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGxvZ2dlciB9ID0gcmVxdWlyZSgnQHBhd2ZlY3RtYXRjaC9jb3JlJyk7XG4gICAgICBtb2NrSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdUZXN0IGVycm9yJykpO1xuXG4gICAgICBhd2FpdCBleHBlY3Qoc2VydmljZS5jb21wcmVzc0ltYWdlKCdmaWxlOi8vaW5wdXQuanBnJykpLnJlamVjdHMudG9UaHJvdygpO1xuXG4gICAgICBleHBlY3QobG9nZ2VyLmVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ0ltYWdlIGNvbXByZXNzaW9uIGZhaWxlZCcsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBlcnJvcjogZXhwZWN0LmFueShFcnJvciksXG4gICAgICAgICAgaW1hZ2VVcmk6ICdmaWxlOi8vaW5wdXQuanBnJyxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBcUJBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyx3QkFBd0IsRUFBRTtFQUFBLE9BQU87SUFDekNDLGVBQWUsRUFBRUMsYUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUMxQkMsVUFBVSxFQUFFO01BQ1ZDLElBQUksRUFBRSxNQUFNO01BQ1pDLEdBQUcsRUFBRTtJQUNQO0VBQ0YsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdIUCxXQUFBLEdBQUtDLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtFQUFBLE9BQU87SUFDbkNPLFlBQVksRUFBRUwsYUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUN2QkssV0FBVyxFQUFFTixhQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN2QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hKLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG9CQUFvQixFQUFFO0VBQUEsT0FBTztJQUNyQ1MsTUFBTSxFQUFFO01BQ05DLElBQUksRUFBRVIsYUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUNmUSxLQUFLLEVBQUVULGFBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDaEJTLElBQUksRUFBRVYsYUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDaEI7RUFD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