793e7366d2f762b18ed65859b9692abf
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useAIPhotoAnalyzer = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var ImagePicker = _interopRequireWildcard(require("expo-image-picker"));
var _reactNative = require("react-native");
var _core = require("@pawfectmatch/core");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var useAIPhotoAnalyzer = exports.useAIPhotoAnalyzer = function useAIPhotoAnalyzer() {
  var _useState = (0, _react.useState)([]),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    selectedPhotos = _useState2[0],
    setSelectedPhotos = _useState2[1];
  var _useState3 = (0, _react.useState)(null),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    analysisResult = _useState4[0],
    setAnalysisResult = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    isAnalyzing = _useState6[0],
    setIsAnalyzing = _useState6[1];
  var _useState7 = (0, _react.useState)(null),
    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),
    error = _useState8[0],
    setError = _useState8[1];
  var requestPermissions = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    var _yield$ImagePicker$re = yield ImagePicker.requestMediaLibraryPermissionsAsync(),
      status = _yield$ImagePicker$re.status;
    if (status !== "granted") {
      _reactNative.Alert.alert("Permission Required", "We need access to your photo library to analyze pet photos.", [{
        text: "OK"
      }]);
      return false;
    }
    return true;
  }), []);
  var pickImages = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    var hasPermission = yield requestPermissions();
    if (!hasPermission) return;
    try {
      var result = yield ImagePicker.launchImageLibraryAsync({
        mediaTypes: ImagePicker.MediaTypeOptions.Images,
        allowsMultipleSelection: true,
        quality: 0.8,
        aspect: [4, 3]
      });
      if (!result.canceled && result.assets) {
        var newPhotos = result.assets.map(function (asset) {
          return asset.uri;
        });
        setSelectedPhotos(function (prev) {
          return [].concat((0, _toConsumableArray2.default)(prev), (0, _toConsumableArray2.default)(newPhotos)).slice(0, 5);
        });
        setError(null);
      }
    } catch (err) {
      _core.logger.error("Error picking images:", {
        error: err
      });
      setError("Failed to select images. Please try again.");
    }
  }), [requestPermissions]);
  var takePhoto = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    var _yield$ImagePicker$re2 = yield ImagePicker.requestCameraPermissionsAsync(),
      status = _yield$ImagePicker$re2.status;
    if (status !== "granted") {
      _reactNative.Alert.alert("Permission Required", "We need access to your camera to take pet photos.", [{
        text: "OK"
      }]);
      return;
    }
    try {
      var result = yield ImagePicker.launchCameraAsync({
        mediaTypes: ImagePicker.MediaTypeOptions.Images,
        quality: 0.8,
        aspect: [4, 3]
      });
      if (!result.canceled && result.assets && result.assets[0]) {
        var newPhoto = result.assets[0].uri;
        setSelectedPhotos(function (prev) {
          return [].concat((0, _toConsumableArray2.default)(prev), [newPhoto]).slice(0, 5);
        });
        setError(null);
      }
    } catch (err) {
      _core.logger.error("Error taking photo:", {
        error: err
      });
      setError("Failed to take photo. Please try again.");
    }
  }), []);
  var analyzePhotos = (0, _react.useCallback)(function () {
    var _ref4 = (0, _asyncToGenerator2.default)(function* (photoUris) {
      if (photoUris.length === 0) {
        var errorMsg = "Please select at least one photo to analyze.";
        setError(errorMsg);
        throw new Error(errorMsg);
      }
      setIsAnalyzing(true);
      setError(null);
      try {
        var _yield$import = yield Promise.resolve().then(function () {
            return _interopRequireWildcard(require("../../../services/api"));
          }),
          api = _yield$import.api;
        var result = yield api.ai.analyzePhotos(photoUris);
        setAnalysisResult(result);
        _core.logger.info("Photo analysis completed", {
          photoCount: photoUris.length,
          primaryBreed: result.breed_analysis.primary_breed,
          matchabilityScore: result.matchability_score
        });
        return result;
      } catch (err) {
        var errorMessage = err instanceof Error ? err.message : "Failed to analyze photos. Please try again.";
        setError(errorMessage);
        _core.logger.error("Photo analysis error:", {
          error: err,
          photoCount: photoUris.length
        });
        var mockResult = {
          breed_analysis: {
            primary_breed: "Golden Retriever",
            confidence: 0.92,
            secondary_breeds: [{
              breed: "Labrador Retriever",
              confidence: 0.15
            }, {
              breed: "Bernese Mountain Dog",
              confidence: 0.08
            }]
          },
          health_assessment: {
            age_estimate: 2.5,
            health_score: 88,
            recommendations: ["Regular exercise is important", "Maintain healthy weight", "Annual veterinary checkups"]
          },
          photo_quality: {
            overall_score: 85,
            lighting_score: 90,
            composition_score: 80,
            clarity_score: 88
          },
          matchability_score: 92,
          ai_insights: ["Friendly and approachable expression", "Well-groomed coat suggests good care", "Energetic pose indicates playful personality", "Clear, high-quality image enhances visibility"]
        };
        setAnalysisResult(mockResult);
        _core.logger.info("Using mock photo analysis result");
        return mockResult;
      } finally {
        setIsAnalyzing(false);
      }
    });
    return function (_x) {
      return _ref4.apply(this, arguments);
    };
  }(), []);
  var removePhoto = (0, _react.useCallback)(function (index) {
    setSelectedPhotos(function (prev) {
      return prev.filter(function (_, i) {
        return i !== index;
      });
    });
  }, []);
  var resetAnalysis = (0, _react.useCallback)(function () {
    setSelectedPhotos([]);
    setAnalysisResult(null);
    setError(null);
  }, []);
  var clearError = (0, _react.useCallback)(function () {
    setError(null);
  }, []);
  return {
    analyzePhotos: analyzePhotos,
    isAnalyzing: isAnalyzing,
    analysisResult: analysisResult,
    error: error,
    clearError: clearError,
    resetAnalysis: resetAnalysis,
    pickImages: pickImages,
    takePhoto: takePhoto,
    selectedPhotos: selectedPhotos,
    removePhoto: removePhoto,
    requestPermissions: requestPermissions
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiSW1hZ2VQaWNrZXIiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9yZWFjdE5hdGl2ZSIsIl9jb3JlIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1c2VBSVBob3RvQW5hbHl6ZXIiLCJleHBvcnRzIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwic2VsZWN0ZWRQaG90b3MiLCJzZXRTZWxlY3RlZFBob3RvcyIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0IiwiYW5hbHlzaXNSZXN1bHQiLCJzZXRBbmFseXNpc1Jlc3VsdCIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2IiwiaXNBbmFseXppbmciLCJzZXRJc0FuYWx5emluZyIsIl91c2VTdGF0ZTciLCJfdXNlU3RhdGU4IiwiZXJyb3IiLCJzZXRFcnJvciIsInJlcXVlc3RQZXJtaXNzaW9ucyIsInVzZUNhbGxiYWNrIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3lpZWxkJEltYWdlUGlja2VyJHJlIiwicmVxdWVzdE1lZGlhTGlicmFyeVBlcm1pc3Npb25zQXN5bmMiLCJzdGF0dXMiLCJBbGVydCIsImFsZXJ0IiwidGV4dCIsInBpY2tJbWFnZXMiLCJoYXNQZXJtaXNzaW9uIiwicmVzdWx0IiwibGF1bmNoSW1hZ2VMaWJyYXJ5QXN5bmMiLCJtZWRpYVR5cGVzIiwiTWVkaWFUeXBlT3B0aW9ucyIsIkltYWdlcyIsImFsbG93c011bHRpcGxlU2VsZWN0aW9uIiwicXVhbGl0eSIsImFzcGVjdCIsImNhbmNlbGVkIiwiYXNzZXRzIiwibmV3UGhvdG9zIiwibWFwIiwiYXNzZXQiLCJ1cmkiLCJwcmV2IiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsInNsaWNlIiwiZXJyIiwibG9nZ2VyIiwidGFrZVBob3RvIiwiX3lpZWxkJEltYWdlUGlja2VyJHJlMiIsInJlcXVlc3RDYW1lcmFQZXJtaXNzaW9uc0FzeW5jIiwibGF1bmNoQ2FtZXJhQXN5bmMiLCJuZXdQaG90byIsImFuYWx5emVQaG90b3MiLCJfcmVmNCIsInBob3RvVXJpcyIsImxlbmd0aCIsImVycm9yTXNnIiwiRXJyb3IiLCJfeWllbGQkaW1wb3J0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiYXBpIiwiYWkiLCJpbmZvIiwicGhvdG9Db3VudCIsInByaW1hcnlCcmVlZCIsImJyZWVkX2FuYWx5c2lzIiwicHJpbWFyeV9icmVlZCIsIm1hdGNoYWJpbGl0eVNjb3JlIiwibWF0Y2hhYmlsaXR5X3Njb3JlIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsIm1vY2tSZXN1bHQiLCJjb25maWRlbmNlIiwic2Vjb25kYXJ5X2JyZWVkcyIsImJyZWVkIiwiaGVhbHRoX2Fzc2Vzc21lbnQiLCJhZ2VfZXN0aW1hdGUiLCJoZWFsdGhfc2NvcmUiLCJyZWNvbW1lbmRhdGlvbnMiLCJwaG90b19xdWFsaXR5Iiwib3ZlcmFsbF9zY29yZSIsImxpZ2h0aW5nX3Njb3JlIiwiY29tcG9zaXRpb25fc2NvcmUiLCJjbGFyaXR5X3Njb3JlIiwiYWlfaW5zaWdodHMiLCJfeCIsImFwcGx5IiwiYXJndW1lbnRzIiwicmVtb3ZlUGhvdG8iLCJpbmRleCIsImZpbHRlciIsIl8iLCJyZXNldEFuYWx5c2lzIiwiY2xlYXJFcnJvciJdLCJzb3VyY2VzIjpbInVzZUFJUGhvdG9BbmFseXplci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIHVzZUFJUGhvdG9BbmFseXplciBIb29rXG4gKiBNYW5hZ2VzIEFJLXBvd2VyZWQgcGhvdG8gYW5hbHlzaXMgZm9yIHBldCBwcm9maWxlc1xuICovXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIEltYWdlUGlja2VyIGZyb20gXCJleHBvLWltYWdlLXBpY2tlclwiO1xuaW1wb3J0IHsgQWxlcnQgfSBmcm9tIFwicmVhY3QtbmF0aXZlXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiQHBhd2ZlY3RtYXRjaC9jb3JlXCI7XG5cbmludGVyZmFjZSBQaG90b0FuYWx5c2lzUmVzdWx0IHtcbiAgYnJlZWRfYW5hbHlzaXM6IHtcbiAgICBwcmltYXJ5X2JyZWVkOiBzdHJpbmc7XG4gICAgY29uZmlkZW5jZTogbnVtYmVyO1xuICAgIHNlY29uZGFyeV9icmVlZHM/OiBBcnJheTx7IGJyZWVkOiBzdHJpbmc7IGNvbmZpZGVuY2U6IG51bWJlciB9PjtcbiAgfTtcbiAgaGVhbHRoX2Fzc2Vzc21lbnQ6IHtcbiAgICBhZ2VfZXN0aW1hdGU6IG51bWJlcjtcbiAgICBoZWFsdGhfc2NvcmU6IG51bWJlcjtcbiAgICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdO1xuICB9O1xuICBwaG90b19xdWFsaXR5OiB7XG4gICAgb3ZlcmFsbF9zY29yZTogbnVtYmVyO1xuICAgIGxpZ2h0aW5nX3Njb3JlOiBudW1iZXI7XG4gICAgY29tcG9zaXRpb25fc2NvcmU6IG51bWJlcjtcbiAgICBjbGFyaXR5X3Njb3JlOiBudW1iZXI7XG4gIH07XG4gIG1hdGNoYWJpbGl0eV9zY29yZTogbnVtYmVyO1xuICBhaV9pbnNpZ2h0czogc3RyaW5nW107XG59XG5cbmludGVyZmFjZSBVc2VBSVBob3RvQW5hbHl6ZXJSZXR1cm4ge1xuICBhbmFseXplUGhvdG9zOiAocGhvdG9VcmlzOiBzdHJpbmdbXSkgPT4gUHJvbWlzZTxQaG90b0FuYWx5c2lzUmVzdWx0PjtcbiAgaXNBbmFseXppbmc6IGJvb2xlYW47XG4gIGFuYWx5c2lzUmVzdWx0OiBQaG90b0FuYWx5c2lzUmVzdWx0IHwgbnVsbDtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIGNsZWFyRXJyb3I6ICgpID0+IHZvaWQ7XG4gIHJlc2V0QW5hbHlzaXM6ICgpID0+IHZvaWQ7XG4gIHBpY2tJbWFnZXM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHRha2VQaG90bzogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2VsZWN0ZWRQaG90b3M6IHN0cmluZ1tdO1xuICByZW1vdmVQaG90bzogKGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gIHJlcXVlc3RQZXJtaXNzaW9uczogKCkgPT4gUHJvbWlzZTxib29sZWFuPjtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZUFJUGhvdG9BbmFseXplciA9ICgpOiBVc2VBSVBob3RvQW5hbHl6ZXJSZXR1cm4gPT4ge1xuICBjb25zdCBbc2VsZWN0ZWRQaG90b3MsIHNldFNlbGVjdGVkUGhvdG9zXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFthbmFseXNpc1Jlc3VsdCwgc2V0QW5hbHlzaXNSZXN1bHRdID1cbiAgICB1c2VTdGF0ZTxQaG90b0FuYWx5c2lzUmVzdWx0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0FuYWx5emluZywgc2V0SXNBbmFseXppbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IHJlcXVlc3RQZXJtaXNzaW9ucyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gYXdhaXQgSW1hZ2VQaWNrZXIucmVxdWVzdE1lZGlhTGlicmFyeVBlcm1pc3Npb25zQXN5bmMoKTtcbiAgICBpZiAoc3RhdHVzICE9PSBcImdyYW50ZWRcIikge1xuICAgICAgQWxlcnQuYWxlcnQoXG4gICAgICAgIFwiUGVybWlzc2lvbiBSZXF1aXJlZFwiLFxuICAgICAgICBcIldlIG5lZWQgYWNjZXNzIHRvIHlvdXIgcGhvdG8gbGlicmFyeSB0byBhbmFseXplIHBldCBwaG90b3MuXCIsXG4gICAgICAgIFt7IHRleHQ6IFwiT0tcIiB9XSxcbiAgICAgICk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgcGlja0ltYWdlcyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gYXdhaXQgcmVxdWVzdFBlcm1pc3Npb25zKCk7XG4gICAgaWYgKCFoYXNQZXJtaXNzaW9uKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgSW1hZ2VQaWNrZXIubGF1bmNoSW1hZ2VMaWJyYXJ5QXN5bmMoe1xuICAgICAgICBtZWRpYVR5cGVzOiBJbWFnZVBpY2tlci5NZWRpYVR5cGVPcHRpb25zLkltYWdlcyxcbiAgICAgICAgYWxsb3dzTXVsdGlwbGVTZWxlY3Rpb246IHRydWUsXG4gICAgICAgIHF1YWxpdHk6IDAuOCxcbiAgICAgICAgYXNwZWN0OiBbNCwgM10sXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXN1bHQuY2FuY2VsZWQgJiYgcmVzdWx0LmFzc2V0cykge1xuICAgICAgICBjb25zdCBuZXdQaG90b3MgPSByZXN1bHQuYXNzZXRzLm1hcCgoYXNzZXQ6IHsgdXJpOiBzdHJpbmcgfSkgPT4gYXNzZXQudXJpKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRQaG90b3MoKHByZXYpID0+IFsuLi5wcmV2LCAuLi5uZXdQaG90b3NdLnNsaWNlKDAsIDUpKTsgLy8gTGltaXQgdG8gNSBwaG90b3NcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciBwaWNraW5nIGltYWdlczpcIiwgeyBlcnJvcjogZXJyIH0pO1xuICAgICAgc2V0RXJyb3IoXCJGYWlsZWQgdG8gc2VsZWN0IGltYWdlcy4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgfVxuICB9LCBbcmVxdWVzdFBlcm1pc3Npb25zXSk7XG5cbiAgY29uc3QgdGFrZVBob3RvID0gdXNlQ2FsbGJhY2soYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzIH0gPSBhd2FpdCBJbWFnZVBpY2tlci5yZXF1ZXN0Q2FtZXJhUGVybWlzc2lvbnNBc3luYygpO1xuICAgIGlmIChzdGF0dXMgIT09IFwiZ3JhbnRlZFwiKSB7XG4gICAgICBBbGVydC5hbGVydChcbiAgICAgICAgXCJQZXJtaXNzaW9uIFJlcXVpcmVkXCIsXG4gICAgICAgIFwiV2UgbmVlZCBhY2Nlc3MgdG8geW91ciBjYW1lcmEgdG8gdGFrZSBwZXQgcGhvdG9zLlwiLFxuICAgICAgICBbeyB0ZXh0OiBcIk9LXCIgfV0sXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBJbWFnZVBpY2tlci5sYXVuY2hDYW1lcmFBc3luYyh7XG4gICAgICAgIG1lZGlhVHlwZXM6IEltYWdlUGlja2VyLk1lZGlhVHlwZU9wdGlvbnMuSW1hZ2VzLFxuICAgICAgICBxdWFsaXR5OiAwLjgsXG4gICAgICAgIGFzcGVjdDogWzQsIDNdLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzdWx0LmNhbmNlbGVkICYmIHJlc3VsdC5hc3NldHMgJiYgcmVzdWx0LmFzc2V0c1swXSkge1xuICAgICAgICBjb25zdCBuZXdQaG90byA9IHJlc3VsdC5hc3NldHNbMF0udXJpO1xuICAgICAgICBzZXRTZWxlY3RlZFBob3RvcygocHJldikgPT4gWy4uLnByZXYsIG5ld1Bob3RvXS5zbGljZSgwLCA1KSk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiRXJyb3IgdGFraW5nIHBob3RvOlwiLCB7IGVycm9yOiBlcnIgfSk7XG4gICAgICBzZXRFcnJvcihcIkZhaWxlZCB0byB0YWtlIHBob3RvLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBhbmFseXplUGhvdG9zID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHBob3RvVXJpczogc3RyaW5nW10pOiBQcm9taXNlPFBob3RvQW5hbHlzaXNSZXN1bHQ+ID0+IHtcbiAgICAgIGlmIChwaG90b1VyaXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gXCJQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBwaG90byB0byBhbmFseXplLlwiO1xuICAgICAgICBzZXRFcnJvcihlcnJvck1zZyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XG4gICAgICB9XG5cbiAgICAgIHNldElzQW5hbHl6aW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEltcG9ydCBhcGkgZHluYW1pY2FsbHkgdG8gYXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jaWVzXG4gICAgICAgIGNvbnN0IHsgYXBpIH0gPSBhd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9zZXJ2aWNlcy9hcGlcIik7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwaS5haS5hbmFseXplUGhvdG9zKHBob3RvVXJpcyk7XG4gICAgICAgIHNldEFuYWx5c2lzUmVzdWx0KHJlc3VsdCk7XG5cbiAgICAgICAgbG9nZ2VyLmluZm8oXCJQaG90byBhbmFseXNpcyBjb21wbGV0ZWRcIiwge1xuICAgICAgICAgIHBob3RvQ291bnQ6IHBob3RvVXJpcy5sZW5ndGgsXG4gICAgICAgICAgcHJpbWFyeUJyZWVkOiByZXN1bHQuYnJlZWRfYW5hbHlzaXMucHJpbWFyeV9icmVlZCxcbiAgICAgICAgICBtYXRjaGFiaWxpdHlTY29yZTogcmVzdWx0Lm1hdGNoYWJpbGl0eV9zY29yZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICAgIGVyciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICA/IGVyci5tZXNzYWdlXG4gICAgICAgICAgICA6IFwiRmFpbGVkIHRvIGFuYWx5emUgcGhvdG9zLiBQbGVhc2UgdHJ5IGFnYWluLlwiO1xuICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJQaG90byBhbmFseXNpcyBlcnJvcjpcIiwge1xuICAgICAgICAgIGVycm9yOiBlcnIsXG4gICAgICAgICAgcGhvdG9Db3VudDogcGhvdG9VcmlzLmxlbmd0aCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRm9yIGRlbW8gcHVycG9zZXMsIHJldHVybiBtb2NrIGFuYWx5c2lzXG4gICAgICAgIGNvbnN0IG1vY2tSZXN1bHQ6IFBob3RvQW5hbHlzaXNSZXN1bHQgPSB7XG4gICAgICAgICAgYnJlZWRfYW5hbHlzaXM6IHtcbiAgICAgICAgICAgIHByaW1hcnlfYnJlZWQ6IFwiR29sZGVuIFJldHJpZXZlclwiLFxuICAgICAgICAgICAgY29uZmlkZW5jZTogMC45MixcbiAgICAgICAgICAgIHNlY29uZGFyeV9icmVlZHM6IFtcbiAgICAgICAgICAgICAgeyBicmVlZDogXCJMYWJyYWRvciBSZXRyaWV2ZXJcIiwgY29uZmlkZW5jZTogMC4xNSB9LFxuICAgICAgICAgICAgICB7IGJyZWVkOiBcIkJlcm5lc2UgTW91bnRhaW4gRG9nXCIsIGNvbmZpZGVuY2U6IDAuMDggfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBoZWFsdGhfYXNzZXNzbWVudDoge1xuICAgICAgICAgICAgYWdlX2VzdGltYXRlOiAyLjUsXG4gICAgICAgICAgICBoZWFsdGhfc2NvcmU6IDg4LFxuICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXG4gICAgICAgICAgICAgIFwiUmVndWxhciBleGVyY2lzZSBpcyBpbXBvcnRhbnRcIixcbiAgICAgICAgICAgICAgXCJNYWludGFpbiBoZWFsdGh5IHdlaWdodFwiLFxuICAgICAgICAgICAgICBcIkFubnVhbCB2ZXRlcmluYXJ5IGNoZWNrdXBzXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGhvdG9fcXVhbGl0eToge1xuICAgICAgICAgICAgb3ZlcmFsbF9zY29yZTogODUsXG4gICAgICAgICAgICBsaWdodGluZ19zY29yZTogOTAsXG4gICAgICAgICAgICBjb21wb3NpdGlvbl9zY29yZTogODAsXG4gICAgICAgICAgICBjbGFyaXR5X3Njb3JlOiA4OCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1hdGNoYWJpbGl0eV9zY29yZTogOTIsXG4gICAgICAgICAgYWlfaW5zaWdodHM6IFtcbiAgICAgICAgICAgIFwiRnJpZW5kbHkgYW5kIGFwcHJvYWNoYWJsZSBleHByZXNzaW9uXCIsXG4gICAgICAgICAgICBcIldlbGwtZ3Jvb21lZCBjb2F0IHN1Z2dlc3RzIGdvb2QgY2FyZVwiLFxuICAgICAgICAgICAgXCJFbmVyZ2V0aWMgcG9zZSBpbmRpY2F0ZXMgcGxheWZ1bCBwZXJzb25hbGl0eVwiLFxuICAgICAgICAgICAgXCJDbGVhciwgaGlnaC1xdWFsaXR5IGltYWdlIGVuaGFuY2VzIHZpc2liaWxpdHlcIixcbiAgICAgICAgICBdLFxuICAgICAgICB9O1xuXG4gICAgICAgIHNldEFuYWx5c2lzUmVzdWx0KG1vY2tSZXN1bHQpO1xuICAgICAgICBsb2dnZXIuaW5mbyhcIlVzaW5nIG1vY2sgcGhvdG8gYW5hbHlzaXMgcmVzdWx0XCIpO1xuICAgICAgICByZXR1cm4gbW9ja1Jlc3VsdDtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzQW5hbHl6aW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtdLFxuICApO1xuXG4gIGNvbnN0IHJlbW92ZVBob3RvID0gdXNlQ2FsbGJhY2soKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBzZXRTZWxlY3RlZFBob3RvcygocHJldikgPT4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCByZXNldEFuYWx5c2lzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNlbGVjdGVkUGhvdG9zKFtdKTtcbiAgICBzZXRBbmFseXNpc1Jlc3VsdChudWxsKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGNsZWFyRXJyb3IgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4ge1xuICAgIGFuYWx5emVQaG90b3MsXG4gICAgaXNBbmFseXppbmcsXG4gICAgYW5hbHlzaXNSZXN1bHQsXG4gICAgZXJyb3IsXG4gICAgY2xlYXJFcnJvcixcbiAgICByZXNldEFuYWx5c2lzLFxuICAgIHBpY2tJbWFnZXMsXG4gICAgdGFrZVBob3RvLFxuICAgIHNlbGVjdGVkUGhvdG9zLFxuICAgIHJlbW92ZVBob3RvLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9ucyxcbiAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFJQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFDLHVCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxZQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxLQUFBLEdBQUFKLE9BQUE7QUFBNEMsU0FBQUUsd0JBQUFHLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFMLHVCQUFBLFlBQUFBLHdCQUFBRyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFB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