{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","createNativeWorkletsModule","_classCallCheck2","_createClass2","_classPrivateFieldLooseBase2","_classPrivateFieldLooseKey2","_errors","_specs","_valueUnpacker","NativeWorklets","_workletsModuleProxy","default","writable","global","__workletsModuleProxy","undefined","valueUnpackerCode","getValueUnpackerCode","WorkletsTurboModule","installTurboModule","ReanimatedError","key","makeShareableClone","shouldPersistRemote","nativeStateSource"],"sources":["NativeWorklets.ts"],"sourcesContent":["'use strict';\nimport type { IWorkletsModule } from '../../commonTypes';\nimport { ReanimatedError } from '../../errors';\nimport { WorkletsTurboModule } from '../../specs';\nimport { getValueUnpackerCode } from '../valueUnpacker';\nimport type { WorkletsModuleProxy } from './workletsModuleProxy';\n\nexport function createNativeWorkletsModule(): IWorkletsModule {\n  return new NativeWorklets();\n}\n\nclass NativeWorklets {\n  #workletsModuleProxy: WorkletsModuleProxy;\n\n  constructor() {\n    if (global.__workletsModuleProxy === undefined) {\n      const valueUnpackerCode = getValueUnpackerCode();\n      WorkletsTurboModule?.installTurboModule(valueUnpackerCode);\n    }\n    if (global.__workletsModuleProxy === undefined) {\n      throw new ReanimatedError(\n        `Native part of Reanimated doesn't seem to be initialized (Worklets).\nSee https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#native-part-of-reanimated-doesnt-seem-to-be-initialized for more details.`\n      );\n    }\n    this.#workletsModuleProxy = global.__workletsModuleProxy;\n  }\n\n  makeShareableClone<T>(\n    value: T,\n    shouldPersistRemote: boolean,\n    nativeStateSource?: object\n  ) {\n    return this.#workletsModuleProxy.makeShareableClone(\n      value,\n      shouldPersistRemote,\n      nativeStateSource\n    );\n  }\n}\n"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,sBAAA,GAAAC,OAAA;AAAAC,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,0BAAA,GAAAA,0BAAA;AAAA,IAAAC,gBAAA,GAAAP,sBAAA,CAAAC,OAAA;AAAA,IAAAO,aAAA,GAAAR,sBAAA,CAAAC,OAAA;AAAA,IAAAQ,4BAAA,GAAAT,sBAAA,CAAAC,OAAA;AAAA,IAAAS,2BAAA,GAAAV,sBAAA,CAAAC,OAAA;AAEb,IAAAU,OAAA,GAAAV,OAAA;AACA,IAAAW,MAAA,GAAAX,OAAA;AACA,IAAAY,cAAA,GAAAZ,OAAA;AAGO,SAASK,0BAA0BA,CAAA,EAAoB;EAC5D,OAAO,IAAIQ,cAAc,CAAC,CAAC;AAC7B;AAAC,IAAAC,oBAAA,OAAAL,2BAAA,CAAAM,OAAA;AAAA,IAEKF,cAAc;EAGlB,SAAAA,eAAA,EAAc;IAAA,IAAAP,gBAAA,CAAAS,OAAA,QAAAF,cAAA;IAAAZ,MAAA,CAAAC,cAAA,OAAAY,oBAAA;MAAAE,QAAA;MAAAZ,KAAA;IAAA;IACZ,IAAIa,MAAM,CAACC,qBAAqB,KAAKC,SAAS,EAAE;MAC9C,IAAMC,iBAAiB,GAAG,IAAAC,mCAAoB,EAAC,CAAC;MAChDC,0BAAmB,oBAAnBA,0BAAmB,CAAEC,kBAAkB,CAACH,iBAAiB,CAAC;IAC5D;IACA,IAAIH,MAAM,CAACC,qBAAqB,KAAKC,SAAS,EAAE;MAC9C,MAAM,IAAIK,uBAAe,CACvB;AACR,6JACM,CAAC;IACH;IACA,IAAAhB,4BAAA,CAAAO,OAAA,MAAI,EAAAD,oBAAA,EAAAA,oBAAA,IAAwBG,MAAM,CAACC,qBAAqB;EAC1D;EAAC,WAAAX,aAAA,CAAAQ,OAAA,EAAAF,cAAA;IAAAY,GAAA;IAAArB,KAAA,EAED,SAAAsB,kBAAkBA,CAChBtB,KAAQ,EACRuB,mBAA4B,EAC5BC,iBAA0B,EAC1B;MACA,OAAO,IAAApB,4BAAA,CAAAO,OAAA,MAAI,EAAAD,oBAAA,EAAAA,oBAAA,EAAsBY,kBAAkB,CACjDtB,KAAK,EACLuB,mBAAmB,EACnBC,iBACF,CAAC;IACH;EAAC;AAAA","ignoreList":[]}