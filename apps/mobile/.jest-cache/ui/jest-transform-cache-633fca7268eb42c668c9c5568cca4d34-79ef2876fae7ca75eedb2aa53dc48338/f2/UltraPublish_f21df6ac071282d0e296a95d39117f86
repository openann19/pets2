cd11690b96b96946dfa7b5e15be5df26
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.exportUltraVariants = exportUltraVariants;
exports.generateTrioCrops = generateTrioCrops;
exports.previewUltraVariants = previewUltraVariants;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _AutoCropEngine = require("./AutoCropEngine");
var _QualityTargets = require("./QualityTargets");
var _SuperRes = require("./SuperRes");
var _TiledUpscaler = require("./TiledUpscaler");
var _Unsharp = require("./Unsharp");
var _QualityScore = require("./QualityScore");
var _logger = require("../services/logger");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var PAD = {
  tight: 0.06,
  medium: 0.12,
  loose: 0.2
};
function computeCropForRatio(focus, imgW, imgH, ratio, padPct) {
  var ratioToNumber = function ratioToNumber(r) {
    if (r === "FREE") return NaN;
    var parts = r.split(":");
    if (parts.length !== 2) return NaN;
    var a = Number(parts[0]);
    var b = Number(parts[1]);
    if (!a || !b || isNaN(a) || isNaN(b)) return NaN;
    return a / b;
  };
  var padRect = function padRect(r, imgWidth, imgHeight, pad) {
    var clamp = function clamp(v, min, max) {
      return Math.max(min, Math.min(max, v));
    };
    var padX = r.width * pad;
    var padY = r.height * pad;
    var x = clamp(r.x - padX, 0, imgWidth);
    var y = clamp(r.y - padY, 0, imgHeight);
    var width = clamp(r.width + padX * 2, 1, imgWidth - x);
    var height = clamp(r.height + padY * 2, 1, imgHeight - y);
    return {
      x: x,
      y: y,
      width: width,
      height: height
    };
  };
  var ar = ratioToNumber(ratio);
  var padded = padRect(focus, imgW, imgH, padPct);
  var cx = padded.x + padded.width / 2;
  var cy = padded.y + padded.height / 2;
  var width;
  var height;
  var focusAR = padded.width / padded.height;
  if (isNaN(ar)) {
    width = padded.width;
    height = padded.height;
  } else if (focusAR >= ar) {
    width = padded.width;
    height = width / ar;
  } else {
    height = padded.height;
    width = height * ar;
  }
  width = Math.min(width, imgW);
  height = Math.min(height, imgH);
  var clamp = function clamp(v, min, max) {
    return Math.max(min, Math.min(max, v));
  };
  var x = cx - width / 2;
  var y = cy - height / 2;
  x = clamp(x, 0, imgW - width);
  y = clamp(y, 0, imgH - height);
  return {
    x: x,
    y: y,
    width: width,
    height: height
  };
}
function generateTrioCrops(_x, _x2, _x3) {
  return _generateTrioCrops.apply(this, arguments);
}
function _generateTrioCrops() {
  _generateTrioCrops = (0, _asyncToGenerator2.default)(function* (uri, ratio, detection) {
    var focus = detection.focus,
      size = detection.size;
    var crops = [];
    for (var kind of ["tight", "medium", "loose"]) {
      var padPct = PAD[kind];
      var crop = computeCropForRatio(focus, size.w, size.h, ratio, padPct);
      crops.push({
        kind: kind,
        crop: crop
      });
    }
    return crops;
  });
  return _generateTrioCrops.apply(this, arguments);
}
function exportUltraVariants(_x4) {
  return _exportUltraVariants.apply(this, arguments);
}
function _exportUltraVariants() {
  _exportUltraVariants = (0, _asyncToGenerator2.default)(function* (uri) {
    var ratios = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _QualityTargets.DEFAULT_RATIOS;
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    var onProgress = options.onProgress,
      _options$maxConcurren = options.maxConcurrency,
      maxConcurrency = _options$maxConcurren === void 0 ? 1 : _options$maxConcurren,
      sharpen = options.sharpen,
      _options$tiled = options.tiled,
      tiled = _options$tiled === void 0 ? false : _options$tiled,
      _options$autoPickBest = options.autoPickBestPerRatio,
      autoPickBestPerRatio = _options$autoPickBest === void 0 ? false : _options$autoPickBest,
      _options$quality = options.quality,
      quality = _options$quality === void 0 ? 1 : _options$quality;
    var detection = yield _AutoCropEngine.AutoCropEngine.detect(uri, {
      eyeWeight: 0.6,
      padPct: 0.16
    });
    if (!detection) {
      throw new Error("Failed to detect subject focus");
    }
    var allVariants = [];
    var completed = 0;
    var total = ratios.length * 3;
    var _loop = function* _loop() {
      var target = _QualityTargets.QualityTargets[ratio];
      var trios = yield generateTrioCrops(uri, ratio, detection);
      var candidates = [];
      for (var trio of trios) {
        try {
          var croppedUri = yield _AutoCropEngine.AutoCropEngine.applyCrop(uri, trio.crop, quality);
          var upscaledUri = void 0;
          if (tiled) {
            upscaledUri = yield (0, _TiledUpscaler.tileUpscaleAuto)(croppedUri, {
              targetW: target.minW,
              targetH: target.minH,
              quality: quality
            });
          } else {
            upscaledUri = yield _SuperRes.SuperRes.upscale(croppedUri, target.minW, target.minH);
          }
          var finalUri = sharpen ? yield (0, _Unsharp.unsharpMask)(upscaledUri, _objectSpread(_objectSpread({}, sharpen), {}, {
            quality: quality,
            format: "jpg"
          })) : upscaledUri;
          var variant = {
            ratio: ratio,
            kind: trio.kind,
            crop: trio.crop,
            outUri: finalUri,
            method: detection.method,
            targetW: target.minW,
            targetH: target.minH,
            size: detection.size
          };
          if (autoPickBestPerRatio) {
            candidates.push(variant);
          } else {
            allVariants.push(variant);
          }
          completed++;
          onProgress == null ? void 0 : onProgress(completed / total, variant);
          onProgress == null ? void 0 : onProgress(completed / total, null);
        } catch (error) {
          var err = error instanceof Error ? error : new Error(String(error));
          _logger.logger.error(`Failed to generate variant`, {
            ratio: ratio,
            kind: trio.kind,
            error: err
          });
          completed++;
          onProgress == null ? void 0 : onProgress(completed / total, null);
        }
      }
      if (autoPickBestPerRatio && candidates.length > 0) {
        try {
          var winner = yield (0, _QualityScore.pickSharpest)(candidates.map(function (c) {
            return c.outUri;
          }), 720, 0.72);
          var best = candidates.find(function (c) {
            return c.outUri === winner;
          });
          if (best) {
            allVariants.push(best);
          }
        } catch (error) {
          var _err = error instanceof Error ? error : new Error(String(error));
          _logger.logger.error(`Failed to pick sharpest`, {
            ratio: ratio,
            error: _err
          });
          var fallback = candidates[0];
          if (fallback) {
            allVariants.push(fallback);
          }
        }
      }
    };
    for (var ratio of ratios) {
      yield* _loop();
    }
    return allVariants;
  });
  return _exportUltraVariants.apply(this, arguments);
}
function previewUltraVariants(_x5) {
  return _previewUltraVariants.apply(this, arguments);
}
function _previewUltraVariants() {
  _previewUltraVariants = (0, _asyncToGenerator2.default)(function* (uri) {
    var ratios = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _QualityTargets.DEFAULT_RATIOS;
    var variants = yield exportUltraVariants(uri, ratios, {
      onProgress: function onProgress() {}
    });
    var withThumbs = [];
    for (var variant of variants) {
      try {
        var _yield$import = yield Promise.resolve().then(function () {
            return _interopRequireWildcard(require("expo-image-manipulator"));
          }),
          manipulateAsync = _yield$import.manipulateAsync;
        var _yield$import2 = yield Promise.resolve().then(function () {
            return _interopRequireWildcard(require("expo-image-manipulator"));
          }),
          SaveFormat = _yield$import2.SaveFormat;
        var thumb = yield manipulateAsync(variant.outUri, [{
          resize: {
            width: 240,
            height: 240
          }
        }], {
          compress: 0.9,
          format: SaveFormat.JPEG
        });
        withThumbs.push({
          variant: variant,
          thumbUri: thumb.uri
        });
      } catch (error) {
        var err = error instanceof Error ? error : new Error(String(error));
        _logger.logger.error("Failed to generate thumbnail", {
          error: err
        });
        withThumbs.push({
          variant: variant,
          thumbUri: variant.outUri
        });
      }
    }
    return withThumbs;
  });
  return _previewUltraVariants.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQXV0b0Nyb3BFbmdpbmUiLCJyZXF1aXJlIiwiX1F1YWxpdHlUYXJnZXRzIiwiX1N1cGVyUmVzIiwiX1RpbGVkVXBzY2FsZXIiLCJfVW5zaGFycCIsIl9RdWFsaXR5U2NvcmUiLCJfbG9nZ2VyIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiUEFEIiwidGlnaHQiLCJtZWRpdW0iLCJsb29zZSIsImNvbXB1dGVDcm9wRm9yUmF0aW8iLCJmb2N1cyIsImltZ1ciLCJpbWdIIiwicmF0aW8iLCJwYWRQY3QiLCJyYXRpb1RvTnVtYmVyIiwiTmFOIiwicGFydHMiLCJzcGxpdCIsImEiLCJOdW1iZXIiLCJiIiwiaXNOYU4iLCJwYWRSZWN0IiwiaW1nV2lkdGgiLCJpbWdIZWlnaHQiLCJwYWQiLCJjbGFtcCIsInYiLCJtaW4iLCJtYXgiLCJNYXRoIiwicGFkWCIsIndpZHRoIiwicGFkWSIsImhlaWdodCIsIngiLCJ5IiwiYXIiLCJwYWRkZWQiLCJjeCIsImN5IiwiZm9jdXNBUiIsImdlbmVyYXRlVHJpb0Nyb3BzIiwiX3giLCJfeDIiLCJfeDMiLCJfZ2VuZXJhdGVUcmlvQ3JvcHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJ1cmkiLCJkZXRlY3Rpb24iLCJzaXplIiwiY3JvcHMiLCJraW5kIiwiY3JvcCIsInciLCJoIiwiZXhwb3J0VWx0cmFWYXJpYW50cyIsIl94NCIsIl9leHBvcnRVbHRyYVZhcmlhbnRzIiwicmF0aW9zIiwidW5kZWZpbmVkIiwiREVGQVVMVF9SQVRJT1MiLCJvcHRpb25zIiwib25Qcm9ncmVzcyIsIl9vcHRpb25zJG1heENvbmN1cnJlbiIsIm1heENvbmN1cnJlbmN5Iiwic2hhcnBlbiIsIl9vcHRpb25zJHRpbGVkIiwidGlsZWQiLCJfb3B0aW9ucyRhdXRvUGlja0Jlc3QiLCJhdXRvUGlja0Jlc3RQZXJSYXRpbyIsIl9vcHRpb25zJHF1YWxpdHkiLCJxdWFsaXR5IiwiQXV0b0Nyb3BFbmdpbmUiLCJkZXRlY3QiLCJleWVXZWlnaHQiLCJFcnJvciIsImFsbFZhcmlhbnRzIiwiY29tcGxldGVkIiwidG90YWwiLCJfbG9vcCIsInRhcmdldCIsIlF1YWxpdHlUYXJnZXRzIiwidHJpb3MiLCJjYW5kaWRhdGVzIiwidHJpbyIsImNyb3BwZWRVcmkiLCJhcHBseUNyb3AiLCJ1cHNjYWxlZFVyaSIsInRpbGVVcHNjYWxlQXV0byIsInRhcmdldFciLCJtaW5XIiwidGFyZ2V0SCIsIm1pbkgiLCJTdXBlclJlcyIsInVwc2NhbGUiLCJmaW5hbFVyaSIsInVuc2hhcnBNYXNrIiwiZm9ybWF0IiwidmFyaWFudCIsIm91dFVyaSIsIm1ldGhvZCIsImVycm9yIiwiZXJyIiwiU3RyaW5nIiwibG9nZ2VyIiwid2lubmVyIiwicGlja1NoYXJwZXN0IiwibWFwIiwiYyIsImJlc3QiLCJmaW5kIiwiZmFsbGJhY2siLCJwcmV2aWV3VWx0cmFWYXJpYW50cyIsIl94NSIsIl9wcmV2aWV3VWx0cmFWYXJpYW50cyIsInZhcmlhbnRzIiwid2l0aFRodW1icyIsIl95aWVsZCRpbXBvcnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJtYW5pcHVsYXRlQXN5bmMiLCJfeWllbGQkaW1wb3J0MiIsIlNhdmVGb3JtYXQiLCJ0aHVtYiIsInJlc2l6ZSIsImNvbXByZXNzIiwiSlBFRyIsInRodW1iVXJpIl0sInNvdXJjZXMiOlsiVWx0cmFQdWJsaXNoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVWx0cmEgUHVibGlzaCBQaXBlbGluZVxuICogRXhwb3J0cyBtdWx0aXBsZSBjcm9wIHZhcmlhbnRzICh0aWdodC9tZWRpdW0vbG9vc2UpIGFjcm9zcyByYXRpb3Mgd2l0aCBzdXBlci1yZXNvbHV0aW9uXG4gKiBOb3cgd2l0aCB0aWxlLWJhc2VkIHVwc2NhbGluZywgdW5zaGFycCBtYXNrLCBhbmQgYXV0b21hdGljIHF1YWxpdHkgc2VsZWN0aW9uXG4gKi9cblxuaW1wb3J0IHsgQXV0b0Nyb3BFbmdpbmUsIHR5cGUgQXV0b0Nyb3BSZXN1bHQgfSBmcm9tIFwiLi9BdXRvQ3JvcEVuZ2luZVwiO1xuaW1wb3J0IHsgUXVhbGl0eVRhcmdldHMsIERFRkFVTFRfUkFUSU9TLCB0eXBlIEtub3duUmF0aW8gfSBmcm9tIFwiLi9RdWFsaXR5VGFyZ2V0c1wiO1xuaW1wb3J0IHsgU3VwZXJSZXMgfSBmcm9tIFwiLi9TdXBlclJlc1wiO1xuaW1wb3J0IHsgdGlsZVVwc2NhbGVBdXRvIH0gZnJvbSBcIi4vVGlsZWRVcHNjYWxlclwiO1xuaW1wb3J0IHsgdW5zaGFycE1hc2ssIHR5cGUgVW5zaGFycE9wdHMgfSBmcm9tIFwiLi9VbnNoYXJwXCI7XG5pbXBvcnQgeyBwaWNrU2hhcnBlc3QgfSBmcm9tIFwiLi9RdWFsaXR5U2NvcmVcIjtcbmltcG9ydCAqIGFzIEltYWdlTWFuaXB1bGF0b3IgZnJvbSBcImV4cG8taW1hZ2UtbWFuaXB1bGF0b3JcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9sb2dnZXJcIjtcblxudHlwZSBSZWN0ID0geyB4OiBudW1iZXI7IHk6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfTtcbnR5cGUgVHJpb0tpbmQgPSBcInRpZ2h0XCIgfCBcIm1lZGl1bVwiIHwgXCJsb29zZVwiO1xuXG5leHBvcnQgdHlwZSBVbHRyYVZhcmlhbnQgPSB7XG4gIHJhdGlvOiBLbm93blJhdGlvO1xuICBraW5kOiBUcmlvS2luZDtcbiAgY3JvcDogUmVjdDtcbiAgb3V0VXJpOiBzdHJpbmc7XG4gIG1ldGhvZDogXCJleWVzXCIgfCBcImZhY2VcIiB8IFwiZmFsbGJhY2tcIjtcbiAgdGFyZ2V0VzogbnVtYmVyO1xuICB0YXJnZXRIOiBudW1iZXI7XG4gIHNpemU6IHsgdzogbnVtYmVyOyBoOiBudW1iZXIgfTtcbiAgcHJvZ3Jlc3M/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFVsdHJhT3B0aW9ucyB7XG4gIC8qKiBQb3N0LXVwc2NhbGUgdW5zaGFycCBtYXNrIHNldHRpbmdzICovXG4gIHNoYXJwZW4/OiBVbnNoYXJwT3B0cztcbiAgLyoqIFVzZSB0aWxlLWJhc2VkIHVwc2NhbGVyIGlmIGF2YWlsYWJsZSAoZGVmYXVsdDogZmFsc2UsIHVzZXMgU3VwZXJSZXMpICovXG4gIHRpbGVkPzogYm9vbGVhbjtcbiAgLyoqIEZvciBlYWNoIHJhdGlvLCBwaWNrIHRoZSBzaGFycGVzdCBhbW9uZyB0aWdodC9tZWRpdW0vbG9vc2UgYW5kIHJldHVybiBvbmx5IHRoZSB3aW5uZXIgKi9cbiAgYXV0b1BpY2tCZXN0UGVyUmF0aW8/OiBib29sZWFuO1xuICAvKiogSlBFRyBxdWFsaXR5ICgwLi4xKSBmb3IgZmluYWwgc2F2ZSAoZGVmYXVsdDogMSkgKi9cbiAgcXVhbGl0eT86IG51bWJlcjtcbn1cblxuLy8gUGFkZGluZyBwZXJjZW50YWdlcyBmb3IgdHJpbyB2YXJpYW50c1xuY29uc3QgUEFEID0geyB0aWdodDogMC4wNiwgbWVkaXVtOiAwLjEyLCBsb29zZTogMC4yIH07XG5cbi8vIFRoaXMgZnVuY3Rpb24gd2FzIHJlbW92ZWQgYW5kIHJlcGxhY2VkIHdpdGggZ2VuZXJhdGVUcmlvQ3JvcHMgd2hpY2ggaGFzIGNsZWFuZXIgaW1wbGVtZW50YXRpb25cblxuLyoqXG4gKiBJbnRlcm5hbCBoZWxwZXIgdG8gY29tcHV0ZSBjcm9wIGZvciByYXRpbyAoaWYgZXhwb3NlZCBieSBBdXRvQ3JvcEVuZ2luZSlcbiAqIFRoaXMgcmV1c2VzIHRoZSBsb2dpYyBmcm9tIEF1dG9Dcm9wRW5naW5lIGJ1dCB3aXRoIGN1c3RvbSBwYWRkaW5nXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVDcm9wRm9yUmF0aW8oXG4gIGZvY3VzOiBSZWN0LFxuICBpbWdXOiBudW1iZXIsXG4gIGltZ0g6IG51bWJlcixcbiAgcmF0aW86IHN0cmluZyxcbiAgcGFkUGN0OiBudW1iZXJcbik6IFJlY3Qge1xuICBjb25zdCByYXRpb1RvTnVtYmVyID0gKHI6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gICAgaWYgKHIgPT09IFwiRlJFRVwiKSByZXR1cm4gTmFOO1xuICAgIGNvbnN0IHBhcnRzID0gci5zcGxpdChcIjpcIik7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMikgcmV0dXJuIE5hTjtcbiAgICBjb25zdCBhID0gTnVtYmVyKHBhcnRzWzBdKTtcbiAgICBjb25zdCBiID0gTnVtYmVyKHBhcnRzWzFdKTtcbiAgICBpZiAoIWEgfHwgIWIgfHwgaXNOYU4oYSkgfHwgaXNOYU4oYikpIHJldHVybiBOYU47XG4gICAgcmV0dXJuIGEgLyBiO1xuICB9O1xuXG4gIGNvbnN0IHBhZFJlY3QgPSAocjogUmVjdCwgaW1nV2lkdGg6IG51bWJlciwgaW1nSGVpZ2h0OiBudW1iZXIsIHBhZDogbnVtYmVyKTogUmVjdCA9PiB7XG4gICAgY29uc3QgY2xhbXAgPSAodjogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpID0+IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2KSk7XG4gICAgY29uc3QgcGFkWCA9IHIud2lkdGggKiBwYWQ7XG4gICAgY29uc3QgcGFkWSA9IHIuaGVpZ2h0ICogcGFkO1xuICAgIGNvbnN0IHggPSBjbGFtcChyLnggLSBwYWRYLCAwLCBpbWdXaWR0aCk7XG4gICAgY29uc3QgeSA9IGNsYW1wKHIueSAtIHBhZFksIDAsIGltZ0hlaWdodCk7XG4gICAgY29uc3Qgd2lkdGggPSBjbGFtcChyLndpZHRoICsgcGFkWCAqIDIsIDEsIGltZ1dpZHRoIC0geCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gY2xhbXAoci5oZWlnaHQgKyBwYWRZICogMiwgMSwgaW1nSGVpZ2h0IC0geSk7XG4gICAgcmV0dXJuIHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9O1xuICB9O1xuXG4gIGNvbnN0IGFyID0gcmF0aW9Ub051bWJlcihyYXRpbyk7XG4gIGNvbnN0IHBhZGRlZCA9IHBhZFJlY3QoZm9jdXMsIGltZ1csIGltZ0gsIHBhZFBjdCk7XG4gIGNvbnN0IGN4ID0gcGFkZGVkLnggKyBwYWRkZWQud2lkdGggLyAyO1xuICBjb25zdCBjeSA9IHBhZGRlZC55ICsgcGFkZGVkLmhlaWdodCAvIDI7XG5cbiAgbGV0IHdpZHRoOiBudW1iZXI7XG4gIGxldCBoZWlnaHQ6IG51bWJlcjtcbiAgY29uc3QgZm9jdXNBUiA9IHBhZGRlZC53aWR0aCAvIHBhZGRlZC5oZWlnaHQ7XG5cbiAgaWYgKGlzTmFOKGFyKSkge1xuICAgIHdpZHRoID0gcGFkZGVkLndpZHRoO1xuICAgIGhlaWdodCA9IHBhZGRlZC5oZWlnaHQ7XG4gIH0gZWxzZSBpZiAoZm9jdXNBUiA+PSBhcikge1xuICAgIHdpZHRoID0gcGFkZGVkLndpZHRoO1xuICAgIGhlaWdodCA9IHdpZHRoIC8gYXI7XG4gIH0gZWxzZSB7XG4gICAgaGVpZ2h0ID0gcGFkZGVkLmhlaWdodDtcbiAgICB3aWR0aCA9IGhlaWdodCAqIGFyO1xuICB9XG5cbiAgd2lkdGggPSBNYXRoLm1pbih3aWR0aCwgaW1nVyk7XG4gIGhlaWdodCA9IE1hdGgubWluKGhlaWdodCwgaW1nSCk7XG5cbiAgY29uc3QgY2xhbXAgPSAodjogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpID0+IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2KSk7XG4gIGxldCB4ID0gY3ggLSB3aWR0aCAvIDI7XG4gIGxldCB5ID0gY3kgLSBoZWlnaHQgLyAyO1xuXG4gIHggPSBjbGFtcCh4LCAwLCBpbWdXIC0gd2lkdGgpO1xuICB5ID0gY2xhbXAoeSwgMCwgaW1nSCAtIGhlaWdodCk7XG5cbiAgcmV0dXJuIHsgeCwgeSwgd2lkdGgsIGhlaWdodCB9O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIHRyaW8gY3JvcHMgKHRpZ2h0L21lZGl1bS9sb29zZSkgZm9yIGEgZ2l2ZW4gcmF0aW8gYW5kIGZvY3VzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVRyaW9Dcm9wcyhcbiAgdXJpOiBzdHJpbmcsXG4gIHJhdGlvOiBLbm93blJhdGlvLFxuICBkZXRlY3Rpb246IEF1dG9Dcm9wUmVzdWx0XG4pOiBQcm9taXNlPEFycmF5PHsga2luZDogVHJpb0tpbmQ7IGNyb3A6IFJlY3QgfT4+IHtcbiAgY29uc3QgeyBmb2N1cywgc2l6ZSB9ID0gZGV0ZWN0aW9uO1xuXG4gIC8vIEJ1aWxkIHRyaW8gY3JvcHMgd2l0aCB2YXJpZWQgcGFkZGluZ1xuICBjb25zdCBjcm9wczogQXJyYXk8eyBraW5kOiBUcmlvS2luZDsgY3JvcDogUmVjdCB9PiA9IFtdO1xuICBcbiAgZm9yIChjb25zdCBraW5kIG9mIFtcInRpZ2h0XCIsIFwibWVkaXVtXCIsIFwibG9vc2VcIl0gYXMgVHJpb0tpbmRbXSkge1xuICAgIGNvbnN0IHBhZFBjdCA9IFBBRFtraW5kXTtcbiAgICBjb25zdCBjcm9wID0gY29tcHV0ZUNyb3BGb3JSYXRpbyhmb2N1cywgc2l6ZS53LCBzaXplLmgsIHJhdGlvLCBwYWRQY3QpO1xuICAgIGNyb3BzLnB1c2goeyBraW5kLCBjcm9wIH0pO1xuICB9XG5cbiAgcmV0dXJuIGNyb3BzO1xufVxuXG4vKipcbiAqIEV4cG9ydCB1bHRyYSB2YXJpYW50cyBmb3IgbXVsdGlwbGUgcmF0aW9zXG4gKiBQcm9kdWNlcyAzIGNyb3BzICh0aWdodC9tZWRpdW0vbG9vc2UpIGZvciBlYWNoIHJhdGlvLCB1cHNjYWxlZCB0byB0YXJnZXQgcmVzb2x1dGlvblxuICogTm93IHN1cHBvcnRzIHRpbGUtYmFzZWQgdXBzY2FsaW5nLCB1bnNoYXJwIG1hc2ssIGFuZCBhdXRvbWF0aWMgcXVhbGl0eSBzZWxlY3Rpb25cbiAqIFxuICogQHBhcmFtIHVyaSAtIFNvdXJjZSBpbWFnZSBVUklcbiAqIEBwYXJhbSByYXRpb3MgLSBBc3BlY3QgcmF0aW9zIHRvIGdlbmVyYXRlIChkZWZhdWx0cyB0byBERUZBVUxUX1JBVElPUylcbiAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zIGluY2x1ZGluZyBzaGFycGVuLCB0aWxlZCwgYXV0b1BpY2tCZXN0UGVyUmF0aW9cbiAqIEByZXR1cm5zIEFycmF5IG9mIFVsdHJhVmFyaWFudCBvYmplY3RzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHBvcnRVbHRyYVZhcmlhbnRzKFxuICB1cmk6IHN0cmluZyxcbiAgcmF0aW9zOiBLbm93blJhdGlvW10gPSBERUZBVUxUX1JBVElPUyxcbiAgb3B0aW9uczogVWx0cmFPcHRpb25zICYge1xuICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IG51bWJlciwgdmFyaWFudDogVWx0cmFWYXJpYW50IHwgbnVsbCkgPT4gdm9pZDtcbiAgICBtYXhDb25jdXJyZW5jeT86IG51bWJlcjtcbiAgfSA9IHt9XG4pOiBQcm9taXNlPFVsdHJhVmFyaWFudFtdPiB7XG4gIGNvbnN0IHtcbiAgICBvblByb2dyZXNzLFxuICAgIG1heENvbmN1cnJlbmN5ID0gMSxcbiAgICBzaGFycGVuLFxuICAgIHRpbGVkID0gZmFsc2UsXG4gICAgYXV0b1BpY2tCZXN0UGVyUmF0aW8gPSBmYWxzZSxcbiAgICBxdWFsaXR5ID0gMSxcbiAgfSA9IG9wdGlvbnM7XG5cbiAgLy8gRGV0ZWN0IGZvY3VzIG9uY2UgZm9yIGFsbCByYXRpb3NcbiAgY29uc3QgZGV0ZWN0aW9uID0gYXdhaXQgQXV0b0Nyb3BFbmdpbmUuZGV0ZWN0KHVyaSwgeyBleWVXZWlnaHQ6IDAuNiwgcGFkUGN0OiAwLjE2IH0pO1xuICBpZiAoIWRldGVjdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZXRlY3Qgc3ViamVjdCBmb2N1c1wiKTtcbiAgfVxuXG4gIGNvbnN0IGFsbFZhcmlhbnRzOiBVbHRyYVZhcmlhbnRbXSA9IFtdO1xuICBsZXQgY29tcGxldGVkID0gMDtcbiAgY29uc3QgdG90YWwgPSByYXRpb3MubGVuZ3RoICogMzsgLy8gMyB2YXJpYW50cyBwZXIgcmF0aW9cblxuICAvLyBQcm9jZXNzIHJhdGlvcyBzZXF1ZW50aWFsbHkgdG8gYXZvaWQgb3ZlcndoZWxtaW5nIG1lbW9yeVxuICBmb3IgKGNvbnN0IHJhdGlvIG9mIHJhdGlvcykge1xuICAgIGNvbnN0IHRhcmdldCA9IFF1YWxpdHlUYXJnZXRzW3JhdGlvXTtcbiAgICBcbiAgICAvLyBHZW5lcmF0ZSB0cmlvIGNyb3BzIGZvciB0aGlzIHJhdGlvXG4gICAgY29uc3QgdHJpb3MgPSBhd2FpdCBnZW5lcmF0ZVRyaW9Dcm9wcyh1cmksIHJhdGlvLCBkZXRlY3Rpb24pO1xuICAgIFxuICAgIC8vIENvbGxlY3QgY2FuZGlkYXRlcyBmb3IgdGhpcyByYXRpbyBpZiBhdXRvLXBpY2tpbmdcbiAgICBjb25zdCBjYW5kaWRhdGVzOiBVbHRyYVZhcmlhbnRbXSA9IFtdO1xuICAgIFxuICAgIC8vIFByb2Nlc3MgZWFjaCB0cmlvIHZhcmlhbnRcbiAgICBmb3IgKGNvbnN0IHRyaW8gb2YgdHJpb3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEFwcGx5IGNyb3BcbiAgICAgICAgY29uc3QgY3JvcHBlZFVyaSA9IGF3YWl0IEF1dG9Dcm9wRW5naW5lLmFwcGx5Q3JvcCh1cmksIHRyaW8uY3JvcCwgcXVhbGl0eSk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcHNjYWxlIHRvIHRhcmdldCByZXNvbHV0aW9uXG4gICAgICAgIGxldCB1cHNjYWxlZFVyaTogc3RyaW5nO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRpbGVkKSB7XG4gICAgICAgICAgLy8gVXNlIHRpbGUtYmFzZWQgdXBzY2FsZXIgZm9yIGxhcmdlIGltYWdlc1xuICAgICAgICAgIHVwc2NhbGVkVXJpID0gYXdhaXQgdGlsZVVwc2NhbGVBdXRvKGNyb3BwZWRVcmksIHtcbiAgICAgICAgICAgIHRhcmdldFc6IHRhcmdldC5taW5XLFxuICAgICAgICAgICAgdGFyZ2V0SDogdGFyZ2V0Lm1pbkgsXG4gICAgICAgICAgICBxdWFsaXR5LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFVzZSBTdXBlclJlcyBwaXBlbGluZSAoc3VwcG9ydHMgbXVsdGlwbGUgYmFja2VuZHMpXG4gICAgICAgICAgdXBzY2FsZWRVcmkgPSBhd2FpdCBTdXBlclJlcy51cHNjYWxlKGNyb3BwZWRVcmksIHRhcmdldC5taW5XLCB0YXJnZXQubWluSCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFwcGx5IHVuc2hhcnAgbWFzayBpZiByZXF1ZXN0ZWRcbiAgICAgICAgY29uc3QgZmluYWxVcmkgPSBzaGFycGVuXG4gICAgICAgICAgPyBhd2FpdCB1bnNoYXJwTWFzayh1cHNjYWxlZFVyaSwgeyAuLi5zaGFycGVuLCBxdWFsaXR5LCBmb3JtYXQ6IFwianBnXCIgfSlcbiAgICAgICAgICA6IHVwc2NhbGVkVXJpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdmFyaWFudDogVWx0cmFWYXJpYW50ID0ge1xuICAgICAgICAgIHJhdGlvLFxuICAgICAgICAgIGtpbmQ6IHRyaW8ua2luZCxcbiAgICAgICAgICBjcm9wOiB0cmlvLmNyb3AsXG4gICAgICAgICAgb3V0VXJpOiBmaW5hbFVyaSxcbiAgICAgICAgICBtZXRob2Q6IGRldGVjdGlvbi5tZXRob2QsXG4gICAgICAgICAgdGFyZ2V0VzogdGFyZ2V0Lm1pblcsXG4gICAgICAgICAgdGFyZ2V0SDogdGFyZ2V0Lm1pbkgsXG4gICAgICAgICAgc2l6ZTogZGV0ZWN0aW9uLnNpemUsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBpZiAoYXV0b1BpY2tCZXN0UGVyUmF0aW8pIHtcbiAgICAgICAgICBjYW5kaWRhdGVzLnB1c2godmFyaWFudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxsVmFyaWFudHMucHVzaCh2YXJpYW50KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29tcGxldGVkKys7XG4gICAgICAgIG9uUHJvZ3Jlc3M/Lihjb21wbGV0ZWQgLyB0b3RhbCwgdmFyaWFudCk7XG4gICAgICAgIG9uUHJvZ3Jlc3M/Lihjb21wbGV0ZWQgLyB0b3RhbCwgbnVsbCk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICBjb25zdCBlcnIgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSk7XG4gICAgICAgIGxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlIHZhcmlhbnRgLCB7IHJhdGlvLCBraW5kOiB0cmlvLmtpbmQsIGVycm9yOiBlcnIgfSk7XG4gICAgICAgIC8vIENvbnRpbnVlIHdpdGggbmV4dCB2YXJpYW50XG4gICAgICAgIGNvbXBsZXRlZCsrO1xuICAgICAgICBvblByb2dyZXNzPy4oY29tcGxldGVkIC8gdG90YWwsIG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBBdXRvLXBpY2sgdGhlIHNoYXJwZXN0IGlmIGVuYWJsZWRcbiAgICBpZiAoYXV0b1BpY2tCZXN0UGVyUmF0aW8gJiYgY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB3aW5uZXIgPSBhd2FpdCBwaWNrU2hhcnBlc3QoXG4gICAgICAgICAgY2FuZGlkYXRlcy5tYXAoKGMpID0+IGMub3V0VXJpKSxcbiAgICAgICAgICA3MjAsXG4gICAgICAgICAgMC43MlxuICAgICAgICApO1xuICAgICAgICBjb25zdCBiZXN0ID0gY2FuZGlkYXRlcy5maW5kKChjKSA9PiBjLm91dFVyaSA9PT0gd2lubmVyKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChiZXN0KSB7XG4gICAgICAgICAgYWxsVmFyaWFudHMucHVzaChiZXN0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgY29uc3QgZXJyID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpO1xuICAgICAgICBsb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBwaWNrIHNoYXJwZXN0YCwgeyByYXRpbywgZXJyb3I6IGVyciB9KTtcbiAgICAgICAgLy8gRmFsbGJhY2s6IHB1c2ggZmlyc3QgY2FuZGlkYXRlXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrID0gY2FuZGlkYXRlc1swXTtcbiAgICAgICAgaWYgKGZhbGxiYWNrKSB7XG4gICAgICAgICAgYWxsVmFyaWFudHMucHVzaChmYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYWxsVmFyaWFudHM7XG59XG5cbi8qKlxuICogR2V0IHByZXZpZXcgVVJJcyBmb3IgdWx0cmEgdmFyaWFudHMgKHNtYWxsIHRodW1ibmFpbHMpXG4gKiBVc2VmdWwgZm9yIFVJIHByZXZpZXcgYmVmb3JlIGZ1bGwgZXhwb3J0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcmV2aWV3VWx0cmFWYXJpYW50cyhcbiAgdXJpOiBzdHJpbmcsXG4gIHJhdGlvczogS25vd25SYXRpb1tdID0gREVGQVVMVF9SQVRJT1Ncbik6IFByb21pc2U8QXJyYXk8eyB2YXJpYW50OiBVbHRyYVZhcmlhbnQ7IHRodW1iVXJpOiBzdHJpbmcgfT4+IHtcbiAgY29uc3QgdmFyaWFudHMgPSBhd2FpdCBleHBvcnRVbHRyYVZhcmlhbnRzKHVyaSwgcmF0aW9zLCB7IG9uUHJvZ3Jlc3M6ICgpID0+IHt9IH0pO1xuICBcbiAgLy8gR2VuZXJhdGUgdGh1bWJuYWlscyAoc21hbGwgcHJldmlld3MpXG4gIGNvbnN0IHdpdGhUaHVtYnM6IEFycmF5PHsgdmFyaWFudDogVWx0cmFWYXJpYW50OyB0aHVtYlVyaTogc3RyaW5nIH0+ID0gW107XG4gIFxuICBmb3IgKGNvbnN0IHZhcmlhbnQgb2YgdmFyaWFudHMpIHtcbiAgICB0cnkge1xuICAgICAgLy8gQ3JlYXRlIHNtYWxsIHRodW1ibmFpbCBmb3IgcHJldmlld1xuICAgICAgY29uc3QgeyBtYW5pcHVsYXRlQXN5bmMgfSA9IGF3YWl0IGltcG9ydChcImV4cG8taW1hZ2UtbWFuaXB1bGF0b3JcIik7XG4gICAgICBjb25zdCB7IFNhdmVGb3JtYXQgfSA9IGF3YWl0IGltcG9ydChcImV4cG8taW1hZ2UtbWFuaXB1bGF0b3JcIik7XG4gICAgICBcbiAgICAgIGNvbnN0IHRodW1iID0gYXdhaXQgbWFuaXB1bGF0ZUFzeW5jKFxuICAgICAgICB2YXJpYW50Lm91dFVyaSxcbiAgICAgICAgW3sgcmVzaXplOiB7IHdpZHRoOiAyNDAsIGhlaWdodDogMjQwIH0gfV0sXG4gICAgICAgIHsgY29tcHJlc3M6IDAuOSwgZm9ybWF0OiBTYXZlRm9ybWF0LkpQRUcgfVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgd2l0aFRodW1icy5wdXNoKHsgdmFyaWFudCwgdGh1bWJVcmk6IHRodW1iLnVyaSB9KTtcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgY29uc3QgZXJyID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpO1xuICAgICAgbG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHRodW1ibmFpbFwiLCB7IGVycm9yOiBlcnIgfSk7XG4gICAgICB3aXRoVGh1bWJzLnB1c2goeyB2YXJpYW50LCB0aHVtYlVyaTogdmFyaWFudC5vdXRVcmkgfSk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gd2l0aFRodW1icztcbn1cblxuIl0sIm1h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