{"version":3,"names":["_reactNative","require","_useScrollOffsetTracker","describe","it","_renderHook","renderHook","useScrollOffsetTracker","result","expect","current","getOffset","toBe","_renderHook2","onScroll","_renderHook3","act","nativeEvent","contentOffset","x","y","contentSize","width","height","layoutMeasurement","_renderHook4","_renderHook5","rerender","firstOnScroll","_renderHook6","firstGetOffset","_renderHook7","_renderHook8","_renderHook9","_renderHook0","_loop","i","_renderHook1","mockFlatListEvent","target","_renderHook10","result1","_renderHook11","result2"],"sources":["useScrollOffsetTracker.test.ts"],"sourcesContent":["/**\n * Comprehensive tests for useScrollOffsetTracker hook\n * Tests scroll tracking, offset retrieval, and callback stability\n */\n\nimport { renderHook, act } from '@testing-library/react-native';\nimport { useScrollOffsetTracker } from '../useScrollOffsetTracker';\n\ndescribe('useScrollOffsetTracker', () => {\n  describe('Basic Functionality', () => {\n    it('should initialize with offset of 0', () => {\n      const { result } = renderHook(() => useScrollOffsetTracker());\n\n      expect(result.current.getOffset()).toBe(0);\n    });\n\n    it('should return onScroll and getOffset functions', () => {\n      const { result } = renderHook(() => useScrollOffsetTracker());\n\n      expect(typeof result.current.onScroll).toBe('function');\n      expect(typeof result.current.getOffset).toBe('function');\n    });\n\n    it('should track scroll offset', () => {\n      const { result } = renderHook(() => useScrollOffsetTracker());\n\n      act(() => {\n        result.current.onScroll({\n          nativeEvent: {\n            contentOffset: { x: 0, y: 150 },\n            contentSize: { width: 375, height: 1000 },\n            layoutMeasurement: { width: 375, height: 812 },\n          },\n        } as any);\n      });\n\n      expect(result.current.getOffset()).toBe(150);\n    });\n\n    it('should update tracked offset on subsequent scrolls', () => {\n      const { result } = renderHook(() => useScrollOffsetTracker());\n\n      act(() => {\n        result.current.onScroll({\n          nativeEvent: {\n            contentOffset: { x: 0, y: 100 },\n            contentSize: { width: 375, height: 1000 },\n            layoutMeasurement: { width: 375, height: 812 },\n          },\n        } as any);\n      });\n\n      act(() => {\n        result.current.onScroll({\n          nativeEvent: {\n            contentOffset: { x: 0, y: 300 },\n            contentSize: { width: 375, height: 1000 },\n            layoutMeasurement: { width: 375, height: 812 },\n          },\n        } as any);\n      });\n\n      expect(result.current.getOffset()).toBe(300);\n    });\n  });\n\n  describe('Callback Stability', () => {\n    it('should return stable onScroll reference', () => {\n      const { result, rerender } = renderHook(() => useScrollOffsetTracker());\n\n      const firstOnScroll = result.current.onScroll;\n\n      rerender();\n\n      expect(result.current.onScroll).toBe(firstOnScroll);\n    });\n\n    it('should return stable getOffset reference', () => {\n      const { result, rerender } = renderHook(() => useScrollOffsetTracker());\n\n      const firstGetOffset = result.current.getOffset;\n\n      rerender();\n\n      expect(result.current.getOffset).toBe(firstGetOffset);\n    });\n  });\n\n  describe('Edge Cases', () => {\n    it('should handle negative offset', () => {\n      const { result } = renderHook(() => useScrollOffsetTracker());\n\n      act(() => {\n        result.current.onScroll({\n          nativeEvent: {\n            contentOffset: { x: 0, y: -50 },\n            contentSize: { width: 375, height: 1000 },\n            layoutMeasurement: { width: 375, height: 812 },\n          },\n        } as any);\n      });\n\n      expect(result.current.getOffset()).toBe(-50);\n    });\n\n    it('should handle zero offset', () => {\n      const { result } = renderHook(() => useScrollOffsetTracker());\n\n      act(() => {\n        result.current.onScroll({\n          nativeEvent: {\n            contentOffset: { x: 0, y: 0 },\n            contentSize: { width: 375, height: 1000 },\n            layoutMeasurement: { width: 375, height: 812 },\n          },\n        } as any);\n      });\n\n      expect(result.current.getOffset()).toBe(0);\n    });\n\n    it('should handle very large offset values', () => {\n      const { result } = renderHook(() => useScrollOffsetTracker());\n\n      act(() => {\n        result.current.onScroll({\n          nativeEvent: {\n            contentOffset: { x: 0, y: 999999 },\n            contentSize: { width: 375, height: 999999 },\n            layoutMeasurement: { width: 375, height: 812 },\n          },\n        } as any);\n      });\n\n      expect(result.current.getOffset()).toBe(999999);\n    });\n\n    it('should handle rapid scroll events', () => {\n      const { result } = renderHook(() => useScrollOffsetTracker());\n\n      // Simulate rapid scrolling\n      for (let i = 0; i < 10; i++) {\n        act(() => {\n          result.current.onScroll({\n            nativeEvent: {\n              contentOffset: { x: 0, y: i * 100 },\n              contentSize: { width: 375, height: 10000 },\n              layoutMeasurement: { width: 375, height: 812 },\n            },\n          } as any);\n        });\n      }\n\n      expect(result.current.getOffset()).toBe(900);\n    });\n  });\n\n  describe('Integration with FlatList', () => {\n    it('should work with FlatList scroll events', () => {\n      const { result } = renderHook(() => useScrollOffsetTracker());\n\n      const mockFlatListEvent = {\n        nativeEvent: {\n          contentOffset: { x: 0, y: 250 },\n          contentSize: { width: 375, height: 5000 },\n          layoutMeasurement: { width: 375, height: 812 },\n          target: null,\n        },\n      };\n\n      act(() => {\n        result.current.onScroll(mockFlatListEvent as any);\n      });\n\n      expect(result.current.getOffset()).toBe(250);\n    });\n  });\n\n  describe('Multiple Instances', () => {\n    it('should work independently across multiple hooks', () => {\n      const { result: result1 } = renderHook(() => useScrollOffsetTracker());\n      const { result: result2 } = renderHook(() => useScrollOffsetTracker());\n\n      act(() => {\n        result1.current.onScroll({\n          nativeEvent: {\n            contentOffset: { x: 0, y: 100 },\n            contentSize: { width: 375, height: 1000 },\n            layoutMeasurement: { width: 375, height: 812 },\n          },\n        } as any);\n      });\n\n      act(() => {\n        result2.current.onScroll({\n          nativeEvent: {\n            contentOffset: { x: 0, y: 200 },\n            contentSize: { width: 375, height: 1000 },\n            layoutMeasurement: { width: 375, height: 812 },\n          },\n        } as any);\n      });\n\n      expect(result1.current.getOffset()).toBe(100);\n      expect(result2.current.getOffset()).toBe(200);\n    });\n  });\n});\n\n"],"mappings":"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","ignoreList":[]}