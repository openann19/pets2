ff8f0686455c4b637865e0de792c6197
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tileUpscale = tileUpscale;
exports.tileUpscaleAuto = tileUpscaleAuto;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var ImageManipulator = _interopRequireWildcard(require("expo-image-manipulator"));
var FileSystem = _interopRequireWildcard(require("expo-file-system"));
var _excluded = ["tile", "overlap", "quality", "format"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function loadSkia() {
  return _loadSkia.apply(this, arguments);
}
function _loadSkia() {
  _loadSkia = (0, _asyncToGenerator2.default)(function* () {
    try {
      return require("@shopify/react-native-skia");
    } catch (_unused) {
      return null;
    }
  });
  return _loadSkia.apply(this, arguments);
}
function computeTargetDimensions(srcW, srcH, opts) {
  var scale = opts.scale,
    targetW = opts.targetW,
    targetH = opts.targetH;
  if (targetW && targetH) {
    return {
      outW: targetW,
      outH: targetH
    };
  }
  if (scale !== undefined && !targetW && !targetH) {
    return {
      outW: Math.round(srcW * scale),
      outH: Math.round(srcH * scale)
    };
  }
  if (targetW && !targetH) {
    var r = targetW / srcW;
    return {
      outW: targetW,
      outH: Math.round(srcH * r)
    };
  }
  if (!targetW && targetH) {
    var _r = targetH / srcH;
    return {
      outW: Math.round(srcW * _r),
      outH: targetH
    };
  }
  return {
    outW: srcW,
    outH: srcH
  };
}
function tileUpscale(_x, _x2, _x3) {
  return _tileUpscale.apply(this, arguments);
}
function _tileUpscale() {
  _tileUpscale = (0, _asyncToGenerator2.default)(function* (uri, srcW, srcH) {
    var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    var Skia = yield loadSkia();
    var _opts$tile = opts.tile,
      tile = _opts$tile === void 0 ? 1024 : _opts$tile,
      _opts$overlap = opts.overlap,
      overlap = _opts$overlap === void 0 ? 12 : _opts$overlap,
      _opts$quality = opts.quality,
      quality = _opts$quality === void 0 ? 1 : _opts$quality,
      _opts$format = opts.format,
      format = _opts$format === void 0 ? "jpg" : _opts$format,
      rest = (0, _objectWithoutProperties2.default)(opts, _excluded);
    var _computeTargetDimensi = computeTargetDimensions(srcW, srcH, rest),
      outW = _computeTargetDimensi.outW,
      outH = _computeTargetDimensi.outH;
    if (!Skia) {
      var result = yield ImageManipulator.manipulateAsync(uri, [{
        resize: {
          width: Math.round(outW),
          height: Math.round(outH)
        }
      }], {
        compress: quality,
        format: format === "png" ? ImageManipulator.SaveFormat.PNG : ImageManipulator.SaveFormat.JPEG
      });
      return result.uri;
    }
    var S = Skia.Skia;
    var data = yield S.Data.fromURI(uri);
    var img = S.Image.MakeImageFromEncoded(data);
    if (!img) {
      var _result = yield ImageManipulator.manipulateAsync(uri, [{
        resize: {
          width: Math.round(outW),
          height: Math.round(outH)
        }
      }], {
        compress: quality,
        format: ImageManipulator.SaveFormat.JPEG
      });
      return _result.uri;
    }
    var surface = S.Surface.MakeSurface(Math.round(outW), Math.round(outH));
    if (!surface) {
      var _result2 = yield ImageManipulator.manipulateAsync(uri, [{
        resize: {
          width: Math.round(outW),
          height: Math.round(outH)
        }
      }], {
        compress: quality,
        format: ImageManipulator.SaveFormat.JPEG
      });
      return _result2.uri;
    }
    var canvas = surface.getCanvas();
    var paint = S.Paint();
    paint.setFilterQuality("high");
    var sxStep = tile - overlap;
    var syStep = tile - overlap;
    for (var sy = 0; sy < srcH; sy += syStep) {
      for (var sx = 0; sx < srcW; sx += sxStep) {
        var sw = Math.min(tile, srcW - sx);
        var sh = Math.min(tile, srcH - sy);
        var dx = Math.round(sx / srcW * outW);
        var dy = Math.round(sy / srcH * outH);
        var dw = Math.round(sw / srcW * outW);
        var dh = Math.round(sh / srcH * outH);
        var srcRect = S.XYWHRect(sx, sy, sw, sh);
        var dstRect = S.XYWHRect(dx, dy, dw, dh);
        canvas.drawImageRect(img, srcRect, dstRect, paint);
      }
    }
    var snapshot = surface.makeImageSnapshot();
    var base64 = format === "png" ? snapshot.encodeToBase64() : snapshot.encodeToBase64(S.ImageFormat.JPEG, Math.round(quality * 100));
    var outPath = `${FileSystem.cacheDirectory}up_${Date.now()}.${format}`;
    yield FileSystem.writeAsStringAsync(outPath, base64, {
      encoding: FileSystem.EncodingType.Base64
    });
    return outPath;
  });
  return _tileUpscale.apply(this, arguments);
}
function tileUpscaleAuto(_x4) {
  return _tileUpscaleAuto.apply(this, arguments);
}
function _tileUpscaleAuto() {
  _tileUpscaleAuto = (0, _asyncToGenerator2.default)(function* (uri) {
    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var _yield$import = yield Promise.resolve().then(function () {
        return _interopRequireWildcard(require("react-native"));
      }),
      Image = _yield$import.Image;
    return new Promise(function (resolve, reject) {
      Image.getSize(uri, function (width, height) {
        tileUpscale(uri, width, height, opts).then(resolve).catch(reject);
      }, function (error) {
        reject(error);
      });
    });
  });
  return _tileUpscaleAuto.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbWFnZU1hbmlwdWxhdG9yIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlIiwiRmlsZVN5c3RlbSIsIl9leGNsdWRlZCIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibG9hZFNraWEiLCJfbG9hZFNraWEiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl91bnVzZWQiLCJjb21wdXRlVGFyZ2V0RGltZW5zaW9ucyIsInNyY1ciLCJzcmNIIiwib3B0cyIsInNjYWxlIiwidGFyZ2V0VyIsInRhcmdldEgiLCJvdXRXIiwib3V0SCIsInVuZGVmaW5lZCIsIk1hdGgiLCJyb3VuZCIsInRpbGVVcHNjYWxlIiwiX3giLCJfeDIiLCJfeDMiLCJfdGlsZVVwc2NhbGUiLCJ1cmkiLCJsZW5ndGgiLCJTa2lhIiwiX29wdHMkdGlsZSIsInRpbGUiLCJfb3B0cyRvdmVybGFwIiwib3ZlcmxhcCIsIl9vcHRzJHF1YWxpdHkiLCJxdWFsaXR5IiwiX29wdHMkZm9ybWF0IiwiZm9ybWF0IiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfY29tcHV0ZVRhcmdldERpbWVuc2kiLCJyZXN1bHQiLCJtYW5pcHVsYXRlQXN5bmMiLCJyZXNpemUiLCJ3aWR0aCIsImhlaWdodCIsImNvbXByZXNzIiwiU2F2ZUZvcm1hdCIsIlBORyIsIkpQRUciLCJTIiwiZGF0YSIsIkRhdGEiLCJmcm9tVVJJIiwiaW1nIiwiSW1hZ2UiLCJNYWtlSW1hZ2VGcm9tRW5jb2RlZCIsInN1cmZhY2UiLCJTdXJmYWNlIiwiTWFrZVN1cmZhY2UiLCJjYW52YXMiLCJnZXRDYW52YXMiLCJwYWludCIsIlBhaW50Iiwic2V0RmlsdGVyUXVhbGl0eSIsInN4U3RlcCIsInN5U3RlcCIsInN5Iiwic3giLCJzdyIsIm1pbiIsInNoIiwiZHgiLCJkeSIsImR3IiwiZGgiLCJzcmNSZWN0IiwiWFlXSFJlY3QiLCJkc3RSZWN0IiwiZHJhd0ltYWdlUmVjdCIsInNuYXBzaG90IiwibWFrZUltYWdlU25hcHNob3QiLCJiYXNlNjQiLCJlbmNvZGVUb0Jhc2U2NCIsIkltYWdlRm9ybWF0Iiwib3V0UGF0aCIsImNhY2hlRGlyZWN0b3J5IiwiRGF0ZSIsIm5vdyIsIndyaXRlQXNTdHJpbmdBc3luYyIsImVuY29kaW5nIiwiRW5jb2RpbmdUeXBlIiwiQmFzZTY0IiwidGlsZVVwc2NhbGVBdXRvIiwiX3g0IiwiX3RpbGVVcHNjYWxlQXV0byIsIl95aWVsZCRpbXBvcnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJyZWplY3QiLCJnZXRTaXplIiwiY2F0Y2giLCJlcnJvciJdLCJzb3VyY2VzIjpbIlRpbGVkVXBzY2FsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaWxlZCBVcHNjYWxlclxuICogTWVtb3J5LXNhZmUgdXBzY2FsZXIgdGhhdCBkcmF3cyBpbiB0aWxlcyB0byBhdm9pZCBPT00gb24gbGFyZ2UgaW1hZ2VzICg0SyspLlxuICogVXNlcyBAc2hvcGlmeS9yZWFjdC1uYXRpdmUtc2tpYSBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBmYWxscyBiYWNrIHRvIEltYWdlTWFuaXB1bGF0b3IuXG4gKi9cblxuaW1wb3J0ICogYXMgSW1hZ2VNYW5pcHVsYXRvciBmcm9tIFwiZXhwby1pbWFnZS1tYW5pcHVsYXRvclwiO1xuaW1wb3J0ICogYXMgRmlsZVN5c3RlbSBmcm9tIFwiZXhwby1maWxlLXN5c3RlbVwiO1xuXG4vKipcbiAqIExhenkgbG9hZCBTa2lhIHRvIGF2b2lkIGJ1bmRsaW5nIGlmIG5vdCBpbnN0YWxsZWRcbiAqIEBzaG9waWZ5L3JlYWN0LW5hdGl2ZS1za2lhIGlzIG9wdGlvbmFsIC0gbW9kdWxlIG1heSBub3QgYmUgcHJlc2VudFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuYXN5bmMgZnVuY3Rpb24gbG9hZFNraWEoKTogUHJvbWlzZTxhbnk+IHtcbiAgdHJ5IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlcywgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiByZXF1aXJlKFwiQHNob3BpZnkvcmVhY3QtbmF0aXZlLXNraWFcIik7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGlsZVVwc2NhbGVPcHRzIHtcbiAgLyoqIFNjYWxlIGZhY3RvciBvciBleGFjdCB3aWR0aC9oZWlnaHQ7IGF0IGxlYXN0IG9uZSBtdXN0IGJlIHByb3ZpZGVkICovXG4gIHNjYWxlPzogbnVtYmVyO1xuICB0YXJnZXRXPzogbnVtYmVyO1xuICB0YXJnZXRIPzogbnVtYmVyO1xuICAvKiogVGlsZSBzaXplIChzb3VyY2UgcGl4ZWxzKSAqL1xuICB0aWxlPzogbnVtYmVyO1xuICAvKiogT3ZlcmxhcCB0byBwcmV2ZW50IHNlYW1zIHdoZW4gc2FtcGxpbmcgKi9cbiAgb3ZlcmxhcD86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBKUEVHIHF1YWxpdHkgMC4uMSAqL1xuICBxdWFsaXR5PzogbnVtYmVyO1xuICAvKiogT3V0cHV0IGZvcm1hdCAqL1xuICBmb3JtYXQ/OiBcImpwZ1wiIHwgXCJwbmdcIiB8IFwid2VicFwiO1xufVxuXG4vKipcbiAqIENvbXB1dGUgdGFyZ2V0IGRpbWVuc2lvbnMgZnJvbSB2YXJpb3VzIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVRhcmdldERpbWVuc2lvbnMoXG4gIHNyY1c6IG51bWJlcixcbiAgc3JjSDogbnVtYmVyLFxuICBvcHRzOiBUaWxlVXBzY2FsZU9wdHNcbik6IHsgb3V0VzogbnVtYmVyOyBvdXRIOiBudW1iZXIgfSB7XG4gIGNvbnN0IHsgc2NhbGUsIHRhcmdldFcsIHRhcmdldEggfSA9IG9wdHM7XG5cbiAgaWYgKHRhcmdldFcgJiYgdGFyZ2V0SCkge1xuICAgIHJldHVybiB7IG91dFc6IHRhcmdldFcsIG91dEg6IHRhcmdldEggfTtcbiAgfVxuXG4gIGlmIChzY2FsZSAhPT0gdW5kZWZpbmVkICYmICF0YXJnZXRXICYmICF0YXJnZXRIKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG91dFc6IE1hdGgucm91bmQoc3JjVyAqIHNjYWxlKSxcbiAgICAgIG91dEg6IE1hdGgucm91bmQoc3JjSCAqIHNjYWxlKSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKHRhcmdldFcgJiYgIXRhcmdldEgpIHtcbiAgICBjb25zdCByID0gdGFyZ2V0VyAvIHNyY1c7XG4gICAgcmV0dXJuIHtcbiAgICAgIG91dFc6IHRhcmdldFcsXG4gICAgICBvdXRIOiBNYXRoLnJvdW5kKHNyY0ggKiByKSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKCF0YXJnZXRXICYmIHRhcmdldEgpIHtcbiAgICBjb25zdCByID0gdGFyZ2V0SCAvIHNyY0g7XG4gICAgcmV0dXJuIHtcbiAgICAgIG91dFc6IE1hdGgucm91bmQoc3JjVyAqIHIpLFxuICAgICAgb3V0SDogdGFyZ2V0SCxcbiAgICB9O1xuICB9XG5cbiAgLy8gRmFsbGJhY2sgdG8gb3JpZ2luYWwgc2l6ZVxuICByZXR1cm4geyBvdXRXOiBzcmNXLCBvdXRIOiBzcmNIIH07XG59XG5cbi8qKlxuICogVGlsZS1iYXNlZCB1cHNjYWxlciBmb3IgbGFyZ2UgaW1hZ2VzXG4gKiBQcm9jZXNzZXMgdGhlIGltYWdlIGluIGNodW5rcyB0byBhdm9pZCBtZW1vcnkgaXNzdWVzXG4gKiBcbiAqIEBwYXJhbSB1cmkgLSBTb3VyY2UgaW1hZ2UgVVJJXG4gKiBAcGFyYW0gc3JjVyAtIFNvdXJjZSBpbWFnZSB3aWR0aFxuICogQHBhcmFtIHNyY0ggLSBTb3VyY2UgaW1hZ2UgaGVpZ2h0XG4gKiBAcGFyYW0gb3B0cyAtIFVwc2NhbGluZyBvcHRpb25zXG4gKiBAcmV0dXJucyBVUkkgb2YgdXBzY2FsZWQgaW1hZ2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRpbGVVcHNjYWxlKFxuICB1cmk6IHN0cmluZyxcbiAgc3JjVzogbnVtYmVyLFxuICBzcmNIOiBudW1iZXIsXG4gIG9wdHM6IFRpbGVVcHNjYWxlT3B0cyA9IHt9XG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBTa2lhID0gYXdhaXQgbG9hZFNraWEoKTtcbiAgY29uc3QgeyB0aWxlID0gMTAyNCwgb3ZlcmxhcCA9IDEyLCBxdWFsaXR5ID0gMSwgZm9ybWF0ID0gXCJqcGdcIiwgLi4ucmVzdCB9ID0gb3B0cztcblxuICBjb25zdCB7IG91dFcsIG91dEggfSA9IGNvbXB1dGVUYXJnZXREaW1lbnNpb25zKHNyY1csIHNyY0gsIHJlc3QpO1xuXG4gIC8vIEZhbGxiYWNrIGlmIFNraWEgaXMgbm90IGF2YWlsYWJsZVxuICBpZiAoIVNraWEpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBJbWFnZU1hbmlwdWxhdG9yLm1hbmlwdWxhdGVBc3luYyhcbiAgICAgIHVyaSxcbiAgICAgIFt7IHJlc2l6ZTogeyB3aWR0aDogTWF0aC5yb3VuZChvdXRXKSwgaGVpZ2h0OiBNYXRoLnJvdW5kKG91dEgpIH0gfV0sXG4gICAgICB7XG4gICAgICAgIGNvbXByZXNzOiBxdWFsaXR5LFxuICAgICAgICBmb3JtYXQ6XG4gICAgICAgICAgZm9ybWF0ID09PSBcInBuZ1wiXG4gICAgICAgICAgICA/IEltYWdlTWFuaXB1bGF0b3IuU2F2ZUZvcm1hdC5QTkdcbiAgICAgICAgICAgIDogSW1hZ2VNYW5pcHVsYXRvci5TYXZlRm9ybWF0LkpQRUcsXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0LnVyaTtcbiAgfVxuXG4gIGNvbnN0IHsgU2tpYTogUyB9ID0gU2tpYTtcblxuICAvLyBMb2FkIGltYWdlIGJ5dGVzXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBTLkRhdGEuZnJvbVVSSSh1cmkpO1xuICBjb25zdCBpbWcgPSBTLkltYWdlLk1ha2VJbWFnZUZyb21FbmNvZGVkKGRhdGEpO1xuICBcbiAgaWYgKCFpbWcpIHtcbiAgICAvLyBGYWxsYmFjayBvbiBsb2FkIGZhaWx1cmVcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBJbWFnZU1hbmlwdWxhdG9yLm1hbmlwdWxhdGVBc3luYyhcbiAgICAgIHVyaSxcbiAgICAgIFt7IHJlc2l6ZTogeyB3aWR0aDogTWF0aC5yb3VuZChvdXRXKSwgaGVpZ2h0OiBNYXRoLnJvdW5kKG91dEgpIH0gfV0sXG4gICAgICB7XG4gICAgICAgIGNvbXByZXNzOiBxdWFsaXR5LFxuICAgICAgICBmb3JtYXQ6IEltYWdlTWFuaXB1bGF0b3IuU2F2ZUZvcm1hdC5KUEVHLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdC51cmk7XG4gIH1cblxuICAvLyBDcmVhdGUgb3V0cHV0IHN1cmZhY2VcbiAgY29uc3Qgc3VyZmFjZSA9IFMuU3VyZmFjZS5NYWtlU3VyZmFjZShNYXRoLnJvdW5kKG91dFcpLCBNYXRoLnJvdW5kKG91dEgpKTtcbiAgXG4gIGlmICghc3VyZmFjZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEltYWdlTWFuaXB1bGF0b3IubWFuaXB1bGF0ZUFzeW5jKFxuICAgICAgdXJpLFxuICAgICAgW3sgcmVzaXplOiB7IHdpZHRoOiBNYXRoLnJvdW5kKG91dFcpLCBoZWlnaHQ6IE1hdGgucm91bmQob3V0SCkgfSB9XSxcbiAgICAgIHtcbiAgICAgICAgY29tcHJlc3M6IHF1YWxpdHksXG4gICAgICAgIGZvcm1hdDogSW1hZ2VNYW5pcHVsYXRvci5TYXZlRm9ybWF0LkpQRUcsXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0LnVyaTtcbiAgfVxuXG4gIGNvbnN0IGNhbnZhcyA9IHN1cmZhY2UuZ2V0Q2FudmFzKCk7XG4gIGNvbnN0IHBhaW50ID0gUy5QYWludCgpO1xuICBwYWludC5zZXRGaWx0ZXJRdWFsaXR5KFwiaGlnaFwiKTtcblxuICAvLyBEcmF3IHRpbGVzIHdpdGggb3ZlcmxhcCB0byBwcmV2ZW50IHNlYW1zXG4gIGNvbnN0IHN4U3RlcCA9IHRpbGUgLSBvdmVybGFwO1xuICBjb25zdCBzeVN0ZXAgPSB0aWxlIC0gb3ZlcmxhcDtcblxuICBmb3IgKGxldCBzeSA9IDA7IHN5IDwgc3JjSDsgc3kgKz0gc3lTdGVwKSB7XG4gICAgZm9yIChsZXQgc3ggPSAwOyBzeCA8IHNyY1c7IHN4ICs9IHN4U3RlcCkge1xuICAgICAgY29uc3Qgc3cgPSBNYXRoLm1pbih0aWxlLCBzcmNXIC0gc3gpO1xuICAgICAgY29uc3Qgc2ggPSBNYXRoLm1pbih0aWxlLCBzcmNIIC0gc3kpO1xuXG4gICAgICBjb25zdCBkeCA9IE1hdGgucm91bmQoKHN4IC8gc3JjVykgKiBvdXRXKTtcbiAgICAgIGNvbnN0IGR5ID0gTWF0aC5yb3VuZCgoc3kgLyBzcmNIKSAqIG91dEgpO1xuICAgICAgY29uc3QgZHcgPSBNYXRoLnJvdW5kKChzdyAvIHNyY1cpICogb3V0Vyk7XG4gICAgICBjb25zdCBkaCA9IE1hdGgucm91bmQoKHNoIC8gc3JjSCkgKiBvdXRIKTtcblxuICAgICAgY29uc3Qgc3JjUmVjdCA9IFMuWFlXSFJlY3Qoc3gsIHN5LCBzdywgc2gpO1xuICAgICAgY29uc3QgZHN0UmVjdCA9IFMuWFlXSFJlY3QoZHgsIGR5LCBkdywgZGgpO1xuICAgICAgY2FudmFzLmRyYXdJbWFnZVJlY3QoaW1nLCBzcmNSZWN0LCBkc3RSZWN0LCBwYWludCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc25hcHNob3QgPSBzdXJmYWNlLm1ha2VJbWFnZVNuYXBzaG90KCk7XG4gIGNvbnN0IGJhc2U2NCA9XG4gICAgZm9ybWF0ID09PSBcInBuZ1wiXG4gICAgICA/IHNuYXBzaG90LmVuY29kZVRvQmFzZTY0KClcbiAgICAgIDogc25hcHNob3QuZW5jb2RlVG9CYXNlNjQoXG4gICAgICAgICAgUy5JbWFnZUZvcm1hdC5KUEVHLFxuICAgICAgICAgIE1hdGgucm91bmQocXVhbGl0eSAqIDEwMClcbiAgICAgICAgKTtcblxuICBjb25zdCBvdXRQYXRoID0gYCR7RmlsZVN5c3RlbS5jYWNoZURpcmVjdG9yeX11cF8ke0RhdGUubm93KCl9LiR7Zm9ybWF0fWA7XG4gIGF3YWl0IEZpbGVTeXN0ZW0ud3JpdGVBc1N0cmluZ0FzeW5jKG91dFBhdGgsIGJhc2U2NCwge1xuICAgIGVuY29kaW5nOiBGaWxlU3lzdGVtLkVuY29kaW5nVHlwZS5CYXNlNjQsXG4gIH0pO1xuXG4gIHJldHVybiBvdXRQYXRoO1xufVxuXG4vKipcbiAqIFNpbXBsaWZpZWQgdXBzY2FsZSB3aXRob3V0IHJlcXVpcmluZyBzb3VyY2UgZGltZW5zaW9uc1xuICogQXV0b21hdGljYWxseSBkZXRlY3RzIHNvdXJjZSBzaXplIHVzaW5nIFJOSW1hZ2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRpbGVVcHNjYWxlQXV0byhcbiAgdXJpOiBzdHJpbmcsXG4gIG9wdHM6IFRpbGVVcHNjYWxlT3B0cyA9IHt9XG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAvLyBHZXQgc291cmNlIGRpbWVuc2lvbnNcbiAgY29uc3QgeyBJbWFnZSB9ID0gYXdhaXQgaW1wb3J0KFwicmVhY3QtbmF0aXZlXCIpO1xuICBcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBJbWFnZS5nZXRTaXplKFxuICAgICAgdXJpLFxuICAgICAgKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICAgICAgdGlsZVVwc2NhbGUodXJpLCB3aWR0aCwgaGVpZ2h0LCBvcHRzKVxuICAgICAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7IHJlamVjdChlcnJvcik7IH1cbiAgICApO1xuICB9KTtcbn1cblxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBTUEsSUFBQUEsZ0JBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsdUJBQUEsQ0FBQUMsT0FBQTtBQUErQyxJQUFBRSxTQUFBO0FBQUEsU0FBQUgsd0JBQUFJLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFOLHVCQUFBLFlBQUFBLHdCQUFBSSxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxFQUFBVixDQUFBLGlCQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFNBQUFRLENBQUEsTUFBQUYsQ0FBQSxHQUFBTCxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxRQUFBRyxDQUFBLENBQUFLLEdBQUEsQ0FBQVgsQ0FBQSxVQUFBTSxDQUFBLENBQUFNLEdBQUEsQ0FBQVosQ0FBQSxHQUFBTSxDQUFBLENBQUFPLEdBQUEsQ0FBQWIsQ0FBQSxFQUFBUSxDQUFBLGNBQUFNLEVBQUEsSUFBQWQsQ0FBQSxnQkFBQWMsRUFBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsRUFBQSxPQUFBUCxDQUFBLElBQUFELENBQUEsR0FBQVcsTUFBQSxDQUFBQyxjQUFBLEtBQUFELE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQW5CLENBQUEsRUFBQWMsRUFBQSxPQUFBUCxDQUFBLENBQUFLLEdBQUEsSUFBQUwsQ0FBQSxDQUFBTSxHQUFBLElBQUFQLENBQUEsQ0FBQUUsQ0FBQSxFQUFBTSxFQUFBLEVBQUFQLENBQUEsSUFBQUMsQ0FBQSxDQUFBTSxFQUFBLElBQUFkLENBQUEsQ0FBQWMsRUFBQSxXQUFBTixDQUFBLEtBQUFSLENBQUEsRUFBQUMsQ0FBQTtBQUFBLFNBT2hDbUIsUUFBUUEsQ0FBQTtFQUFBLE9BQUFDLFNBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBRixVQUFBO0VBQUFBLFNBQUEsT0FBQUcsa0JBQUEsQ0FBQWQsT0FBQSxFQUF2QixhQUF3QztJQUN0QyxJQUFJO01BRUYsT0FBT2IsT0FBTyxDQUFDLDRCQUE0QixDQUFDO0lBQzlDLENBQUMsQ0FBQyxPQUFBNEIsT0FBQSxFQUFNO01BQ04sT0FBTyxJQUFJO0lBQ2I7RUFDRixDQUFDO0VBQUEsT0FBQUosU0FBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQW9CRCxTQUFTRyx1QkFBdUJBLENBQzlCQyxJQUFZLEVBQ1pDLElBQVksRUFDWkMsSUFBcUIsRUFDVztFQUNoQyxJQUFRQyxLQUFLLEdBQXVCRCxJQUFJLENBQWhDQyxLQUFLO0lBQUVDLE9BQU8sR0FBY0YsSUFBSSxDQUF6QkUsT0FBTztJQUFFQyxPQUFPLEdBQUtILElBQUksQ0FBaEJHLE9BQU87RUFFL0IsSUFBSUQsT0FBTyxJQUFJQyxPQUFPLEVBQUU7SUFDdEIsT0FBTztNQUFFQyxJQUFJLEVBQUVGLE9BQU87TUFBRUcsSUFBSSxFQUFFRjtJQUFRLENBQUM7RUFDekM7RUFFQSxJQUFJRixLQUFLLEtBQUtLLFNBQVMsSUFBSSxDQUFDSixPQUFPLElBQUksQ0FBQ0MsT0FBTyxFQUFFO0lBQy9DLE9BQU87TUFDTEMsSUFBSSxFQUFFRyxJQUFJLENBQUNDLEtBQUssQ0FBQ1YsSUFBSSxHQUFHRyxLQUFLLENBQUM7TUFDOUJJLElBQUksRUFBRUUsSUFBSSxDQUFDQyxLQUFLLENBQUNULElBQUksR0FBR0UsS0FBSztJQUMvQixDQUFDO0VBQ0g7RUFFQSxJQUFJQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxFQUFFO0lBQ3ZCLElBQU03QixDQUFDLEdBQUc0QixPQUFPLEdBQUdKLElBQUk7SUFDeEIsT0FBTztNQUNMTSxJQUFJLEVBQUVGLE9BQU87TUFDYkcsSUFBSSxFQUFFRSxJQUFJLENBQUNDLEtBQUssQ0FBQ1QsSUFBSSxHQUFHekIsQ0FBQztJQUMzQixDQUFDO0VBQ0g7RUFFQSxJQUFJLENBQUM0QixPQUFPLElBQUlDLE9BQU8sRUFBRTtJQUN2QixJQUFNN0IsRUFBQyxHQUFHNkIsT0FBTyxHQUFHSixJQUFJO0lBQ3hCLE9BQU87TUFDTEssSUFBSSxFQUFFRyxJQUFJLENBQUNDLEtBQUssQ0FBQ1YsSUFBSSxHQUFHeEIsRUFBQyxDQUFDO01BQzFCK0IsSUFBSSxFQUFFRjtJQUNSLENBQUM7RUFDSDtFQUdBLE9BQU87SUFBRUMsSUFBSSxFQUFFTixJQUFJO0lBQUVPLElBQUksRUFBRU47RUFBSyxDQUFDO0FBQ25DO0FBQUMsU0FZcUJVLFdBQVdBLENBQUFDLEVBQUEsRUFBQUMsR0FBQSxFQUFBQyxHQUFBO0VBQUEsT0FBQUMsWUFBQSxDQUFBcEIsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBbUIsYUFBQTtFQUFBQSxZQUFBLE9BQUFsQixrQkFBQSxDQUFBZCxPQUFBLEVBQTFCLFdBQ0xpQyxHQUFXLEVBQ1hoQixJQUFZLEVBQ1pDLElBQVksRUFFSztJQUFBLElBRGpCQyxJQUFxQixHQUFBTixTQUFBLENBQUFxQixNQUFBLFFBQUFyQixTQUFBLFFBQUFZLFNBQUEsR0FBQVosU0FBQSxNQUFHLENBQUMsQ0FBQztJQUUxQixJQUFNc0IsSUFBSSxTQUFTekIsUUFBUSxDQUFDLENBQUM7SUFDN0IsSUFBQTBCLFVBQUEsR0FBNEVqQixJQUFJLENBQXhFa0IsSUFBSTtNQUFKQSxJQUFJLEdBQUFELFVBQUEsY0FBRyxJQUFJLEdBQUFBLFVBQUE7TUFBQUUsYUFBQSxHQUF5RG5CLElBQUksQ0FBM0RvQixPQUFPO01BQVBBLE9BQU8sR0FBQUQsYUFBQSxjQUFHLEVBQUUsR0FBQUEsYUFBQTtNQUFBRSxhQUFBLEdBQTJDckIsSUFBSSxDQUE3Q3NCLE9BQU87TUFBUEEsT0FBTyxHQUFBRCxhQUFBLGNBQUcsQ0FBQyxHQUFBQSxhQUFBO01BQUFFLFlBQUEsR0FBOEJ2QixJQUFJLENBQWhDd0IsTUFBTTtNQUFOQSxNQUFNLEdBQUFELFlBQUEsY0FBRyxLQUFLLEdBQUFBLFlBQUE7TUFBS0UsSUFBSSxPQUFBQyx5QkFBQSxDQUFBN0MsT0FBQSxFQUFLbUIsSUFBSSxFQUFBOUIsU0FBQTtJQUVoRixJQUFBeUQscUJBQUEsR0FBdUI5Qix1QkFBdUIsQ0FBQ0MsSUFBSSxFQUFFQyxJQUFJLEVBQUUwQixJQUFJLENBQUM7TUFBeERyQixJQUFJLEdBQUF1QixxQkFBQSxDQUFKdkIsSUFBSTtNQUFFQyxJQUFJLEdBQUFzQixxQkFBQSxDQUFKdEIsSUFBSTtJQUdsQixJQUFJLENBQUNXLElBQUksRUFBRTtNQUNULElBQU1ZLE1BQU0sU0FBUzlELGdCQUFnQixDQUFDK0QsZUFBZSxDQUNuRGYsR0FBRyxFQUNILENBQUM7UUFBRWdCLE1BQU0sRUFBRTtVQUFFQyxLQUFLLEVBQUV4QixJQUFJLENBQUNDLEtBQUssQ0FBQ0osSUFBSSxDQUFDO1VBQUU0QixNQUFNLEVBQUV6QixJQUFJLENBQUNDLEtBQUssQ0FBQ0gsSUFBSTtRQUFFO01BQUUsQ0FBQyxDQUFDLEVBQ25FO1FBQ0U0QixRQUFRLEVBQUVYLE9BQU87UUFDakJFLE1BQU0sRUFDSkEsTUFBTSxLQUFLLEtBQUssR0FDWjFELGdCQUFnQixDQUFDb0UsVUFBVSxDQUFDQyxHQUFHLEdBQy9CckUsZ0JBQWdCLENBQUNvRSxVQUFVLENBQUNFO01BQ3BDLENBQ0YsQ0FBQztNQUNELE9BQU9SLE1BQU0sQ0FBQ2QsR0FBRztJQUNuQjtJQUVBLElBQWN1QixDQUFDLEdBQUtyQixJQUFJLENBQWhCQSxJQUFJO0lBR1osSUFBTXNCLElBQUksU0FBU0QsQ0FBQyxDQUFDRSxJQUFJLENBQUNDLE9BQU8sQ0FBQzFCLEdBQUcsQ0FBQztJQUN0QyxJQUFNMkIsR0FBRyxHQUFHSixDQUFDLENBQUNLLEtBQUssQ0FBQ0Msb0JBQW9CLENBQUNMLElBQUksQ0FBQztJQUU5QyxJQUFJLENBQUNHLEdBQUcsRUFBRTtNQUVSLElBQU1iLE9BQU0sU0FBUzlELGdCQUFnQixDQUFDK0QsZUFBZSxDQUNuRGYsR0FBRyxFQUNILENBQUM7UUFBRWdCLE1BQU0sRUFBRTtVQUFFQyxLQUFLLEVBQUV4QixJQUFJLENBQUNDLEtBQUssQ0FBQ0osSUFBSSxDQUFDO1VBQUU0QixNQUFNLEVBQUV6QixJQUFJLENBQUNDLEtBQUssQ0FBQ0gsSUFBSTtRQUFFO01BQUUsQ0FBQyxDQUFDLEVBQ25FO1FBQ0U0QixRQUFRLEVBQUVYLE9BQU87UUFDakJFLE1BQU0sRUFBRTFELGdCQUFnQixDQUFDb0UsVUFBVSxDQUFDRTtNQUN0QyxDQUNGLENBQUM7TUFDRCxPQUFPUixPQUFNLENBQUNkLEdBQUc7SUFDbkI7SUFHQSxJQUFNOEIsT0FBTyxHQUFHUCxDQUFDLENBQUNRLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDdkMsSUFBSSxDQUFDQyxLQUFLLENBQUNKLElBQUksQ0FBQyxFQUFFRyxJQUFJLENBQUNDLEtBQUssQ0FBQ0gsSUFBSSxDQUFDLENBQUM7SUFFekUsSUFBSSxDQUFDdUMsT0FBTyxFQUFFO01BQ1osSUFBTWhCLFFBQU0sU0FBUzlELGdCQUFnQixDQUFDK0QsZUFBZSxDQUNuRGYsR0FBRyxFQUNILENBQUM7UUFBRWdCLE1BQU0sRUFBRTtVQUFFQyxLQUFLLEVBQUV4QixJQUFJLENBQUNDLEtBQUssQ0FBQ0osSUFBSSxDQUFDO1VBQUU0QixNQUFNLEVBQUV6QixJQUFJLENBQUNDLEtBQUssQ0FBQ0gsSUFBSTtRQUFFO01BQUUsQ0FBQyxDQUFDLEVBQ25FO1FBQ0U0QixRQUFRLEVBQUVYLE9BQU87UUFDakJFLE1BQU0sRUFBRTFELGdCQUFnQixDQUFDb0UsVUFBVSxDQUFDRTtNQUN0QyxDQUNGLENBQUM7TUFDRCxPQUFPUixRQUFNLENBQUNkLEdBQUc7SUFDbkI7SUFFQSxJQUFNaUMsTUFBTSxHQUFHSCxPQUFPLENBQUNJLFNBQVMsQ0FBQyxDQUFDO0lBQ2xDLElBQU1DLEtBQUssR0FBR1osQ0FBQyxDQUFDYSxLQUFLLENBQUMsQ0FBQztJQUN2QkQsS0FBSyxDQUFDRSxnQkFBZ0IsQ0FBQyxNQUFNLENBQUM7SUFHOUIsSUFBTUMsTUFBTSxHQUFHbEMsSUFBSSxHQUFHRSxPQUFPO0lBQzdCLElBQU1pQyxNQUFNLEdBQUduQyxJQUFJLEdBQUdFLE9BQU87SUFFN0IsS0FBSyxJQUFJa0MsRUFBRSxHQUFHLENBQUMsRUFBRUEsRUFBRSxHQUFHdkQsSUFBSSxFQUFFdUQsRUFBRSxJQUFJRCxNQUFNLEVBQUU7TUFDeEMsS0FBSyxJQUFJRSxFQUFFLEdBQUcsQ0FBQyxFQUFFQSxFQUFFLEdBQUd6RCxJQUFJLEVBQUV5RCxFQUFFLElBQUlILE1BQU0sRUFBRTtRQUN4QyxJQUFNSSxFQUFFLEdBQUdqRCxJQUFJLENBQUNrRCxHQUFHLENBQUN2QyxJQUFJLEVBQUVwQixJQUFJLEdBQUd5RCxFQUFFLENBQUM7UUFDcEMsSUFBTUcsRUFBRSxHQUFHbkQsSUFBSSxDQUFDa0QsR0FBRyxDQUFDdkMsSUFBSSxFQUFFbkIsSUFBSSxHQUFHdUQsRUFBRSxDQUFDO1FBRXBDLElBQU1LLEVBQUUsR0FBR3BELElBQUksQ0FBQ0MsS0FBSyxDQUFFK0MsRUFBRSxHQUFHekQsSUFBSSxHQUFJTSxJQUFJLENBQUM7UUFDekMsSUFBTXdELEVBQUUsR0FBR3JELElBQUksQ0FBQ0MsS0FBSyxDQUFFOEMsRUFBRSxHQUFHdkQsSUFBSSxHQUFJTSxJQUFJLENBQUM7UUFDekMsSUFBTXdELEVBQUUsR0FBR3RELElBQUksQ0FBQ0MsS0FBSyxDQUFFZ0QsRUFBRSxHQUFHMUQsSUFBSSxHQUFJTSxJQUFJLENBQUM7UUFDekMsSUFBTTBELEVBQUUsR0FBR3ZELElBQUksQ0FBQ0MsS0FBSyxDQUFFa0QsRUFBRSxHQUFHM0QsSUFBSSxHQUFJTSxJQUFJLENBQUM7UUFFekMsSUFBTTBELE9BQU8sR0FBRzFCLENBQUMsQ0FBQzJCLFFBQVEsQ0FBQ1QsRUFBRSxFQUFFRCxFQUFFLEVBQUVFLEVBQUUsRUFBRUUsRUFBRSxDQUFDO1FBQzFDLElBQU1PLE9BQU8sR0FBRzVCLENBQUMsQ0FBQzJCLFFBQVEsQ0FBQ0wsRUFBRSxFQUFFQyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsRUFBRSxDQUFDO1FBQzFDZixNQUFNLENBQUNtQixhQUFhLENBQUN6QixHQUFHLEVBQUVzQixPQUFPLEVBQUVFLE9BQU8sRUFBRWhCLEtBQUssQ0FBQztNQUNwRDtJQUNGO0lBRUEsSUFBTWtCLFFBQVEsR0FBR3ZCLE9BQU8sQ0FBQ3dCLGlCQUFpQixDQUFDLENBQUM7SUFDNUMsSUFBTUMsTUFBTSxHQUNWN0MsTUFBTSxLQUFLLEtBQUssR0FDWjJDLFFBQVEsQ0FBQ0csY0FBYyxDQUFDLENBQUMsR0FDekJILFFBQVEsQ0FBQ0csY0FBYyxDQUNyQmpDLENBQUMsQ0FBQ2tDLFdBQVcsQ0FBQ25DLElBQUksRUFDbEI3QixJQUFJLENBQUNDLEtBQUssQ0FBQ2MsT0FBTyxHQUFHLEdBQUcsQ0FDMUIsQ0FBQztJQUVQLElBQU1rRCxPQUFPLEdBQUcsR0FBR3ZHLFVBQVUsQ0FBQ3dHLGNBQWMsTUFBTUMsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxJQUFJbkQsTUFBTSxFQUFFO0lBQ3hFLE1BQU12RCxVQUFVLENBQUMyRyxrQkFBa0IsQ0FBQ0osT0FBTyxFQUFFSCxNQUFNLEVBQUU7TUFDbkRRLFFBQVEsRUFBRTVHLFVBQVUsQ0FBQzZHLFlBQVksQ0FBQ0M7SUFDcEMsQ0FBQyxDQUFDO0lBRUYsT0FBT1AsT0FBTztFQUNoQixDQUFDO0VBQUEsT0FBQTNELFlBQUEsQ0FBQXBCLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsU0FNcUJzRixlQUFlQSxDQUFBQyxHQUFBO0VBQUEsT0FBQUMsZ0JBQUEsQ0FBQXpGLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsU0FBQXdGLGlCQUFBO0VBQUFBLGdCQUFBLE9BQUF2RixrQkFBQSxDQUFBZCxPQUFBLEVBQTlCLFdBQ0xpQyxHQUFXLEVBRU07SUFBQSxJQURqQmQsSUFBcUIsR0FBQU4sU0FBQSxDQUFBcUIsTUFBQSxRQUFBckIsU0FBQSxRQUFBWSxTQUFBLEdBQUFaLFNBQUEsTUFBRyxDQUFDLENBQUM7SUFHMUIsSUFBQXlGLGFBQUEsU0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQUFDLElBQUE7UUFBQSxPQUFBdkgsdUJBQUEsQ0FBQUMsT0FBQSxDQUErQixjQUFjO01BQUE7TUFBckMwRSxLQUFLLEdBQUF5QyxhQUFBLENBQUx6QyxLQUFLO0lBRWIsT0FBTyxJQUFJMEMsT0FBTyxDQUFDLFVBQUNDLE9BQU8sRUFBRUUsTUFBTSxFQUFLO01BQ3RDN0MsS0FBSyxDQUFDOEMsT0FBTyxDQUNYMUUsR0FBRyxFQUNILFVBQUNpQixLQUFLLEVBQUVDLE1BQU0sRUFBSztRQUNqQnZCLFdBQVcsQ0FBQ0ssR0FBRyxFQUFFaUIsS0FBSyxFQUFFQyxNQUFNLEVBQUVoQyxJQUFJLENBQUMsQ0FDbENzRixJQUFJLENBQUNELE9BQU8sQ0FBQyxDQUNiSSxLQUFLLENBQUNGLE1BQU0sQ0FBQztNQUNsQixDQUFDLEVBQ0QsVUFBQ0csS0FBSyxFQUFLO1FBQUVILE1BQU0sQ0FBQ0csS0FBSyxDQUFDO01BQUUsQ0FDOUIsQ0FBQztJQUNILENBQUMsQ0FBQztFQUNKLENBQUM7RUFBQSxPQUFBUixnQkFBQSxDQUFBekYsS0FBQSxPQUFBQyxTQUFBO0FBQUEiLCJpZ25vcmVMaXN0IjpbXX0=