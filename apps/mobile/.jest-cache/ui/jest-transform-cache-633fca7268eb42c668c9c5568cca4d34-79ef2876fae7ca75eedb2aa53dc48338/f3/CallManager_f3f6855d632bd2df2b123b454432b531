1aa9914f1c0344323bca0d4ddcbb3052
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = CallManager;
exports.useCallManager = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireWildcard(require("react"));
var _core = require("@pawfectmatch/core");
var _reactNative = require("react-native");
var _useSocket = require("../../hooks/useSocket");
var _ActiveCallScreen = _interopRequireDefault(require("../../screens/calling/ActiveCallScreen"));
var _IncomingCallScreen = _interopRequireDefault(require("../../screens/calling/IncomingCallScreen"));
var _WebRTCService = _interopRequireDefault(require("../../services/WebRTCService"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
function CallManager(_ref) {
  var children = _ref.children;
  var _useState = (0, _react.useState)(_WebRTCService.default.getCallState()),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    callState = _useState2[0],
    setCallState = _useState2[1];
  var _useState3 = (0, _react.useState)(false),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    showIncomingCall = _useState4[0],
    setShowIncomingCall = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    showActiveCall = _useState6[0],
    setShowActiveCall = _useState6[1];
  var socket = (0, _useSocket.useSocket)();
  (0, _react.useEffect)(function () {
    if (socket) {}
    var handleCallStateChange = function handleCallStateChange(newState) {
      setCallState(newState);
      if (newState.isActive && newState.isIncoming && !newState.isConnected) {
        setShowIncomingCall(true);
        setShowActiveCall(false);
      } else if (newState.isActive && !newState.isIncoming) {
        setShowIncomingCall(false);
        setShowActiveCall(true);
      } else if (!newState.isActive) {
        setShowIncomingCall(false);
        setShowActiveCall(false);
      }
    };
    var handleCallError = function handleCallError(error) {
      _reactNative.Alert.alert("Call Error", "There was an issue with the call. Please try again.", [{
        text: "OK"
      }]);
      _core.logger.error("Call error:", {
        error: error
      });
    };
    _WebRTCService.default.on("callStateChanged", handleCallStateChange);
    _WebRTCService.default.on("callError", handleCallError);
    var handleAppStateChange = function handleAppStateChange(nextAppState) {
      if (nextAppState === "background" && callState.isActive) {
        _core.logger.info("Call moved to background");
      } else if (nextAppState === "active" && callState.isActive) {
        _core.logger.info("Call returned to foreground");
      }
    };
    var appStateSubscription = _reactNative.AppState.addEventListener("change", handleAppStateChange);
    return function () {
      _WebRTCService.default.off("callStateChanged", handleCallStateChange);
      _WebRTCService.default.off("callError", handleCallError);
      appStateSubscription == null ? void 0 : appStateSubscription.remove();
    };
  }, [socket]);
  var handleAnswerCall = function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* () {
      try {
        var success = yield _WebRTCService.default.answerCall();
        if (success) {
          setShowIncomingCall(false);
          setShowActiveCall(true);
        }
      } catch (error) {
        _reactNative.Alert.alert("Error", "Failed to answer call");
      }
    });
    return function handleAnswerCall() {
      return _ref2.apply(this, arguments);
    };
  }();
  var handleRejectCall = function handleRejectCall() {
    _WebRTCService.default.rejectCall();
    setShowIncomingCall(false);
  };
  var handleEndCall = function handleEndCall() {
    _reactNative.Alert.alert("End Call", "Are you sure you want to end this call?", [{
      text: "Cancel",
      style: "cancel"
    }, {
      text: "End Call",
      style: "destructive",
      onPress: function onPress() {
        _WebRTCService.default.endCall();
        setShowActiveCall(false);
      }
    }]);
  };
  var handleToggleMute = function handleToggleMute() {
    _WebRTCService.default.toggleMute();
  };
  var handleToggleVideo = function handleToggleVideo() {
    _WebRTCService.default.toggleVideo();
  };
  var handleSwitchCamera = function handleSwitchCamera() {
    _WebRTCService.default.switchCamera();
  };
  var handleToggleSpeaker = function handleToggleSpeaker() {
    _WebRTCService.default.toggleSpeaker();
  };
  return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
    children: [children, (0, _jsxRuntime.jsx)(_reactNative.Modal, {
      visible: showIncomingCall,
      animationType: "slide",
      presentationStyle: "fullScreen",
      onRequestClose: handleRejectCall,
      children: callState.callData && (0, _jsxRuntime.jsx)(_IncomingCallScreen.default, {
        callData: callState.callData,
        onAnswer: handleAnswerCall,
        onReject: handleRejectCall
      })
    }), (0, _jsxRuntime.jsx)(_reactNative.Modal, {
      visible: showActiveCall,
      animationType: "slide",
      presentationStyle: "fullScreen",
      onRequestClose: handleEndCall,
      children: (0, _jsxRuntime.jsx)(_ActiveCallScreen.default, {
        callState: callState,
        onEndCall: handleEndCall,
        onToggleMute: handleToggleMute,
        onToggleVideo: handleToggleVideo,
        onSwitchCamera: handleSwitchCamera,
        onToggleSpeaker: handleToggleSpeaker
      })
    })]
  });
}
var useCallManager = exports.useCallManager = function useCallManager() {
  var startCall = function () {
    var _ref3 = (0, _asyncToGenerator2.default)(function* (matchId, callType) {
      try {
        var success = yield _WebRTCService.default.startCall(matchId, callType);
        if (!success) {
          _reactNative.Alert.alert("Error", "Failed to start call. Please check your permissions and try again.");
        }
        return success;
      } catch (error) {
        _reactNative.Alert.alert("Error", "Failed to start call");
        return false;
      }
    });
    return function startCall(_x, _x2) {
      return _ref3.apply(this, arguments);
    };
  }();
  var endCall = function endCall() {
    _WebRTCService.default.endCall();
  };
  var isCallActive = function isCallActive() {
    return _WebRTCService.default.isCallActive();
  };
  var getCallState = function getCallState() {
    return _WebRTCService.default.getCallState();
  };
  return {
    startCall: startCall,
    endCall: endCall,
    isCallActive: isCallActive,
    getCallState: getCallState
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfY29yZSIsIl9yZWFjdE5hdGl2ZSIsIl91c2VTb2NrZXQiLCJfQWN0aXZlQ2FsbFNjcmVlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfSW5jb21pbmdDYWxsU2NyZWVuIiwiX1dlYlJUQ1NlcnZpY2UiLCJfanN4UnVudGltZSIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdDIiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIkNhbGxNYW5hZ2VyIiwiX3JlZiIsImNoaWxkcmVuIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJXZWJSVENTZXJ2aWNlIiwiZ2V0Q2FsbFN0YXRlIiwiX3VzZVN0YXRlMiIsIl9zbGljZWRUb0FycmF5MiIsImNhbGxTdGF0ZSIsInNldENhbGxTdGF0ZSIsIl91c2VTdGF0ZTMiLCJfdXNlU3RhdGU0Iiwic2hvd0luY29taW5nQ2FsbCIsInNldFNob3dJbmNvbWluZ0NhbGwiLCJfdXNlU3RhdGU1IiwiX3VzZVN0YXRlNiIsInNob3dBY3RpdmVDYWxsIiwic2V0U2hvd0FjdGl2ZUNhbGwiLCJzb2NrZXQiLCJ1c2VTb2NrZXQiLCJ1c2VFZmZlY3QiLCJoYW5kbGVDYWxsU3RhdGVDaGFuZ2UiLCJuZXdTdGF0ZSIsImlzQWN0aXZlIiwiaXNJbmNvbWluZyIsImlzQ29ubmVjdGVkIiwiaGFuZGxlQ2FsbEVycm9yIiwiZXJyb3IiLCJBbGVydCIsImFsZXJ0IiwidGV4dCIsImxvZ2dlciIsIm9uIiwiaGFuZGxlQXBwU3RhdGVDaGFuZ2UiLCJuZXh0QXBwU3RhdGUiLCJpbmZvIiwiYXBwU3RhdGVTdWJzY3JpcHRpb24iLCJBcHBTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvZmYiLCJyZW1vdmUiLCJoYW5kbGVBbnN3ZXJDYWxsIiwiX3JlZjIiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJzdWNjZXNzIiwiYW5zd2VyQ2FsbCIsImFwcGx5IiwiYXJndW1lbnRzIiwiaGFuZGxlUmVqZWN0Q2FsbCIsInJlamVjdENhbGwiLCJoYW5kbGVFbmRDYWxsIiwic3R5bGUiLCJvblByZXNzIiwiZW5kQ2FsbCIsImhhbmRsZVRvZ2dsZU11dGUiLCJ0b2dnbGVNdXRlIiwiaGFuZGxlVG9nZ2xlVmlkZW8iLCJ0b2dnbGVWaWRlbyIsImhhbmRsZVN3aXRjaENhbWVyYSIsInN3aXRjaENhbWVyYSIsImhhbmRsZVRvZ2dsZVNwZWFrZXIiLCJ0b2dnbGVTcGVha2VyIiwianN4cyIsIkZyYWdtZW50IiwianN4IiwiTW9kYWwiLCJ2aXNpYmxlIiwiYW5pbWF0aW9uVHlwZSIsInByZXNlbnRhdGlvblN0eWxlIiwib25SZXF1ZXN0Q2xvc2UiLCJjYWxsRGF0YSIsIm9uQW5zd2VyIiwib25SZWplY3QiLCJvbkVuZENhbGwiLCJvblRvZ2dsZU11dGUiLCJvblRvZ2dsZVZpZGVvIiwib25Td2l0Y2hDYW1lcmEiLCJvblRvZ2dsZVNwZWFrZXIiLCJ1c2VDYWxsTWFuYWdlciIsImV4cG9ydHMiLCJzdGFydENhbGwiLCJfcmVmMyIsIm1hdGNoSWQiLCJjYWxsVHlwZSIsIl94IiwiX3gyIiwiaXNDYWxsQWN0aXZlIl0sInNvdXJjZXMiOlsiQ2FsbE1hbmFnZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiQHBhd2ZlY3RtYXRjaC9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IEFwcFN0YXRlU3RhdHVzIH0gZnJvbSBcInJlYWN0LW5hdGl2ZVwiO1xuaW1wb3J0IHsgTW9kYWwsIEFsZXJ0LCBBcHBTdGF0ZSB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcblxuaW1wb3J0IHsgdXNlU29ja2V0IH0gZnJvbSBcIi4uLy4uL2hvb2tzL3VzZVNvY2tldFwiO1xuaW1wb3J0IEFjdGl2ZUNhbGxTY3JlZW4gZnJvbSBcIi4uLy4uL3NjcmVlbnMvY2FsbGluZy9BY3RpdmVDYWxsU2NyZWVuXCI7XG5pbXBvcnQgSW5jb21pbmdDYWxsU2NyZWVuIGZyb20gXCIuLi8uLi9zY3JlZW5zL2NhbGxpbmcvSW5jb21pbmdDYWxsU2NyZWVuXCI7XG5pbXBvcnQgdHlwZSB7IENhbGxTdGF0ZSB9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9XZWJSVENTZXJ2aWNlXCI7XG5pbXBvcnQgV2ViUlRDU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvV2ViUlRDU2VydmljZVwiO1xuaW1wb3J0IHR5cGUgeyBDYWxsRGF0YSB9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9XZWJSVENTZXJ2aWNlXCI7XG5cbmludGVyZmFjZSBDYWxsTWFuYWdlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FsbE1hbmFnZXIoeyBjaGlsZHJlbiB9OiBDYWxsTWFuYWdlclByb3BzKSB7XG4gIGNvbnN0IFtjYWxsU3RhdGUsIHNldENhbGxTdGF0ZV0gPSB1c2VTdGF0ZTxDYWxsU3RhdGU+KFxuICAgIFdlYlJUQ1NlcnZpY2UuZ2V0Q2FsbFN0YXRlKCksXG4gICk7XG4gIGNvbnN0IFtzaG93SW5jb21pbmdDYWxsLCBzZXRTaG93SW5jb21pbmdDYWxsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dBY3RpdmVDYWxsLCBzZXRTaG93QWN0aXZlQ2FsbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNvY2tldCA9IHVzZVNvY2tldCgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gV2ViUlRDIHNlcnZpY2UgYXV0b21hdGljYWxseSBoYW5kbGVzIHNvY2tldCBjb25uZWN0aW9uc1xuICAgIC8vIE5vIGV4cGxpY2l0IGluaXRpYWxpemF0aW9uIG5lZWRlZFxuICAgIGlmIChzb2NrZXQpIHtcbiAgICAgIC8vIFNvY2tldCBpcyBhbHJlYWR5IGNvbm5lY3RlZCBhbmQgV2ViUlRDIHNlcnZpY2Ugd2lsbCB1c2UgaXRcbiAgICB9XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGNhbGwgc3RhdGUgY2hhbmdlc1xuICAgIGNvbnN0IGhhbmRsZUNhbGxTdGF0ZUNoYW5nZSA9IChuZXdTdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gICAgICBzZXRDYWxsU3RhdGUobmV3U3RhdGUpO1xuXG4gICAgICBpZiAobmV3U3RhdGUuaXNBY3RpdmUgJiYgbmV3U3RhdGUuaXNJbmNvbWluZyAmJiAhbmV3U3RhdGUuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgLy8gU2hvdyBpbmNvbWluZyBjYWxsIHNjcmVlblxuICAgICAgICBzZXRTaG93SW5jb21pbmdDYWxsKHRydWUpO1xuICAgICAgICBzZXRTaG93QWN0aXZlQ2FsbChmYWxzZSk7XG4gICAgICB9IGVsc2UgaWYgKG5ld1N0YXRlLmlzQWN0aXZlICYmICFuZXdTdGF0ZS5pc0luY29taW5nKSB7XG4gICAgICAgIC8vIFNob3cgYWN0aXZlIGNhbGwgc2NyZWVuXG4gICAgICAgIHNldFNob3dJbmNvbWluZ0NhbGwoZmFsc2UpO1xuICAgICAgICBzZXRTaG93QWN0aXZlQ2FsbCh0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoIW5ld1N0YXRlLmlzQWN0aXZlKSB7XG4gICAgICAgIC8vIEhpZGUgYWxsIGNhbGwgc2NyZWVuc1xuICAgICAgICBzZXRTaG93SW5jb21pbmdDYWxsKGZhbHNlKTtcbiAgICAgICAgc2V0U2hvd0FjdGl2ZUNhbGwoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVDYWxsRXJyb3IgPSAoZXJyb3I6IHVua25vd24pID0+IHtcbiAgICAgIEFsZXJ0LmFsZXJ0KFxuICAgICAgICBcIkNhbGwgRXJyb3JcIixcbiAgICAgICAgXCJUaGVyZSB3YXMgYW4gaXNzdWUgd2l0aCB0aGUgY2FsbC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcbiAgICAgICAgW3sgdGV4dDogXCJPS1wiIH1dLFxuICAgICAgKTtcbiAgICAgIGxvZ2dlci5lcnJvcihcIkNhbGwgZXJyb3I6XCIsIHsgZXJyb3IgfSk7XG4gICAgfTtcblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICBXZWJSVENTZXJ2aWNlLm9uKFwiY2FsbFN0YXRlQ2hhbmdlZFwiLCBoYW5kbGVDYWxsU3RhdGVDaGFuZ2UpO1xuICAgIFdlYlJUQ1NlcnZpY2Uub24oXCJjYWxsRXJyb3JcIiwgaGFuZGxlQ2FsbEVycm9yKTtcblxuICAgIC8vIEhhbmRsZSBhcHAgc3RhdGUgY2hhbmdlcyAoZm9yIGJhY2tncm91bmQvZm9yZWdyb3VuZClcbiAgICBjb25zdCBoYW5kbGVBcHBTdGF0ZUNoYW5nZSA9IChuZXh0QXBwU3RhdGU6IEFwcFN0YXRlU3RhdHVzKSA9PiB7XG4gICAgICBpZiAobmV4dEFwcFN0YXRlID09PSBcImJhY2tncm91bmRcIiAmJiBjYWxsU3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgICAgLy8gSGFuZGxlIGNhbGwgaW4gYmFja2dyb3VuZCAtIGNvdWxkIGltcGxlbWVudCBwaWN0dXJlLWluLXBpY3R1cmVcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJDYWxsIG1vdmVkIHRvIGJhY2tncm91bmRcIik7XG4gICAgICB9IGVsc2UgaWYgKG5leHRBcHBTdGF0ZSA9PT0gXCJhY3RpdmVcIiAmJiBjYWxsU3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgICAgLy8gQ2FsbCByZXR1cm5lZCB0byBmb3JlZ3JvdW5kXG4gICAgICAgIGxvZ2dlci5pbmZvKFwiQ2FsbCByZXR1cm5lZCB0byBmb3JlZ3JvdW5kXCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBhcHBTdGF0ZVN1YnNjcmlwdGlvbiA9IEFwcFN0YXRlLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNoYW5nZVwiLFxuICAgICAgaGFuZGxlQXBwU3RhdGVDaGFuZ2UsXG4gICAgKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBXZWJSVENTZXJ2aWNlLm9mZihcImNhbGxTdGF0ZUNoYW5nZWRcIiwgaGFuZGxlQ2FsbFN0YXRlQ2hhbmdlKTtcbiAgICAgIFdlYlJUQ1NlcnZpY2Uub2ZmKFwiY2FsbEVycm9yXCIsIGhhbmRsZUNhbGxFcnJvcik7XG4gICAgICBhcHBTdGF0ZVN1YnNjcmlwdGlvbj8ucmVtb3ZlKCk7XG4gICAgfTtcbiAgfSwgW3NvY2tldF0pO1xuXG4gIC8vIENhbGwgYWN0aW9uIGhhbmRsZXJzXG4gIGNvbnN0IGhhbmRsZUFuc3dlckNhbGwgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBXZWJSVENTZXJ2aWNlLmFuc3dlckNhbGwoKTtcbiAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgIHNldFNob3dJbmNvbWluZ0NhbGwoZmFsc2UpO1xuICAgICAgICBzZXRTaG93QWN0aXZlQ2FsbCh0cnVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgQWxlcnQuYWxlcnQoXCJFcnJvclwiLCBcIkZhaWxlZCB0byBhbnN3ZXIgY2FsbFwiKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUmVqZWN0Q2FsbCA9ICgpID0+IHtcbiAgICBXZWJSVENTZXJ2aWNlLnJlamVjdENhbGwoKTtcbiAgICBzZXRTaG93SW5jb21pbmdDYWxsKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFbmRDYWxsID0gKCkgPT4ge1xuICAgIEFsZXJ0LmFsZXJ0KFwiRW5kIENhbGxcIiwgXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZW5kIHRoaXMgY2FsbD9cIiwgW1xuICAgICAgeyB0ZXh0OiBcIkNhbmNlbFwiLCBzdHlsZTogXCJjYW5jZWxcIiB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiBcIkVuZCBDYWxsXCIsXG4gICAgICAgIHN0eWxlOiBcImRlc3RydWN0aXZlXCIsXG4gICAgICAgIG9uUHJlc3M6ICgpID0+IHtcbiAgICAgICAgICBXZWJSVENTZXJ2aWNlLmVuZENhbGwoKTtcbiAgICAgICAgICBzZXRTaG93QWN0aXZlQ2FsbChmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZU11dGUgPSAoKSA9PiB7XG4gICAgV2ViUlRDU2VydmljZS50b2dnbGVNdXRlKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlVmlkZW8gPSAoKSA9PiB7XG4gICAgV2ViUlRDU2VydmljZS50b2dnbGVWaWRlbygpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN3aXRjaENhbWVyYSA9ICgpID0+IHtcbiAgICBXZWJSVENTZXJ2aWNlLnN3aXRjaENhbWVyYSgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVNwZWFrZXIgPSAoKSA9PiB7XG4gICAgV2ViUlRDU2VydmljZS50b2dnbGVTcGVha2VyKCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge2NoaWxkcmVufVxuXG4gICAgICB7LyogSW5jb21pbmcgQ2FsbCBNb2RhbCAqL31cbiAgICAgIDxNb2RhbFxuICAgICAgICB2aXNpYmxlPXtzaG93SW5jb21pbmdDYWxsfVxuICAgICAgICBhbmltYXRpb25UeXBlPVwic2xpZGVcIlxuICAgICAgICBwcmVzZW50YXRpb25TdHlsZT1cImZ1bGxTY3JlZW5cIlxuICAgICAgICBvblJlcXVlc3RDbG9zZT17aGFuZGxlUmVqZWN0Q2FsbH1cbiAgICAgID5cbiAgICAgICAge2NhbGxTdGF0ZS5jYWxsRGF0YSAmJiAoXG4gICAgICAgICAgPEluY29taW5nQ2FsbFNjcmVlblxuICAgICAgICAgICAgY2FsbERhdGE9e2NhbGxTdGF0ZS5jYWxsRGF0YX1cbiAgICAgICAgICAgIG9uQW5zd2VyPXtoYW5kbGVBbnN3ZXJDYWxsfVxuICAgICAgICAgICAgb25SZWplY3Q9e2hhbmRsZVJlamVjdENhbGx9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvTW9kYWw+XG5cbiAgICAgIHsvKiBBY3RpdmUgQ2FsbCBNb2RhbCAqL31cbiAgICAgIDxNb2RhbFxuICAgICAgICB2aXNpYmxlPXtzaG93QWN0aXZlQ2FsbH1cbiAgICAgICAgYW5pbWF0aW9uVHlwZT1cInNsaWRlXCJcbiAgICAgICAgcHJlc2VudGF0aW9uU3R5bGU9XCJmdWxsU2NyZWVuXCJcbiAgICAgICAgb25SZXF1ZXN0Q2xvc2U9e2hhbmRsZUVuZENhbGx9XG4gICAgICA+XG4gICAgICAgIDxBY3RpdmVDYWxsU2NyZWVuXG4gICAgICAgICAgY2FsbFN0YXRlPXtjYWxsU3RhdGV9XG4gICAgICAgICAgb25FbmRDYWxsPXtoYW5kbGVFbmRDYWxsfVxuICAgICAgICAgIG9uVG9nZ2xlTXV0ZT17aGFuZGxlVG9nZ2xlTXV0ZX1cbiAgICAgICAgICBvblRvZ2dsZVZpZGVvPXtoYW5kbGVUb2dnbGVWaWRlb31cbiAgICAgICAgICBvblN3aXRjaENhbWVyYT17aGFuZGxlU3dpdGNoQ2FtZXJhfVxuICAgICAgICAgIG9uVG9nZ2xlU3BlYWtlcj17aGFuZGxlVG9nZ2xlU3BlYWtlcn1cbiAgICAgICAgLz5cbiAgICAgIDwvTW9kYWw+XG4gICAgPC8+XG4gICk7XG59XG5cbi8vIEV4cG9ydCBob29rIGZvciBlYXN5IGFjY2VzcyB0byBjYWxsIGZ1bmN0aW9uYWxpdHlcbmV4cG9ydCBjb25zdCB1c2VDYWxsTWFuYWdlciA9ICgpID0+IHtcbiAgY29uc3Qgc3RhcnRDYWxsID0gYXN5bmMgKG1hdGNoSWQ6IHN0cmluZywgY2FsbFR5cGU6IFwidm9pY2VcIiB8IFwidmlkZW9cIikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgV2ViUlRDU2VydmljZS5zdGFydENhbGwobWF0Y2hJZCwgY2FsbFR5cGUpO1xuICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgIEFsZXJ0LmFsZXJ0KFxuICAgICAgICAgIFwiRXJyb3JcIixcbiAgICAgICAgICBcIkZhaWxlZCB0byBzdGFydCBjYWxsLiBQbGVhc2UgY2hlY2sgeW91ciBwZXJtaXNzaW9ucyBhbmQgdHJ5IGFnYWluLlwiLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIEFsZXJ0LmFsZXJ0KFwiRXJyb3JcIiwgXCJGYWlsZWQgdG8gc3RhcnQgY2FsbFwiKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZW5kQ2FsbCA9ICgpID0+IHtcbiAgICBXZWJSVENTZXJ2aWNlLmVuZENhbGwoKTtcbiAgfTtcblxuICBjb25zdCBpc0NhbGxBY3RpdmUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIFdlYlJUQ1NlcnZpY2UuaXNDYWxsQWN0aXZlKCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0Q2FsbFN0YXRlID0gKCkgPT4ge1xuICAgIHJldHVybiBXZWJSVENTZXJ2aWNlLmdldENhbGxTdGF0ZSgpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnRDYWxsLFxuICAgIGVuZENhbGwsXG4gICAgaXNDYWxsQWN0aXZlLFxuICAgIGdldENhbGxTdGF0ZSxcbiAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFELE9BQUE7QUFFQSxJQUFBRSxZQUFBLEdBQUFGLE9BQUE7QUFFQSxJQUFBRyxVQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxpQkFBQSxHQUFBQyxzQkFBQSxDQUFBTCxPQUFBO0FBQ0EsSUFBQU0sbUJBQUEsR0FBQUQsc0JBQUEsQ0FBQUwsT0FBQTtBQUVBLElBQUFPLGNBQUEsR0FBQUYsc0JBQUEsQ0FBQUwsT0FBQTtBQUF5RCxJQUFBUSxXQUFBLEdBQUFSLE9BQUE7QUFBQSxTQUFBRCx3QkFBQVUsQ0FBQSxFQUFBQyxDQUFBLDZCQUFBQyxPQUFBLE1BQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQVosdUJBQUEsWUFBQUEsd0JBQUFVLENBQUEsRUFBQUMsQ0FBQSxTQUFBQSxDQUFBLElBQUFELENBQUEsSUFBQUEsQ0FBQSxDQUFBSyxVQUFBLFNBQUFMLENBQUEsTUFBQU0sQ0FBQSxFQUFBQyxDQUFBLEVBQUFDLENBQUEsS0FBQUMsU0FBQSxRQUFBQyxPQUFBLEVBQUFWLENBQUEsaUJBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsU0FBQVEsQ0FBQSxNQUFBRixDQUFBLEdBQUFMLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLFFBQUFHLENBQUEsQ0FBQUssR0FBQSxDQUFBWCxDQUFBLFVBQUFNLENBQUEsQ0FBQU0sR0FBQSxDQUFBWixDQUFBLEdBQUFNLENBQUEsQ0FBQU8sR0FBQSxDQUFBYixDQUFBLEVBQUFRLENBQUEsY0FBQU0sR0FBQSxJQUFBZCxDQUFBLGdCQUFBYyxHQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxHQUFBLE9BQUFQLENBQUEsSUFBQUQsQ0FBQSxHQUFBVyxNQUFBLENBQUFDLGNBQUEsS0FBQUQsTUFBQSxDQUFBRSx3QkFBQSxDQUFBbkIsQ0FBQSxFQUFBYyxHQUFBLE9BQUFQLENBQUEsQ0FBQUssR0FBQSxJQUFBTCxDQUFBLENBQUFNLEdBQUEsSUFBQVAsQ0FBQSxDQUFBRSxDQUFBLEVBQUFNLEdBQUEsRUFBQVAsQ0FBQSxJQUFBQyxDQUFBLENBQUFNLEdBQUEsSUFBQWQsQ0FBQSxDQUFBYyxHQUFBLFdBQUFOLENBQUEsS0FBQVIsQ0FBQSxFQUFBQyxDQUFBO0FBTzFDLFNBQVNtQixXQUFXQSxDQUFBQyxJQUFBLEVBQWlDO0VBQUEsSUFBOUJDLFFBQVEsR0FBQUQsSUFBQSxDQUFSQyxRQUFRO0VBQzVDLElBQUFDLFNBQUEsR0FBa0MsSUFBQUMsZUFBUSxFQUN4Q0Msc0JBQWEsQ0FBQ0MsWUFBWSxDQUFDLENBQzdCLENBQUM7SUFBQUMsVUFBQSxPQUFBQyxlQUFBLENBQUFsQixPQUFBLEVBQUFhLFNBQUE7SUFGTU0sU0FBUyxHQUFBRixVQUFBO0lBQUVHLFlBQVksR0FBQUgsVUFBQTtFQUc5QixJQUFBSSxVQUFBLEdBQWdELElBQUFQLGVBQVEsRUFBQyxLQUFLLENBQUM7SUFBQVEsVUFBQSxPQUFBSixlQUFBLENBQUFsQixPQUFBLEVBQUFxQixVQUFBO0lBQXhERSxnQkFBZ0IsR0FBQUQsVUFBQTtJQUFFRSxtQkFBbUIsR0FBQUYsVUFBQTtFQUM1QyxJQUFBRyxVQUFBLEdBQTRDLElBQUFYLGVBQVEsRUFBQyxLQUFLLENBQUM7SUFBQVksVUFBQSxPQUFBUixlQUFBLENBQUFsQixPQUFBLEVBQUF5QixVQUFBO0lBQXBERSxjQUFjLEdBQUFELFVBQUE7SUFBRUUsaUJBQWlCLEdBQUFGLFVBQUE7RUFDeEMsSUFBTUcsTUFBTSxHQUFHLElBQUFDLG9CQUFTLEVBQUMsQ0FBQztFQUUxQixJQUFBQyxnQkFBUyxFQUFDLFlBQU07SUFHZCxJQUFJRixNQUFNLEVBQUUsQ0FFWjtJQUdBLElBQU1HLHFCQUFxQixHQUFHLFNBQXhCQSxxQkFBcUJBLENBQUlDLFFBQW1CLEVBQUs7TUFDckRiLFlBQVksQ0FBQ2EsUUFBUSxDQUFDO01BRXRCLElBQUlBLFFBQVEsQ0FBQ0MsUUFBUSxJQUFJRCxRQUFRLENBQUNFLFVBQVUsSUFBSSxDQUFDRixRQUFRLENBQUNHLFdBQVcsRUFBRTtRQUVyRVosbUJBQW1CLENBQUMsSUFBSSxDQUFDO1FBQ3pCSSxpQkFBaUIsQ0FBQyxLQUFLLENBQUM7TUFDMUIsQ0FBQyxNQUFNLElBQUlLLFFBQVEsQ0FBQ0MsUUFBUSxJQUFJLENBQUNELFFBQVEsQ0FBQ0UsVUFBVSxFQUFFO1FBRXBEWCxtQkFBbUIsQ0FBQyxLQUFLLENBQUM7UUFDMUJJLGlCQUFpQixDQUFDLElBQUksQ0FBQztNQUN6QixDQUFDLE1BQU0sSUFBSSxDQUFDSyxRQUFRLENBQUNDLFFBQVEsRUFBRTtRQUU3QlYsbUJBQW1CLENBQUMsS0FBSyxDQUFDO1FBQzFCSSxpQkFBaUIsQ0FBQyxLQUFLLENBQUM7TUFDMUI7SUFDRixDQUFDO0lBRUQsSUFBTVMsZUFBZSxHQUFHLFNBQWxCQSxlQUFlQSxDQUFJQyxLQUFjLEVBQUs7TUFDMUNDLGtCQUFLLENBQUNDLEtBQUssQ0FDVCxZQUFZLEVBQ1oscURBQXFELEVBQ3JELENBQUM7UUFBRUMsSUFBSSxFQUFFO01BQUssQ0FBQyxDQUNqQixDQUFDO01BQ0RDLFlBQU0sQ0FBQ0osS0FBSyxDQUFDLGFBQWEsRUFBRTtRQUFFQSxLQUFLLEVBQUxBO01BQU0sQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFHRHZCLHNCQUFhLENBQUM0QixFQUFFLENBQUMsa0JBQWtCLEVBQUVYLHFCQUFxQixDQUFDO0lBQzNEakIsc0JBQWEsQ0FBQzRCLEVBQUUsQ0FBQyxXQUFXLEVBQUVOLGVBQWUsQ0FBQztJQUc5QyxJQUFNTyxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQW9CQSxDQUFJQyxZQUE0QixFQUFLO01BQzdELElBQUlBLFlBQVksS0FBSyxZQUFZLElBQUkxQixTQUFTLENBQUNlLFFBQVEsRUFBRTtRQUV2RFEsWUFBTSxDQUFDSSxJQUFJLENBQUMsMEJBQTBCLENBQUM7TUFDekMsQ0FBQyxNQUFNLElBQUlELFlBQVksS0FBSyxRQUFRLElBQUkxQixTQUFTLENBQUNlLFFBQVEsRUFBRTtRQUUxRFEsWUFBTSxDQUFDSSxJQUFJLENBQUMsNkJBQTZCLENBQUM7TUFDNUM7SUFDRixDQUFDO0lBRUQsSUFBTUMsb0JBQW9CLEdBQUdDLHFCQUFRLENBQUNDLGdCQUFnQixDQUNwRCxRQUFRLEVBQ1JMLG9CQUNGLENBQUM7SUFFRCxPQUFPLFlBQU07TUFDWDdCLHNCQUFhLENBQUNtQyxHQUFHLENBQUMsa0JBQWtCLEVBQUVsQixxQkFBcUIsQ0FBQztNQUM1RGpCLHNCQUFhLENBQUNtQyxHQUFHLENBQUMsV0FBVyxFQUFFYixlQUFlLENBQUM7TUFDL0NVLG9CQUFvQixvQkFBcEJBLG9CQUFvQixDQUFFSSxNQUFNLENBQUMsQ0FBQztJQUNoQyxDQUFDO0VBQ0gsQ0FBQyxFQUFFLENBQUN0QixNQUFNLENBQUMsQ0FBQztFQUdaLElBQU11QixnQkFBZ0I7SUFBQSxJQUFBQyxLQUFBLE9BQUFDLGtCQUFBLENBQUF0RCxPQUFBLEVBQUcsYUFBWTtNQUNuQyxJQUFJO1FBQ0YsSUFBTXVELE9BQU8sU0FBU3hDLHNCQUFhLENBQUN5QyxVQUFVLENBQUMsQ0FBQztRQUNoRCxJQUFJRCxPQUFPLEVBQUU7VUFDWC9CLG1CQUFtQixDQUFDLEtBQUssQ0FBQztVQUMxQkksaUJBQWlCLENBQUMsSUFBSSxDQUFDO1FBQ3pCO01BQ0YsQ0FBQyxDQUFDLE9BQU9VLEtBQUssRUFBRTtRQUNkQyxrQkFBSyxDQUFDQyxLQUFLLENBQUMsT0FBTyxFQUFFLHVCQUF1QixDQUFDO01BQy9DO0lBQ0YsQ0FBQztJQUFBLGdCQVZLWSxnQkFBZ0JBLENBQUE7TUFBQSxPQUFBQyxLQUFBLENBQUFJLEtBQUEsT0FBQUMsU0FBQTtJQUFBO0VBQUEsR0FVckI7RUFFRCxJQUFNQyxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUFBLEVBQVM7SUFDN0I1QyxzQkFBYSxDQUFDNkMsVUFBVSxDQUFDLENBQUM7SUFDMUJwQyxtQkFBbUIsQ0FBQyxLQUFLLENBQUM7RUFDNUIsQ0FBQztFQUVELElBQU1xQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUEsRUFBUztJQUMxQnRCLGtCQUFLLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUUseUNBQXlDLEVBQUUsQ0FDakU7TUFBRUMsSUFBSSxFQUFFLFFBQVE7TUFBRXFCLEtBQUssRUFBRTtJQUFTLENBQUMsRUFDbkM7TUFDRXJCLElBQUksRUFBRSxVQUFVO01BQ2hCcUIsS0FBSyxFQUFFLGFBQWE7TUFDcEJDLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBLEVBQVE7UUFDYmhELHNCQUFhLENBQUNpRCxPQUFPLENBQUMsQ0FBQztRQUN2QnBDLGlCQUFpQixDQUFDLEtBQUssQ0FBQztNQUMxQjtJQUNGLENBQUMsQ0FDRixDQUFDO0VBQ0osQ0FBQztFQUVELElBQU1xQyxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUFBLEVBQVM7SUFDN0JsRCxzQkFBYSxDQUFDbUQsVUFBVSxDQUFDLENBQUM7RUFDNUIsQ0FBQztFQUVELElBQU1DLGlCQUFpQixHQUFHLFNBQXBCQSxpQkFBaUJBLENBQUEsRUFBUztJQUM5QnBELHNCQUFhLENBQUNxRCxXQUFXLENBQUMsQ0FBQztFQUM3QixDQUFDO0VBRUQsSUFBTUMsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFrQkEsQ0FBQSxFQUFTO0lBQy9CdEQsc0JBQWEsQ0FBQ3VELFlBQVksQ0FBQyxDQUFDO0VBQzlCLENBQUM7RUFFRCxJQUFNQyxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQW1CQSxDQUFBLEVBQVM7SUFDaEN4RCxzQkFBYSxDQUFDeUQsYUFBYSxDQUFDLENBQUM7RUFDL0IsQ0FBQztFQUVELE9BQ0UsSUFBQW5GLFdBQUEsQ0FBQW9GLElBQUEsRUFBQXBGLFdBQUEsQ0FBQXFGLFFBQUE7SUFBQTlELFFBQUEsR0FDR0EsUUFBUSxFQUdULElBQUF2QixXQUFBLENBQUFzRixHQUFBLEVBQUM1RixZQUFBLENBQUE2RixLQUFLO01BQ0pDLE9BQU8sRUFBRXRELGdCQUFpQjtNQUMxQnVELGFBQWEsRUFBQyxPQUFPO01BQ3JCQyxpQkFBaUIsRUFBQyxZQUFZO01BQzlCQyxjQUFjLEVBQUVyQixnQkFBaUI7TUFBQS9DLFFBQUEsRUFFaENPLFNBQVMsQ0FBQzhELFFBQVEsSUFDakIsSUFBQTVGLFdBQUEsQ0FBQXNGLEdBQUEsRUFBQ3hGLG1CQUFBLENBQUFhLE9BQWtCO1FBQ2pCaUYsUUFBUSxFQUFFOUQsU0FBUyxDQUFDOEQsUUFBUztRQUM3QkMsUUFBUSxFQUFFOUIsZ0JBQWlCO1FBQzNCK0IsUUFBUSxFQUFFeEI7TUFBaUIsQ0FDNUI7SUFDRixDQUNJLENBQUMsRUFHUixJQUFBdEUsV0FBQSxDQUFBc0YsR0FBQSxFQUFDNUYsWUFBQSxDQUFBNkYsS0FBSztNQUNKQyxPQUFPLEVBQUVsRCxjQUFlO01BQ3hCbUQsYUFBYSxFQUFDLE9BQU87TUFDckJDLGlCQUFpQixFQUFDLFlBQVk7TUFDOUJDLGNBQWMsRUFBRW5CLGFBQWM7TUFBQWpELFFBQUEsRUFFOUIsSUFBQXZCLFdBQUEsQ0FBQXNGLEdBQUEsRUFBQzFGLGlCQUFBLENBQUFlLE9BQWdCO1FBQ2ZtQixTQUFTLEVBQUVBLFNBQVU7UUFDckJpRSxTQUFTLEVBQUV2QixhQUFjO1FBQ3pCd0IsWUFBWSxFQUFFcEIsZ0JBQWlCO1FBQy9CcUIsYUFBYSxFQUFFbkIsaUJBQWtCO1FBQ2pDb0IsY0FBYyxFQUFFbEIsa0JBQW1CO1FBQ25DbUIsZUFBZSxFQUFFakI7TUFBb0IsQ0FDdEM7SUFBQyxDQUNHLENBQUM7RUFBQSxDQUNSLENBQUM7QUFFUDtBQUdPLElBQU1rQixjQUFjLEdBQUFDLE9BQUEsQ0FBQUQsY0FBQSxHQUFHLFNBQWpCQSxjQUFjQSxDQUFBLEVBQVM7RUFDbEMsSUFBTUUsU0FBUztJQUFBLElBQUFDLEtBQUEsT0FBQXRDLGtCQUFBLENBQUF0RCxPQUFBLEVBQUcsV0FBTzZGLE9BQWUsRUFBRUMsUUFBMkIsRUFBSztNQUN4RSxJQUFJO1FBQ0YsSUFBTXZDLE9BQU8sU0FBU3hDLHNCQUFhLENBQUM0RSxTQUFTLENBQUNFLE9BQU8sRUFBRUMsUUFBUSxDQUFDO1FBQ2hFLElBQUksQ0FBQ3ZDLE9BQU8sRUFBRTtVQUNaaEIsa0JBQUssQ0FBQ0MsS0FBSyxDQUNULE9BQU8sRUFDUCxvRUFDRixDQUFDO1FBQ0g7UUFDQSxPQUFPZSxPQUFPO01BQ2hCLENBQUMsQ0FBQyxPQUFPakIsS0FBSyxFQUFFO1FBQ2RDLGtCQUFLLENBQUNDLEtBQUssQ0FBQyxPQUFPLEVBQUUsc0JBQXNCLENBQUM7UUFDNUMsT0FBTyxLQUFLO01BQ2Q7SUFDRixDQUFDO0lBQUEsZ0JBZEttRCxTQUFTQSxDQUFBSSxFQUFBLEVBQUFDLEdBQUE7TUFBQSxPQUFBSixLQUFBLENBQUFuQyxLQUFBLE9BQUFDLFNBQUE7SUFBQTtFQUFBLEdBY2Q7RUFFRCxJQUFNTSxPQUFPLEdBQUcsU0FBVkEsT0FBT0EsQ0FBQSxFQUFTO0lBQ3BCakQsc0JBQWEsQ0FBQ2lELE9BQU8sQ0FBQyxDQUFDO0VBQ3pCLENBQUM7RUFFRCxJQUFNaUMsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUEsRUFBUztJQUN6QixPQUFPbEYsc0JBQWEsQ0FBQ2tGLFlBQVksQ0FBQyxDQUFDO0VBQ3JDLENBQUM7RUFFRCxJQUFNakYsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUEsRUFBUztJQUN6QixPQUFPRCxzQkFBYSxDQUFDQyxZQUFZLENBQUMsQ0FBQztFQUNyQyxDQUFDO0VBRUQsT0FBTztJQUNMMkUsU0FBUyxFQUFUQSxTQUFTO0lBQ1QzQixPQUFPLEVBQVBBLE9BQU87SUFDUGlDLFlBQVksRUFBWkEsWUFBWTtJQUNaakYsWUFBWSxFQUFaQTtFQUNGLENBQUM7QUFDSCxDQUFDIiwiaWdub3JlTGlzdCI6W119