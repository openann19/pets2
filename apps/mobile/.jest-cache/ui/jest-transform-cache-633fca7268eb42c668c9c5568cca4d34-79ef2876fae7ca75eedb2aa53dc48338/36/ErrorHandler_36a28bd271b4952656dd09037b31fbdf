74f4a9843684ec4b2cd5f36e8cf135fd
"use strict";
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.errorHandler = exports.ErrorHandler = void 0;
var environment_1 = require("../utils/environment");
var isPromiseRejectionEvent = function isPromiseRejectionEvent(event) {
  return 'reason' in event;
};
var isErrorEvent = function isErrorEvent(event) {
  return 'error' in event;
};
var stringifyUnknown = function stringifyUnknown(value) {
  if (value instanceof Error) {
    return value.message;
  }
  if (typeof value === 'object' && value !== null) {
    try {
      return JSON.stringify(value);
    } catch (_unused) {
      return '[unserializable object]';
    }
  }
  return String(value);
};
var isRecordWithMessage = function isRecordWithMessage(value) {
  return typeof value === 'object' && value !== null && 'message' in value;
};
var ErrorHandlerService = function () {
  function ErrorHandlerService() {
    (0, _classCallCheck2.default)(this, ErrorHandlerService);
    this.errorQueue = [];
    this.notificationHandlers = [];
    this.errorLoggers = [];
    this.maxQueueSize = 1000;
    this.isProduction = process.env['NODE_ENV'] === 'production';
    this.setupGlobalErrorHandlers();
  }
  return (0, _createClass2.default)(ErrorHandlerService, [{
    key: "onNotification",
    value: function onNotification(handler) {
      this.notificationHandlers.push(handler);
    }
  }, {
    key: "onErrorLog",
    value: function onErrorLog(handler) {
      this.errorLoggers.push(handler);
    }
  }, {
    key: "handleError",
    value: function handleError(error) {
      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var processedError = this.processError(error, context, options);
      this.addToQueue(processedError);
      if (options.logError !== false) {
        this.logError(processedError);
      }
      if (options.showNotification !== false && processedError.notification != null) {
        this.showNotification(processedError.notification);
      }
      return processedError;
    }
  }, {
    key: "handleApiError",
    value: function handleApiError(error) {
      var _options$method, _options$endpoint;
      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var apiContext = _objectSpread(_objectSpread({}, context), {}, {
        component: 'API',
        action: `${(_options$method = options.method) != null ? _options$method : 'REQUEST'} ${(_options$endpoint = options.endpoint) != null ? _options$endpoint : 'unknown'}`,
        metadata: _objectSpread(_objectSpread({}, context.metadata), {}, {
          endpoint: options.endpoint,
          method: options.method,
          statusCode: options.statusCode
        })
      });
      this.createApiErrorNotification(error, options);
      this.createApiErrorRecovery(options.statusCode);
      return this.handleError(error, apiContext, {
        showNotification: options.showNotification !== false,
        severity: this.getApiErrorSeverity(options.statusCode)
      });
    }
  }, {
    key: "handleAuthError",
    value: function handleAuthError(error) {
      var _options$authMethod;
      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var authContext = _objectSpread(_objectSpread({}, context), {}, {
        component: 'Authentication',
        action: (_options$authMethod = options.authMethod) != null ? _options$authMethod : 'authenticate',
        severity: 'high',
        metadata: _objectSpread(_objectSpread({}, context.metadata), {}, {
          authMethod: options.authMethod
        })
      });
      this.createErrorNotification({
        id: 'auth-error',
        message: this.getAuthErrorMessage(error),
        context: authContext,
        timestamp: new Date()
      });
      return this.handleError(error, authContext, {
        showNotification: options.showNotification !== false,
        severity: 'high'
      });
    }
  }, {
    key: "handlePaymentError",
    value: function handlePaymentError(error) {
      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var paymentContext = _objectSpread(_objectSpread({}, context), {}, {
        component: 'Payment',
        action: 'process_payment',
        severity: 'high',
        metadata: _objectSpread(_objectSpread({}, context.metadata), {}, {
          paymentMethod: options.paymentMethod,
          amount: options.amount,
          currency: options.currency
        })
      });
      this.createErrorNotification({
        id: 'payment-error',
        message: this.getPaymentErrorMessage(error),
        context: paymentContext,
        timestamp: new Date()
      });
      return this.handleError(error, paymentContext, {
        showNotification: options.showNotification !== false,
        severity: 'high'
      });
    }
  }, {
    key: "handleNetworkError",
    value: function handleNetworkError(error) {
      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var networkContext = _objectSpread(_objectSpread({}, context), {}, {
        component: 'Network',
        action: 'network_request',
        severity: 'medium',
        metadata: _objectSpread(_objectSpread({}, context.metadata), {}, {
          retryable: options.retryable
        })
      });
      this.createErrorNotification({
        id: 'network-error',
        message: 'Please check your internet connection and try again.',
        context: networkContext,
        timestamp: new Date()
      });
      return this.handleError(error, networkContext, {
        showNotification: options.showNotification !== false,
        severity: 'medium'
      });
    }
  }, {
    key: "getErrorStats",
    value: function getErrorStats() {
      var now = new Date();
      var oneHourAgo = new Date(now.getTime() - 60 * 60 * 1000);
      var recent = this.errorQueue.filter(function (error) {
        return error.timestamp >= oneHourAgo;
      });
      var bySeverity = this.errorQueue.reduce(function (acc, error) {
        var _error$context$severi, _acc$severity;
        var severity = (_error$context$severi = error.context.severity) != null ? _error$context$severi : 'medium';
        acc[severity] = ((_acc$severity = acc[severity]) != null ? _acc$severity : 0) + 1;
        return acc;
      }, {});
      var byComponent = this.errorQueue.reduce(function (acc, error) {
        var _error$context$compon, _acc$component;
        var component = (_error$context$compon = error.context.component) != null ? _error$context$compon : 'unknown';
        acc[component] = ((_acc$component = acc[component]) != null ? _acc$component : 0) + 1;
        return acc;
      }, {});
      return {
        total: this.errorQueue.length,
        bySeverity: bySeverity,
        byComponent: byComponent,
        recent: recent.slice(-10)
      };
    }
  }, {
    key: "clearQueue",
    value: function clearQueue() {
      this.errorQueue = [];
    }
  }, {
    key: "processError",
    value: function processError(error, context) {
      var _ref, _options$severity;
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var errorMessage = typeof error === 'string' ? error : error.message;
      var errorStack = typeof error === 'string' ? undefined : error.stack;
      var processedError = {
        id: this.generateErrorId(),
        message: errorMessage,
        context: _objectSpread(_objectSpread({}, context), {}, {
          timestamp: new Date(),
          severity: (_ref = (_options$severity = options.severity) != null ? _options$severity : context.severity) != null ? _ref : 'medium'
        }),
        stack: errorStack,
        timestamp: new Date()
      };
      if (this.shouldShowNotification(processedError)) {
        processedError.notification = this.createErrorNotification(processedError);
      }
      if (this.canRecover(processedError)) {
        processedError.recovery = this.createRecoveryOptions(processedError);
      }
      return processedError;
    }
  }, {
    key: "addToQueue",
    value: function addToQueue(error) {
      this.errorQueue.push(error);
      if (this.errorQueue.length > this.maxQueueSize) {
        this.errorQueue = this.errorQueue.slice(-this.maxQueueSize);
      }
    }
  }, {
    key: "logError",
    value: function logError(error) {
      this.errorLoggers.forEach(function (logger) {
        try {
          logger(error);
        } catch (logError) {
          console.error('Error logging failed:', logError);
          console.error('Original error:', error);
        }
      });
      if (!this.isProduction) {
        console.error('Error:', error);
      }
    }
  }, {
    key: "showNotification",
    value: function showNotification(notification) {
      this.notificationHandlers.forEach(function (handler) {
        try {
          handler(notification);
        } catch (handlerError) {
          console.error('Notification handler failed:', handlerError);
        }
      });
    }
  }, {
    key: "shouldShowNotification",
    value: function shouldShowNotification(error) {
      var _error$context$severi2;
      var severity = (_error$context$severi2 = error.context.severity) != null ? _error$context$severi2 : 'medium';
      return severity === 'high' || severity === 'critical';
    }
  }, {
    key: "createErrorNotification",
    value: function createErrorNotification(error) {
      var _error$context$severi3;
      var severity = (_error$context$severi3 = error.context.severity) != null ? _error$context$severi3 : 'medium';
      switch (severity) {
        case 'critical':
          return {
            title: 'Critical Error',
            message: 'A critical error occurred. Please contact support if this persists.',
            type: 'error',
            dismissible: false,
            autoHide: false
          };
        case 'high':
          return {
            title: 'Error',
            message: error.message,
            type: 'error',
            dismissible: true,
            autoHide: true,
            duration: 5000
          };
        case 'medium':
          return {
            title: 'Warning',
            message: error.message,
            type: 'warning',
            dismissible: true,
            autoHide: true,
            duration: 3000
          };
        default:
          return {
            title: 'Info',
            message: error.message,
            type: 'info',
            dismissible: true,
            autoHide: true,
            duration: 2000
          };
      }
    }
  }, {
    key: "createApiErrorNotification",
    value: function createApiErrorNotification(error, options) {
      var _options$statusCode;
      var statusCode = (_options$statusCode = options.statusCode) != null ? _options$statusCode : 500;
      if (!isNaN(statusCode) && statusCode >= 500) {
        return {
          title: 'Server Error',
          message: 'Our servers are experiencing issues. Please try again later.',
          type: 'error',
          action: {
            label: 'Retry',
            handler: function handler() {}
          }
        };
      } else if (statusCode === 404) {
        return {
          title: 'Not Found',
          message: 'The requested resource was not found.',
          type: 'error'
        };
      } else if (statusCode === 403) {
        return {
          title: 'Access Denied',
          message: 'You do not have permission to access this resource.',
          type: 'error'
        };
      } else if (statusCode === 401) {
        return {
          title: 'Authentication Required',
          message: 'Please log in to continue.',
          type: 'error',
          action: {
            label: 'Login',
            handler: function handler() {}
          }
        };
      } else {
        return {
          title: 'Request Failed',
          message: error.message.trim() !== '' ? error.message : 'An error occurred while processing your request.',
          type: 'error'
        };
      }
    }
  }, {
    key: "createApiErrorRecovery",
    value: function createApiErrorRecovery(statusCode) {
      if (statusCode != null && statusCode >= 500) {
        return {
          canRetry: true,
          retryDelay: 5000,
          maxRetries: 3
        };
      } else if (statusCode === 429) {
        return {
          canRetry: true,
          retryDelay: 10000,
          maxRetries: 2
        };
      } else {
        return {
          canRetry: false
        };
      }
    }
  }, {
    key: "getApiErrorSeverity",
    value: function getApiErrorSeverity(statusCode) {
      if (statusCode == null) return 'medium';
      if (statusCode >= 500) return 'high';
      if (statusCode === 404) return 'low';
      if (statusCode === 403 || statusCode === 401) return 'high';
      if (statusCode >= 400) return 'medium';
      return 'low';
    }
  }, {
    key: "getAuthErrorMessage",
    value: function getAuthErrorMessage(error) {
      var message = error.message.toLowerCase();
      if (message.includes('invalid') || message.includes('incorrect')) {
        return 'Invalid credentials. Please check your username and password.';
      } else if (message.includes('expired')) {
        return 'Your session has expired. Please log in again.';
      } else if (message.includes('locked') || message.includes('disabled')) {
        return 'Your account has been locked. Please contact support.';
      } else {
        return 'Authentication failed. Please try again.';
      }
    }
  }, {
    key: "getPaymentErrorMessage",
    value: function getPaymentErrorMessage(error) {
      var message = error.message.toLowerCase();
      if (message.includes('card') || message.includes('payment')) {
        return 'Payment failed. Please check your payment method and try again.';
      } else if (message.includes('insufficient') || message.includes('funds')) {
        return 'Insufficient funds. Please use a different payment method.';
      } else if (message.includes('declined')) {
        return 'Payment was declined. Please contact your bank or use a different card.';
      } else {
        return 'Payment processing failed. Please try again or contact support.';
      }
    }
  }, {
    key: "canRecover",
    value: function canRecover(error) {
      var _error$context$severi4;
      var component = error.context.component;
      var severity = (_error$context$severi4 = error.context.severity) != null ? _error$context$severi4 : 'medium';
      if (severity === 'critical') return false;
      if (component === 'Network' || component === 'API') return true;
      if (component === 'Authentication') return true;
      return false;
    }
  }, {
    key: "createRecoveryOptions",
    value: function createRecoveryOptions(error) {
      var component = error.context.component;
      switch (component) {
        case 'Network':
          return {
            canRetry: true,
            retryDelay: 2000,
            maxRetries: 3
          };
        case 'API':
          return {
            canRetry: true,
            retryDelay: 1000,
            maxRetries: 2
          };
        case 'Authentication':
          return {
            canRetry: true,
            retryDelay: 0,
            maxRetries: 1
          };
        default:
          return {
            canRetry: false
          };
      }
    }
  }, {
    key: "generateErrorId",
    value: function generateErrorId() {
      return `error_${String(Date.now())}_${Math.random().toString(36).substring(2, 11)}`;
    }
  }, {
    key: "extractErrorMessage",
    value: function extractErrorMessage(source, fallback) {
      if (typeof source === 'string') {
        return source;
      }
      if (source instanceof Error && typeof source.message === 'string') {
        return source.message;
      }
      if (isRecordWithMessage(source)) {
        var message = source.message;
        if (typeof message === 'string') {
          return message;
        }
      }
      return fallback;
    }
  }, {
    key: "setupGlobalErrorHandlers",
    value: function setupGlobalErrorHandlers() {
      var _this = this;
      var browserWindow = (0, environment_1.getWindowObject)();
      if (browserWindow == null) {
        return;
      }
      var handleUnhandledRejection = function handleUnhandledRejection(event) {
        if (!isPromiseRejectionEvent(event)) {
          return;
        }
        var message = _this.extractErrorMessage(event.reason, 'Unhandled Promise Rejection');
        _this.handleError(new Error(message), {
          component: 'Global',
          action: 'unhandled_promise_rejection',
          severity: 'high',
          metadata: {
            reason: stringifyUnknown(event.reason)
          }
        });
      };
      var handleGlobalError = function handleGlobalError(event) {
        if (!isErrorEvent(event)) {
          return;
        }
        var message = _this.extractErrorMessage(event.error, 'Global Error');
        _this.handleError(new Error(message), {
          component: 'Global',
          action: 'global_error',
          severity: 'high',
          metadata: {
            filename: event.filename,
            lineno: event.lineno,
            colno: event.colno,
            error: stringifyUnknown(event.error)
          }
        });
      };
      (0, environment_1.addEventListenerSafely)(browserWindow, 'unhandledrejection', handleUnhandledRejection);
      (0, environment_1.addEventListenerSafely)(browserWindow, 'error', handleGlobalError);
    }
  }]);
}();
exports.ErrorHandler = new ErrorHandlerService();
exports.errorHandler = exports.ErrorHandler;
exports.default = exports.ErrorHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NyZWF0ZUNsYXNzMiIsIm93bktleXMiLCJlIiwiciIsInQiLCJPYmplY3QiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibyIsImZpbHRlciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImRlZmF1bHQiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZXJyb3JIYW5kbGVyIiwiRXJyb3JIYW5kbGVyIiwiZW52aXJvbm1lbnRfMSIsImlzUHJvbWlzZVJlamVjdGlvbkV2ZW50IiwiZXZlbnQiLCJpc0Vycm9yRXZlbnQiLCJzdHJpbmdpZnlVbmtub3duIiwiRXJyb3IiLCJtZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsIl91bnVzZWQiLCJTdHJpbmciLCJpc1JlY29yZFdpdGhNZXNzYWdlIiwiRXJyb3JIYW5kbGVyU2VydmljZSIsImVycm9yUXVldWUiLCJub3RpZmljYXRpb25IYW5kbGVycyIsImVycm9yTG9nZ2VycyIsIm1heFF1ZXVlU2l6ZSIsImlzUHJvZHVjdGlvbiIsInByb2Nlc3MiLCJlbnYiLCJzZXR1cEdsb2JhbEVycm9ySGFuZGxlcnMiLCJrZXkiLCJvbk5vdGlmaWNhdGlvbiIsImhhbmRsZXIiLCJvbkVycm9yTG9nIiwiaGFuZGxlRXJyb3IiLCJlcnJvciIsImNvbnRleHQiLCJ1bmRlZmluZWQiLCJvcHRpb25zIiwicHJvY2Vzc2VkRXJyb3IiLCJwcm9jZXNzRXJyb3IiLCJhZGRUb1F1ZXVlIiwibG9nRXJyb3IiLCJzaG93Tm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiaGFuZGxlQXBpRXJyb3IiLCJfb3B0aW9ucyRtZXRob2QiLCJfb3B0aW9ucyRlbmRwb2ludCIsImFwaUNvbnRleHQiLCJjb21wb25lbnQiLCJhY3Rpb24iLCJtZXRob2QiLCJlbmRwb2ludCIsIm1ldGFkYXRhIiwic3RhdHVzQ29kZSIsImNyZWF0ZUFwaUVycm9yTm90aWZpY2F0aW9uIiwiY3JlYXRlQXBpRXJyb3JSZWNvdmVyeSIsInNldmVyaXR5IiwiZ2V0QXBpRXJyb3JTZXZlcml0eSIsImhhbmRsZUF1dGhFcnJvciIsIl9vcHRpb25zJGF1dGhNZXRob2QiLCJhdXRoQ29udGV4dCIsImF1dGhNZXRob2QiLCJjcmVhdGVFcnJvck5vdGlmaWNhdGlvbiIsImlkIiwiZ2V0QXV0aEVycm9yTWVzc2FnZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJoYW5kbGVQYXltZW50RXJyb3IiLCJwYXltZW50Q29udGV4dCIsInBheW1lbnRNZXRob2QiLCJhbW91bnQiLCJjdXJyZW5jeSIsImdldFBheW1lbnRFcnJvck1lc3NhZ2UiLCJoYW5kbGVOZXR3b3JrRXJyb3IiLCJuZXR3b3JrQ29udGV4dCIsInJldHJ5YWJsZSIsImdldEVycm9yU3RhdHMiLCJub3ciLCJvbmVIb3VyQWdvIiwiZ2V0VGltZSIsInJlY2VudCIsImJ5U2V2ZXJpdHkiLCJyZWR1Y2UiLCJhY2MiLCJfZXJyb3IkY29udGV4dCRzZXZlcmkiLCJfYWNjJHNldmVyaXR5IiwiYnlDb21wb25lbnQiLCJfZXJyb3IkY29udGV4dCRjb21wb24iLCJfYWNjJGNvbXBvbmVudCIsInRvdGFsIiwic2xpY2UiLCJjbGVhclF1ZXVlIiwiX3JlZiIsIl9vcHRpb25zJHNldmVyaXR5IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JTdGFjayIsInN0YWNrIiwiZ2VuZXJhdGVFcnJvcklkIiwic2hvdWxkU2hvd05vdGlmaWNhdGlvbiIsImNhblJlY292ZXIiLCJyZWNvdmVyeSIsImNyZWF0ZVJlY292ZXJ5T3B0aW9ucyIsImxvZ2dlciIsImNvbnNvbGUiLCJoYW5kbGVyRXJyb3IiLCJfZXJyb3IkY29udGV4dCRzZXZlcmkyIiwiX2Vycm9yJGNvbnRleHQkc2V2ZXJpMyIsInRpdGxlIiwidHlwZSIsImRpc21pc3NpYmxlIiwiYXV0b0hpZGUiLCJkdXJhdGlvbiIsIl9vcHRpb25zJHN0YXR1c0NvZGUiLCJpc05hTiIsImxhYmVsIiwidHJpbSIsImNhblJldHJ5IiwicmV0cnlEZWxheSIsIm1heFJldHJpZXMiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiX2Vycm9yJGNvbnRleHQkc2V2ZXJpNCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImV4dHJhY3RFcnJvck1lc3NhZ2UiLCJzb3VyY2UiLCJmYWxsYmFjayIsIl90aGlzIiwiYnJvd3NlcldpbmRvdyIsImdldFdpbmRvd09iamVjdCIsImhhbmRsZVVuaGFuZGxlZFJlamVjdGlvbiIsInJlYXNvbiIsImhhbmRsZUdsb2JhbEVycm9yIiwiZmlsZW5hbWUiLCJsaW5lbm8iLCJjb2xubyIsImFkZEV2ZW50TGlzdGVuZXJTYWZlbHkiXSwic291cmNlcyI6WyJFcnJvckhhbmRsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIENlbnRyYWxpemVkIEVycm9yIEhhbmRsaW5nIFNlcnZpY2VcbiAqIFByb2R1Y3Rpb24tZ3JhZGUgZXJyb3IgaGFuZGxpbmcgd2l0aCB1c2VyIG5vdGlmaWNhdGlvbnMsIGxvZ2dpbmcsIGFuZCByZWNvdmVyeSBtZWNoYW5pc21zXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZXJyb3JIYW5kbGVyID0gZXhwb3J0cy5FcnJvckhhbmRsZXIgPSB2b2lkIDA7XG5jb25zdCBlbnZpcm9ubWVudF8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2Vudmlyb25tZW50XCIpO1xuY29uc3QgaXNQcm9taXNlUmVqZWN0aW9uRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICByZXR1cm4gJ3JlYXNvbicgaW4gZXZlbnQ7XG59O1xuY29uc3QgaXNFcnJvckV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgcmV0dXJuICdlcnJvcicgaW4gZXZlbnQ7XG59O1xuY29uc3Qgc3RyaW5naWZ5VW5rbm93biA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5tZXNzYWdlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gJ1t1bnNlcmlhbGl6YWJsZSBvYmplY3RdJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn07XG5jb25zdCBpc1JlY29yZFdpdGhNZXNzYWdlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgJ21lc3NhZ2UnIGluIHZhbHVlO1xufTtcbmNsYXNzIEVycm9ySGFuZGxlclNlcnZpY2Uge1xuICAgIGVycm9yUXVldWUgPSBbXTtcbiAgICBub3RpZmljYXRpb25IYW5kbGVycyA9IFtdO1xuICAgIGVycm9yTG9nZ2VycyA9IFtdO1xuICAgIG1heFF1ZXVlU2l6ZSA9IDEwMDA7XG4gICAgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnZbJ05PREVfRU5WJ10gPT09ICdwcm9kdWN0aW9uJztcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zZXR1cEdsb2JhbEVycm9ySGFuZGxlcnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgbm90aWZpY2F0aW9uIGhhbmRsZXIgZm9yIHVzZXItZmFjaW5nIGVycm9yc1xuICAgICAqL1xuICAgIG9uTm90aWZpY2F0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25IYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBlcnJvciBsb2dnZXIgZm9yIGJhY2tlbmQgbG9nZ2luZ1xuICAgICAqL1xuICAgIG9uRXJyb3JMb2coaGFuZGxlcikge1xuICAgICAgICB0aGlzLmVycm9yTG9nZ2Vycy5wdXNoKGhhbmRsZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGFuZCBoYW5kbGUgYW4gZXJyb3JcbiAgICAgKi9cbiAgICBoYW5kbGVFcnJvcihlcnJvciwgY29udGV4dCA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VkRXJyb3IgPSB0aGlzLnByb2Nlc3NFcnJvcihlcnJvciwgY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICAgIC8vIEFkZCB0byBxdWV1ZVxuICAgICAgICB0aGlzLmFkZFRvUXVldWUocHJvY2Vzc2VkRXJyb3IpO1xuICAgICAgICAvLyBMb2cgZXJyb3JcbiAgICAgICAgaWYgKG9wdGlvbnMubG9nRXJyb3IgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ0Vycm9yKHByb2Nlc3NlZEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG93IG5vdGlmaWNhdGlvblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93Tm90aWZpY2F0aW9uICE9PSBmYWxzZSAmJiBwcm9jZXNzZWRFcnJvci5ub3RpZmljYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zaG93Tm90aWZpY2F0aW9uKHByb2Nlc3NlZEVycm9yLm5vdGlmaWNhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZEVycm9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgQVBJIGVycm9ycyB3aXRoIHNwZWNpZmljIGhhbmRsaW5nXG4gICAgICovXG4gICAgaGFuZGxlQXBpRXJyb3IoZXJyb3IsIGNvbnRleHQgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGFwaUNvbnRleHQgPSB7XG4gICAgICAgICAgICAuLi5jb250ZXh0LFxuICAgICAgICAgICAgY29tcG9uZW50OiAnQVBJJyxcbiAgICAgICAgICAgIGFjdGlvbjogYCR7b3B0aW9ucy5tZXRob2QgPz8gJ1JFUVVFU1QnfSAke29wdGlvbnMuZW5kcG9pbnQgPz8gJ3Vua25vd24nfWAsXG4gICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgIC4uLmNvbnRleHQubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgZW5kcG9pbnQ6IG9wdGlvbnMuZW5kcG9pbnQsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBvcHRpb25zLm1ldGhvZCxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBvcHRpb25zLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICAvLyBDcmVhdGUgbm90aWZpY2F0aW9uIGFuZCByZWNvdmVyeSBvcHRpb25zIGZvciBBUEkgZXJyb3JzXG4gICAgICAgIHRoaXMuY3JlYXRlQXBpRXJyb3JOb3RpZmljYXRpb24oZXJyb3IsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNyZWF0ZUFwaUVycm9yUmVjb3Zlcnkob3B0aW9ucy5zdGF0dXNDb2RlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIGFwaUNvbnRleHQsIHtcbiAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb246IG9wdGlvbnMuc2hvd05vdGlmaWNhdGlvbiAhPT0gZmFsc2UsXG4gICAgICAgICAgICBzZXZlcml0eTogdGhpcy5nZXRBcGlFcnJvclNldmVyaXR5KG9wdGlvbnMuc3RhdHVzQ29kZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYXV0aGVudGljYXRpb24gZXJyb3JzXG4gICAgICovXG4gICAgaGFuZGxlQXV0aEVycm9yKGVycm9yLCBjb250ZXh0ID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBhdXRoQ29udGV4dCA9IHtcbiAgICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgICAgICBjb21wb25lbnQ6ICdBdXRoZW50aWNhdGlvbicsXG4gICAgICAgICAgICBhY3Rpb246IG9wdGlvbnMuYXV0aE1ldGhvZCA/PyAnYXV0aGVudGljYXRlJyxcbiAgICAgICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgIC4uLmNvbnRleHQubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgYXV0aE1ldGhvZDogb3B0aW9ucy5hdXRoTWV0aG9kLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ3JlYXRlIGF1dGhlbnRpY2F0aW9uIGVycm9yIG5vdGlmaWNhdGlvblxuICAgICAgICB0aGlzLmNyZWF0ZUVycm9yTm90aWZpY2F0aW9uKHtcbiAgICAgICAgICAgIGlkOiAnYXV0aC1lcnJvcicsXG4gICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmdldEF1dGhFcnJvck1lc3NhZ2UoZXJyb3IpLFxuICAgICAgICAgICAgY29udGV4dDogYXV0aENvbnRleHQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgYXV0aENvbnRleHQsIHtcbiAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb246IG9wdGlvbnMuc2hvd05vdGlmaWNhdGlvbiAhPT0gZmFsc2UsXG4gICAgICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBheW1lbnQgZXJyb3JzXG4gICAgICovXG4gICAgaGFuZGxlUGF5bWVudEVycm9yKGVycm9yLCBjb250ZXh0ID0ge30sIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBwYXltZW50Q29udGV4dCA9IHtcbiAgICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgICAgICBjb21wb25lbnQ6ICdQYXltZW50JyxcbiAgICAgICAgICAgIGFjdGlvbjogJ3Byb2Nlc3NfcGF5bWVudCcsXG4gICAgICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAuLi5jb250ZXh0Lm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHBheW1lbnRNZXRob2Q6IG9wdGlvbnMucGF5bWVudE1ldGhvZCxcbiAgICAgICAgICAgICAgICBhbW91bnQ6IG9wdGlvbnMuYW1vdW50LFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBvcHRpb25zLmN1cnJlbmN5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ3JlYXRlIHBheW1lbnQgZXJyb3Igbm90aWZpY2F0aW9uXG4gICAgICAgIHRoaXMuY3JlYXRlRXJyb3JOb3RpZmljYXRpb24oe1xuICAgICAgICAgICAgaWQ6ICdwYXltZW50LWVycm9yJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuZ2V0UGF5bWVudEVycm9yTWVzc2FnZShlcnJvciksXG4gICAgICAgICAgICBjb250ZXh0OiBwYXltZW50Q29udGV4dCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCBwYXltZW50Q29udGV4dCwge1xuICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvbjogb3B0aW9ucy5zaG93Tm90aWZpY2F0aW9uICE9PSBmYWxzZSxcbiAgICAgICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbmV0d29yayBlcnJvcnNcbiAgICAgKi9cbiAgICBoYW5kbGVOZXR3b3JrRXJyb3IoZXJyb3IsIGNvbnRleHQgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG5ldHdvcmtDb250ZXh0ID0ge1xuICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICAgIGNvbXBvbmVudDogJ05ldHdvcmsnLFxuICAgICAgICAgICAgYWN0aW9uOiAnbmV0d29ya19yZXF1ZXN0JyxcbiAgICAgICAgICAgIHNldmVyaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgLi4uY29udGV4dC5tZXRhZGF0YSxcbiAgICAgICAgICAgICAgICByZXRyeWFibGU6IG9wdGlvbnMucmV0cnlhYmxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ3JlYXRlIG5ldHdvcmsgZXJyb3Igbm90aWZpY2F0aW9uIGFuZCByZWNvdmVyeSBvcHRpb25zXG4gICAgICAgIHRoaXMuY3JlYXRlRXJyb3JOb3RpZmljYXRpb24oe1xuICAgICAgICAgICAgaWQ6ICduZXR3b3JrLWVycm9yJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgY2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uIGFuZCB0cnkgYWdhaW4uJyxcbiAgICAgICAgICAgIGNvbnRleHQ6IG5ldHdvcmtDb250ZXh0LFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIG5ldHdvcmtDb250ZXh0LCB7XG4gICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uOiBvcHRpb25zLnNob3dOb3RpZmljYXRpb24gIT09IGZhbHNlLFxuICAgICAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGVycm9yIHN0YXRpc3RpY3NcbiAgICAgKi9cbiAgICBnZXRFcnJvclN0YXRzKCkge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBvbmVIb3VyQWdvID0gbmV3IERhdGUobm93LmdldFRpbWUoKSAtIDYwICogNjAgKiAxMDAwKTtcbiAgICAgICAgY29uc3QgcmVjZW50ID0gdGhpcy5lcnJvclF1ZXVlLmZpbHRlcihlcnJvciA9PiBlcnJvci50aW1lc3RhbXAgPj0gb25lSG91ckFnbyk7XG4gICAgICAgIGNvbnN0IGJ5U2V2ZXJpdHkgPSB0aGlzLmVycm9yUXVldWUucmVkdWNlKChhY2MsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZXZlcml0eSA9IGVycm9yLmNvbnRleHQuc2V2ZXJpdHkgPz8gJ21lZGl1bSc7XG4gICAgICAgICAgICBhY2Nbc2V2ZXJpdHldID0gKGFjY1tzZXZlcml0eV0gPz8gMCkgKyAxO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICBjb25zdCBieUNvbXBvbmVudCA9IHRoaXMuZXJyb3JRdWV1ZS5yZWR1Y2UoKGFjYywgZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGVycm9yLmNvbnRleHQuY29tcG9uZW50ID8/ICd1bmtub3duJztcbiAgICAgICAgICAgIGFjY1tjb21wb25lbnRdID0gKGFjY1tjb21wb25lbnRdID8/IDApICsgMTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLmVycm9yUXVldWUubGVuZ3RoLFxuICAgICAgICAgICAgYnlTZXZlcml0eSxcbiAgICAgICAgICAgIGJ5Q29tcG9uZW50LFxuICAgICAgICAgICAgcmVjZW50OiByZWNlbnQuc2xpY2UoLTEwKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXIgZXJyb3IgcXVldWVcbiAgICAgKi9cbiAgICBjbGVhclF1ZXVlKCkge1xuICAgICAgICB0aGlzLmVycm9yUXVldWUgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBlcnJvciBpbnRvIHN0YW5kYXJkaXplZCBmb3JtYXRcbiAgICAgKi9cbiAgICBwcm9jZXNzRXJyb3IoZXJyb3IsIGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnID8gZXJyb3IgOiBlcnJvci5tZXNzYWdlO1xuICAgICAgICBjb25zdCBlcnJvclN0YWNrID0gdHlwZW9mIGVycm9yID09PSAnc3RyaW5nJyA/IHVuZGVmaW5lZCA6IGVycm9yLnN0YWNrO1xuICAgICAgICBjb25zdCBwcm9jZXNzZWRFcnJvciA9IHtcbiAgICAgICAgICAgIGlkOiB0aGlzLmdlbmVyYXRlRXJyb3JJZCgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHNldmVyaXR5OiBvcHRpb25zLnNldmVyaXR5ID8/IGNvbnRleHQuc2V2ZXJpdHkgPz8gJ21lZGl1bScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RhY2s6IGVycm9yU3RhY2ssXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIH07XG4gICAgICAgIC8vIEFkZCBub3RpZmljYXRpb24gaWYgbmVlZGVkXG4gICAgICAgIGlmICh0aGlzLnNob3VsZFNob3dOb3RpZmljYXRpb24ocHJvY2Vzc2VkRXJyb3IpKSB7XG4gICAgICAgICAgICBwcm9jZXNzZWRFcnJvci5ub3RpZmljYXRpb24gPSB0aGlzLmNyZWF0ZUVycm9yTm90aWZpY2F0aW9uKHByb2Nlc3NlZEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgcmVjb3Zlcnkgb3B0aW9ucyBpZiBhcHBsaWNhYmxlXG4gICAgICAgIGlmICh0aGlzLmNhblJlY292ZXIocHJvY2Vzc2VkRXJyb3IpKSB7XG4gICAgICAgICAgICBwcm9jZXNzZWRFcnJvci5yZWNvdmVyeSA9IHRoaXMuY3JlYXRlUmVjb3ZlcnlPcHRpb25zKHByb2Nlc3NlZEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkRXJyb3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBlcnJvciB0byBxdWV1ZVxuICAgICAqL1xuICAgIGFkZFRvUXVldWUoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5lcnJvclF1ZXVlLnB1c2goZXJyb3IpO1xuICAgICAgICAvLyBNYWludGFpbiBxdWV1ZSBzaXplXG4gICAgICAgIGlmICh0aGlzLmVycm9yUXVldWUubGVuZ3RoID4gdGhpcy5tYXhRdWV1ZVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JRdWV1ZSA9IHRoaXMuZXJyb3JRdWV1ZS5zbGljZSgtdGhpcy5tYXhRdWV1ZVNpemUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvZyBlcnJvciB0byByZWdpc3RlcmVkIGxvZ2dlcnNcbiAgICAgKi9cbiAgICBsb2dFcnJvcihlcnJvcikge1xuICAgICAgICB0aGlzLmVycm9yTG9nZ2Vycy5mb3JFYWNoKGxvZ2dlciA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAobG9nRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBjb25zb2xlIGlmIGxvZ2dlciBmYWlsc1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvZ2dpbmcgZmFpbGVkOicsIGxvZ0Vycm9yKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdPcmlnaW5hbCBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBGYWxsYmFjayB0byBjb25zb2xlIGluIGRldmVsb3BtZW50XG4gICAgICAgIGlmICghdGhpcy5pc1Byb2R1Y3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaG93IG5vdGlmaWNhdGlvbiB0byB1c2VyXG4gICAgICovXG4gICAgc2hvd05vdGlmaWNhdGlvbihub3RpZmljYXRpb24pIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25IYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoaGFuZGxlckVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm90aWZpY2F0aW9uIGhhbmRsZXIgZmFpbGVkOicsIGhhbmRsZXJFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgbm90aWZpY2F0aW9uIHNob3VsZCBiZSBzaG93blxuICAgICAqL1xuICAgIHNob3VsZFNob3dOb3RpZmljYXRpb24oZXJyb3IpIHtcbiAgICAgICAgY29uc3Qgc2V2ZXJpdHkgPSBlcnJvci5jb250ZXh0LnNldmVyaXR5ID8/ICdtZWRpdW0nO1xuICAgICAgICByZXR1cm4gc2V2ZXJpdHkgPT09ICdoaWdoJyB8fCBzZXZlcml0eSA9PT0gJ2NyaXRpY2FsJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHVzZXItZnJpZW5kbHkgZXJyb3Igbm90aWZpY2F0aW9uXG4gICAgICovXG4gICAgY3JlYXRlRXJyb3JOb3RpZmljYXRpb24oZXJyb3IpIHtcbiAgICAgICAgY29uc3Qgc2V2ZXJpdHkgPSBlcnJvci5jb250ZXh0LnNldmVyaXR5ID8/ICdtZWRpdW0nO1xuICAgICAgICBzd2l0Y2ggKHNldmVyaXR5KSB7XG4gICAgICAgICAgICBjYXNlICdjcml0aWNhbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDcml0aWNhbCBFcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBIGNyaXRpY2FsIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgY29udGFjdCBzdXBwb3J0IGlmIHRoaXMgcGVyc2lzdHMuJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgZGlzbWlzc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgJ2hpZ2gnOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0hpZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlICdtZWRpdW0nOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnV2FybmluZycsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9IaWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0luZm8nLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgQVBJLXNwZWNpZmljIGVycm9yIG5vdGlmaWNhdGlvblxuICAgICAqL1xuICAgIGNyZWF0ZUFwaUVycm9yTm90aWZpY2F0aW9uKGVycm9yLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgPz8gNTAwO1xuICAgICAgICBpZiAoIWlzTmFOKHN0YXR1c0NvZGUpICYmIHN0YXR1c0NvZGUgPj0gNTAwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnU2VydmVyIEVycm9yJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnT3VyIHNlcnZlcnMgYXJlIGV4cGVyaWVuY2luZyBpc3N1ZXMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1JldHJ5JyxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0cnkgbG9naWNcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0dXNDb2RlID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdOb3QgRm91bmQnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgcmVxdWVzdGVkIHJlc291cmNlIHdhcyBub3QgZm91bmQuJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0dXNDb2RlID09PSA0MDMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdBY2Nlc3MgRGVuaWVkJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoaXMgcmVzb3VyY2UuJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0dXNDb2RlID09PSA0MDEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdBdXRoZW50aWNhdGlvbiBSZXF1aXJlZCcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBsb2cgaW4gdG8gY29udGludWUuJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0xvZ2luJyxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVkaXJlY3QgdG8gbG9naW5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdSZXF1ZXN0IEZhaWxlZCcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogKGVycm9yLm1lc3NhZ2UudHJpbSgpICE9PSAnJykgPyBlcnJvci5tZXNzYWdlIDogJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgeW91ciByZXF1ZXN0LicsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIEFQSSBlcnJvciByZWNvdmVyeSBvcHRpb25zXG4gICAgICovXG4gICAgY3JlYXRlQXBpRXJyb3JSZWNvdmVyeShzdGF0dXNDb2RlKSB7XG4gICAgICAgIGlmIChzdGF0dXNDb2RlICE9IG51bGwgJiYgc3RhdHVzQ29kZSA+PSA1MDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FuUmV0cnk6IHRydWUsXG4gICAgICAgICAgICAgICAgcmV0cnlEZWxheTogNTAwMCxcbiAgICAgICAgICAgICAgICBtYXhSZXRyaWVzOiAzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0dXNDb2RlID09PSA0MjkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FuUmV0cnk6IHRydWUsXG4gICAgICAgICAgICAgICAgcmV0cnlEZWxheTogMTAwMDAsXG4gICAgICAgICAgICAgICAgbWF4UmV0cmllczogMixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNhblJldHJ5OiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IEFQSSBlcnJvciBzZXZlcml0eVxuICAgICAqL1xuICAgIGdldEFwaUVycm9yU2V2ZXJpdHkoc3RhdHVzQ29kZSkge1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuICdtZWRpdW0nO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA+PSA1MDApXG4gICAgICAgICAgICByZXR1cm4gJ2hpZ2gnO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PT0gNDA0KVxuICAgICAgICAgICAgcmV0dXJuICdsb3cnO1xuICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PT0gNDAzIHx8IHN0YXR1c0NvZGUgPT09IDQwMSlcbiAgICAgICAgICAgIHJldHVybiAnaGlnaCc7XG4gICAgICAgIGlmIChzdGF0dXNDb2RlID49IDQwMClcbiAgICAgICAgICAgIHJldHVybiAnbWVkaXVtJztcbiAgICAgICAgcmV0dXJuICdsb3cnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYXV0aGVudGljYXRpb24gZXJyb3IgbWVzc2FnZVxuICAgICAqL1xuICAgIGdldEF1dGhFcnJvck1lc3NhZ2UoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoJ2ludmFsaWQnKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCdpbmNvcnJlY3QnKSkge1xuICAgICAgICAgICAgcmV0dXJuICdJbnZhbGlkIGNyZWRlbnRpYWxzLiBQbGVhc2UgY2hlY2sgeW91ciB1c2VybmFtZSBhbmQgcGFzc3dvcmQuJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLmluY2x1ZGVzKCdleHBpcmVkJykpIHtcbiAgICAgICAgICAgIHJldHVybiAnWW91ciBzZXNzaW9uIGhhcyBleHBpcmVkLiBQbGVhc2UgbG9nIGluIGFnYWluLic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5pbmNsdWRlcygnbG9ja2VkJykgfHwgbWVzc2FnZS5pbmNsdWRlcygnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgcmV0dXJuICdZb3VyIGFjY291bnQgaGFzIGJlZW4gbG9ja2VkLiBQbGVhc2UgY29udGFjdCBzdXBwb3J0Lic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBwYXltZW50IGVycm9yIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBnZXRQYXltZW50RXJyb3JNZXNzYWdlKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChtZXNzYWdlLmluY2x1ZGVzKCdjYXJkJykgfHwgbWVzc2FnZS5pbmNsdWRlcygncGF5bWVudCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1BheW1lbnQgZmFpbGVkLiBQbGVhc2UgY2hlY2sgeW91ciBwYXltZW50IG1ldGhvZCBhbmQgdHJ5IGFnYWluLic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5pbmNsdWRlcygnaW5zdWZmaWNpZW50JykgfHwgbWVzc2FnZS5pbmNsdWRlcygnZnVuZHMnKSkge1xuICAgICAgICAgICAgcmV0dXJuICdJbnN1ZmZpY2llbnQgZnVuZHMuIFBsZWFzZSB1c2UgYSBkaWZmZXJlbnQgcGF5bWVudCBtZXRob2QuJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLmluY2x1ZGVzKCdkZWNsaW5lZCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1BheW1lbnQgd2FzIGRlY2xpbmVkLiBQbGVhc2UgY29udGFjdCB5b3VyIGJhbmsgb3IgdXNlIGEgZGlmZmVyZW50IGNhcmQuJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnUGF5bWVudCBwcm9jZXNzaW5nIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHN1cHBvcnQuJztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgZXJyb3IgY2FuIGJlIHJlY292ZXJlZCBmcm9tXG4gICAgICovXG4gICAgY2FuUmVjb3ZlcihlcnJvcikge1xuICAgICAgICBjb25zdCB7IGNvbXBvbmVudCB9ID0gZXJyb3IuY29udGV4dDtcbiAgICAgICAgY29uc3Qgc2V2ZXJpdHkgPSBlcnJvci5jb250ZXh0LnNldmVyaXR5ID8/ICdtZWRpdW0nO1xuICAgICAgICAvLyBDcml0aWNhbCBlcnJvcnMgdXN1YWxseSBjYW4ndCBiZSByZWNvdmVyZWRcbiAgICAgICAgaWYgKHNldmVyaXR5ID09PSAnY3JpdGljYWwnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBOZXR3b3JrIGFuZCBBUEkgZXJyb3JzIGNhbiB1c3VhbGx5IGJlIHJldHJpZWRcbiAgICAgICAgaWYgKGNvbXBvbmVudCA9PT0gJ05ldHdvcmsnIHx8IGNvbXBvbmVudCA9PT0gJ0FQSScpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gQXV0aGVudGljYXRpb24gZXJyb3JzIGNhbiBiZSByZXRyaWVkXG4gICAgICAgIGlmIChjb21wb25lbnQgPT09ICdBdXRoZW50aWNhdGlvbicpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcmVjb3Zlcnkgb3B0aW9uc1xuICAgICAqL1xuICAgIGNyZWF0ZVJlY292ZXJ5T3B0aW9ucyhlcnJvcikge1xuICAgICAgICBjb25zdCB7IGNvbXBvbmVudCB9ID0gZXJyb3IuY29udGV4dDtcbiAgICAgICAgc3dpdGNoIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgIGNhc2UgJ05ldHdvcmsnOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNhblJldHJ5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByZXRyeURlbGF5OiAyMDAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhSZXRyaWVzOiAzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlICdBUEknOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNhblJldHJ5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByZXRyeURlbGF5OiAxMDAwLFxuICAgICAgICAgICAgICAgICAgICBtYXhSZXRyaWVzOiAyLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlICdBdXRoZW50aWNhdGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuUmV0cnk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJldHJ5RGVsYXk6IDAsXG4gICAgICAgICAgICAgICAgICAgIG1heFJldHJpZXM6IDEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuUmV0cnk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdW5pcXVlIGVycm9yIElEXG4gICAgICovXG4gICAgZ2VuZXJhdGVFcnJvcklkKCkge1xuICAgICAgICByZXR1cm4gYGVycm9yXyR7U3RyaW5nKERhdGUubm93KCkpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMSl9YDtcbiAgICB9XG4gICAgZXh0cmFjdEVycm9yTWVzc2FnZShzb3VyY2UsIGZhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgRXJyb3IgJiYgdHlwZW9mIHNvdXJjZS5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlY29yZFdpdGhNZXNzYWdlKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gc291cmNlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0dXAgZ2xvYmFsIGVycm9yIGhhbmRsZXJzXG4gICAgICovXG4gICAgc2V0dXBHbG9iYWxFcnJvckhhbmRsZXJzKCkge1xuICAgICAgICBjb25zdCBicm93c2VyV2luZG93ID0gKDAsIGVudmlyb25tZW50XzEuZ2V0V2luZG93T2JqZWN0KSgpO1xuICAgICAgICBpZiAoYnJvd3NlcldpbmRvdyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFuZGxlVW5oYW5kbGVkUmVqZWN0aW9uID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzUHJvbWlzZVJlamVjdGlvbkV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmV4dHJhY3RFcnJvck1lc3NhZ2UoZXZlbnQucmVhc29uLCAnVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKG5ldyBFcnJvcihtZXNzYWdlKSwge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ0dsb2JhbCcsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAndW5oYW5kbGVkX3Byb21pc2VfcmVqZWN0aW9uJyxcbiAgICAgICAgICAgICAgICBzZXZlcml0eTogJ2hpZ2gnLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogc3RyaW5naWZ5VW5rbm93bihldmVudC5yZWFzb24pLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlR2xvYmFsRXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghaXNFcnJvckV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmV4dHJhY3RFcnJvck1lc3NhZ2UoZXZlbnQuZXJyb3IsICdHbG9iYWwgRXJyb3InKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IobmV3IEVycm9yKG1lc3NhZ2UpLCB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnR2xvYmFsJyxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdnbG9iYWxfZXJyb3InLFxuICAgICAgICAgICAgICAgIHNldmVyaXR5OiAnaGlnaCcsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGV2ZW50LmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICBsaW5lbm86IGV2ZW50LmxpbmVubyxcbiAgICAgICAgICAgICAgICAgICAgY29sbm86IGV2ZW50LmNvbG5vLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogc3RyaW5naWZ5VW5rbm93bihldmVudC5lcnJvciksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAoMCwgZW52aXJvbm1lbnRfMS5hZGRFdmVudExpc3RlbmVyU2FmZWx5KShicm93c2VyV2luZG93LCAndW5oYW5kbGVkcmVqZWN0aW9uJywgaGFuZGxlVW5oYW5kbGVkUmVqZWN0aW9uKTtcbiAgICAgICAgKDAsIGVudmlyb25tZW50XzEuYWRkRXZlbnRMaXN0ZW5lclNhZmVseSkoYnJvd3NlcldpbmRvdywgJ2Vycm9yJywgaGFuZGxlR2xvYmFsRXJyb3IpO1xuICAgIH1cbn1cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydHMuRXJyb3JIYW5kbGVyID0gbmV3IEVycm9ySGFuZGxlclNlcnZpY2UoKTtcbmV4cG9ydHMuZXJyb3JIYW5kbGVyID0gZXhwb3J0cy5FcnJvckhhbmRsZXI7XG5leHBvcnRzLmRlZmF1bHQgPSBleHBvcnRzLkVycm9ySGFuZGxlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTtBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxnQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQUUsZ0JBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFHLGFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLFNBQUFJLFFBQUFDLENBQUEsRUFBQUMsQ0FB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