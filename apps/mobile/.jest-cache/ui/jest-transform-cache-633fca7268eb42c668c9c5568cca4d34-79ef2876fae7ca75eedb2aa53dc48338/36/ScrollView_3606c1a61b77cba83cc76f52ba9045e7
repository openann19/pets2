178d818a3ce1c5e65fcfdeddc30c790b
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _AnimatedImplementation = _interopRequireDefault(require("../../Animated/AnimatedImplementation"));
var _FrameRateLogger = _interopRequireDefault(require("../../Interaction/FrameRateLogger"));
var _RendererProxy = require("../../ReactNative/RendererProxy");
var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));
var _flattenStyle = _interopRequireDefault(require("../../StyleSheet/flattenStyle"));
var _splitLayoutProps2 = _interopRequireDefault(require("../../StyleSheet/splitLayoutProps"));
var _StyleSheet = _interopRequireDefault(require("../../StyleSheet/StyleSheet"));
var _Dimensions = _interopRequireDefault(require("../../Utilities/Dimensions"));
var _dismissKeyboard = _interopRequireDefault(require("../../Utilities/dismissKeyboard"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _Keyboard = _interopRequireDefault(require("../Keyboard/Keyboard"));
var _TextInputState = _interopRequireDefault(require("../TextInput/TextInputState"));
var _View = _interopRequireDefault(require("../View/View"));
var _AndroidHorizontalScrollContentViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollContentViewNativeComponent"));
var _AndroidHorizontalScrollViewNativeComponent = _interopRequireDefault(require("./AndroidHorizontalScrollViewNativeComponent"));
var _processDecelerationRate = _interopRequireDefault(require("./processDecelerationRate"));
var _ScrollContentViewNativeComponent = _interopRequireDefault(require("./ScrollContentViewNativeComponent"));
var _ScrollViewCommands = _interopRequireDefault(require("./ScrollViewCommands"));
var _ScrollViewContext = _interopRequireWildcard(require("./ScrollViewContext"));
var _ScrollViewNativeComponent = _interopRequireDefault(require("./ScrollViewNativeComponent"));
var _ScrollViewStickyHeader = _interopRequireDefault(require("./ScrollViewStickyHeader"));
var _invariant = _interopRequireDefault(require("invariant"));
var _memoizeOne = _interopRequireDefault(require("memoize-one"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
if (_Platform.default.OS === 'ios') {
  require("../../Renderer/shims/ReactNative");
}
var _ref = _Platform.default.OS === 'android' ? {
    NativeHorizontalScrollViewTuple: [_AndroidHorizontalScrollViewNativeComponent.default, _AndroidHorizontalScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _View.default]
  } : {
    NativeHorizontalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default],
    NativeVerticalScrollViewTuple: [_ScrollViewNativeComponent.default, _ScrollContentViewNativeComponent.default]
  },
  NativeHorizontalScrollViewTuple = _ref.NativeHorizontalScrollViewTuple,
  NativeVerticalScrollViewTuple = _ref.NativeVerticalScrollViewTuple;
var IS_ANIMATING_TOUCH_START_THRESHOLD_MS = 16;
var ScrollView = function (_React$Component) {
  function ScrollView(props) {
    var _this$props$contentOf, _this$props$contentOf2, _this$props$contentIn, _this$props$contentIn2;
    var _this;
    (0, _classCallCheck2.default)(this, ScrollView);
    _this = _callSuper(this, ScrollView, [props]);
    _this._scrollAnimatedValueAttachment = null;
    _this._stickyHeaderRefs = new Map();
    _this._headerLayoutYs = new Map();
    _this._keyboardMetrics = null;
    _this._additionalScrollOffset = 0;
    _this._isTouching = false;
    _this._lastMomentumScrollBeginTime = 0;
    _this._lastMomentumScrollEndTime = 0;
    _this._observedScrollSinceBecomingResponder = false;
    _this._becameResponderWhileAnimating = false;
    _this._preventNegativeScrollOffset = null;
    _this._animated = null;
    _this._subscriptionKeyboardWillShow = null;
    _this._subscriptionKeyboardWillHide = null;
    _this._subscriptionKeyboardDidShow = null;
    _this._subscriptionKeyboardDidHide = null;
    _this.state = {
      layoutHeight: null
    };
    _this.getScrollResponder = function () {
      return _this;
    };
    _this.getScrollableNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._scrollView.nativeInstance);
    };
    _this.getInnerViewNode = function () {
      return (0, _RendererProxy.findNodeHandle)(_this._innerView.nativeInstance);
    };
    _this.getInnerViewRef = function () {
      return _this._innerView.nativeInstance;
    };
    _this.getNativeScrollRef = function () {
      return _this._scrollView.nativeInstance;
    };
    _this.scrollTo = function (options, deprecatedX, deprecatedAnimated) {
      var x, y, animated;
      if (typeof options === 'number') {
        console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, ' + 'animated: true})` instead.');
        y = options;
        x = deprecatedX;
        animated = deprecatedAnimated;
      } else if (options) {
        y = options.y;
        x = options.x;
        animated = options.animated;
      }
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.scrollTo(_this._scrollView.nativeInstance, x || 0, y || 0, animated !== false);
    };
    _this.scrollToEnd = function (options) {
      var animated = (options && options.animated) !== false;
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.scrollToEnd(_this._scrollView.nativeInstance, animated);
    };
    _this.flashScrollIndicators = function () {
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.flashScrollIndicators(_this._scrollView.nativeInstance);
    };
    _this.scrollResponderScrollNativeHandleToKeyboard = function (nodeHandle, additionalOffset, preventNegativeScrollOffset) {
      _this._additionalScrollOffset = additionalOffset || 0;
      _this._preventNegativeScrollOffset = !!preventNegativeScrollOffset;
      if (_this._innerView.nativeInstance == null) {
        return;
      }
      if (typeof nodeHandle === 'number') {
        _UIManager.default.measureLayout(nodeHandle, (0, _nullthrows.default)((0, _RendererProxy.findNodeHandle)(_this)), _this._textInputFocusError, _this._inputMeasureAndScrollToKeyboard);
      } else {
        nodeHandle.measureLayout(_this._innerView.nativeInstance, _this._inputMeasureAndScrollToKeyboard, _this._textInputFocusError);
      }
    };
    _this.scrollResponderZoomTo = function (rect, animated) {
      (0, _invariant.default)(_Platform.default.OS === 'ios', 'zoomToRect is not implemented');
      if ('animated' in rect) {
        _this._animated = rect.animated;
        delete rect.animated;
      } else if (typeof animated !== 'undefined') {
        console.warn('`scrollResponderZoomTo` `animated` argument is deprecated. Use `options.animated` instead');
      }
      if (_this._scrollView.nativeInstance == null) {
        return;
      }
      _ScrollViewCommands.default.zoomToRect(_this._scrollView.nativeInstance, rect, animated !== false);
    };
    _this._inputMeasureAndScrollToKeyboard = function (left, top, width, height) {
      var keyboardScreenY = _Dimensions.default.get('window').height;
      var scrollTextInputIntoVisibleRect = function scrollTextInputIntoVisibleRect() {
        if (_this._keyboardMetrics != null) {
          keyboardScreenY = _this._keyboardMetrics.screenY;
        }
        var scrollOffsetY = top - keyboardScreenY + height + _this._additionalScrollOffset;
        if (_this._preventNegativeScrollOffset === true) {
          scrollOffsetY = Math.max(0, scrollOffsetY);
        }
        _this.scrollTo({
          x: 0,
          y: scrollOffsetY,
          animated: true
        });
        _this._additionalScrollOffset = 0;
        _this._preventNegativeScrollOffset = false;
      };
      if (_this._keyboardMetrics == null) {
        setTimeout(function () {
          scrollTextInputIntoVisibleRect();
        }, 0);
      } else {
        scrollTextInputIntoVisibleRect();
      }
    };
    _this._handleScroll = function (e) {
      if (__DEV__) {
        if (_this.props.onScroll && _this.props.scrollEventThrottle == null && _Platform.default.OS === 'ios') {
          console.log('You specified `onScroll` on a <ScrollView> but not ' + '`scrollEventThrottle`. You will only receive one event. ' + 'Using `16` you get all the events but be aware that it may ' + "cause frame drops, use a bigger number if you don't need as " + 'much precision.');
        }
      }
      _this._observedScrollSinceBecomingResponder = true;
      _this.props.onScroll && _this.props.onScroll(e);
    };
    _this._handleLayout = function (e) {
      if (_this.props.invertStickyHeaders === true) {
        _this.setState({
          layoutHeight: e.nativeEvent.layout.height
        });
      }
      if (_this.props.onLayout) {
        _this.props.onLayout(e);
      }
    };
    _this._handleContentOnLayout = function (e) {
      var _e$nativeEvent$layout = e.nativeEvent.layout,
        width = _e$nativeEvent$layout.width,
        height = _e$nativeEvent$layout.height;
      _this.props.onContentSizeChange && _this.props.onContentSizeChange(width, height);
    };
    _this._innerView = createRefForwarder(function (instance) {
      return instance;
    });
    _this._scrollView = createRefForwarder(function (nativeInstance) {
      var publicInstance = Object.assign(nativeInstance, {
        getScrollResponder: _this.getScrollResponder,
        getScrollableNode: _this.getScrollableNode,
        getInnerViewNode: _this.getInnerViewNode,
        getInnerViewRef: _this.getInnerViewRef,
        getNativeScrollRef: _this.getNativeScrollRef,
        scrollTo: _this.scrollTo,
        scrollToEnd: _this.scrollToEnd,
        flashScrollIndicators: _this.flashScrollIndicators,
        scrollResponderZoomTo: _this.scrollResponderZoomTo,
        scrollResponderScrollNativeHandleToKeyboard: _this.scrollResponderScrollNativeHandleToKeyboard
      });
      return publicInstance;
    });
    _this.scrollResponderKeyboardWillShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardWillShow && _this.props.onKeyboardWillShow(e);
    };
    _this.scrollResponderKeyboardWillHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardWillHide && _this.props.onKeyboardWillHide(e);
    };
    _this.scrollResponderKeyboardDidShow = function (e) {
      _this._keyboardMetrics = e.endCoordinates;
      _this.props.onKeyboardDidShow && _this.props.onKeyboardDidShow(e);
    };
    _this.scrollResponderKeyboardDidHide = function (e) {
      _this._keyboardMetrics = null;
      _this.props.onKeyboardDidHide && _this.props.onKeyboardDidHide(e);
    };
    _this._handleMomentumScrollBegin = function (e) {
      _this._lastMomentumScrollBeginTime = global.performance.now();
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._handleMomentumScrollEnd = function (e) {
      _FrameRateLogger.default.endScroll();
      _this._lastMomentumScrollEndTime = global.performance.now();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._handleScrollBeginDrag = function (e) {
      _FrameRateLogger.default.beginScroll();
      if (_Platform.default.OS === 'android' && _this.props.keyboardDismissMode === 'on-drag') {
        (0, _dismissKeyboard.default)();
      }
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._handleScrollEndDrag = function (e) {
      var velocity = e.nativeEvent.velocity;
      if (!_this._isAnimating() && (!velocity || velocity.x === 0 && velocity.y === 0)) {
        _FrameRateLogger.default.endScroll();
      }
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._isAnimating = function () {
      var now = global.performance.now();
      var timeSinceLastMomentumScrollEnd = now - _this._lastMomentumScrollEndTime;
      var isAnimating = timeSinceLastMomentumScrollEnd < IS_ANIMATING_TOUCH_START_THRESHOLD_MS || _this._lastMomentumScrollEndTime < _this._lastMomentumScrollBeginTime;
      return isAnimating;
    };
    _this._handleResponderGrant = function (e) {
      _this._observedScrollSinceBecomingResponder = false;
      _this.props.onResponderGrant && _this.props.onResponderGrant(e);
      _this._becameResponderWhileAnimating = _this._isAnimating();
    };
    _this._handleResponderReject = function () {};
    _this._handleResponderRelease = function (e) {
      _this._isTouching = e.nativeEvent.touches.length !== 0;
      _this.props.onResponderRelease && _this.props.onResponderRelease(e);
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return;
      }
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && _this.props.keyboardShouldPersistTaps !== true && _this.props.keyboardShouldPersistTaps !== 'always' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedTextInput && !_this._observedScrollSinceBecomingResponder && !_this._becameResponderWhileAnimating) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
    };
    _this._handleResponderTerminationRequest = function () {
      return !_this._observedScrollSinceBecomingResponder;
    };
    _this._handleScrollShouldSetResponder = function () {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      return _this._isTouching;
    };
    _this._handleStartShouldSetResponder = function (e) {
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      if (_this.props.keyboardShouldPersistTaps === 'handled' && _this._keyboardIsDismissible() && e.target !== currentlyFocusedInput) {
        return true;
      }
      return false;
    };
    _this._handleStartShouldSetResponderCapture = function (e) {
      if (_this._isAnimating()) {
        return true;
      }
      if (_this.props.disableScrollViewPanResponder === true) {
        return false;
      }
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      if (typeof e.target === 'number') {
        if (__DEV__) {
          console.error('Did not expect event target to be a number. Should have been a native component');
        }
        return false;
      }
      if (_this._softKeyboardIsDetached()) {
        return false;
      }
      if (keyboardNeverPersistTaps && _this._keyboardIsDismissible() && e.target != null && !_TextInputState.default.isTextInput(e.target)) {
        return true;
      }
      return false;
    };
    _this._keyboardIsDismissible = function () {
      var currentlyFocusedInput = _TextInputState.default.currentlyFocusedInput();
      var hasFocusedTextInput = currentlyFocusedInput != null && _TextInputState.default.isTextInput(currentlyFocusedInput);
      var softKeyboardMayBeOpen = _this._keyboardMetrics != null || _this._keyboardEventsAreUnreliable();
      return hasFocusedTextInput && softKeyboardMayBeOpen;
    };
    _this._softKeyboardIsDetached = function () {
      return _this._keyboardMetrics != null && _this._keyboardMetrics.height === 0;
    };
    _this._keyboardEventsAreUnreliable = function () {
      return _Platform.default.OS === 'android' && _Platform.default.Version < 30;
    };
    _this._handleTouchEnd = function (e) {
      var nativeEvent = e.nativeEvent;
      _this._isTouching = nativeEvent.touches.length !== 0;
      var keyboardShouldPersistTaps = _this.props.keyboardShouldPersistTaps;
      var keyboardNeverPersistsTaps = !keyboardShouldPersistTaps || keyboardShouldPersistTaps === 'never';
      var currentlyFocusedTextInput = _TextInputState.default.currentlyFocusedInput();
      if (currentlyFocusedTextInput != null && e.target !== currentlyFocusedTextInput && _this._softKeyboardIsDetached() && _this._keyboardIsDismissible() && keyboardNeverPersistsTaps) {
        _TextInputState.default.blurTextInput(currentlyFocusedTextInput);
      }
      _this.props.onTouchEnd && _this.props.onTouchEnd(e);
    };
    _this._handleTouchCancel = function (e) {
      _this._isTouching = false;
      _this.props.onTouchCancel && _this.props.onTouchCancel(e);
    };
    _this._handleTouchStart = function (e) {
      _this._isTouching = true;
      _this.props.onTouchStart && _this.props.onTouchStart(e);
    };
    _this._handleTouchMove = function (e) {
      _this.props.onTouchMove && _this.props.onTouchMove(e);
    };
    _this._scrollAnimatedValue = new _AnimatedImplementation.default.Value((_this$props$contentOf = (_this$props$contentOf2 = _this.props.contentOffset) == null ? void 0 : _this$props$contentOf2.y) != null ? _this$props$contentOf : 0);
    _this._scrollAnimatedValue.setOffset((_this$props$contentIn = (_this$props$contentIn2 = _this.props.contentInset) == null ? void 0 : _this$props$contentIn2.top) != null ? _this$props$contentIn : 0);
    return _this;
  }
  (0, _inherits2.default)(ScrollView, _React$Component);
  return (0, _createClass2.default)(ScrollView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (typeof this.props.keyboardShouldPersistTaps === 'boolean') {
        console.warn(`'keyboardShouldPersistTaps={${this.props.keyboardShouldPersistTaps === true ? 'true' : 'false'}}' is deprecated. ` + `Use 'keyboardShouldPersistTaps="${this.props.keyboardShouldPersistTaps ? 'always' : 'never'}"' instead`);
      }
      this._keyboardMetrics = _Keyboard.default.metrics();
      this._additionalScrollOffset = 0;
      this._subscriptionKeyboardWillShow = _Keyboard.default.addListener('keyboardWillShow', this.scrollResponderKeyboardWillShow);
      this._subscriptionKeyboardWillHide = _Keyboard.default.addListener('keyboardWillHide', this.scrollResponderKeyboardWillHide);
      this._subscriptionKeyboardDidShow = _Keyboard.default.addListener('keyboardDidShow', this.scrollResponderKeyboardDidShow);
      this._subscriptionKeyboardDidHide = _Keyboard.default.addListener('keyboardDidHide', this.scrollResponderKeyboardDidHide);
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var prevContentInsetTop = prevProps.contentInset ? prevProps.contentInset.top : 0;
      var newContentInsetTop = this.props.contentInset ? this.props.contentInset.top : 0;
      if (prevContentInsetTop !== newContentInsetTop) {
        this._scrollAnimatedValue.setOffset(newContentInsetTop || 0);
      }
      this._updateAnimatedNodeAttachment();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._subscriptionKeyboardWillShow != null) {
        this._subscriptionKeyboardWillShow.remove();
      }
      if (this._subscriptionKeyboardWillHide != null) {
        this._subscriptionKeyboardWillHide.remove();
      }
      if (this._subscriptionKeyboardDidShow != null) {
        this._subscriptionKeyboardDidShow.remove();
      }
      if (this._subscriptionKeyboardDidHide != null) {
        this._subscriptionKeyboardDidHide.remove();
      }
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
    }
  }, {
    key: "_textInputFocusError",
    value: function _textInputFocusError() {
      console.warn('Error measuring text field.');
    }
  }, {
    key: "_getKeyForIndex",
    value: function _getKeyForIndex(index, childArray) {
      var child = childArray[index];
      return child && child.key;
    }
  }, {
    key: "_updateAnimatedNodeAttachment",
    value: function _updateAnimatedNodeAttachment() {
      if (this._scrollAnimatedValueAttachment) {
        this._scrollAnimatedValueAttachment.detach();
      }
      if (this.props.stickyHeaderIndices && this.props.stickyHeaderIndices.length > 0) {
        this._scrollAnimatedValueAttachment = _AnimatedImplementation.default.attachNativeEvent(this._scrollView.nativeInstance, 'onScroll', [{
          nativeEvent: {
            contentOffset: {
              y: this._scrollAnimatedValue
            }
          }
        }]);
      }
    }
  }, {
    key: "_setStickyHeaderRef",
    value: function _setStickyHeaderRef(key, ref) {
      if (ref) {
        this._stickyHeaderRefs.set(key, ref);
      } else {
        this._stickyHeaderRefs.delete(key);
      }
    }
  }, {
    key: "_onStickyHeaderLayout",
    value: function _onStickyHeaderLayout(index, event, key) {
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      if (!stickyHeaderIndices) {
        return;
      }
      var childArray = React.Children.toArray(this.props.children);
      if (key !== this._getKeyForIndex(index, childArray)) {
        return;
      }
      var layoutY = event.nativeEvent.layout.y;
      this._headerLayoutYs.set(key, layoutY);
      var indexOfIndex = stickyHeaderIndices.indexOf(index);
      var previousHeaderIndex = stickyHeaderIndices[indexOfIndex - 1];
      if (previousHeaderIndex != null) {
        var previousHeader = this._stickyHeaderRefs.get(this._getKeyForIndex(previousHeaderIndex, childArray));
        previousHeader && previousHeader.setNextHeaderY && previousHeader.setNextHeaderY(layoutY);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var _ref2 = this.props.horizontal === true ? NativeHorizontalScrollViewTuple : NativeVerticalScrollViewTuple,
        _ref3 = (0, _slicedToArray2.default)(_ref2, 2),
        NativeDirectionalScrollView = _ref3[0],
        NativeDirectionalScrollContentView = _ref3[1];
      var contentContainerStyle = [this.props.horizontal === true && styles.contentContainerHorizontal, this.props.contentContainerStyle];
      if (__DEV__ && this.props.style !== undefined) {
        var style = (0, _flattenStyle.default)(this.props.style);
        var childLayoutProps = ['alignItems', 'justifyContent'].filter(function (prop) {
          return style && style[prop] !== undefined;
        });
        (0, _invariant.default)(childLayoutProps.length === 0, 'ScrollView child layout (' + JSON.stringify(childLayoutProps) + ') must be applied through the contentContainerStyle prop.');
      }
      var contentSizeChangeProps = this.props.onContentSizeChange == null ? null : {
        onLayout: this._handleContentOnLayout
      };
      var stickyHeaderIndices = this.props.stickyHeaderIndices;
      var children = this.props.children;
      if (stickyHeaderIndices != null && stickyHeaderIndices.length > 0) {
        var childArray = React.Children.toArray(this.props.children);
        children = childArray.map(function (child, index) {
          var indexOfIndex = child ? stickyHeaderIndices.indexOf(index) : -1;
          if (indexOfIndex > -1) {
            var key = child.key;
            var nextIndex = stickyHeaderIndices[indexOfIndex + 1];
            var StickyHeaderComponent = _this2.props.StickyHeaderComponent || _ScrollViewStickyHeader.default;
            return (0, _jsxRuntime.jsx)(StickyHeaderComponent, {
              nativeID: 'StickyHeader-' + key,
              ref: function ref(_ref4) {
                return _this2._setStickyHeaderRef(key, _ref4);
              },
              nextHeaderLayoutY: _this2._headerLayoutYs.get(_this2._getKeyForIndex(nextIndex, childArray)),
              onLayout: function onLayout(event) {
                return _this2._onStickyHeaderLayout(index, event, key);
              },
              scrollAnimatedValue: _this2._scrollAnimatedValue,
              inverted: _this2.props.invertStickyHeaders,
              hiddenOnScroll: _this2.props.stickyHeaderHiddenOnScroll,
              scrollViewHeight: _this2.state.layoutHeight,
              children: child
            }, key);
          } else {
            return child;
          }
        });
      }
      children = (0, _jsxRuntime.jsx)(_ScrollViewContext.default.Provider, {
        value: this.props.horizontal === true ? _ScrollViewContext.HORIZONTAL : _ScrollViewContext.VERTICAL,
        children: children
      });
      var hasStickyHeaders = Array.isArray(stickyHeaderIndices) && stickyHeaderIndices.length > 0;
      var contentContainer = (0, _jsxRuntime.jsx)(NativeDirectionalScrollContentView, _objectSpread(_objectSpread({}, contentSizeChangeProps), {}, {
        ref: this._innerView.getForwardingRef(this.props.innerViewRef),
        style: contentContainerStyle,
        removeClippedSubviews: _Platform.default.OS === 'android' && hasStickyHeaders ? false : this.props.removeClippedSubviews,
        collapsable: false,
        children: children
      }));
      var alwaysBounceHorizontal = this.props.alwaysBounceHorizontal !== undefined ? this.props.alwaysBounceHorizontal : this.props.horizontal;
      var alwaysBounceVertical = this.props.alwaysBounceVertical !== undefined ? this.props.alwaysBounceVertical : !this.props.horizontal;
      var baseStyle = this.props.horizontal === true ? styles.baseHorizontal : styles.baseVertical;
      var props = _objectSpread(_objectSpread({}, this.props), {}, {
        alwaysBounceHorizontal: alwaysBounceHorizontal,
        alwaysBounceVertical: alwaysBounceVertical,
        style: _StyleSheet.default.compose(baseStyle, this.props.style),
        onContentSizeChange: null,
        onLayout: this._handleLayout,
        onMomentumScrollBegin: this._handleMomentumScrollBegin,
        onMomentumScrollEnd: this._handleMomentumScrollEnd,
        onResponderGrant: this._handleResponderGrant,
        onResponderReject: this._handleResponderReject,
        onResponderRelease: this._handleResponderRelease,
        onResponderTerminationRequest: this._handleResponderTerminationRequest,
        onScrollBeginDrag: this._handleScrollBeginDrag,
        onScrollEndDrag: this._handleScrollEndDrag,
        onScrollShouldSetResponder: this._handleScrollShouldSetResponder,
        onStartShouldSetResponder: this._handleStartShouldSetResponder,
        onStartShouldSetResponderCapture: this._handleStartShouldSetResponderCapture,
        onTouchEnd: this._handleTouchEnd,
        onTouchMove: this._handleTouchMove,
        onTouchStart: this._handleTouchStart,
        onTouchCancel: this._handleTouchCancel,
        onScroll: this._handleScroll,
        scrollEventThrottle: hasStickyHeaders ? 1 : this.props.scrollEventThrottle,
        sendMomentumEvents: this.props.onMomentumScrollBegin || this.props.onMomentumScrollEnd ? true : false,
        snapToStart: this.props.snapToStart !== false,
        snapToEnd: this.props.snapToEnd !== false,
        pagingEnabled: _Platform.default.select({
          ios: this.props.pagingEnabled === true && this.props.snapToInterval == null && this.props.snapToOffsets == null,
          android: this.props.pagingEnabled === true || this.props.snapToInterval != null || this.props.snapToOffsets != null
        })
      });
      var decelerationRate = this.props.decelerationRate;
      if (decelerationRate != null) {
        props.decelerationRate = (0, _processDecelerationRate.default)(decelerationRate);
      }
      var refreshControl = this.props.refreshControl;
      var scrollViewRef = this._scrollView.getForwardingRef(this.props.scrollViewRef);
      if (refreshControl) {
        if (_Platform.default.OS === 'ios') {
          return (0, _jsxRuntime.jsxs)(NativeDirectionalScrollView, _objectSpread(_objectSpread({}, props), {}, {
            ref: scrollViewRef,
            children: [refreshControl, contentContainer]
          }));
        } else if (_Platform.default.OS === 'android') {
          var _splitLayoutProps = (0, _splitLayoutProps2.default)((0, _flattenStyle.default)(props.style)),
            outer = _splitLayoutProps.outer,
            inner = _splitLayoutProps.inner;
          return React.cloneElement(refreshControl, {
            style: _StyleSheet.default.compose(baseStyle, outer)
          }, (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, _objectSpread(_objectSpread({}, props), {}, {
            style: _StyleSheet.default.compose(baseStyle, inner),
            ref: scrollViewRef,
            children: contentContainer
          })));
        }
      }
      return (0, _jsxRuntime.jsx)(NativeDirectionalScrollView, _objectSpread(_objectSpread({}, props), {}, {
        ref: scrollViewRef,
        children: contentContainer
      }));
    }
  }]);
}(React.Component);
ScrollView.Context = _ScrollViewContext.default;
var styles = _StyleSheet.default.create({
  baseVertical: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'column',
    overflow: 'scroll'
  },
  baseHorizontal: {
    flexGrow: 1,
    flexShrink: 1,
    flexDirection: 'row',
    overflow: 'scroll'
  },
  contentContainerHorizontal: {
    flexDirection: 'row'
  }
});
function createRefForwarder(mutator) {
  var state = {
    getForwardingRef: (0, _memoizeOne.default)(function (forwardedRef) {
      return function (nativeInstance) {
        var publicInstance = nativeInstance == null ? null : mutator(nativeInstance);
        state.nativeInstance = nativeInstance;
        state.publicInstance = publicInstance;
        if (forwardedRef != null) {
          if (typeof forwardedRef === 'function') {
            forwardedRef(publicInstance);
          } else {
            forwardedRef.current = publicInstance;
          }
        }
      };
    }),
    nativeInstance: null,
    publicInstance: null
  };
  return state;
}
function Wrapper(props, ref) {
  return (0, _jsxRuntime.jsx)(ScrollView, _objectSpread(_objectSpread({}, props), {}, {
    scrollViewRef: ref
  }));
}
Wrapper.displayName = 'ScrollView';
var ForwardedScrollView = React.forwardRef(Wrapper);
ForwardedScrollView.Context = _ScrollViewContext.default;
ForwardedScrollView.displayName = 'ScrollView';
module.exports = ForwardedScrollView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0ZyYW1lUmF0ZUxvZ2dlciIsIl9SZW5kZXJlclByb3h5IiwiX1VJTWFuYWdlciIsIl9mbGF0dGVuU3R5bGUiLCJfc3BsaXRMYXlvdXRQcm9wczIiLCJfU3R5bGVTaGVldCIsIl9EaW1lbnNpb25zIiwiX2Rpc21pc3NLZXlib2FyZCIsIl9QbGF0Zm9ybSIsIl9LZXlib2FyZCIsIl9UZXh0SW5wdXRTdGF0ZSIsIl9WaWV3IiwiX0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJfQW5kcm9pZEhvcml6b250YWxTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50IiwiX3Byb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwiX1Njcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50IiwiX1Njcm9sbFZpZXdDb21tYW5kcyIsIl9TY3JvbGxWaWV3Q29udGV4dCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1Njcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJfU2Nyb2xsVmlld1N0aWNreUhlYWRlciIsIl9pbnZhcmlhbnQiLCJfbWVtb2l6ZU9uZSIsIl9udWxsdGhyb3dzIiwiUmVhY3QiLCJfanN4UnVudGltZSIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJmaWx0ZXIiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJfY2FsbFN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiY29uc3RydWN0b3IiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsIlBsYXRmb3JtIiwiT1MiLCJfcmVmIiwiTmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZSIsIkFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCIsIkFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZSIsIlNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQiLCJWaWV3IiwiU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQiLCJJU19BTklNQVRJTkdfVE9VQ0hfU1RBUlRfVEhSRVNIT0xEX01TIiwiU2Nyb2xsVmlldyIsIl9SZWFjdCRDb21wb25lbnQiLCJwcm9wcyIsIl90aGlzJHByb3BzJGNvbnRlbnRPZiIsIl90aGlzJHByb3BzJGNvbnRlbnRPZjIiLCJfdGhpcyRwcm9wcyRjb250ZW50SW4iLCJfdGhpcyRwcm9wcyRjb250ZW50SW4yIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50IiwiX3N0aWNreUhlYWRlclJlZnMiLCJNYXAiLCJfaGVhZGVyTGF5b3V0WXMiLCJfa2V5Ym9hcmRNZXRyaWNzIiwiX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQiLCJfaXNUb3VjaGluZyIsIl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWUiLCJfbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZSIsIl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXIiLCJfYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmciLCJfcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0IiwiX2FuaW1hdGVkIiwiX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3ciLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSIsIl9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3ciLCJfc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRIaWRlIiwic3RhdGUiLCJsYXlvdXRIZWlnaHQiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiX3Njcm9sbFZpZXciLCJuYXRpdmVJbnN0YW5jZSIsImdldElubmVyVmlld05vZGUiLCJfaW5uZXJWaWV3IiwiZ2V0SW5uZXJWaWV3UmVmIiwiZ2V0TmF0aXZlU2Nyb2xsUmVmIiwic2Nyb2xsVG8iLCJvcHRpb25zIiwiZGVwcmVjYXRlZFgiLCJkZXByZWNhdGVkQW5pbWF0ZWQiLCJ4IiwieSIsImFuaW1hdGVkIiwiY29uc29sZSIsIndhcm4iLCJDb21tYW5kcyIsInNjcm9sbFRvRW5kIiwiZmxhc2hTY3JvbGxJbmRpY2F0b3JzIiwic2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCIsIm5vZGVIYW5kbGUiLCJhZGRpdGlvbmFsT2Zmc2V0IiwicHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0IiwiVUlNYW5hZ2VyIiwibWVhc3VyZUxheW91dCIsIm51bGx0aHJvd3MiLCJfdGV4dElucHV0Rm9jdXNFcnJvciIsIl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkIiwic2Nyb2xsUmVzcG9uZGVyWm9vbVRvIiwicmVjdCIsImludmFyaWFudCIsInpvb21Ub1JlY3QiLCJsZWZ0IiwidG9wIiwid2lkdGgiLCJoZWlnaHQiLCJrZXlib2FyZFNjcmVlblkiLCJEaW1lbnNpb25zIiwic2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0Iiwic2NyZWVuWSIsInNjcm9sbE9mZnNldFkiLCJNYXRoIiwibWF4Iiwic2V0VGltZW91dCIsIl9oYW5kbGVTY3JvbGwiLCJfX0RFVl9fIiwib25TY3JvbGwiLCJzY3JvbGxFdmVudFRocm90dGxlIiwibG9nIiwiX2hhbmRsZUxheW91dCIsImludmVydFN0aWNreUhlYWRlcnMiLCJzZXRTdGF0ZSIsIm5hdGl2ZUV2ZW50IiwibGF5b3V0Iiwib25MYXlvdXQiLCJfaGFuZGxlQ29udGVudE9uTGF5b3V0IiwiX2UkbmF0aXZlRXZlbnQkbGF5b3V0Iiwib25Db250ZW50U2l6ZUNoYW5nZSIsImNyZWF0ZVJlZkZvcndhcmRlciIsImluc3RhbmNlIiwicHVibGljSW5zdGFuY2UiLCJhc3NpZ24iLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxTaG93IiwiZW5kQ29vcmRpbmF0ZXMiLCJvbktleWJvYXJkV2lsbFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZFdpbGxIaWRlIiwib25LZXlib2FyZFdpbGxIaWRlIiwic2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaWRTaG93Iiwib25LZXlib2FyZERpZFNob3ciLCJzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZEhpZGUiLCJvbktleWJvYXJkRGlkSGlkZSIsIl9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luIiwiZ2xvYmFsIiwicGVyZm9ybWFuY2UiLCJub3ciLCJvbk1vbWVudHVtU2Nyb2xsQmVnaW4iLCJfaGFuZGxlTW9tZW50dW1TY3JvbGxFbmQiLCJGcmFtZVJhdGVMb2dnZXIiLCJlbmRTY3JvbGwiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX2hhbmRsZVNjcm9sbEJlZ2luRHJhZyIsImJlZ2luU2Nyb2xsIiwia2V5Ym9hcmREaXNtaXNzTW9kZSIsImRpc21pc3NLZXlib2FyZCIsIm9uU2Nyb2xsQmVnaW5EcmFnIiwiX2hhbmRsZVNjcm9sbEVuZERyYWciLCJ2ZWxvY2l0eSIsIl9pc0FuaW1hdGluZyIsIm9uU2Nyb2xsRW5kRHJhZyIsInRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCIsImlzQW5pbWF0aW5nIiwiX2hhbmRsZVJlc3BvbmRlckdyYW50Iiwib25SZXNwb25kZXJHcmFudCIsIl9oYW5kbGVSZXNwb25kZXJSZWplY3QiLCJfaGFuZGxlUmVzcG9uZGVyUmVsZWFzZSIsInRvdWNoZXMiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJ0YXJnZXQiLCJlcnJvciIsImN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQiLCJUZXh0SW5wdXRTdGF0ZSIsImN1cnJlbnRseUZvY3VzZWRJbnB1dCIsImtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMiLCJfa2V5Ym9hcmRJc0Rpc21pc3NpYmxlIiwiYmx1clRleHRJbnB1dCIsIl9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3QiLCJfaGFuZGxlU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyIiwiZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlIiwia2V5Ym9hcmROZXZlclBlcnNpc3RUYXBzIiwiX3NvZnRLZXlib2FyZElzRGV0YWNoZWQiLCJpc1RleHRJbnB1dCIsImhhc0ZvY3VzZWRUZXh0SW5wdXQiLCJzb2Z0S2V5Ym9hcmRNYXlCZU9wZW4iLCJfa2V5Ym9hcmRFdmVudHNBcmVVbnJlbGlhYmxlIiwiVmVyc2lvbiIsIl9oYW5kbGVUb3VjaEVuZCIsImtleWJvYXJkTmV2ZXJQZXJzaXN0c1RhcHMiLCJvblRvdWNoRW5kIiwiX2hhbmRsZVRvdWNoQ2FuY2VsIiwib25Ub3VjaENhbmNlbCIsIl9oYW5kbGVUb3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0IiwiX2hhbmRsZVRvdWNoTW92ZSIsIm9uVG91Y2hNb3ZlIiwiX3Njcm9sbEFuaW1hdGVkVmFsdWUiLCJBbmltYXRlZEltcGxlbWVudGF0aW9uIiwiVmFsdWUiLCJjb250ZW50T2Zmc2V0Iiwic2V0T2Zmc2V0IiwiY29udGVudEluc2V0IiwiX2luaGVyaXRzMiIsIl9jcmVhdGVDbGFzczIiLCJrZXkiLCJ2YWx1ZSIsImNvbXBvbmVudERpZE1vdW50IiwiS2V5Ym9hcmQiLCJtZXRyaWNzIiwiYWRkTGlzdGVuZXIiLCJfdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInByZXZDb250ZW50SW5zZXRUb3AiLCJuZXdDb250ZW50SW5zZXRUb3AiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbW92ZSIsImRldGFjaCIsIl9nZXRLZXlGb3JJbmRleCIsImluZGV4IiwiY2hpbGRBcnJheSIsImNoaWxkIiwic3RpY2t5SGVhZGVySW5kaWNlcyIsImF0dGFjaE5hdGl2ZUV2ZW50IiwiX3NldFN0aWNreUhlYWRlclJlZiIsInJlZiIsImRlbGV0ZSIsIl9vblN0aWNreUhlYWRlckxheW91dCIsImV2ZW50IiwiQ2hpbGRyZW4iLCJ0b0FycmF5IiwiY2hpbGRyZW4iLCJsYXlvdXRZIiwiaW5kZXhPZkluZGV4IiwiaW5kZXhPZiIsInByZXZpb3VzSGVhZGVySW5kZXgiLCJwcmV2aW91c0hlYWRlciIsInNldE5leHRIZWFkZXJZIiwicmVuZGVyIiwiX3RoaXMyIiwiX3JlZjIiLCJob3Jpem9udGFsIiwiX3JlZjMiLCJfc2xpY2VkVG9BcnJheTIiLCJOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXciLCJOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbENvbnRlbnRWaWV3IiwiY29udGVudENvbnRhaW5lclN0eWxlIiwic3R5bGVzIiwiY29udGVudENvbnRhaW5lckhvcml6b250YWwiLCJzdHlsZSIsInVuZGVmaW5lZCIsImZsYXR0ZW5TdHlsZSIsImNoaWxkTGF5b3V0UHJvcHMiLCJwcm9wIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRTaXplQ2hhbmdlUHJvcHMiLCJtYXAiLCJuZXh0SW5kZXgiLCJTdGlja3lIZWFkZXJDb21wb25lbnQiLCJTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIiwianN4IiwibmF0aXZlSUQiLCJuZXh0SGVhZGVyTGF5b3V0WSIsInNjcm9sbEFuaW1hdGVkVmFsdWUiLCJpbnZlcnRlZCIsImhpZGRlbk9uU2Nyb2xsIiwic3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGwiLCJzY3JvbGxWaWV3SGVpZ2h0IiwiUHJvdmlkZXIiLCJIT1JJWk9OVEFMIiwiVkVSVElDQUwiLCJoYXNTdGlja3lIZWFkZXJzIiwiQXJyYXkiLCJpc0FycmF5IiwiY29udGVudENvbnRhaW5lciIsImdldEZvcndhcmRpbmdSZWYiLCJpbm5lclZpZXdSZWYiLCJyZW1vdmVDbGlwcGVkU3Vidmlld3MiLCJjb2xsYXBzYWJsZSIsImFsd2F5c0JvdW5jZUhvcml6b250YWwiLCJhbHdheXNCb3VuY2VWZXJ0aWNhbCIsImJhc2VTdHlsZSIsImJhc2VIb3Jpem9udGFsIiwiYmFzZVZlcnRpY2FsIiwiU3R5bGVTaGVldCIsImNvbXBvc2UiLCJvblJlc3BvbmRlclJlamVjdCIsIm9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0Iiwib25TY3JvbGxTaG91bGRTZXRSZXNwb25kZXIiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwib25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUiLCJzZW5kTW9tZW50dW1FdmVudHMiLCJzbmFwVG9TdGFydCIsInNuYXBUb0VuZCIsInBhZ2luZ0VuYWJsZWQiLCJzZWxlY3QiLCJpb3MiLCJzbmFwVG9JbnRlcnZhbCIsInNuYXBUb09mZnNldHMiLCJhbmRyb2lkIiwiZGVjZWxlcmF0aW9uUmF0ZSIsInByb2Nlc3NEZWNlbGVyYXRpb25SYXRlIiwicmVmcmVzaENvbnRyb2wiLCJzY3JvbGxWaWV3UmVmIiwianN4cyIsIl9zcGxpdExheW91dFByb3BzIiwic3BsaXRMYXlvdXRQcm9wcyIsIm91dGVyIiwiaW5uZXIiLCJjbG9uZUVsZW1lbnQiLCJDb21wb25lbnQiLCJDb250ZXh0IiwiU2Nyb2xsVmlld0NvbnRleHQiLCJjcmVhdGUiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJmbGV4RGlyZWN0aW9uIiwib3ZlcmZsb3ciLCJtdXRhdG9yIiwibWVtb2l6ZSIsImZvcndhcmRlZFJlZiIsImN1cnJlbnQiLCJXcmFwcGVyIiwiZGlzcGxheU5hbWUiLCJGb3J3YXJkZWRTY3JvbGxWaWV3IiwiZm9yd2FyZFJlZiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJTY3JvbGxWaWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqL1xuXG5pbXBvcnQgdHlwZSB7SG9zdENvbXBvbmVudH0gZnJvbSAnLi4vLi4vUmVuZGVyZXIvc2hpbXMvUmVhY3ROYXRpdmVUeXBlcyc7XG5pbXBvcnQgdHlwZSB7RWRnZUluc2V0c1Byb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvRWRnZUluc2V0c1Byb3BUeXBlJztcbmltcG9ydCB0eXBlIHtQb2ludFByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvUG9pbnRQcm9wVHlwZSc7XG5pbXBvcnQgdHlwZSB7Vmlld1N0eWxlUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtDb2xvclZhbHVlfSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICBMYXlvdXRFdmVudCxcbiAgUHJlc3NFdmVudCxcbiAgU2Nyb2xsRXZlbnQsXG59IGZyb20gJy4uLy4uL1R5cGVzL0NvcmVFdmVudFR5cGVzJztcbmltcG9ydCB0eXBlIHtFdmVudFN1YnNjcmlwdGlvbn0gZnJvbSAnLi4vLi4vdmVuZG9yL2VtaXR0ZXIvRXZlbnRFbWl0dGVyJztcbmltcG9ydCB0eXBlIHtLZXlib2FyZEV2ZW50LCBLZXlib2FyZE1ldHJpY3N9IGZyb20gJy4uL0tleWJvYXJkL0tleWJvYXJkJztcbmltcG9ydCB0eXBlIHtWaWV3UHJvcHN9IGZyb20gJy4uL1ZpZXcvVmlld1Byb3BUeXBlcyc7XG5pbXBvcnQgdHlwZSB7UHJvcHMgYXMgU2Nyb2xsVmlld1N0aWNreUhlYWRlclByb3BzfSBmcm9tICcuL1Njcm9sbFZpZXdTdGlja3lIZWFkZXInO1xuXG5pbXBvcnQgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbiBmcm9tICcuLi8uLi9BbmltYXRlZC9BbmltYXRlZEltcGxlbWVudGF0aW9uJztcbmltcG9ydCBGcmFtZVJhdGVMb2dnZXIgZnJvbSAnLi4vLi4vSW50ZXJhY3Rpb24vRnJhbWVSYXRlTG9nZ2VyJztcbmltcG9ydCB7ZmluZE5vZGVIYW5kbGV9IGZyb20gJy4uLy4uL1JlYWN0TmF0aXZlL1JlbmRlcmVyUHJveHknO1xuaW1wb3J0IFVJTWFuYWdlciBmcm9tICcuLi8uLi9SZWFjdE5hdGl2ZS9VSU1hbmFnZXInO1xuaW1wb3J0IGZsYXR0ZW5TdHlsZSBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZSc7XG5pbXBvcnQgc3BsaXRMYXlvdXRQcm9wcyBmcm9tICcuLi8uLi9TdHlsZVNoZWV0L3NwbGl0TGF5b3V0UHJvcHMnO1xuaW1wb3J0IFN0eWxlU2hlZXQgZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCBEaW1lbnNpb25zIGZyb20gJy4uLy4uL1V0aWxpdGllcy9EaW1lbnNpb25zJztcbmltcG9ydCBkaXNtaXNzS2V5Ym9hcmQgZnJvbSAnLi4vLi4vVXRpbGl0aWVzL2Rpc21pc3NLZXlib2FyZCc7XG5pbXBvcnQgUGxhdGZvcm0gZnJvbSAnLi4vLi4vVXRpbGl0aWVzL1BsYXRmb3JtJztcbmltcG9ydCBLZXlib2FyZCBmcm9tICcuLi9LZXlib2FyZC9LZXlib2FyZCc7XG5pbXBvcnQgVGV4dElucHV0U3RhdGUgZnJvbSAnLi4vVGV4dElucHV0L1RleHRJbnB1dFN0YXRlJztcbmltcG9ydCBWaWV3IGZyb20gJy4uL1ZpZXcvVmlldyc7XG5pbXBvcnQgQW5kcm9pZEhvcml6b250YWxTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCBmcm9tICcuL0FuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCc7XG5pbXBvcnQgcHJvY2Vzc0RlY2VsZXJhdGlvblJhdGUgZnJvbSAnLi9wcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZSc7XG5pbXBvcnQgU2Nyb2xsQ29udGVudFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9TY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCc7XG5pbXBvcnQgQ29tbWFuZHMgZnJvbSAnLi9TY3JvbGxWaWV3Q29tbWFuZHMnO1xuaW1wb3J0IFNjcm9sbFZpZXdDb250ZXh0LCB7SE9SSVpPTlRBTCwgVkVSVElDQUx9IGZyb20gJy4vU2Nyb2xsVmlld0NvbnRleHQnO1xuaW1wb3J0IFNjcm9sbFZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9TY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyIGZyb20gJy4vU2Nyb2xsVmlld1N0aWNreUhlYWRlcic7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgbWVtb2l6ZSBmcm9tICdtZW1vaXplLW9uZSc7XG5pbXBvcnQgbnVsbHRocm93cyBmcm9tICdudWxsdGhyb3dzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaWYgKFBsYXRmb3JtLk9TID09PSAnaW9zJykge1xuICByZXF1aXJlKCcuLi8uLi9SZW5kZXJlci9zaGltcy9SZWFjdE5hdGl2ZScpOyAvLyBGb3JjZSBzaWRlIGVmZmVjdHMgdG8gcHJldmVudCBUNTU3NDQzMTFcbn1cblxuY29uc3Qge05hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGUsIE5hdGl2ZVZlcnRpY2FsU2Nyb2xsVmlld1R1cGxlfSA9XG4gIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCdcbiAgICA/IHtcbiAgICAgICAgTmF0aXZlSG9yaXpvbnRhbFNjcm9sbFZpZXdUdXBsZTogW1xuICAgICAgICAgIEFuZHJvaWRIb3Jpem9udGFsU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgICBBbmRyb2lkSG9yaXpvbnRhbFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICBdLFxuICAgICAgICBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZTogW1Njcm9sbFZpZXdOYXRpdmVDb21wb25lbnQsIFZpZXddLFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICBOYXRpdmVIb3Jpem9udGFsU2Nyb2xsVmlld1R1cGxlOiBbXG4gICAgICAgICAgU2Nyb2xsVmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgICBTY3JvbGxDb250ZW50Vmlld05hdGl2ZUNvbXBvbmVudCxcbiAgICAgICAgXSxcbiAgICAgICAgTmF0aXZlVmVydGljYWxTY3JvbGxWaWV3VHVwbGU6IFtcbiAgICAgICAgICBTY3JvbGxWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICAgIFNjcm9sbENvbnRlbnRWaWV3TmF0aXZlQ29tcG9uZW50LFxuICAgICAgICBdLFxuICAgICAgfTtcblxuLypcbiAqIGlPUyBzY3JvbGwgZXZlbnQgdGltaW5nIG51YW5jZXM6XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKlxuICpcbiAqIFNjcm9sbGluZyB3aXRob3V0IGJvdW5jaW5nLCBpZiB5b3UgdG91Y2ggZG93bjpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiAxLiBgb25Nb21lbnR1bVNjcm9sbEJlZ2luYCAod2hlbiBhbmltYXRpb24gYmVnaW5zIGFmdGVyIGxldHRpbmcgdXApXG4gKiAgICAuLi4gcGh5c2ljYWwgdG91Y2ggc3RhcnRzIC4uLlxuICogMi4gYG9uVG91Y2hTdGFydENhcHR1cmVgICAgKHdoZW4geW91IHByZXNzIGRvd24gdG8gc3RvcCB0aGUgc2Nyb2xsKVxuICogMy4gYG9uVG91Y2hTdGFydGAgICAgICAgICAgKHNhbWUsIGJ1dCBidWJibGUgcGhhc2UpXG4gKiA0LiBgb25SZXNwb25kZXJSZWxlYXNlYCAgICAod2hlbiBsaWZ0aW5nIHVwIC0geW91IGNvdWxkIHBhdXNlIGZvcmV2ZXIgYmVmb3JlICogbGlmdGluZylcbiAqIDUuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYFxuICpcbiAqXG4gKiBTY3JvbGxpbmcgd2l0aCBib3VuY2luZywgaWYgeW91IHRvdWNoIGRvd246XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogMS4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKHdoZW4gYW5pbWF0aW9uIGJlZ2lucyBhZnRlciBsZXR0aW5nIHVwKVxuICogICAgLi4uIGJvdW5jZSBiZWdpbnMgLi4uXG4gKiAgICAuLi4gc29tZSB0aW1lIGVsYXBzZXMgLi4uXG4gKiAgICAuLi4gcGh5c2ljYWwgdG91Y2ggZHVyaW5nIGJvdW5jZSAuLi5cbiAqIDIuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYCAgIChNYWtlcyBubyBzZW5zZSB3aHkgdGhpcyBvY2N1cnMgZmlyc3QgZHVyaW5nIGJvdW5jZSlcbiAqIDMuIGBvblRvdWNoU3RhcnRDYXB0dXJlYCAgIChpbW1lZGlhdGVseSBhZnRlciBgb25Nb21lbnR1bVNjcm9sbEVuZGApXG4gKiA0LiBgb25Ub3VjaFN0YXJ0YCAgICAgICAgICAoc2FtZSwgYnV0IGJ1YmJsZSBwaGFzZSlcbiAqIDUuIGBvblRvdWNoRW5kYCAgICAgICAgICAgIChZb3UgY291bGQgaG9sZCB0aGUgdG91Y2ggc3RhcnQgZm9yIGEgbG9uZyB0aW1lKVxuICogNi4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgKFdoZW4gcmVsZWFzaW5nIHRoZSB2aWV3IHN0YXJ0cyBib3VuY2luZyBiYWNrKVxuICpcbiAqIFNvIHdoZW4gd2UgcmVjZWl2ZSBhbiBgb25Ub3VjaFN0YXJ0YCwgaG93IGNhbiB3ZSB0ZWxsIGlmIHdlIGFyZSB0b3VjaGluZ1xuICogKmR1cmluZyogYW4gYW5pbWF0aW9uICh3aGljaCB0aGVuIGNhdXNlcyB0aGUgYW5pbWF0aW9uIHRvIHN0b3ApPyBUaGUgb25seSB3YXlcbiAqIHRvIHRlbGwgaXMgaWYgdGhlIGB0b3VjaFN0YXJ0YCBvY2N1cnJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGVcbiAqIGBvbk1vbWVudHVtU2Nyb2xsRW5kYC5cbiAqXG4gKiBUaGlzIGlzIGFic3RyYWN0ZWQgb3V0IGZvciB5b3UsIHNvIHlvdSBjYW4ganVzdCBjYWxsIHRoaXMuc2Nyb2xsUmVzcG9uZGVySXNBbmltYXRpbmcoKSBpZlxuICogbmVjZXNzYXJ5XG4gKlxuICogYFNjcm9sbFZpZXdgIGFsc28gaW5jbHVkZXMgbG9naWMgZm9yIGJsdXJyaW5nIGEgY3VycmVudGx5IGZvY3VzZWQgaW5wdXRcbiAqIGlmIG9uZSBpcyBmb2N1c2VkIHdoaWxlIHNjcm9sbGluZy4gVGhpcyBpcyBhIG5hdHVyYWwgcGxhY2VcbiAqIHRvIHB1dCB0aGlzIGxvZ2ljIHNpbmNlIGl0IGNhbiBzdXBwb3J0IG5vdCBkaXNtaXNzaW5nIHRoZSBrZXlib2FyZCB3aGlsZVxuICogc2Nyb2xsaW5nLCB1bmxlc3MgYSByZWNvZ25pemVkIFwidGFwXCItbGlrZSBnZXN0dXJlIGhhcyBvY2N1cnJlZC5cbiAqXG4gKiBUaGUgcHVibGljIGxpZmVjeWNsZSBBUEkgaW5jbHVkZXMgZXZlbnRzIGZvciBrZXlib2FyZCBpbnRlcmFjdGlvbiwgcmVzcG9uZGVyXG4gKiBpbnRlcmFjdGlvbiwgYW5kIHNjcm9sbGluZyAoYW1vbmcgb3RoZXJzKS4gVGhlIGtleWJvYXJkIGNhbGxiYWNrc1xuICogYG9uS2V5Ym9hcmRXaWxsL0RpZC8qYCBhcmUgKmdsb2JhbCogZXZlbnRzLCBidXQgYXJlIGludm9rZWQgb24gc2Nyb2xsXG4gKiByZXNwb25kZXIncyBwcm9wcyBzbyB0aGF0IHlvdSBjYW4gZ3VhcmFudGVlIHRoYXQgdGhlIHNjcm9sbCByZXNwb25kZXInc1xuICogaW50ZXJuYWwgc3RhdGUgaGFzIGJlZW4gdXBkYXRlZCBhY2NvcmRpbmdseSAoYW5kIGRldGVybWluaXN0aWNhbGx5KSBieVxuICogdGhlIHRpbWUgdGhlIHByb3BzIGNhbGxiYWNrcyBhcmUgaW52b2tlLiBPdGhlcndpc2UsIHlvdSB3b3VsZCBhbHdheXMgd29uZGVyXG4gKiBpZiB0aGUgc2Nyb2xsIHJlc3BvbmRlciBpcyBjdXJyZW50bHkgaW4gYSBzdGF0ZSB3aGVyZSBpdCByZWNvZ25pemVzIG5ld1xuICoga2V5Ym9hcmQgcG9zaXRpb25zIGV0Yy4gSWYgY29vcmRpbmF0aW5nIHNjcm9sbGluZyB3aXRoIGtleWJvYXJkIG1vdmVtZW50LFxuICogKmFsd2F5cyogdXNlIHRoZXNlIGhvb2tzIGluc3RlYWQgb2YgbGlzdGVuaW5nIHRvIHlvdXIgb3duIGdsb2JhbCBrZXlib2FyZFxuICogZXZlbnRzLlxuICpcbiAqIFB1YmxpYyBrZXlib2FyZCBsaWZlY3ljbGUgQVBJOiAocHJvcHMgY2FsbGJhY2tzKVxuICpcbiAqIFN0YW5kYXJkIEtleWJvYXJkIEFwcGVhcmFuY2UgU2VxdWVuY2U6XG4gKlxuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsU2hvd1xuICogICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93XG4gKlxuICogYG9uU2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaXNtaXNzZWRgIHdpbGwgYmUgaW52b2tlZCBpZiBhbiBhcHByb3ByaWF0ZVxuICogdGFwIGluc2lkZSB0aGUgc2Nyb2xsIHJlc3BvbmRlcidzIHNjcm9sbGFibGUgcmVnaW9uIHdhcyByZXNwb25zaWJsZVxuICogZm9yIHRoZSBkaXNtaXNzYWwgb2YgdGhlIGtleWJvYXJkLiBUaGVyZSBhcmUgb3RoZXIgcmVhc29ucyB3aHkgdGhlXG4gKiBrZXlib2FyZCBjb3VsZCBiZSBkaXNtaXNzZWQuXG4gKlxuICogICB0aGlzLnByb3BzLm9uU2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmREaXNtaXNzZWRcbiAqXG4gKiBTdGFuZGFyZCBLZXlib2FyZCBIaWRlIFNlcXVlbmNlOlxuICpcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbEhpZGVcbiAqICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkSGlkZVxuICovXG5cbi8vIFB1YmxpYyBtZXRob2RzIGZvciBTY3JvbGxWaWV3XG5leHBvcnQgdHlwZSBTY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMgPSAkUmVhZE9ubHk8e3xcbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRTY3JvbGxSZXNwb25kZXInPixcbiAgZ2V0U2Nyb2xsYWJsZU5vZGU6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldFNjcm9sbGFibGVOb2RlJz4sXG4gIGdldElubmVyVmlld05vZGU6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2dldElubmVyVmlld05vZGUnPixcbiAgZ2V0SW5uZXJWaWV3UmVmOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXRJbm5lclZpZXdSZWYnPixcbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdnZXROYXRpdmVTY3JvbGxSZWYnPixcbiAgc2Nyb2xsVG86ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ3Njcm9sbFRvJz4sXG4gIHNjcm9sbFRvRW5kOiAkUHJvcGVydHlUeXBlPFNjcm9sbFZpZXcsICdzY3JvbGxUb0VuZCc+LFxuICBmbGFzaFNjcm9sbEluZGljYXRvcnM6ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ2ZsYXNoU2Nyb2xsSW5kaWNhdG9ycyc+LFxuICBzY3JvbGxSZXNwb25kZXJab29tVG86ICRQcm9wZXJ0eVR5cGU8U2Nyb2xsVmlldywgJ3Njcm9sbFJlc3BvbmRlclpvb21Ubyc+LFxuICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOiAkUHJvcGVydHlUeXBlPFxuICAgIFNjcm9sbFZpZXcsXG4gICAgJ3Njcm9sbFJlc3BvbmRlclNjcm9sbE5hdGl2ZUhhbmRsZVRvS2V5Ym9hcmQnLFxuICA+LFxufH0+O1xuXG5leHBvcnQgdHlwZSBEZWNlbGVyYXRpb25SYXRlVHlwZSA9ICdmYXN0JyB8ICdub3JtYWwnIHwgbnVtYmVyO1xuZXhwb3J0IHR5cGUgU2Nyb2xsUmVzcG9uZGVyVHlwZSA9IFNjcm9sbFZpZXdJbXBlcmF0aXZlTWV0aG9kcztcblxudHlwZSBOYXRpdmVTY3JvbGxWaWV3SW5zdGFuY2UgPSBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8bWl4ZWQ+PjtcbnR5cGUgUHVibGljU2Nyb2xsVmlld0luc3RhbmNlID0gJFJlYWRPbmx5PHt8XG4gIC4uLiRFeGFjdDxOYXRpdmVTY3JvbGxWaWV3SW5zdGFuY2U+LFxuICAuLi5TY3JvbGxWaWV3SW1wZXJhdGl2ZU1ldGhvZHMsXG58fT47XG5cbnR5cGUgSW5uZXJWaWV3SW5zdGFuY2UgPSBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaWV3PjtcblxudHlwZSBJT1NQcm9wcyA9ICRSZWFkT25seTx7fFxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBpT1Mgc2hvdWxkIGF1dG9tYXRpY2FsbHkgYWRqdXN0IHRoZSBjb250ZW50IGluc2V0XG4gICAqIGZvciBzY3JvbGwgdmlld3MgdGhhdCBhcmUgcGxhY2VkIGJlaGluZCBhIG5hdmlnYXRpb24gYmFyIG9yXG4gICAqIHRhYiBiYXIvIHRvb2xiYXIuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGF1dG9tYXRpY2FsbHlBZGp1c3RDb250ZW50SW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIHRoZSBTY3JvbGxWaWV3IHNob3VsZCBhdXRvbWF0aWNhbGx5IGFkanVzdCBpdHMgYGNvbnRlbnRJbnNldGBcbiAgICogYW5kIGBzY3JvbGxWaWV3SW5zZXRzYCB3aGVuIHRoZSBLZXlib2FyZCBjaGFuZ2VzIGl0cyBzaXplLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdEtleWJvYXJkSW5zZXRzPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIGlPUyBzaG91bGQgYXV0b21hdGljYWxseSBhZGp1c3QgdGhlIHNjcm9sbCBpbmRpY2F0b3JcbiAgICogaW5zZXRzLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLiBBdmFpbGFibGUgb24gaU9TIDEzIGFuZCBsYXRlci5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYXV0b21hdGljYWxseUFkanVzdHNTY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBhbW91bnQgYnkgd2hpY2ggdGhlIHNjcm9sbCB2aWV3IGNvbnRlbnQgaXMgaW5zZXQgZnJvbSB0aGUgZWRnZXNcbiAgICogb2YgdGhlIHNjcm9sbCB2aWV3LiBEZWZhdWx0cyB0byBge3RvcDogMCwgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50SW5zZXQ/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBib3VuY2VzIHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kIG9mIHRoZVxuICAgKiBjb250ZW50IGlmIHRoZSBjb250ZW50IGlzIGxhcmdlciB0aGVuIHRoZSBzY3JvbGwgdmlldyBhbG9uZyB0aGUgYXhpcyBvZlxuICAgKiB0aGUgc2Nyb2xsIGRpcmVjdGlvbi4gV2hlbiBmYWxzZSwgaXQgZGlzYWJsZXMgYWxsIGJvdW5jaW5nIGV2ZW4gaWZcbiAgICogdGhlIGBhbHdheXNCb3VuY2UqYCBwcm9wcyBhcmUgdHJ1ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYm91bmNlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgU2Nyb2xsVmlldyBoYXMgYW4gYWN0aXZlIHBhbiByZXNwb25kZXIgdGhhdCBoaWphY2tzIHBhbnJlc3BvbmRlcnNcbiAgICogZGVlcGVyIGluIHRoZSByZW5kZXIgdHJlZSBpbiBvcmRlciB0byBwcmV2ZW50IGFjY2lkZW50YWwgdG91Y2hlcyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqIEhvd2V2ZXIsIGluIGNlcnRhaW4gb2NjYXNpb25zIChzdWNoIGFzIHdoZW4gdXNpbmcgc25hcFRvSW50ZXJ2YWwpIGluIGEgdmVydGljYWwgc2Nyb2xsdmlld1xuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yIGluIG9yZGVyIHRvIHByZXZlbnQgdGhlIFNjcm9sbFZpZXcgZnJvbSBibG9ja2luZyB0b3VjaGVzXG4gICAqL1xuICBkaXNhYmxlU2Nyb2xsVmlld1BhblJlc3BvbmRlcj86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBnZXN0dXJlcyBjYW4gZHJpdmUgem9vbSBwYXN0IG1pbi9tYXggYW5kIHRoZSB6b29tIHdpbGwgYW5pbWF0ZVxuICAgKiB0byB0aGUgbWluL21heCB2YWx1ZSBhdCBnZXN0dXJlIGVuZCwgb3RoZXJ3aXNlIHRoZSB6b29tIHdpbGwgbm90IGV4Y2VlZFxuICAgKiB0aGUgbGltaXRzLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBib3VuY2VzWm9vbT86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyBob3Jpem9udGFsbHkgd2hlbiBpdCByZWFjaGVzIHRoZSBlbmRcbiAgICogZXZlbiBpZiB0aGUgY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGl0c2VsZi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgdHJ1ZSB3aGVuIGBob3Jpem9udGFsPXt0cnVlfWAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgYm91bmNlcyB2ZXJ0aWNhbGx5IHdoZW4gaXQgcmVhY2hlcyB0aGUgZW5kXG4gICAqIGV2ZW4gaWYgdGhlIGNvbnRlbnQgaXMgc21hbGxlciB0aGFuIHRoZSBzY3JvbGwgdmlldyBpdHNlbGYuIFRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIGlzIGZhbHNlIHdoZW4gYGhvcml6b250YWw9e3RydWV9YCBhbmQgdHJ1ZSBvdGhlcndpc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGFsd2F5c0JvdW5jZVZlcnRpY2FsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBhdXRvbWF0aWNhbGx5IGNlbnRlcnMgdGhlIGNvbnRlbnQgd2hlbiB0aGVcbiAgICogY29udGVudCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3IGJvdW5kczsgd2hlbiB0aGUgY29udGVudCBpc1xuICAgKiBsYXJnZXIgdGhhbiB0aGUgc2Nyb2xsIHZpZXcsIHRoaXMgcHJvcGVydHkgaGFzIG5vIGVmZmVjdC4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGNlbnRlckNvbnRlbnQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFRoZSBzdHlsZSBvZiB0aGUgc2Nyb2xsIGluZGljYXRvcnMuXG4gICAqXG4gICAqICAgLSBgJ2RlZmF1bHQnYCAodGhlIGRlZmF1bHQpLCBzYW1lIGFzIGBibGFja2AuXG4gICAqICAgLSBgJ2JsYWNrJ2AsIHNjcm9sbCBpbmRpY2F0b3IgaXMgYmxhY2suIFRoaXMgc3R5bGUgaXMgZ29vZCBhZ2FpbnN0IGEgbGlnaHQgYmFja2dyb3VuZC5cbiAgICogICAtIGAnd2hpdGUnYCwgc2Nyb2xsIGluZGljYXRvciBpcyB3aGl0ZS4gVGhpcyBzdHlsZSBpcyBnb29kIGFnYWluc3QgYSBkYXJrIGJhY2tncm91bmQuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIGluZGljYXRvclN0eWxlPzogPygnZGVmYXVsdCcgfCAnYmxhY2snIHwgJ3doaXRlJyksXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBTY3JvbGxWaWV3IHdpbGwgdHJ5IHRvIGxvY2sgdG8gb25seSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsXG4gICAqIHNjcm9sbGluZyB3aGlsZSBkcmFnZ2luZy4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBkaXJlY3Rpb25hbExvY2tFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIGZhbHNlLCBvbmNlIHRyYWNraW5nIHN0YXJ0cywgd29uJ3QgdHJ5IHRvIGRyYWcgaWYgdGhlIHRvdWNoIG1vdmVzLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjYW5DYW5jZWxDb250ZW50VG91Y2hlcz86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBzZXQsIHRoZSBzY3JvbGwgdmlldyB3aWxsIGFkanVzdCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGZpcnN0IGNoaWxkIHRoYXQgaXNcbiAgICogY3VycmVudGx5IHZpc2libGUgYW5kIGF0IG9yIGJleW9uZCBgbWluSW5kZXhGb3JWaXNpYmxlYCB3aWxsIG5vdCBjaGFuZ2UgcG9zaXRpb24uIFRoaXMgaXNcbiAgICogdXNlZnVsIGZvciBsaXN0cyB0aGF0IGFyZSBsb2FkaW5nIGNvbnRlbnQgaW4gYm90aCBkaXJlY3Rpb25zLCBlLmcuIGEgY2hhdCB0aHJlYWQsIHdoZXJlIG5ld1xuICAgKiBtZXNzYWdlcyBjb21pbmcgaW4gbWlnaHQgb3RoZXJ3aXNlIGNhdXNlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8ganVtcC4gQSB2YWx1ZSBvZiAwIGlzIGNvbW1vbixcbiAgICogYnV0IG90aGVyIHZhbHVlcyBzdWNoIGFzIDEgY2FuIGJlIHVzZWQgdG8gc2tpcCBsb2FkaW5nIHNwaW5uZXJzIG9yIG90aGVyIGNvbnRlbnQgdGhhdCBzaG91bGRcbiAgICogbm90IG1haW50YWluIHBvc2l0aW9uLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYGF1dG9zY3JvbGxUb1RvcFRocmVzaG9sZGAgY2FuIGJlIHVzZWQgdG8gbWFrZSB0aGUgY29udGVudCBhdXRvbWF0aWNhbGx5IHNjcm9sbFxuICAgKiB0byB0aGUgdG9wIGFmdGVyIG1ha2luZyB0aGUgYWRqdXN0bWVudCBpZiB0aGUgdXNlciB3YXMgd2l0aGluIHRoZSB0aHJlc2hvbGQgb2YgdGhlIHRvcCBiZWZvcmVcbiAgICogdGhlIGFkanVzdG1lbnQgd2FzIG1hZGUuIFRoaXMgaXMgYWxzbyB1c2VmdWwgZm9yIGNoYXQtbGlrZSBhcHBsaWNhdGlvbnMgd2hlcmUgeW91IHdhbnQgdG8gc2VlXG4gICAqIG5ldyBtZXNzYWdlcyBzY3JvbGwgaW50byBwbGFjZSwgYnV0IG5vdCBpZiB0aGUgdXNlciBoYXMgc2Nyb2xsZWQgdXAgYSB3YXlzIGFuZCBpdCB3b3VsZCBiZVxuICAgKiBkaXNydXB0aXZlIHRvIHNjcm9sbCBhIGJ1bmNoLlxuICAgKlxuICAgKiBDYXZlYXQgMTogUmVvcmRlcmluZyBlbGVtZW50cyBpbiB0aGUgc2Nyb2xsdmlldyB3aXRoIHRoaXMgZW5hYmxlZCB3aWxsIHByb2JhYmx5IGNhdXNlXG4gICAqIGp1bXBpbmVzcyBhbmQgamFuay4gSXQgY2FuIGJlIGZpeGVkLCBidXQgdGhlcmUgYXJlIGN1cnJlbnRseSBubyBwbGFucyB0byBkbyBzby4gRm9yIG5vdyxcbiAgICogZG9uJ3QgcmUtb3JkZXIgdGhlIGNvbnRlbnQgb2YgYW55IFNjcm9sbFZpZXdzIG9yIExpc3RzIHRoYXQgdXNlIHRoaXMgZmVhdHVyZS5cbiAgICpcbiAgICogQ2F2ZWF0IDI6IFRoaXMgc2ltcGx5IHVzZXMgYGNvbnRlbnRPZmZzZXRgIGFuZCBgZnJhbWUub3JpZ2luYCBpbiBuYXRpdmUgY29kZSB0byBjb21wdXRlXG4gICAqIHZpc2liaWxpdHkuIE9jY2x1c2lvbiwgdHJhbnNmb3JtcywgYW5kIG90aGVyIGNvbXBsZXhpdHkgd29uJ3QgYmUgdGFrZW4gaW50byBhY2NvdW50IGFzIHRvXG4gICAqIHdoZXRoZXIgY29udGVudCBpcyBcInZpc2libGVcIiBvciBub3QuXG4gICAqXG4gICAqL1xuICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/OiA/JFJlYWRPbmx5PHt8XG4gICAgbWluSW5kZXhGb3JWaXNpYmxlOiBudW1iZXIsXG4gICAgYXV0b3Njcm9sbFRvVG9wVGhyZXNob2xkPzogP251bWJlcixcbiAgfH0+LFxuICAvKipcbiAgICogVGhlIG1heGltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1heGltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhlIG1pbmltdW0gYWxsb3dlZCB6b29tIHNjYWxlLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAxLjAuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIG1pbmltdW1ab29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCBTY3JvbGxWaWV3IGFsbG93cyB1c2Ugb2YgcGluY2ggZ2VzdHVyZXMgdG8gem9vbSBpbiBhbmQgb3V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBwaW5jaEdlc3R1cmVFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IGJ5IHdoaWNoIHRoZSBzY3JvbGwgdmlldyBpbmRpY2F0b3JzIGFyZSBpbnNldCBmcm9tIHRoZSBlZGdlc1xuICAgKiBvZiB0aGUgc2Nyb2xsIHZpZXcuIFRoaXMgc2hvdWxkIG5vcm1hbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgKiB0aGUgYGNvbnRlbnRJbnNldGAuIERlZmF1bHRzIHRvIGB7MCwgMCwgMCwgMH1gLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxJbmRpY2F0b3JJbnNldHM/OiA/RWRnZUluc2V0c1Byb3AsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBzY3JvbGxlZCBiZXlvbmQgaXRzXG4gICAqIGNvbnRlbnQgc2l6ZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqIEBwbGF0Zm9ybSBpb3NcbiAgICovXG4gIHNjcm9sbFRvT3ZlcmZsb3dFbmFibGVkPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCB3aGVuIHRoZSBzdGF0dXMgYmFyIGlzIHRhcHBlZC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgc2Nyb2xsc1RvVG9wPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGaXJlcyB3aGVuIHRoZSBzY3JvbGwgdmlldyBzY3JvbGxzIHRvIHRvcCBhZnRlciB0aGUgc3RhdHVzIGJhciBoYXMgYmVlbiB0YXBwZWRcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgb25TY3JvbGxUb1RvcD86IChldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgaG9yaXpvbnRhbCBzY3JvbGwgaW5kaWNhdG9yLlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc2hvd3NIb3Jpem9udGFsU2Nyb2xsSW5kaWNhdG9yPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzY2FsZSBvZiB0aGUgc2Nyb2xsIHZpZXcgY29udGVudC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMS4wLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICB6b29tU2NhbGU/OiA/bnVtYmVyLFxuICAvKipcbiAgICogVGhpcyBwcm9wZXJ0eSBzcGVjaWZpZXMgaG93IHRoZSBzYWZlIGFyZWEgaW5zZXRzIGFyZSB1c2VkIHRvIG1vZGlmeSB0aGVcbiAgICogY29udGVudCBhcmVhIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSBpc1xuICAgKiBcIm5ldmVyXCIuIEF2YWlsYWJsZSBvbiBpT1MgMTEgYW5kIGxhdGVyLlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBjb250ZW50SW5zZXRBZGp1c3RtZW50QmVoYXZpb3I/OiA/KFxuICAgIHwgJ2F1dG9tYXRpYydcbiAgICB8ICdzY3JvbGxhYmxlQXhlcydcbiAgICB8ICduZXZlcidcbiAgICB8ICdhbHdheXMnXG4gICksXG58fT47XG5cbnR5cGUgQW5kcm9pZFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBFbmFibGVzIG5lc3RlZCBzY3JvbGxpbmcgZm9yIEFuZHJvaWQgQVBJIGxldmVsIDIxKy5cbiAgICogTmVzdGVkIHNjcm9sbGluZyBpcyBzdXBwb3J0ZWQgYnkgZGVmYXVsdCBvbiBpT1NcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIG5lc3RlZFNjcm9sbEVuYWJsZWQ/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFNvbWV0aW1lcyBhIHNjcm9sbHZpZXcgdGFrZXMgdXAgbW9yZSBzcGFjZSB0aGFuIGl0cyBjb250ZW50IGZpbGxzLiBXaGVuIHRoaXMgaXNcbiAgICogdGhlIGNhc2UsIHRoaXMgcHJvcCB3aWxsIGZpbGwgdGhlIHJlc3Qgb2YgdGhlIHNjcm9sbHZpZXcgd2l0aCBhIGNvbG9yIHRvIGF2b2lkIHNldHRpbmdcbiAgICogYSBiYWNrZ3JvdW5kIGFuZCBjcmVhdGluZyB1bm5lY2Vzc2FyeSBvdmVyZHJhdy4gVGhpcyBpcyBhbiBhZHZhbmNlZCBvcHRpbWl6YXRpb25cbiAgICogdGhhdCBpcyBub3QgbmVlZGVkIGluIHRoZSBnZW5lcmFsIGNhc2UuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBlbmRGaWxsQ29sb3I/OiA/Q29sb3JWYWx1ZSxcbiAgLyoqXG4gICAqIFRhZyB1c2VkIHRvIGxvZyBzY3JvbGwgcGVyZm9ybWFuY2Ugb24gdGhpcyBzY3JvbGwgdmlldy4gV2lsbCBmb3JjZVxuICAgKiBtb21lbnR1bSBldmVudHMgdG8gYmUgdHVybmVkIG9uIChzZWUgc2VuZE1vbWVudHVtRXZlbnRzKS4gVGhpcyBkb2Vzbid0IGRvXG4gICAqIGFueXRoaW5nIG91dCBvZiB0aGUgYm94IGFuZCB5b3UgbmVlZCB0byBpbXBsZW1lbnQgYSBjdXN0b20gbmF0aXZlXG4gICAqIEZwc0xpc3RlbmVyIGZvciBpdCB0byBiZSB1c2VmdWwuXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBzY3JvbGxQZXJmVGFnPzogP3N0cmluZyxcbiAgLyoqXG4gICAqIFVzZWQgdG8gb3ZlcnJpZGUgZGVmYXVsdCB2YWx1ZSBvZiBvdmVyU2Nyb2xsIG1vZGUuXG4gICAqXG4gICAqIFBvc3NpYmxlIHZhbHVlczpcbiAgICpcbiAgICogIC0gYCdhdXRvJ2AgLSBEZWZhdWx0IHZhbHVlLCBhbGxvdyBhIHVzZXIgdG8gb3Zlci1zY3JvbGxcbiAgICogICAgdGhpcyB2aWV3IG9ubHkgaWYgdGhlIGNvbnRlbnQgaXMgbGFyZ2UgZW5vdWdoIHRvIG1lYW5pbmdmdWxseSBzY3JvbGwuXG4gICAqICAtIGAnYWx3YXlzJ2AgLSBBbHdheXMgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsIHRoaXMgdmlldy5cbiAgICogIC0gYCduZXZlcidgIC0gTmV2ZXIgYWxsb3cgYSB1c2VyIHRvIG92ZXItc2Nyb2xsIHRoaXMgdmlldy5cbiAgICpcbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIG92ZXJTY3JvbGxNb2RlPzogPygnYXV0bycgfCAnYWx3YXlzJyB8ICduZXZlcicpLFxuICAvKipcbiAgICogQ2F1c2VzIHRoZSBzY3JvbGxiYXJzIG5vdCB0byB0dXJuIHRyYW5zcGFyZW50IHdoZW4gdGhleSBhcmUgbm90IGluIHVzZS5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAqXG4gICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAqL1xuICBwZXJzaXN0ZW50U2Nyb2xsYmFyPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBGYWRlcyBvdXQgdGhlIGVkZ2VzIG9mIHRoZSBzY3JvbGwgY29udGVudC5cbiAgICpcbiAgICogSWYgdGhlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiAwLCB0aGUgZmFkaW5nIGVkZ2VzIHdpbGwgYmUgc2V0IGFjY29yZGluZ2x5XG4gICAqIHRvIHRoZSBjdXJyZW50IHNjcm9sbCBkaXJlY3Rpb24gYW5kIHBvc2l0aW9uLFxuICAgKiBpbmRpY2F0aW5nIGlmIHRoZXJlIGlzIG1vcmUgY29udGVudCB0byBzaG93LlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAwLlxuICAgKlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgZmFkaW5nRWRnZUxlbmd0aD86ID9udW1iZXIsXG58fT47XG5cbnR5cGUgU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSA9IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyUHJvcHMsXG4gICRSZWFkT25seTxpbnRlcmZhY2Uge3NldE5leHRIZWFkZXJZOiBudW1iZXIgPT4gdm9pZH0+LFxuPjtcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLi4uVmlld1Byb3BzLFxuICAuLi5JT1NQcm9wcyxcbiAgLi4uQW5kcm9pZFByb3BzLFxuXG4gIC8qKlxuICAgKiBUaGVzZSBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzY3JvbGwgdmlldyBjb250ZW50IGNvbnRhaW5lciB3aGljaFxuICAgKiB3cmFwcyBhbGwgb2YgdGhlIGNoaWxkIHZpZXdzLiBFeGFtcGxlOlxuICAgKlxuICAgKiBgYGBcbiAgICogcmV0dXJuIChcbiAgICogICA8U2Nyb2xsVmlldyBjb250ZW50Q29udGFpbmVyU3R5bGU9e3N0eWxlcy5jb250ZW50Q29udGFpbmVyfT5cbiAgICogICA8L1Njcm9sbFZpZXc+XG4gICAqICk7XG4gICAqIC4uLlxuICAgKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAqICAgY29udGVudENvbnRhaW5lcjoge1xuICAgKiAgICAgcGFkZGluZ1ZlcnRpY2FsOiAyMFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29udGVudENvbnRhaW5lclN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hbnVhbGx5IHNldCB0aGUgc3RhcnRpbmcgc2Nyb2xsIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYHt4OiAwLCB5OiAwfWAuXG4gICAqL1xuICBjb250ZW50T2Zmc2V0PzogP1BvaW50UHJvcCxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3IHN0b3BzIG9uIHRoZSBuZXh0IGluZGV4IChpbiByZWxhdGlvbiB0byBzY3JvbGxcbiAgICogcG9zaXRpb24gYXQgcmVsZWFzZSkgcmVnYXJkbGVzcyBvZiBob3cgZmFzdCB0aGUgZ2VzdHVyZSBpcy4gVGhpcyBjYW4gYmVcbiAgICogdXNlZCBmb3IgcGFnaW5hdGlvbiB3aGVuIHRoZSBwYWdlIGlzIGxlc3MgdGhhbiB0aGUgd2lkdGggb2YgdGhlXG4gICAqIGhvcml6b250YWwgU2Nyb2xsVmlldyBvciB0aGUgaGVpZ2h0IG9mIHRoZSB2ZXJ0aWNhbCBTY3JvbGxWaWV3LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVJbnRlcnZhbE1vbWVudHVtPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBBIGZsb2F0aW5nLXBvaW50IG51bWJlciB0aGF0IGRldGVybWluZXMgaG93IHF1aWNrbHkgdGhlIHNjcm9sbCB2aWV3XG4gICAqIGRlY2VsZXJhdGVzIGFmdGVyIHRoZSB1c2VyIGxpZnRzIHRoZWlyIGZpbmdlci4gWW91IG1heSBhbHNvIHVzZSBzdHJpbmdcbiAgICogc2hvcnRjdXRzIGBcIm5vcm1hbFwiYCBhbmQgYFwiZmFzdFwiYCB3aGljaCBtYXRjaCB0aGUgdW5kZXJseWluZyBpT1Mgc2V0dGluZ3NcbiAgICogZm9yIGBVSVNjcm9sbFZpZXdEZWNlbGVyYXRpb25SYXRlTm9ybWFsYCBhbmRcbiAgICogYFVJU2Nyb2xsVmlld0RlY2VsZXJhdGlvblJhdGVGYXN0YCByZXNwZWN0aXZlbHkuXG4gICAqXG4gICAqICAgLSBgJ25vcm1hbCdgOiAwLjk5OCBvbiBpT1MsIDAuOTg1IG9uIEFuZHJvaWQgKHRoZSBkZWZhdWx0KVxuICAgKiAgIC0gYCdmYXN0J2A6IDAuOTkgb24gaU9TLCAwLjkgb24gQW5kcm9pZFxuICAgKi9cbiAgZGVjZWxlcmF0aW9uUmF0ZT86ID9EZWNlbGVyYXRpb25SYXRlVHlwZSxcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhlIHNjcm9sbCB2aWV3J3MgY2hpbGRyZW4gYXJlIGFycmFuZ2VkIGhvcml6b250YWxseSBpbiBhIHJvd1xuICAgKiBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkgaW4gYSBjb2x1bW4uIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZhbHNlLlxuICAgKi9cbiAgaG9yaXpvbnRhbD86ID9ib29sZWFuLFxuICAvKipcbiAgICogSWYgc3RpY2t5IGhlYWRlcnMgc2hvdWxkIHN0aWNrIGF0IHRoZSBib3R0b20gaW5zdGVhZCBvZiB0aGUgdG9wIG9mIHRoZVxuICAgKiBTY3JvbGxWaWV3LiBUaGlzIGlzIHVzdWFsbHkgdXNlZCB3aXRoIGludmVydGVkIFNjcm9sbFZpZXdzLlxuICAgKi9cbiAgaW52ZXJ0U3RpY2t5SGVhZGVycz86ID9ib29sZWFuLFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBrZXlib2FyZCBnZXRzIGRpc21pc3NlZCBpbiByZXNwb25zZSB0byBhIGRyYWcuXG4gICAqXG4gICAqICpDcm9zcyBwbGF0Zm9ybSpcbiAgICpcbiAgICogICAtIGAnbm9uZSdgICh0aGUgZGVmYXVsdCksIGRyYWdzIGRvIG5vdCBkaXNtaXNzIHRoZSBrZXlib2FyZC5cbiAgICogICAtIGAnb24tZHJhZydgLCB0aGUga2V5Ym9hcmQgaXMgZGlzbWlzc2VkIHdoZW4gYSBkcmFnIGJlZ2lucy5cbiAgICpcbiAgICogKmlPUyBPbmx5KlxuICAgKlxuICAgKiAgIC0gYCdpbnRlcmFjdGl2ZSdgLCB0aGUga2V5Ym9hcmQgaXMgZGlzbWlzc2VkIGludGVyYWN0aXZlbHkgd2l0aCB0aGUgZHJhZyBhbmQgbW92ZXMgaW5cbiAgICogICAgIHN5bmNocm9ueSB3aXRoIHRoZSB0b3VjaDsgZHJhZ2dpbmcgdXB3YXJkcyBjYW5jZWxzIHRoZSBkaXNtaXNzYWwuXG4gICAqICAgICBPbiBhbmRyb2lkIHRoaXMgaXMgbm90IHN1cHBvcnRlZCBhbmQgaXQgd2lsbCBoYXZlIHRoZSBzYW1lIGJlaGF2aW9yIGFzICdub25lJy5cbiAgICovXG4gIGtleWJvYXJkRGlzbWlzc01vZGU/OiA/Ly8gZGVmYXVsdFxuICAvLyBjcm9zcy1wbGF0Zm9ybVxuICAoJ25vbmUnIHwgJ29uLWRyYWcnIHwgJ2ludGVyYWN0aXZlJyksIC8vIGlvcyBvbmx5XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZW4gdGhlIGtleWJvYXJkIHNob3VsZCBzdGF5IHZpc2libGUgYWZ0ZXIgYSB0YXAuXG4gICAqXG4gICAqICAgLSBgJ25ldmVyJ2AgKHRoZSBkZWZhdWx0KSwgdGFwcGluZyBvdXRzaWRlIG9mIHRoZSBmb2N1c2VkIHRleHQgaW5wdXQgd2hlbiB0aGUga2V5Ym9hcmRcbiAgICogICAgIGlzIHVwIGRpc21pc3NlcyB0aGUga2V5Ym9hcmQuIFdoZW4gdGhpcyBoYXBwZW5zLCBjaGlsZHJlbiB3b24ndCByZWNlaXZlIHRoZSB0YXAuXG4gICAqICAgLSBgJ2Fsd2F5cydgLCB0aGUga2V5Ym9hcmQgd2lsbCBub3QgZGlzbWlzcyBhdXRvbWF0aWNhbGx5LCBhbmQgdGhlIHNjcm9sbCB2aWV3IHdpbGwgbm90XG4gICAqICAgICBjYXRjaCB0YXBzLCBidXQgY2hpbGRyZW4gb2YgdGhlIHNjcm9sbCB2aWV3IGNhbiBjYXRjaCB0YXBzLlxuICAgKiAgIC0gYCdoYW5kbGVkJ2AsIHRoZSBrZXlib2FyZCB3aWxsIG5vdCBkaXNtaXNzIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgdGFwIHdhcyBoYW5kbGVkIGJ5XG4gICAqICAgICBhIGNoaWxkcmVuLCAob3IgY2FwdHVyZWQgYnkgYW4gYW5jZXN0b3IpLlxuICAgKiAgIC0gYGZhbHNlYCwgZGVwcmVjYXRlZCwgdXNlICduZXZlcicgaW5zdGVhZFxuICAgKiAgIC0gYHRydWVgLCBkZXByZWNhdGVkLCB1c2UgJ2Fsd2F5cycgaW5zdGVhZFxuICAgKi9cbiAga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz86ID8oJ2Fsd2F5cycgfCAnbmV2ZXInIHwgJ2hhbmRsZWQnIHwgdHJ1ZSB8IGZhbHNlKSxcbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBtb21lbnR1bSBzY3JvbGwgc3RhcnRzIChzY3JvbGwgd2hpY2ggb2NjdXJzIGFzIHRoZSBTY3JvbGxWaWV3IGdsaWRlcyB0byBhIHN0b3ApLlxuICAgKi9cbiAgb25Nb21lbnR1bVNjcm9sbEJlZ2luPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgbW9tZW50dW0gc2Nyb2xsIGVuZHMgKHNjcm9sbCB3aGljaCBvY2N1cnMgYXMgdGhlIFNjcm9sbFZpZXcgZ2xpZGVzIHRvIGEgc3RvcCkuXG4gICAqL1xuICBvbk1vbWVudHVtU2Nyb2xsRW5kPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG5cbiAgLyoqXG4gICAqIEZpcmVzIGF0IG1vc3Qgb25jZSBwZXIgZnJhbWUgZHVyaW5nIHNjcm9sbGluZy4gVGhlIGZyZXF1ZW5jeSBvZiB0aGVcbiAgICogZXZlbnRzIGNhbiBiZSBjb250cm9sbGVkIHVzaW5nIHRoZSBgc2Nyb2xsRXZlbnRUaHJvdHRsZWAgcHJvcC5cbiAgICovXG4gIG9uU2Nyb2xsPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdXNlciBiZWdpbnMgdG8gZHJhZyB0aGUgc2Nyb2xsIHZpZXcuXG4gICAqL1xuICBvblNjcm9sbEJlZ2luRHJhZz86ID8oZXZlbnQ6IFNjcm9sbEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHVzZXIgc3RvcHMgZHJhZ2dpbmcgdGhlIHNjcm9sbCB2aWV3IGFuZCBpdCBlaXRoZXIgc3RvcHNcbiAgICogb3IgYmVnaW5zIHRvIGdsaWRlLlxuICAgKi9cbiAgb25TY3JvbGxFbmREcmFnPzogPyhldmVudDogU2Nyb2xsRXZlbnQpID0+IHZvaWQsXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBzY3JvbGxhYmxlIGNvbnRlbnQgdmlldyBvZiB0aGUgU2Nyb2xsVmlldyBjaGFuZ2VzLlxuICAgKlxuICAgKiBIYW5kbGVyIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgY29udGVudCB3aWR0aCBhbmQgY29udGVudCBoZWlnaHQgYXMgcGFyYW1ldGVyczpcbiAgICogYChjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpYFxuICAgKlxuICAgKiBJdCdzIGltcGxlbWVudGVkIHVzaW5nIG9uTGF5b3V0IGhhbmRsZXIgYXR0YWNoZWQgdG8gdGhlIGNvbnRlbnQgY29udGFpbmVyXG4gICAqIHdoaWNoIHRoaXMgU2Nyb2xsVmlldyByZW5kZXJzLlxuICAgKi9cbiAgb25Db250ZW50U2l6ZUNoYW5nZT86IChjb250ZW50V2lkdGg6IG51bWJlciwgY29udGVudEhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICBvbktleWJvYXJkRGlkU2hvdz86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZERpZEhpZGU/OiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQsXG4gIG9uS2V5Ym9hcmRXaWxsU2hvdz86IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCxcbiAgb25LZXlib2FyZFdpbGxIaWRlPzogKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkLFxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGUgc2Nyb2xsIHZpZXcgc3RvcHMgb24gbXVsdGlwbGVzIG9mIHRoZSBzY3JvbGwgdmlldydzIHNpemVcbiAgICogd2hlbiBzY3JvbGxpbmcuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIGhvcml6b250YWwgcGFnaW5hdGlvbi4gVGhlIGRlZmF1bHRcbiAgICogdmFsdWUgaXMgZmFsc2UuXG4gICAqXG4gICAqIE5vdGU6IFZlcnRpY2FsIHBhZ2luYXRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiBBbmRyb2lkLlxuICAgKi9cbiAgcGFnaW5nRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogV2hlbiBmYWxzZSwgdGhlIHZpZXcgY2Fubm90IGJlIHNjcm9sbGVkIHZpYSB0b3VjaCBpbnRlcmFjdGlvbi5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSB2aWV3IGNhbiBhbHdheXMgYmUgc2Nyb2xsZWQgYnkgY2FsbGluZyBgc2Nyb2xsVG9gLlxuICAgKi9cbiAgc2Nyb2xsRW5hYmxlZD86ID9ib29sZWFuLFxuICAvKipcbiAgICogVGhpcyBjb250cm9scyBob3cgb2Z0ZW4gdGhlIHNjcm9sbCBldmVudCB3aWxsIGJlIGZpcmVkIHdoaWxlIHNjcm9sbGluZ1xuICAgKiAoYXMgYSB0aW1lIGludGVydmFsIGluIG1zKS4gQSBsb3dlciBudW1iZXIgeWllbGRzIGJldHRlciBhY2N1cmFjeSBmb3IgY29kZVxuICAgKiB0aGF0IGlzIHRyYWNraW5nIHRoZSBzY3JvbGwgcG9zaXRpb24sIGJ1dCBjYW4gbGVhZCB0byBzY3JvbGwgcGVyZm9ybWFuY2VcbiAgICogcHJvYmxlbXMgZHVlIHRvIHRoZSB2b2x1bWUgb2YgaW5mb3JtYXRpb24gYmVpbmcgc2VuZCBvdmVyIHRoZSBicmlkZ2UuXG4gICAqXG4gICAqIFZhbHVlcyBiZXR3ZWVuIDAgYW5kIDE3bXMgaW5kaWNhdGUgNjBmcHMgdXBkYXRlcyBhcmUgbmVlZGVkIGFuZCB0aHJvdHRsaW5nXG4gICAqIHdpbGwgYmUgZGlzYWJsZWQuXG4gICAqXG4gICAqIElmIHlvdSBkbyBub3QgbmVlZCBwcmVjaXNlIHNjcm9sbCBwb3NpdGlvbiB0cmFja2luZywgc2V0IHRoaXMgdmFsdWUgaGlnaGVyXG4gICAqIHRvIGxpbWl0IHRoZSBpbmZvcm1hdGlvbiBiZWluZyBzZW50IGFjcm9zcyB0aGUgYnJpZGdlLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB6ZXJvLCB3aGljaCByZXN1bHRzIGluIHRoZSBzY3JvbGwgZXZlbnQgYmVpbmcgc2VudCBvbmx5XG4gICAqIG9uY2UgZWFjaCB0aW1lIHRoZSB2aWV3IGlzIHNjcm9sbGVkLlxuICAgKi9cbiAgc2Nyb2xsRXZlbnRUaHJvdHRsZT86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHNob3dzIGEgdmVydGljYWwgc2Nyb2xsIGluZGljYXRvci5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNob3dzVmVydGljYWxTY3JvbGxJbmRpY2F0b3I/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgU3RpY2t5IGhlYWRlciBpcyBoaWRkZW4gd2hlbiBzY3JvbGxpbmcgZG93biwgYW5kIGRvY2sgYXQgdGhlIHRvcFxuICAgKiB3aGVuIHNjcm9sbGluZyB1cFxuICAgKi9cbiAgc3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGw/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGNoaWxkIGluZGljZXMgZGV0ZXJtaW5pbmcgd2hpY2ggY2hpbGRyZW4gZ2V0IGRvY2tlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JlZW4gd2hlbiBzY3JvbGxpbmcuIEZvciBleGFtcGxlLCBwYXNzaW5nXG4gICAqIGBzdGlja3lIZWFkZXJJbmRpY2VzPXtbMF19YCB3aWxsIGNhdXNlIHRoZSBmaXJzdCBjaGlsZCB0byBiZSBmaXhlZCB0byB0aGVcbiAgICogdG9wIG9mIHRoZSBzY3JvbGwgdmlldy4gVGhpcyBwcm9wZXJ0eSBpcyBub3Qgc3VwcG9ydGVkIGluIGNvbmp1bmN0aW9uXG4gICAqIHdpdGggYGhvcml6b250YWw9e3RydWV9YC5cbiAgICovXG4gIHN0aWNreUhlYWRlckluZGljZXM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIEEgUmVhY3QgQ29tcG9uZW50IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciBzdGlja3kgaGVhZGVycy5cbiAgICogVG8gYmUgdXNlZCB0b2dldGhlciB3aXRoIGBzdGlja3lIZWFkZXJJbmRpY2VzYCBvciB3aXRoIGBTZWN0aW9uTGlzdGAsIGRlZmF1bHRzIHRvIGBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyYC5cbiAgICogWW91IG1heSBuZWVkIHRvIHNldCB0aGlzIGlmIHlvdXIgc3RpY2t5IGhlYWRlciB1c2VzIGN1c3RvbSB0cmFuc2Zvcm1zIChlZy4gdHJhbnNsYXRpb24pLFxuICAgKiBmb3IgZXhhbXBsZSB3aGVuIHlvdSB3YW50IHlvdXIgbGlzdCB0byBoYXZlIGFuIGFuaW1hdGVkIGhpZGFibGUgaGVhZGVyLlxuICAgKi9cbiAgU3RpY2t5SGVhZGVyQ29tcG9uZW50PzogU3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZSxcbiAgLyoqXG4gICAqIFdoZW4gYHNuYXBUb0ludGVydmFsYCBpcyBzZXQsIGBzbmFwVG9BbGlnbm1lbnRgIHdpbGwgZGVmaW5lIHRoZSByZWxhdGlvbnNoaXBcbiAgICogb2YgdGhlIHNuYXBwaW5nIHRvIHRoZSBzY3JvbGwgdmlldy5cbiAgICpcbiAgICogICAtIGAnc3RhcnQnYCAodGhlIGRlZmF1bHQpIHdpbGwgYWxpZ24gdGhlIHNuYXAgYXQgdGhlIGxlZnQgKGhvcml6b250YWwpIG9yIHRvcCAodmVydGljYWwpXG4gICAqICAgLSBgJ2NlbnRlcidgIHdpbGwgYWxpZ24gdGhlIHNuYXAgaW4gdGhlIGNlbnRlclxuICAgKiAgIC0gYCdlbmQnYCB3aWxsIGFsaWduIHRoZSBzbmFwIGF0IHRoZSByaWdodCAoaG9yaXpvbnRhbCkgb3IgYm90dG9tICh2ZXJ0aWNhbClcbiAgICovXG4gIHNuYXBUb0FsaWdubWVudD86ID8oJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCcpLFxuICAvKipcbiAgICogV2hlbiBzZXQsIGNhdXNlcyB0aGUgc2Nyb2xsIHZpZXcgdG8gc3RvcCBhdCBtdWx0aXBsZXMgb2YgdGhlIHZhbHVlIG9mXG4gICAqIGBzbmFwVG9JbnRlcnZhbGAuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIHBhZ2luYXRpbmcgdGhyb3VnaCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBzbmFwVG9BbGlnbm1lbnRgIGFuZCBgZGVjZWxlcmF0aW9uUmF0ZT1cImZhc3RcImAuXG4gICAqXG4gICAqIE92ZXJyaWRlcyBsZXNzIGNvbmZpZ3VyYWJsZSBgcGFnaW5nRW5hYmxlZGAgcHJvcC5cbiAgICovXG4gIHNuYXBUb0ludGVydmFsPzogP251bWJlcixcbiAgLyoqXG4gICAqIFdoZW4gc2V0LCBjYXVzZXMgdGhlIHNjcm9sbCB2aWV3IHRvIHN0b3AgYXQgdGhlIGRlZmluZWQgb2Zmc2V0cy5cbiAgICogVGhpcyBjYW4gYmUgdXNlZCBmb3IgcGFnaW5hdGluZyB0aHJvdWdoIHZhcmlvdXNseSBzaXplZCBjaGlsZHJlblxuICAgKiB0aGF0IGhhdmUgbGVuZ3RocyBzbWFsbGVyIHRoYW4gdGhlIHNjcm9sbCB2aWV3LiBUeXBpY2FsbHkgdXNlZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoIGBkZWNlbGVyYXRpb25SYXRlPVwiZmFzdFwiYC5cbiAgICpcbiAgICogT3ZlcnJpZGVzIGxlc3MgY29uZmlndXJhYmxlIGBwYWdpbmdFbmFibGVkYCBhbmQgYHNuYXBUb0ludGVydmFsYCBwcm9wcy5cbiAgICovXG4gIHNuYXBUb09mZnNldHM/OiA/JFJlYWRPbmx5QXJyYXk8bnVtYmVyPixcbiAgLyoqXG4gICAqIFVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIGBzbmFwVG9PZmZzZXRzYC4gQnkgZGVmYXVsdCwgdGhlIGJlZ2lubmluZ1xuICAgKiBvZiB0aGUgbGlzdCBjb3VudHMgYXMgYSBzbmFwIG9mZnNldC4gU2V0IGBzbmFwVG9TdGFydGAgdG8gZmFsc2UgdG8gZGlzYWJsZVxuICAgKiB0aGlzIGJlaGF2aW9yIGFuZCBhbGxvdyB0aGUgbGlzdCB0byBzY3JvbGwgZnJlZWx5IGJldHdlZW4gaXRzIHN0YXJ0IGFuZFxuICAgKiB0aGUgZmlyc3QgYHNuYXBUb09mZnNldHNgIG9mZnNldC5cbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZS5cbiAgICovXG4gIHNuYXBUb1N0YXJ0PzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBVc2UgaW4gY29uanVuY3Rpb24gd2l0aCBgc25hcFRvT2Zmc2V0c2AuIEJ5IGRlZmF1bHQsIHRoZSBlbmRcbiAgICogb2YgdGhlIGxpc3QgY291bnRzIGFzIGEgc25hcCBvZmZzZXQuIFNldCBgc25hcFRvRW5kYCB0byBmYWxzZSB0byBkaXNhYmxlXG4gICAqIHRoaXMgYmVoYXZpb3IgYW5kIGFsbG93IHRoZSBsaXN0IHRvIHNjcm9sbCBmcmVlbHkgYmV0d2VlbiBpdHMgZW5kIGFuZFxuICAgKiB0aGUgbGFzdCBgc25hcFRvT2Zmc2V0c2Agb2Zmc2V0LlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgc25hcFRvRW5kPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBFeHBlcmltZW50YWw6IFdoZW4gdHJ1ZSwgb2Zmc2NyZWVuIGNoaWxkIHZpZXdzICh3aG9zZSBgb3ZlcmZsb3dgIHZhbHVlIGlzXG4gICAqIGBoaWRkZW5gKSBhcmUgcmVtb3ZlZCBmcm9tIHRoZWlyIG5hdGl2ZSBiYWNraW5nIHN1cGVydmlldyB3aGVuIG9mZnNjcmVlbi5cbiAgICogVGhpcyBjYW4gaW1wcm92ZSBzY3JvbGxpbmcgcGVyZm9ybWFuY2Ugb24gbG9uZyBsaXN0cy4gVGhlIGRlZmF1bHQgdmFsdWUgaXNcbiAgICogdHJ1ZS5cbiAgICovXG4gIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz86ID9ib29sZWFuLFxuICAvKipcbiAgICogQSBSZWZyZXNoQ29udHJvbCBjb21wb25lbnQsIHVzZWQgdG8gcHJvdmlkZSBwdWxsLXRvLXJlZnJlc2hcbiAgICogZnVuY3Rpb25hbGl0eSBmb3IgdGhlIFNjcm9sbFZpZXcuIE9ubHkgd29ya3MgZm9yIHZlcnRpY2FsIFNjcm9sbFZpZXdzXG4gICAqIChgaG9yaXpvbnRhbGAgcHJvcCBtdXN0IGJlIGBmYWxzZWApLlxuICAgKlxuICAgKiBTZWUgW1JlZnJlc2hDb250cm9sXShkb2NzL3JlZnJlc2hjb250cm9sLmh0bWwpLlxuICAgKi9cbiAgLyogJEZsb3dGaXhNZVt1bmNsZWFyLXR5cGVdIC0gaG93IHRvIGhhbmRsZSBnZW5lcmljIHR5cGUgd2l0aG91dCBleGlzdGVudGlhbFxuICAgKiBvcGVyYXRvcj8gKi9cbiAgcmVmcmVzaENvbnRyb2w/OiA/UmVhY3QuRWxlbWVudDxhbnk+LFxuICBjaGlsZHJlbj86IFJlYWN0Lk5vZGUsXG4gIC8qKlxuICAgKiBBIHJlZiB0byB0aGUgaW5uZXIgVmlldyBlbGVtZW50IG9mIHRoZSBTY3JvbGxWaWV3LiBUaGlzIHNob3VsZCBiZSB1c2VkXG4gICAqIGluc3RlYWQgb2YgY2FsbGluZyBgZ2V0SW5uZXJWaWV3UmVmYC5cbiAgICovXG4gIGlubmVyVmlld1JlZj86IEZvcndhcmRlZFJlZjxJbm5lclZpZXdJbnN0YW5jZT4sXG4gIC8qKlxuICAgKiBBIHJlZiB0byB0aGUgTmF0aXZlIFNjcm9sbFZpZXcgY29tcG9uZW50LiBUaGlzIHJlZiBjYW4gYmUgdXNlZCB0byBjYWxsXG4gICAqIGFsbCBvZiBTY3JvbGxWaWV3J3MgcHVibGljIG1ldGhvZHMsIGluIGFkZGl0aW9uIHRvIG5hdGl2ZSBtZXRob2RzIGxpa2VcbiAgICogbWVhc3VyZSwgbWVhc3VyZUxheW91dCwgZXRjLlxuICAgKi9cbiAgc2Nyb2xsVmlld1JlZj86IEZvcndhcmRlZFJlZjxQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2U+LFxufH0+O1xuXG50eXBlIFN0YXRlID0ge3xcbiAgbGF5b3V0SGVpZ2h0OiA/bnVtYmVyLFxufH07XG5cbmNvbnN0IElTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMgPSAxNjtcblxuZXhwb3J0IHR5cGUgU2Nyb2xsVmlld0NvbXBvbmVudFN0YXRpY3MgPSAkUmVhZE9ubHk8e3xcbiAgQ29udGV4dDogdHlwZW9mIFNjcm9sbFZpZXdDb250ZXh0LFxufH0+O1xuXG4vKipcbiAqIENvbXBvbmVudCB0aGF0IHdyYXBzIHBsYXRmb3JtIFNjcm9sbFZpZXcgd2hpbGUgcHJvdmlkaW5nXG4gKiBpbnRlZ3JhdGlvbiB3aXRoIHRvdWNoIGxvY2tpbmcgXCJyZXNwb25kZXJcIiBzeXN0ZW0uXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgU2Nyb2xsVmlld3MgbXVzdCBoYXZlIGEgYm91bmRlZCBoZWlnaHQgaW4gb3JkZXIgdG8gd29yayxcbiAqIHNpbmNlIHRoZXkgY29udGFpbiB1bmJvdW5kZWQtaGVpZ2h0IGNoaWxkcmVuIGludG8gYSBib3VuZGVkIGNvbnRhaW5lciAodmlhXG4gKiBhIHNjcm9sbCBpbnRlcmFjdGlvbikuIEluIG9yZGVyIHRvIGJvdW5kIHRoZSBoZWlnaHQgb2YgYSBTY3JvbGxWaWV3LCBlaXRoZXJcbiAqIHNldCB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3IGRpcmVjdGx5IChkaXNjb3VyYWdlZCkgb3IgbWFrZSBzdXJlIGFsbCBwYXJlbnRcbiAqIHZpZXdzIGhhdmUgYm91bmRlZCBoZWlnaHQuIEZvcmdldHRpbmcgdG8gdHJhbnNmZXIgYHtmbGV4OiAxfWAgZG93biB0aGVcbiAqIHZpZXcgc3RhY2sgY2FuIGxlYWQgdG8gZXJyb3JzIGhlcmUsIHdoaWNoIHRoZSBlbGVtZW50IGluc3BlY3RvciBtYWtlc1xuICogZWFzeSB0byBkZWJ1Zy5cbiAqXG4gKiBEb2Vzbid0IHlldCBzdXBwb3J0IG90aGVyIGNvbnRhaW5lZCByZXNwb25kZXJzIGZyb20gYmxvY2tpbmcgdGhpcyBzY3JvbGxcbiAqIHZpZXcgZnJvbSBiZWNvbWluZyB0aGUgcmVzcG9uZGVyLlxuICpcbiAqXG4gKiBgPFNjcm9sbFZpZXc+YCB2cyBbYDxGbGF0TGlzdD5gXShodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ZsYXRsaXN0KSAtIHdoaWNoIG9uZSB0byB1c2U/XG4gKlxuICogYFNjcm9sbFZpZXdgIHNpbXBseSByZW5kZXJzIGFsbCBpdHMgcmVhY3QgY2hpbGQgY29tcG9uZW50cyBhdCBvbmNlLiBUaGF0XG4gKiBtYWtlcyBpdCB2ZXJ5IGVhc3kgdG8gdW5kZXJzdGFuZCBhbmQgdXNlLlxuICpcbiAqIE9uIHRoZSBvdGhlciBoYW5kLCB0aGlzIGhhcyBhIHBlcmZvcm1hbmNlIGRvd25zaWRlLiBJbWFnaW5lIHlvdSBoYXZlIGEgdmVyeVxuICogbG9uZyBsaXN0IG9mIGl0ZW1zIHlvdSB3YW50IHRvIGRpc3BsYXksIG1heWJlIHNldmVyYWwgc2NyZWVucyB3b3J0aCBvZlxuICogY29udGVudC4gQ3JlYXRpbmcgSlMgY29tcG9uZW50cyBhbmQgbmF0aXZlIHZpZXdzIGZvciBldmVyeXRoaW5nIGFsbCBhdCBvbmNlLFxuICogbXVjaCBvZiB3aGljaCBtYXkgbm90IGV2ZW4gYmUgc2hvd24sIHdpbGwgY29udHJpYnV0ZSB0byBzbG93IHJlbmRlcmluZyBhbmRcbiAqIGluY3JlYXNlZCBtZW1vcnkgdXNhZ2UuXG4gKlxuICogVGhpcyBpcyB3aGVyZSBgRmxhdExpc3RgIGNvbWVzIGludG8gcGxheS4gYEZsYXRMaXN0YCByZW5kZXJzIGl0ZW1zIGxhemlseSxcbiAqIGp1c3Qgd2hlbiB0aGV5IGFyZSBhYm91dCB0byBhcHBlYXIsIGFuZCByZW1vdmVzIGl0ZW1zIHRoYXQgc2Nyb2xsIHdheSBvZmZcbiAqIHNjcmVlbiB0byBzYXZlIG1lbW9yeSBhbmQgcHJvY2Vzc2luZyB0aW1lLlxuICpcbiAqIGBGbGF0TGlzdGAgaXMgYWxzbyBoYW5keSBpZiB5b3Ugd2FudCB0byByZW5kZXIgc2VwYXJhdG9ycyBiZXR3ZWVuIHlvdXIgaXRlbXMsXG4gKiBtdWx0aXBsZSBjb2x1bW5zLCBpbmZpbml0ZSBzY3JvbGwgbG9hZGluZywgb3IgYW55IG51bWJlciBvZiBvdGhlciBmZWF0dXJlcyBpdFxuICogc3VwcG9ydHMgb3V0IG9mIHRoZSBib3guXG4gKi9cbmNsYXNzIFNjcm9sbFZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRpYyBDb250ZXh0OiB0eXBlb2YgU2Nyb2xsVmlld0NvbnRleHQgPSBTY3JvbGxWaWV3Q29udGV4dDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlID0gbmV3IEFuaW1hdGVkSW1wbGVtZW50YXRpb24uVmFsdWUoXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRPZmZzZXQ/LnkgPz8gMCxcbiAgICApO1xuICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KHRoaXMucHJvcHMuY29udGVudEluc2V0Py50b3AgPz8gMCk7XG4gIH1cblxuICBfc2Nyb2xsQW5pbWF0ZWRWYWx1ZTogQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5WYWx1ZTtcbiAgX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50OiA/e2RldGFjaDogKCkgPT4gdm9pZCwgLi4ufSA9IG51bGw7XG4gIF9zdGlja3lIZWFkZXJSZWZzOiBNYXA8c3RyaW5nLCBSZWFjdC5FbGVtZW50UmVmPFN0aWNreUhlYWRlckNvbXBvbmVudFR5cGU+PiA9XG4gICAgbmV3IE1hcCgpO1xuICBfaGVhZGVyTGF5b3V0WXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XG5cbiAgX2tleWJvYXJkTWV0cmljczogP0tleWJvYXJkTWV0cmljcyA9IG51bGw7XG4gIF9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfaXNUb3VjaGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBfbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lOiBudW1iZXIgPSAwO1xuICBfbGFzdE1vbWVudHVtU2Nyb2xsRW5kVGltZTogbnVtYmVyID0gMDtcblxuICAvLyBSZXNldCB0byBmYWxzZSBldmVyeSB0aW1lIGJlY29tZXMgcmVzcG9uZGVyLiBUaGlzIGlzIHVzZWQgdG86XG4gIC8vIC0gRGV0ZXJtaW5lIGlmIHRoZSBzY3JvbGwgdmlldyBoYXMgYmVlbiBzY3JvbGxlZCBhbmQgdGhlcmVmb3JlIHNob3VsZFxuICAvLyByZWZ1c2UgdG8gZ2l2ZSB1cCBpdHMgcmVzcG9uZGVyIGxvY2suXG4gIC8vIC0gRGV0ZXJtaW5lIGlmIHJlbGVhc2luZyBzaG91bGQgZGlzbWlzcyB0aGUga2V5Ym9hcmQgd2hlbiB3ZSBhcmUgaW5cbiAgLy8gdGFwLXRvLWRpc21pc3MgbW9kZSAodGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSAnYWx3YXlzJykuXG4gIF9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX2JlY2FtZVJlc3BvbmRlcldoaWxlQW5pbWF0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gIF9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQ6ID9ib29sZWFuID0gbnVsbDtcblxuICBfYW5pbWF0ZWQ6ID9ib29sZWFuID0gbnVsbDtcblxuICBfc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdzogP0V2ZW50U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGU6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZERpZFNob3c6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gIF9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGU6ID9FdmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG5cbiAgc3RhdGU6IFN0YXRlID0ge1xuICAgIGxheW91dEhlaWdodDogbnVsbCxcbiAgfTtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGAna2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcz17JHtcbiAgICAgICAgICB0aGlzLnByb3BzLmtleWJvYXJkU2hvdWxkUGVyc2lzdFRhcHMgPT09IHRydWUgPyAndHJ1ZScgOiAnZmFsc2UnXG4gICAgICAgIH19JyBpcyBkZXByZWNhdGVkLiBgICtcbiAgICAgICAgICBgVXNlICdrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzPVwiJHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyA/ICdhbHdheXMnIDogJ25ldmVyJ1xuICAgICAgICAgIH1cIicgaW5zdGVhZGAsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IEtleWJvYXJkLm1ldHJpY3MoKTtcbiAgICB0aGlzLl9hZGRpdGlvbmFsU2Nyb2xsT2Zmc2V0ID0gMDtcblxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbFNob3cgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZFdpbGxTaG93JyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsU2hvdyxcbiAgICApO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkV2lsbEhpZGUgPSBLZXlib2FyZC5hZGRMaXN0ZW5lcihcbiAgICAgICdrZXlib2FyZFdpbGxIaWRlJyxcbiAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsSGlkZSxcbiAgICApO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdyA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkRGlkU2hvdycsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkU2hvdyxcbiAgICApO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZSA9IEtleWJvYXJkLmFkZExpc3RlbmVyKFxuICAgICAgJ2tleWJvYXJkRGlkSGlkZScsXG4gICAgICB0aGlzLnNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZSxcbiAgICApO1xuXG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0ZWROb2RlQXR0YWNobWVudCgpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCBwcmV2Q29udGVudEluc2V0VG9wID0gcHJldlByb3BzLmNvbnRlbnRJbnNldFxuICAgICAgPyBwcmV2UHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGNvbnN0IG5ld0NvbnRlbnRJbnNldFRvcCA9IHRoaXMucHJvcHMuY29udGVudEluc2V0XG4gICAgICA/IHRoaXMucHJvcHMuY29udGVudEluc2V0LnRvcFxuICAgICAgOiAwO1xuICAgIGlmIChwcmV2Q29udGVudEluc2V0VG9wICE9PSBuZXdDb250ZW50SW5zZXRUb3ApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWUuc2V0T2Zmc2V0KG5ld0NvbnRlbnRJbnNldFRvcCB8fCAwKTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsU2hvdyAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxTaG93LnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmRXaWxsSGlkZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZFdpbGxIaWRlLnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc3Vic2NyaXB0aW9uS2V5Ym9hcmREaWRTaG93ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkU2hvdy5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3N1YnNjcmlwdGlvbktleWJvYXJkRGlkSGlkZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpcHRpb25LZXlib2FyZERpZEhpZGUucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50KSB7XG4gICAgICB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudC5kZXRhY2goKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLCB3aGljaCBzdXBwb3J0c1xuICAgKiBvcGVyYXRpb25zIGxpa2UgYHNjcm9sbFRvYC4gQWxsIFNjcm9sbFZpZXctbGlrZSBjb21wb25lbnRzIHNob3VsZFxuICAgKiBpbXBsZW1lbnQgdGhpcyBtZXRob2Qgc28gdGhhdCB0aGV5IGNhbiBiZSBjb21wb3NlZCB3aGlsZSBwcm92aWRpbmcgYWNjZXNzXG4gICAqIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIncyBtZXRob2RzLlxuICAgKi9cbiAgZ2V0U2Nyb2xsUmVzcG9uZGVyOiAoKSA9PiBTY3JvbGxSZXNwb25kZXJUeXBlID0gKCkgPT4ge1xuICAgIC8vICRGbG93Rml4TWVbdW5jbGVhci10eXBlXVxuICAgIHJldHVybiAoKHRoaXM6IGFueSk6IFNjcm9sbFJlc3BvbmRlclR5cGUpO1xuICB9O1xuXG4gIGdldFNjcm9sbGFibGVOb2RlOiAoKSA9PiA/bnVtYmVyID0gKCkgPT4ge1xuICAgIHJldHVybiBmaW5kTm9kZUhhbmRsZSh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlKTtcbiAgfTtcblxuICBnZXRJbm5lclZpZXdOb2RlOiAoKSA9PiA/bnVtYmVyID0gKCkgPT4ge1xuICAgIHJldHVybiBmaW5kTm9kZUhhbmRsZSh0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2UpO1xuICB9O1xuXG4gIGdldElubmVyVmlld1JlZjogKCkgPT4gSW5uZXJWaWV3SW5zdGFuY2UgfCBudWxsID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2U7XG4gIH07XG5cbiAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiAoKSA9PiBOYXRpdmVTY3JvbGxWaWV3SW5zdGFuY2UgfCBudWxsID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRvIGEgZ2l2ZW4geCwgeSBvZmZzZXQsIGVpdGhlciBpbW1lZGlhdGVseSBvciB3aXRoIGEgc21vb3RoIGFuaW1hdGlvbi5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICpcbiAgICogYHNjcm9sbFRvKHt4OiAwLCB5OiAwLCBhbmltYXRlZDogdHJ1ZX0pYFxuICAgKlxuICAgKiBOb3RlOiBUaGUgd2VpcmQgZnVuY3Rpb24gc2lnbmF0dXJlIGlzIGR1ZSB0byB0aGUgZmFjdCB0aGF0LCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLFxuICAgKiB0aGUgZnVuY3Rpb24gYWxzbyBhY2NlcHRzIHNlcGFyYXRlIGFyZ3VtZW50cyBhcyBhbiBhbHRlcm5hdGl2ZSB0byB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIFRoaXMgaXMgZGVwcmVjYXRlZCBkdWUgdG8gYW1iaWd1aXR5ICh5IGJlZm9yZSB4KSwgYW5kIFNIT1VMRCBOT1QgQkUgVVNFRC5cbiAgICovXG4gIHNjcm9sbFRvOiAoXG4gICAgb3B0aW9ucz86XG4gICAgICB8IHtcbiAgICAgICAgICB4PzogbnVtYmVyLFxuICAgICAgICAgIHk/OiBudW1iZXIsXG4gICAgICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgICAgICAgIC4uLlxuICAgICAgICB9XG4gICAgICB8IG51bWJlcixcbiAgICBkZXByZWNhdGVkWD86IG51bWJlcixcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQ/OiBib29sZWFuLFxuICApID0+IHZvaWQgPSAoXG4gICAgb3B0aW9ucz86XG4gICAgICB8IHtcbiAgICAgICAgICB4PzogbnVtYmVyLFxuICAgICAgICAgIHk/OiBudW1iZXIsXG4gICAgICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgICAgICAgIC4uLlxuICAgICAgICB9XG4gICAgICB8IG51bWJlcixcbiAgICBkZXByZWNhdGVkWD86IG51bWJlcixcbiAgICBkZXByZWNhdGVkQW5pbWF0ZWQ/OiBib29sZWFuLFxuICApID0+IHtcbiAgICBsZXQgeCwgeSwgYW5pbWF0ZWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnYHNjcm9sbFRvKHksIHgsIGFuaW1hdGVkKWAgaXMgZGVwcmVjYXRlZC4gVXNlIGBzY3JvbGxUbyh7eDogNSwgeTogNSwgJyArXG4gICAgICAgICAgJ2FuaW1hdGVkOiB0cnVlfSlgIGluc3RlYWQuJyxcbiAgICAgICk7XG4gICAgICB5ID0gb3B0aW9ucztcbiAgICAgIHggPSBkZXByZWNhdGVkWDtcbiAgICAgIGFuaW1hdGVkID0gZGVwcmVjYXRlZEFuaW1hdGVkO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucykge1xuICAgICAgeSA9IG9wdGlvbnMueTtcbiAgICAgIHggPSBvcHRpb25zLng7XG4gICAgICBhbmltYXRlZCA9IG9wdGlvbnMuYW5pbWF0ZWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuc2Nyb2xsVG8oXG4gICAgICB0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlLFxuICAgICAgeCB8fCAwLFxuICAgICAgeSB8fCAwLFxuICAgICAgYW5pbWF0ZWQgIT09IGZhbHNlLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgaXMgYSB2ZXJ0aWNhbCBTY3JvbGxWaWV3IHNjcm9sbHMgdG8gdGhlIGJvdHRvbS5cbiAgICogSWYgdGhpcyBpcyBhIGhvcml6b250YWwgU2Nyb2xsVmlldyBzY3JvbGxzIHRvIHRoZSByaWdodC5cbiAgICpcbiAgICogVXNlIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IHRydWV9KWAgZm9yIHNtb290aCBhbmltYXRlZCBzY3JvbGxpbmcsXG4gICAqIGBzY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IGZhbHNlfSlgIGZvciBpbW1lZGlhdGUgc2Nyb2xsaW5nLlxuICAgKiBJZiBubyBvcHRpb25zIGFyZSBwYXNzZWQsIGBhbmltYXRlZGAgZGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICovXG4gIHNjcm9sbFRvRW5kOiAob3B0aW9ucz86ID97YW5pbWF0ZWQ/OiBib29sZWFuLCAuLi59KSA9PiB2b2lkID0gKFxuICAgIG9wdGlvbnM/OiA/e2FuaW1hdGVkPzogYm9vbGVhbiwgLi4ufSxcbiAgKSA9PiB7XG4gICAgLy8gRGVmYXVsdCB0byB0cnVlXG4gICAgY29uc3QgYW5pbWF0ZWQgPSAob3B0aW9ucyAmJiBvcHRpb25zLmFuaW1hdGVkKSAhPT0gZmFsc2U7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy5zY3JvbGxUb0VuZCh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlLCBhbmltYXRlZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc3BsYXlzIHRoZSBzY3JvbGwgaW5kaWNhdG9ycyBtb21lbnRhcmlseS5cbiAgICpcbiAgICogQHBsYXRmb3JtIGlvc1xuICAgKi9cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgQ29tbWFuZHMuZmxhc2hTY3JvbGxJbmRpY2F0b3JzKHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgY2FsbGJhY2sgdG8gb25Gb2N1cyBpbiBhIFRleHRJbnB1dHMnXG4gICAqIHBhcmVudCB2aWV3LiBOb3RlIHRoYXQgYW55IG1vZHVsZSB1c2luZyB0aGlzIG1peGluIG5lZWRzIHRvIHJldHVyblxuICAgKiB0aGUgcGFyZW50IHZpZXcncyByZWYgaW4gZ2V0U2Nyb2xsVmlld1JlZigpIGluIG9yZGVyIHRvIHVzZSB0aGlzIG1ldGhvZC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG5vZGVIYW5kbGUgVGhlIFRleHRJbnB1dCBub2RlIGhhbmRsZVxuICAgKiBAcGFyYW0ge251bWJlcn0gYWRkaXRpb25hbE9mZnNldCBUaGUgc2Nyb2xsIHZpZXcncyBib3R0b20gXCJjb250ZW50SW5zZXRcIi5cbiAgICogICAgICAgIERlZmF1bHQgaXMgMC5cbiAgICogQHBhcmFtIHtib29sfSBwcmV2ZW50TmVnYXRpdmVTY3JvbGxpbmcgV2hldGhlciB0byBhbGxvdyBwdWxsaW5nIHRoZSBjb250ZW50XG4gICAqICAgICAgICBkb3duIHRvIG1ha2UgaXQgbWVldCB0aGUga2V5Ym9hcmQncyB0b3AuIERlZmF1bHQgaXMgZmFsc2UuXG4gICAqL1xuICBzY3JvbGxSZXNwb25kZXJTY3JvbGxOYXRpdmVIYW5kbGVUb0tleWJvYXJkOiA8VD4oXG4gICAgbm9kZUhhbmRsZTogbnVtYmVyIHwgUmVhY3QuRWxlbWVudFJlZjxIb3N0Q29tcG9uZW50PFQ+PixcbiAgICBhZGRpdGlvbmFsT2Zmc2V0PzogbnVtYmVyLFxuICAgIHByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldD86IGJvb2xlYW4sXG4gICkgPT4gdm9pZCA9IDxUPihcbiAgICBub2RlSGFuZGxlOiBudW1iZXIgfCBSZWFjdC5FbGVtZW50UmVmPEhvc3RDb21wb25lbnQ8VD4+LFxuICAgIGFkZGl0aW9uYWxPZmZzZXQ/OiBudW1iZXIsXG4gICAgcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0PzogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldCA9IGFkZGl0aW9uYWxPZmZzZXQgfHwgMDtcbiAgICB0aGlzLl9wcmV2ZW50TmVnYXRpdmVTY3JvbGxPZmZzZXQgPSAhIXByZXZlbnROZWdhdGl2ZVNjcm9sbE9mZnNldDtcblxuICAgIGlmICh0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygbm9kZUhhbmRsZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIFVJTWFuYWdlci5tZWFzdXJlTGF5b3V0KFxuICAgICAgICBub2RlSGFuZGxlLFxuICAgICAgICBudWxsdGhyb3dzKGZpbmROb2RlSGFuZGxlKHRoaXMpKSxcbiAgICAgICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXSBhZGRlZCB3aGVuIGltcHJvdmluZyB0eXBpbmcgZm9yIHRoaXMgcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLl90ZXh0SW5wdXRGb2N1c0Vycm9yLFxuICAgICAgICB0aGlzLl9pbnB1dE1lYXN1cmVBbmRTY3JvbGxUb0tleWJvYXJkLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZUhhbmRsZS5tZWFzdXJlTGF5b3V0KFxuICAgICAgICB0aGlzLl9pbm5lclZpZXcubmF0aXZlSW5zdGFuY2UsXG4gICAgICAgIHRoaXMuX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmQsXG4gICAgICAgIC8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ10gYWRkZWQgd2hlbiBpbXByb3ZpbmcgdHlwaW5nIGZvciB0aGlzIHBhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5fdGV4dElucHV0Rm9jdXNFcnJvcixcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBIGhlbHBlciBmdW5jdGlvbiB0byB6b29tIHRvIGEgc3BlY2lmaWMgcmVjdCBpbiB0aGUgc2Nyb2xsdmlldy4gVGhlIGFyZ3VtZW50IGhhcyB0aGUgc2hhcGVcbiAgICoge3g6IG51bWJlcjsgeTogbnVtYmVyOyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgYW5pbWF0ZWQ6IGJvb2xlYW4gPSB0cnVlfVxuICAgKlxuICAgKiBAcGxhdGZvcm0gaW9zXG4gICAqL1xuICBzY3JvbGxSZXNwb25kZXJab29tVG86IChcbiAgICByZWN0OiB7fFxuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgYW5pbWF0ZWQ/OiBib29sZWFuLFxuICAgIHx9LFxuICAgIGFuaW1hdGVkPzogYm9vbGVhbiwgLy8gZGVwcmVjYXRlZCwgcHV0IHRoaXMgaW5zaWRlIHRoZSByZWN0IGFyZ3VtZW50IGluc3RlYWRcbiAgKSA9PiB2b2lkID0gKFxuICAgIHJlY3Q6IHt8XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgICBhbmltYXRlZD86IGJvb2xlYW4sXG4gICAgfH0sXG4gICAgYW5pbWF0ZWQ/OiBib29sZWFuLCAvLyBkZXByZWNhdGVkLCBwdXQgdGhpcyBpbnNpZGUgdGhlIHJlY3QgYXJndW1lbnQgaW5zdGVhZFxuICApID0+IHtcbiAgICBpbnZhcmlhbnQoUGxhdGZvcm0uT1MgPT09ICdpb3MnLCAnem9vbVRvUmVjdCBpcyBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICBpZiAoJ2FuaW1hdGVkJyBpbiByZWN0KSB7XG4gICAgICB0aGlzLl9hbmltYXRlZCA9IHJlY3QuYW5pbWF0ZWQ7XG4gICAgICBkZWxldGUgcmVjdC5hbmltYXRlZDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBhbmltYXRlZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ2BzY3JvbGxSZXNwb25kZXJab29tVG9gIGBhbmltYXRlZGAgYXJndW1lbnQgaXMgZGVwcmVjYXRlZC4gVXNlIGBvcHRpb25zLmFuaW1hdGVkYCBpbnN0ZWFkJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFZpZXcubmF0aXZlSW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBDb21tYW5kcy56b29tVG9SZWN0KFxuICAgICAgdGhpcy5fc2Nyb2xsVmlldy5uYXRpdmVJbnN0YW5jZSxcbiAgICAgIHJlY3QsXG4gICAgICBhbmltYXRlZCAhPT0gZmFsc2UsXG4gICAgKTtcbiAgfTtcblxuICBfdGV4dElucHV0Rm9jdXNFcnJvcigpIHtcbiAgICBjb25zb2xlLndhcm4oJ0Vycm9yIG1lYXN1cmluZyB0ZXh0IGZpZWxkLicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxjdWxhdGlvbnMgcGVyZm9ybWVkIGhlcmUgYXNzdW1lIHRoZSBzY3JvbGwgdmlldyB0YWtlcyB1cCB0aGUgZW50aXJlXG4gICAqIHNjcmVlbiAtIGV2ZW4gaWYgaGFzIHNvbWUgY29udGVudCBpbnNldC4gV2UgdGhlbiBtZWFzdXJlIHRoZSBvZmZzZXRzIG9mIHRoZVxuICAgKiBrZXlib2FyZCwgYW5kIGNvbXBlbnNhdGUgYm90aCBmb3IgdGhlIHNjcm9sbCB2aWV3J3MgXCJjb250ZW50SW5zZXRcIi5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgUG9zaXRpb24gb2YgaW5wdXQgdy5yLnQuIHRhYmxlIHZpZXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgUG9zaXRpb24gb2YgaW5wdXQgdy5yLnQuIHRhYmxlIHZpZXcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgdGV4dCBpbnB1dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIHRleHQgaW5wdXQuXG4gICAqL1xuICBfaW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZDogKFxuICAgIGxlZnQ6IG51bWJlcixcbiAgICB0b3A6IG51bWJlcixcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyLFxuICApID0+IHZvaWQgPSAobGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICBsZXQga2V5Ym9hcmRTY3JlZW5ZID0gRGltZW5zaW9ucy5nZXQoJ3dpbmRvdycpLmhlaWdodDtcblxuICAgIGNvbnN0IHNjcm9sbFRleHRJbnB1dEludG9WaXNpYmxlUmVjdCA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9rZXlib2FyZE1ldHJpY3MgIT0gbnVsbCkge1xuICAgICAgICBrZXlib2FyZFNjcmVlblkgPSB0aGlzLl9rZXlib2FyZE1ldHJpY3Muc2NyZWVuWTtcbiAgICAgIH1cbiAgICAgIGxldCBzY3JvbGxPZmZzZXRZID1cbiAgICAgICAgdG9wIC0ga2V5Ym9hcmRTY3JlZW5ZICsgaGVpZ2h0ICsgdGhpcy5fYWRkaXRpb25hbFNjcm9sbE9mZnNldDtcblxuICAgICAgLy8gQnkgZGVmYXVsdCwgdGhpcyBjYW4gc2Nyb2xsIHdpdGggbmVnYXRpdmUgb2Zmc2V0LCBwdWxsaW5nIHRoZSBjb250ZW50XG4gICAgICAvLyBkb3duIHNvIHRoYXQgdGhlIHRhcmdldCBjb21wb25lbnQncyBib3R0b20gbWVldHMgdGhlIGtleWJvYXJkJ3MgdG9wLlxuICAgICAgLy8gSWYgcmVxdWVzdGVkIG90aGVyd2lzZSwgY2FwIHRoZSBvZmZzZXQgYXQgMCBtaW5pbXVtIHRvIGF2b2lkIGNvbnRlbnRcbiAgICAgIC8vIHNoaWZ0aW5nIGRvd24uXG4gICAgICBpZiAodGhpcy5fcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0ID09PSB0cnVlKSB7XG4gICAgICAgIHNjcm9sbE9mZnNldFkgPSBNYXRoLm1heCgwLCBzY3JvbGxPZmZzZXRZKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2Nyb2xsVG8oe3g6IDAsIHk6IHNjcm9sbE9mZnNldFksIGFuaW1hdGVkOiB0cnVlfSk7XG5cbiAgICAgIHRoaXMuX2FkZGl0aW9uYWxTY3JvbGxPZmZzZXQgPSAwO1xuICAgICAgdGhpcy5fcHJldmVudE5lZ2F0aXZlU2Nyb2xsT2Zmc2V0ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIGlmICh0aGlzLl9rZXlib2FyZE1ldHJpY3MgPT0gbnVsbCkge1xuICAgICAgLy8gYF9rZXlib2FyZE1ldHJpY3NgIGlzIHNldCBpbnNpZGUgYHNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3dgIHdoaWNoXG4gICAgICAvLyBpcyBub3QgZ3VhcmFudGVlZCB0byBiZSBjYWxsZWQgYmVmb3JlIGBfaW5wdXRNZWFzdXJlQW5kU2Nyb2xsVG9LZXlib2FyZGAgYnV0IG5hdGl2ZSBoYXMgYWxyZWFkeSBzY2hlZHVsZWQgaXQuXG4gICAgICAvLyBJbiBjYXNlIGl0IHdhcyBub3QgY2FsbGVkIGJlZm9yZSBgX2lucHV0TWVhc3VyZUFuZFNjcm9sbFRvS2V5Ym9hcmRgLCB3ZSBwb3N0cG9uZSBzY3JvbGxpbmcgdG9cbiAgICAgIC8vIHRleHQgaW5wdXQuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0KCk7XG4gICAgICB9LCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsVGV4dElucHV0SW50b1Zpc2libGVSZWN0KCk7XG4gICAgfVxuICB9O1xuXG4gIF9nZXRLZXlGb3JJbmRleChpbmRleDogJEZsb3dGaXhNZSwgY2hpbGRBcnJheTogJEZsb3dGaXhNZSk6ICRGbG93Rml4TWUge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRBcnJheVtpbmRleF07XG4gICAgcmV0dXJuIGNoaWxkICYmIGNoaWxkLmtleTtcbiAgfVxuXG4gIF91cGRhdGVBbmltYXRlZE5vZGVBdHRhY2htZW50KCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZUF0dGFjaG1lbnQuZGV0YWNoKCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyAmJlxuICAgICAgdGhpcy5wcm9wcy5zdGlja3lIZWFkZXJJbmRpY2VzLmxlbmd0aCA+IDBcbiAgICApIHtcbiAgICAgIHRoaXMuX3Njcm9sbEFuaW1hdGVkVmFsdWVBdHRhY2htZW50ID1cbiAgICAgICAgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvbi5hdHRhY2hOYXRpdmVFdmVudChcbiAgICAgICAgICB0aGlzLl9zY3JvbGxWaWV3Lm5hdGl2ZUluc3RhbmNlLFxuICAgICAgICAgICdvblNjcm9sbCcsXG4gICAgICAgICAgW3tuYXRpdmVFdmVudDoge2NvbnRlbnRPZmZzZXQ6IHt5OiB0aGlzLl9zY3JvbGxBbmltYXRlZFZhbHVlfX19XSxcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfc2V0U3RpY2t5SGVhZGVyUmVmKFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZjogP1JlYWN0LkVsZW1lbnRSZWY8U3RpY2t5SGVhZGVyQ29tcG9uZW50VHlwZT4sXG4gICkge1xuICAgIGlmIChyZWYpIHtcbiAgICAgIHRoaXMuX3N0aWNreUhlYWRlclJlZnMuc2V0KGtleSwgcmVmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3RpY2t5SGVhZGVyUmVmcy5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cblxuICBfb25TdGlja3lIZWFkZXJMYXlvdXQoaW5kZXg6ICRGbG93Rml4TWUsIGV2ZW50OiAkRmxvd0ZpeE1lLCBrZXk6ICRGbG93Rml4TWUpIHtcbiAgICBjb25zdCB7c3RpY2t5SGVhZGVySW5kaWNlc30gPSB0aGlzLnByb3BzO1xuICAgIGlmICghc3RpY2t5SGVhZGVySW5kaWNlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZEFycmF5ID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheTwkRmxvd0ZpeE1lPih0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICBpZiAoa2V5ICE9PSB0aGlzLl9nZXRLZXlGb3JJbmRleChpbmRleCwgY2hpbGRBcnJheSkpIHtcbiAgICAgIC8vIGlnbm9yZSBzdGFsZSBsYXlvdXQgdXBkYXRlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbGF5b3V0WSA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmxheW91dC55O1xuICAgIHRoaXMuX2hlYWRlckxheW91dFlzLnNldChrZXksIGxheW91dFkpO1xuXG4gICAgY29uc3QgaW5kZXhPZkluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlcy5pbmRleE9mKGluZGV4KTtcbiAgICBjb25zdCBwcmV2aW91c0hlYWRlckluZGV4ID0gc3RpY2t5SGVhZGVySW5kaWNlc1tpbmRleE9mSW5kZXggLSAxXTtcbiAgICBpZiAocHJldmlvdXNIZWFkZXJJbmRleCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBwcmV2aW91c0hlYWRlciA9IHRoaXMuX3N0aWNreUhlYWRlclJlZnMuZ2V0KFxuICAgICAgICB0aGlzLl9nZXRLZXlGb3JJbmRleChwcmV2aW91c0hlYWRlckluZGV4LCBjaGlsZEFycmF5KSxcbiAgICAgICk7XG4gICAgICBwcmV2aW91c0hlYWRlciAmJlxuICAgICAgICBwcmV2aW91c0hlYWRlci5zZXROZXh0SGVhZGVyWSAmJlxuICAgICAgICBwcmV2aW91c0hlYWRlci5zZXROZXh0SGVhZGVyWShsYXlvdXRZKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlU2Nyb2xsID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5wcm9wcy5vblNjcm9sbCAmJlxuICAgICAgICB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUgPT0gbnVsbCAmJlxuICAgICAgICBQbGF0Zm9ybS5PUyA9PT0gJ2lvcydcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAnWW91IHNwZWNpZmllZCBgb25TY3JvbGxgIG9uIGEgPFNjcm9sbFZpZXc+IGJ1dCBub3QgJyArXG4gICAgICAgICAgICAnYHNjcm9sbEV2ZW50VGhyb3R0bGVgLiBZb3Ugd2lsbCBvbmx5IHJlY2VpdmUgb25lIGV2ZW50LiAnICtcbiAgICAgICAgICAgICdVc2luZyBgMTZgIHlvdSBnZXQgYWxsIHRoZSBldmVudHMgYnV0IGJlIGF3YXJlIHRoYXQgaXQgbWF5ICcgK1xuICAgICAgICAgICAgXCJjYXVzZSBmcmFtZSBkcm9wcywgdXNlIGEgYmlnZ2VyIG51bWJlciBpZiB5b3UgZG9uJ3QgbmVlZCBhcyBcIiArXG4gICAgICAgICAgICAnbXVjaCBwcmVjaXNpb24uJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsICYmIHRoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gIH07XG5cbiAgX2hhbmRsZUxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnMgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe2xheW91dEhlaWdodDogZS5uYXRpdmVFdmVudC5sYXlvdXQuaGVpZ2h0fSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIH1cbiAgfTtcblxuICBfaGFuZGxlQ29udGVudE9uTGF5b3V0ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlICYmXG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2Uod2lkdGgsIGhlaWdodCk7XG4gIH07XG5cbiAgX2lubmVyVmlldzogUmVmRm9yd2FyZGVyPElubmVyVmlld0luc3RhbmNlLCBJbm5lclZpZXdJbnN0YW5jZT4gPVxuICAgIGNyZWF0ZVJlZkZvcndhcmRlcihcbiAgICAgIChpbnN0YW5jZTogSW5uZXJWaWV3SW5zdGFuY2UpOiBJbm5lclZpZXdJbnN0YW5jZSA9PiBpbnN0YW5jZSxcbiAgICApO1xuXG4gIF9zY3JvbGxWaWV3OiBSZWZGb3J3YXJkZXI8XG4gICAgTmF0aXZlU2Nyb2xsVmlld0luc3RhbmNlLFxuICAgIFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZSxcbiAgPiA9IGNyZWF0ZVJlZkZvcndhcmRlcihcbiAgICAobmF0aXZlSW5zdGFuY2U6IE5hdGl2ZVNjcm9sbFZpZXdJbnN0YW5jZSk6IFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZSA9PiB7XG4gICAgICAvLyBUaGlzIGlzIGEgaGFjay4gSWRlYWxseSB3ZSB3b3VsZCBmb3J3YXJkUmVmICB0byB0aGUgdW5kZXJseWluZ1xuICAgICAgLy8gaG9zdCBjb21wb25lbnQuIEhvd2V2ZXIsIHNpbmNlIFNjcm9sbFZpZXcgaGFzIGl0J3Mgb3duIG1ldGhvZHMgdGhhdCBjYW4gYmVcbiAgICAgIC8vIGNhbGxlZCBhcyB3ZWxsLCBpZiB3ZSB1c2VkIHRoZSBzdGFuZGFyZCBmb3J3YXJkUmVmIHRoZW4gdGhlc2VcbiAgICAgIC8vIG1ldGhvZHMgd291bGRuJ3QgYmUgYWNjZXNzaWJsZSBhbmQgdGh1cyBiZSBhIGJyZWFraW5nIGNoYW5nZS5cbiAgICAgIC8vXG4gICAgICAvLyBUaGVyZWZvcmUgd2UgZWRpdCByZWYgdG8gaW5jbHVkZSBTY3JvbGxWaWV3J3MgcHVibGljIG1ldGhvZHMgc28gdGhhdFxuICAgICAgLy8gdGhleSBhcmUgY2FsbGFibGUgZnJvbSB0aGUgcmVmLlxuXG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gLSBLbm93biBpc3N1ZSB3aXRoIGFwcGVuZGluZyBjdXN0b20gbWV0aG9kcy5cbiAgICAgIGNvbnN0IHB1YmxpY0luc3RhbmNlOiBQdWJsaWNTY3JvbGxWaWV3SW5zdGFuY2UgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICBuYXRpdmVJbnN0YW5jZSxcbiAgICAgICAge1xuICAgICAgICAgIGdldFNjcm9sbFJlc3BvbmRlcjogdGhpcy5nZXRTY3JvbGxSZXNwb25kZXIsXG4gICAgICAgICAgZ2V0U2Nyb2xsYWJsZU5vZGU6IHRoaXMuZ2V0U2Nyb2xsYWJsZU5vZGUsXG4gICAgICAgICAgZ2V0SW5uZXJWaWV3Tm9kZTogdGhpcy5nZXRJbm5lclZpZXdOb2RlLFxuICAgICAgICAgIGdldElubmVyVmlld1JlZjogdGhpcy5nZXRJbm5lclZpZXdSZWYsXG4gICAgICAgICAgZ2V0TmF0aXZlU2Nyb2xsUmVmOiB0aGlzLmdldE5hdGl2ZVNjcm9sbFJlZixcbiAgICAgICAgICBzY3JvbGxUbzogdGhpcy5zY3JvbGxUbyxcbiAgICAgICAgICBzY3JvbGxUb0VuZDogdGhpcy5zY3JvbGxUb0VuZCxcbiAgICAgICAgICBmbGFzaFNjcm9sbEluZGljYXRvcnM6IHRoaXMuZmxhc2hTY3JvbGxJbmRpY2F0b3JzLFxuICAgICAgICAgIHNjcm9sbFJlc3BvbmRlclpvb21UbzogdGhpcy5zY3JvbGxSZXNwb25kZXJab29tVG8sXG4gICAgICAgICAgc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZDpcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUmVzcG9uZGVyU2Nyb2xsTmF0aXZlSGFuZGxlVG9LZXlib2FyZCxcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBwdWJsaWNJbnN0YW5jZTtcbiAgICB9LFxuICApO1xuXG4gIC8qKlxuICAgKiBXYXJuaW5nLCB0aGlzIG1heSBiZSBjYWxsZWQgc2V2ZXJhbCB0aW1lcyBmb3IgYSBzaW5nbGUga2V5Ym9hcmQgb3BlbmluZy5cbiAgICogSXQncyBiZXN0IHRvIHN0b3JlIHRoZSBpbmZvcm1hdGlvbiBpbiB0aGlzIG1ldGhvZCBhbmQgdGhlbiB0YWtlIGFueSBhY3Rpb25cbiAgICogYXQgYSBsYXRlciBwb2ludCAoZWl0aGVyIGluIGBrZXlib2FyZERpZFNob3dgIG9yIG90aGVyKS5cbiAgICpcbiAgICogSGVyZSdzIHRoZSBvcmRlciB0aGF0IGV2ZW50cyBvY2N1ciBpbjpcbiAgICogLSBmb2N1c1xuICAgKiAtIHdpbGxTaG93IHtzdGFydENvb3JkaW5hdGVzLCBlbmRDb29yZGluYXRlc30gc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGRpZFNob3cgc2V2ZXJhbCB0aW1lc1xuICAgKiAtIGJsdXJcbiAgICogLSB3aWxsSGlkZSB7c3RhcnRDb29yZGluYXRlcywgZW5kQ29vcmRpbmF0ZXN9IHNldmVyYWwgdGltZXNcbiAgICogLSBkaWRIaWRlIHNldmVyYWwgdGltZXNcbiAgICpcbiAgICogVGhlIGBTY3JvbGxSZXNwb25kZXJgIG1vZHVsZSBjYWxsYmFja3MgZm9yIGVhY2ggb2YgdGhlc2UgZXZlbnRzLlxuICAgKiBFdmVuIHRob3VnaCBhbnkgdXNlciBjb3VsZCBoYXZlIGVhc2lseSBsaXN0ZW5lZCB0byBrZXlib2FyZCBldmVudHNcbiAgICogdGhlbXNlbHZlcywgdXNpbmcgdGhlc2UgYHByb3BzYCBjYWxsYmFja3MgZW5zdXJlcyB0aGF0IG9yZGVyaW5nIG9mIGV2ZW50c1xuICAgKiBpcyBjb25zaXN0ZW50IC0gYW5kIG5vdCBkZXBlbmRlbnQgb24gdGhlIG9yZGVyIHRoYXQgdGhlIGtleWJvYXJkIGV2ZW50cyBhcmVcbiAgICogc3Vic2NyaWJlZCB0by4gVGhpcyBtYXR0ZXJzIHdoZW4gdGVsbGluZyB0aGUgc2Nyb2xsIHZpZXcgdG8gc2Nyb2xsIHRvIHdoZXJlXG4gICAqIHRoZSBrZXlib2FyZCBpcyBoZWFkZWQgLSB0aGUgc2Nyb2xsIHJlc3BvbmRlciBiZXR0ZXIgaGF2ZSBiZWVuIG5vdGlmaWVkIG9mXG4gICAqIHRoZSBrZXlib2FyZCBkZXN0aW5hdGlvbiBiZWZvcmUgYmVpbmcgaW5zdHJ1Y3RlZCB0byBzY3JvbGwgdG8gd2hlcmUgdGhlXG4gICAqIGtleWJvYXJkIHdpbGwgYmUuIFN0aWNrIHRvIHRoZSBgU2Nyb2xsUmVzcG9uZGVyYCBjYWxsYmFja3MsIGFuZCBldmVyeXRoaW5nXG4gICAqIHdpbGwgd29yay5cbiAgICpcbiAgICogV0FSTklORzogVGhlc2UgY2FsbGJhY2tzIHdpbGwgZmlyZSBldmVuIGlmIGEga2V5Ym9hcmQgaXMgZGlzcGxheWVkIGluIGFcbiAgICogZGlmZmVyZW50IG5hdmlnYXRpb24gcGFuZS4gRmlsdGVyIG91dCB0aGUgZXZlbnRzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgKiByZWxldmFudCB0byB5b3UuIChGb3IgZXhhbXBsZSwgb25seSBpZiB5b3UgcmVjZWl2ZSB0aGVzZSBjYWxsYmFja3MgYWZ0ZXJcbiAgICogeW91IGhhZCBleHBsaWNpdGx5IGZvY3VzZWQgYSBub2RlIGV0YykuXG4gICAqL1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkV2lsbFNob3c6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IGUuZW5kQ29vcmRpbmF0ZXM7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3cgJiYgdGhpcy5wcm9wcy5vbktleWJvYXJkV2lsbFNob3coZSk7XG4gIH07XG5cbiAgc2Nyb2xsUmVzcG9uZGVyS2V5Ym9hcmRXaWxsSGlkZTogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gbnVsbDtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZSAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmRXaWxsSGlkZShlKTtcbiAgfTtcblxuICBzY3JvbGxSZXNwb25kZXJLZXlib2FyZERpZFNob3c6IChlOiBLZXlib2FyZEV2ZW50KSA9PiB2b2lkID0gKFxuICAgIGU6IEtleWJvYXJkRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMuX2tleWJvYXJkTWV0cmljcyA9IGUuZW5kQ29vcmRpbmF0ZXM7XG4gICAgdGhpcy5wcm9wcy5vbktleWJvYXJkRGlkU2hvdyAmJiB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRTaG93KGUpO1xuICB9O1xuXG4gIHNjcm9sbFJlc3BvbmRlcktleWJvYXJkRGlkSGlkZTogKGU6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQgPSAoXG4gICAgZTogS2V5Ym9hcmRFdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzID0gbnVsbDtcbiAgICB0aGlzLnByb3BzLm9uS2V5Ym9hcmREaWRIaWRlICYmIHRoaXMucHJvcHMub25LZXlib2FyZERpZEhpZGUoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uTW9tZW50dW1TY3JvbGxCZWdpbmAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlTW9tZW50dW1TY3JvbGxCZWdpbjogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgdGhpcy5fbGFzdE1vbWVudHVtU2Nyb2xsQmVnaW5UaW1lID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvbk1vbWVudHVtU2Nyb2xsRW5kYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVNb21lbnR1bVNjcm9sbEVuZDogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgRnJhbWVSYXRlTG9nZ2VyLmVuZFNjcm9sbCgpO1xuICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUgPSBnbG9iYWwucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5mb3J0dW5hdGVseSwgYG9uU2Nyb2xsQmVnaW5EcmFnYCBhbHNvIGZpcmVzIHdoZW4gKnN0b3BwaW5nKiB0aGUgc2Nyb2xsXG4gICAqIGFuaW1hdGlvbiwgYW5kIHRoZXJlJ3Mgbm90IGFuIGVhc3kgd2F5IHRvIGRpc3Rpbmd1aXNoIGEgZHJhZyB2cy4gc3RvcHBpbmdcbiAgICogbW9tZW50dW0uXG4gICAqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsQmVnaW5EcmFnYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxCZWdpbkRyYWc6IChlOiBTY3JvbGxFdmVudCkgPT4gdm9pZCA9IChlOiBTY3JvbGxFdmVudCkgPT4ge1xuICAgIEZyYW1lUmF0ZUxvZ2dlci5iZWdpblNjcm9sbCgpOyAvLyBUT0RPOiB0cmFjayBhbGwgc2Nyb2xscyBhZnRlciBpbXBsZW1lbnRpbmcgb25TY3JvbGxFbmRBbmltYXRpb25cblxuICAgIGlmIChcbiAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiZcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmREaXNtaXNzTW9kZSA9PT0gJ29uLWRyYWcnXG4gICAgKSB7XG4gICAgICBkaXNtaXNzS2V5Ym9hcmQoKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsRW5kRHJhZ2AgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlU2Nyb2xsRW5kRHJhZzogKGU6IFNjcm9sbEV2ZW50KSA9PiB2b2lkID0gKGU6IFNjcm9sbEV2ZW50KSA9PiB7XG4gICAgY29uc3Qge3ZlbG9jaXR5fSA9IGUubmF0aXZlRXZlbnQ7XG4gICAgLy8gLSBJZiB3ZSBhcmUgYW5pbWF0aW5nLCB0aGVuIHRoaXMgaXMgYSBcImRyYWdcIiB0aGF0IGlzIHN0b3BwaW5nIHRoZSBzY3JvbGx2aWV3IGFuZCBtb21lbnR1bSBlbmRcbiAgICAvLyAgIHdpbGwgZmlyZS5cbiAgICAvLyAtIElmIHZlbG9jaXR5IGlzIG5vbi16ZXJvLCB0aGVuIHRoZSBpbnRlcmFjdGlvbiB3aWxsIHN0b3Agd2hlbiBtb21lbnR1bSBzY3JvbGwgZW5kcyBvclxuICAgIC8vICAgYW5vdGhlciBkcmFnIHN0YXJ0cyBhbmQgZW5kcy5cbiAgICAvLyAtIElmIHdlIGRvbid0IGdldCB2ZWxvY2l0eSwgYmV0dGVyIHRvIHN0b3AgdGhlIGludGVyYWN0aW9uIHR3aWNlIHRoYW4gbm90IHN0b3AgaXQuXG4gICAgaWYgKFxuICAgICAgIXRoaXMuX2lzQW5pbWF0aW5nKCkgJiZcbiAgICAgICghdmVsb2NpdHkgfHwgKHZlbG9jaXR5LnggPT09IDAgJiYgdmVsb2NpdHkueSA9PT0gMCkpXG4gICAgKSB7XG4gICAgICBGcmFtZVJhdGVMb2dnZXIuZW5kU2Nyb2xsKCk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnICYmIHRoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGhlbHBlciBmdW5jdGlvbiBmb3IgdGhpcyBjbGFzcyB0aGF0IGxldHMgdXMgcXVpY2tseSBkZXRlcm1pbmUgaWYgdGhlXG4gICAqIHZpZXcgaXMgY3VycmVudGx5IGFuaW1hdGluZy4gVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIHRvIGtub3cgd2hlblxuICAgKiBhIHRvdWNoIGhhcyBqdXN0IHN0YXJ0ZWQgb3IgZW5kZWQuXG4gICAqL1xuICBfaXNBbmltYXRpbmc6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCA9XG4gICAgICBub3cgLSB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxFbmRUaW1lO1xuICAgIGNvbnN0IGlzQW5pbWF0aW5nID1cbiAgICAgIHRpbWVTaW5jZUxhc3RNb21lbnR1bVNjcm9sbEVuZCA8IElTX0FOSU1BVElOR19UT1VDSF9TVEFSVF9USFJFU0hPTERfTVMgfHxcbiAgICAgIHRoaXMuX2xhc3RNb21lbnR1bVNjcm9sbEVuZFRpbWUgPCB0aGlzLl9sYXN0TW9tZW50dW1TY3JvbGxCZWdpblRpbWU7XG4gICAgcmV0dXJuIGlzQW5pbWF0aW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlckdyYW50YCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJHcmFudDogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX29ic2VydmVkU2Nyb2xsU2luY2VCZWNvbWluZ1Jlc3BvbmRlciA9IGZhbHNlO1xuICAgIHRoaXMucHJvcHMub25SZXNwb25kZXJHcmFudCAmJiB0aGlzLnByb3BzLm9uUmVzcG9uZGVyR3JhbnQoZSk7XG4gICAgdGhpcy5fYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmcgPSB0aGlzLl9pc0FuaW1hdGluZygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblJlc3BvbmRlclJlamVjdGAgZXZlbnQuXG4gICAqXG4gICAqIFNvbWUgb3RoZXIgZWxlbWVudCBpcyBub3QgeWllbGRpbmcgaXRzIHJvbGUgYXMgcmVzcG9uZGVyLiBOb3JtYWxseSwgd2UnZFxuICAgKiBqdXN0IGRpc2FibGUgdGhlIGBVSVNjcm9sbFZpZXdgLCBidXQgYSB0b3VjaCBoYXMgYWxyZWFkeSBiZWdhbiBvbiBpdCwgdGhlXG4gICAqIGBVSVNjcm9sbFZpZXdgIHdpbGwgbm90IGFjY2VwdCBiZWluZyBkaXNhYmxlZCBhZnRlciB0aGF0LiBUaGUgZWFzaWVzdFxuICAgKiBzb2x1dGlvbiBmb3Igbm93IGlzIHRvIGFjY2VwdCB0aGUgbGltaXRhdGlvbiBvZiBkaXNhbGxvd2luZyB0aGlzXG4gICAqIGFsdG9nZXRoZXIuIFRvIGltcHJvdmUgdGhpcywgZmluZCBhIHdheSB0byBkaXNhYmxlIHRoZSBgVUlTY3JvbGxWaWV3YCBhZnRlclxuICAgKiBhIHRvdWNoIGhhcyBhbHJlYWR5IHN0YXJ0ZWQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyUmVqZWN0OiAoKSA9PiB2b2lkID0gKCkgPT4ge307XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uUmVzcG9uZGVyUmVsZWFzZWAgZXZlbnQuXG4gICAqL1xuICBfaGFuZGxlUmVzcG9uZGVyUmVsZWFzZTogKGU6IFByZXNzRXZlbnQpID0+IHZvaWQgPSAoZTogUHJlc3NFdmVudCkgPT4ge1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBlLm5hdGl2ZUV2ZW50LnRvdWNoZXMubGVuZ3RoICE9PSAwO1xuICAgIHRoaXMucHJvcHMub25SZXNwb25kZXJSZWxlYXNlICYmIHRoaXMucHJvcHMub25SZXNwb25kZXJSZWxlYXNlKGUpO1xuXG4gICAgaWYgKHR5cGVvZiBlLnRhcmdldCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGV2ZW50IHRhcmdldCB0byBiZSBhIG51bWJlci4gU2hvdWxkIGhhdmUgYmVlbiBhIG5hdGl2ZSBjb21wb25lbnQnLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQnkgZGVmYXVsdCBzY3JvbGwgdmlld3Mgd2lsbCB1bmZvY3VzIGEgdGV4dEZpZWxkXG4gICAgLy8gaWYgYW5vdGhlciB0b3VjaCBvY2N1cnMgb3V0c2lkZSBvZiBpdFxuICAgIGNvbnN0IGN1cnJlbnRseUZvY3VzZWRUZXh0SW5wdXQgPSBUZXh0SW5wdXRTdGF0ZS5jdXJyZW50bHlGb2N1c2VkSW5wdXQoKTtcbiAgICBpZiAoXG4gICAgICBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICE9IG51bGwgJiZcbiAgICAgIHRoaXMucHJvcHMua2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyAhPT0gdHJ1ZSAmJlxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzICE9PSAnYWx3YXlzJyAmJlxuICAgICAgdGhpcy5fa2V5Ym9hcmRJc0Rpc21pc3NpYmxlKCkgJiZcbiAgICAgIGUudGFyZ2V0ICE9PSBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ICYmXG4gICAgICAhdGhpcy5fb2JzZXJ2ZWRTY3JvbGxTaW5jZUJlY29taW5nUmVzcG9uZGVyICYmXG4gICAgICAhdGhpcy5fYmVjYW1lUmVzcG9uZGVyV2hpbGVBbmltYXRpbmdcbiAgICApIHtcbiAgICAgIFRleHRJbnB1dFN0YXRlLmJsdXJUZXh0SW5wdXQoY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBXZSB3aWxsIGFsbG93IHRoZSBzY3JvbGwgdmlldyB0byBnaXZlIHVwIGl0cyBsb2NrIGlmZiBpdCBhY3F1aXJlZCB0aGUgbG9ja1xuICAgKiBkdXJpbmcgYW4gYW5pbWF0aW9uLiBUaGlzIGlzIGEgdmVyeSB1c2VmdWwgZGVmYXVsdCB0aGF0IGhhcHBlbnMgdG8gc2F0aXNmeVxuICAgKiBtYW55IGNvbW1vbiB1c2VyIGV4cGVyaWVuY2VzLlxuICAgKlxuICAgKiAtIFN0b3AgYSBzY3JvbGwgb24gdGhlIGxlZnQgZWRnZSwgdGhlbiB0dXJuIHRoYXQgaW50byBhbiBvdXRlciB2aWV3J3NcbiAgICogICBiYWNrc3dpcGUuXG4gICAqIC0gU3RvcCBhIHNjcm9sbCBtaWQtYm91bmNlIGF0IHRoZSB0b3AsIGNvbnRpbnVlIHB1bGxpbmcgdG8gaGF2ZSB0aGUgb3V0ZXJcbiAgICogICB2aWV3IGRpc21pc3MuXG4gICAqIC0gSG93ZXZlciwgd2l0aG91dCBjYXRjaGluZyB0aGUgc2Nyb2xsIHZpZXcgbWlkLWJvdW5jZSAod2hpbGUgaXQgaXNcbiAgICogICBtb3Rpb25sZXNzKSwgaWYgeW91IGRyYWcgZmFyIGVub3VnaCBmb3IgdGhlIHNjcm9sbCB2aWV3IHRvIGJlY29tZVxuICAgKiAgIHJlc3BvbmRlciAoYW5kIHRoZXJlZm9yZSBkcmFnIHRoZSBzY3JvbGwgdmlldyBhIGJpdCksIGFueSBiYWNrc3dpcGVcbiAgICogICBuYXZpZ2F0aW9uIG9mIGEgc3dpcGUgZ2VzdHVyZSBoaWdoZXIgaW4gdGhlIHZpZXcgaGllcmFyY2h5LCBzaG91bGQgYmVcbiAgICogICByZWplY3RlZC5cbiAgICovXG4gIF9oYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgcmV0dXJuICF0aGlzLl9vYnNlcnZlZFNjcm9sbFNpbmNlQmVjb21pbmdSZXNwb25kZXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uU2Nyb2xsYCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXI6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lzVG91Y2hpbmc7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1lcmVseSB0b3VjaCBzdGFydGluZyBpcyBub3Qgc3VmZmljaWVudCBmb3IgYSBzY3JvbGwgdmlldyB0byBiZWNvbWUgdGhlXG4gICAqIHJlc3BvbmRlci4gQmVpbmcgdGhlIFwicmVzcG9uZGVyXCIgbWVhbnMgdGhhdCB0aGUgdmVyeSBuZXh0IHRvdWNoIG1vdmUvZW5kXG4gICAqIGV2ZW50IHdpbGwgcmVzdWx0IGluIGFuIGFjdGlvbi9tb3ZlbWVudC5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmAgZXZlbnQuXG4gICAqXG4gICAqIGBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyYCBpcyB1c2VkIHdoZW4gdGhlIG5leHQgbW92ZS9lbmQgd2lsbCB0cmlnZ2VyXG4gICAqIHNvbWUgVUkgbW92ZW1lbnQvYWN0aW9uLCBidXQgd2hlbiB5b3Ugd2FudCB0byB5aWVsZCBwcmlvcml0eSB0byB2aWV3c1xuICAgKiBuZXN0ZWQgaW5zaWRlIG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBUaGVyZSBtYXkgYmUgc29tZSBjYXNlcyB3aGVyZSBzY3JvbGwgdmlld3MgYWN0dWFsbHkgc2hvdWxkIHJldHVybiBgdHJ1ZWBcbiAgICogZnJvbSBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlcmA6IEFueSB0aW1lIHdlIGFyZSBkZXRlY3RpbmcgYSBzdGFuZGFyZCB0YXBcbiAgICogdGhhdCBnaXZlcyBwcmlvcml0eSB0byBuZXN0ZWQgdmlld3MuXG4gICAqXG4gICAqIC0gSWYgYSBzaW5nbGUgdGFwIG9uIHRoZSBzY3JvbGwgdmlldyB0cmlnZ2VycyBhbiBhY3Rpb24gc3VjaCBhc1xuICAgKiAgIHJlY2VudGVyaW5nIGEgbWFwIHN0eWxlIHZpZXcgeWV0IHdhbnRzIHRvIGdpdmUgcHJpb3JpdHkgdG8gaW50ZXJhY3Rpb25cbiAgICogICB2aWV3cyBpbnNpZGUgKHN1Y2ggYXMgZHJvcHBlZCBwaW5zIG9yIGxhYmVscyksIHRoZW4gd2Ugd291bGQgcmV0dXJuIHRydWVcbiAgICogICBmcm9tIHRoaXMgbWV0aG9kIHdoZW4gdGhlcmUgaXMgYSBzaW5nbGUgdG91Y2guXG4gICAqXG4gICAqIC0gU2ltaWxhciB0byB0aGUgcHJldmlvdXMgY2FzZSwgaWYgYSB0d28gZmluZ2VyIFwidGFwXCIgc2hvdWxkIHRyaWdnZXIgYVxuICAgKiAgIHpvb20sIHdlIHdvdWxkIGNoZWNrIHRoZSBgdG91Y2hlc2AgY291bnQsIGFuZCBpZiBgPj0gMmAsIHdlIHdvdWxkIHJldHVyblxuICAgKiAgIHRydWUuXG4gICAqXG4gICAqL1xuICBfaGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXI6IChlOiBQcmVzc0V2ZW50KSA9PiBib29sZWFuID0gKFxuICAgIGU6IFByZXNzRXZlbnQsXG4gICkgPT4ge1xuICAgIC8vIEFsbG93IGFueSBldmVudCB0b3VjaCBwYXNzIHRocm91Z2ggaWYgdGhlIGRlZmF1bHQgcGFuIHJlc3BvbmRlciBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVTY3JvbGxWaWV3UGFuUmVzcG9uZGVyID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5wcm9wcy5rZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnaGFuZGxlZCcgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPT0gY3VycmVudGx5Rm9jdXNlZElucHV0XG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGVyZSBhcmUgdGltZXMgd2hlbiB0aGUgc2Nyb2xsIHZpZXcgd2FudHMgdG8gYmVjb21lIHRoZSByZXNwb25kZXJcbiAgICogKG1lYW5pbmcgcmVzcG9uZCB0byB0aGUgbmV4dCBpbW1lZGlhdGUgYHRvdWNoU3RhcnQvdG91Y2hFbmRgKSwgaW4gYSB3YXlcbiAgICogdGhhdCAqZG9lc24ndCogZ2l2ZSBwcmlvcml0eSB0byBuZXN0ZWQgdmlld3MgKGhlbmNlIHRoZSBjYXB0dXJlIHBoYXNlKTpcbiAgICpcbiAgICogLSBDdXJyZW50bHkgYW5pbWF0aW5nLlxuICAgKiAtIFRhcHBpbmcgYW55d2hlcmUgdGhhdCBpcyBub3QgYSB0ZXh0IGlucHV0LCB3aGlsZSB0aGUga2V5Ym9hcmQgaXNcbiAgICogICB1cCAod2hpY2ggc2hvdWxkIGRpc21pc3MgdGhlIGtleWJvYXJkKS5cbiAgICpcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25TdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmVgIGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyQ2FwdHVyZTogKGU6IFByZXNzRXZlbnQpID0+IGJvb2xlYW4gPSAoXG4gICAgZTogUHJlc3NFdmVudCxcbiAgKSA9PiB7XG4gICAgLy8gVGhlIHNjcm9sbCB2aWV3IHNob3VsZCByZWNlaXZlIHRhcHMgaW5zdGVhZCBvZiBpdHMgZGVzY2VuZGFudHMgaWY6XG4gICAgLy8gKiBpdCBpcyBhbHJlYWR5IGFuaW1hdGluZy9kZWNlbGVyYXRpbmdcbiAgICBpZiAodGhpcy5faXNBbmltYXRpbmcoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgYW55IGV2ZW50IHRvdWNoIHBhc3MgdGhyb3VnaCBpZiB0aGUgZGVmYXVsdCBwYW4gcmVzcG9uZGVyIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVNjcm9sbFZpZXdQYW5SZXNwb25kZXIgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyAqIHRoZSBrZXlib2FyZCBpcyB1cCwga2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyBpcyAnbmV2ZXInICh0aGUgZGVmYXVsdCksXG4gICAgLy8gYW5kIGEgbmV3IHRvdWNoIHN0YXJ0cyB3aXRoIGEgbm9uLXRleHRpbnB1dCB0YXJnZXQgKGluIHdoaWNoIGNhc2UgdGhlXG4gICAgLy8gZmlyc3QgdGFwIHNob3VsZCBiZSBzZW50IHRvIHRoZSBzY3JvbGwgdmlldyBhbmQgZGlzbWlzcyB0aGUga2V5Ym9hcmQsXG4gICAgLy8gdGhlbiB0aGUgc2Vjb25kIHRhcCBnb2VzIHRvIHRoZSBhY3R1YWwgaW50ZXJpb3IgdmlldylcbiAgICBjb25zdCB7a2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwc30gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGtleWJvYXJkTmV2ZXJQZXJzaXN0VGFwcyA9XG4gICAgICAha2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyB8fCBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnbmV2ZXInO1xuXG4gICAgaWYgKHR5cGVvZiBlLnRhcmdldCA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGV2ZW50IHRhcmdldCB0byBiZSBhIG51bWJlci4gU2hvdWxkIGhhdmUgYmVlbiBhIG5hdGl2ZSBjb21wb25lbnQnLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gTGV0IHByZXNzZXMgdGhyb3VnaCBpZiB0aGUgc29mdCBrZXlib2FyZCBpcyBkZXRhY2hlZCBmcm9tIHRoZSB2aWV3cG9ydFxuICAgIGlmICh0aGlzLl9zb2Z0S2V5Ym9hcmRJc0RldGFjaGVkKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBrZXlib2FyZE5ldmVyUGVyc2lzdFRhcHMgJiZcbiAgICAgIHRoaXMuX2tleWJvYXJkSXNEaXNtaXNzaWJsZSgpICYmXG4gICAgICBlLnRhcmdldCAhPSBudWxsICYmXG4gICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXVxuICAgICAgIVRleHRJbnB1dFN0YXRlLmlzVGV4dElucHV0KGUudGFyZ2V0KVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEbyB3ZSBjb25zaWRlciB0aGVyZSB0byBiZSBhIGRpc21pc3NpYmxlIHNvZnQta2V5Ym9hcmQgb3Blbj9cbiAgICovXG4gIF9rZXlib2FyZElzRGlzbWlzc2libGU6ICgpID0+IGJvb2xlYW4gPSAoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG5cbiAgICAvLyBXZSBjYW5ub3QgZGlzbWlzcyB0aGUga2V5Ym9hcmQgd2l0aG91dCBhbiBpbnB1dCB0byBibHVyLCBldmVuIGlmIGEgc29mdFxuICAgIC8vIGtleWJvYXJkIGlzIG9wZW4gKGUuZy4gd2hlbiBrZXlib2FyZCBpcyBvcGVuIGR1ZSB0byBhIG5hdGl2ZSBjb21wb25lbnRcbiAgICAvLyBub3QgcGFydGljaXBhdGluZyBpbiBUZXh0SW5wdXRTdGF0ZSkuIEl0J3MgYWxzbyBwb3NzaWJsZSB0aGF0IHRoZVxuICAgIC8vIGN1cnJlbnRseSBmb2N1c2VkIGlucHV0IGlzbid0IGEgVGV4dElucHV0IChzdWNoIGFzIGJ5IGNhbGxpbmcgcmVmLmZvY3VzXG4gICAgLy8gb24gYSBub24tVGV4dElucHV0KS5cbiAgICBjb25zdCBoYXNGb2N1c2VkVGV4dElucHV0ID1cbiAgICAgIGN1cnJlbnRseUZvY3VzZWRJbnB1dCAhPSBudWxsICYmXG4gICAgICBUZXh0SW5wdXRTdGF0ZS5pc1RleHRJbnB1dChjdXJyZW50bHlGb2N1c2VkSW5wdXQpO1xuXG4gICAgLy8gRXZlbiBpZiBhbiBpbnB1dCBpcyBmb2N1c2VkLCB3ZSBtYXkgbm90IGhhdmUgYSBrZXlib2FyZCB0byBkaXNtaXNzLiBFLmdcbiAgICAvLyB3aGVuIHVzaW5nIGEgcGh5c2ljYWwga2V5Ym9hcmQuIEVuc3VyZSB3ZSBoYXZlIGFuIGV2ZW50IGZvciBhbiBvcGVuZWRcbiAgICAvLyBrZXlib2FyZC5cbiAgICBjb25zdCBzb2Z0S2V5Ym9hcmRNYXlCZU9wZW4gPVxuICAgICAgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzICE9IG51bGwgfHwgdGhpcy5fa2V5Ym9hcmRFdmVudHNBcmVVbnJlbGlhYmxlKCk7XG5cbiAgICByZXR1cm4gaGFzRm9jdXNlZFRleHRJbnB1dCAmJiBzb2Z0S2V5Ym9hcmRNYXlCZU9wZW47XG4gIH07XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgYW4gb3BlbiBzb2Z0IGtleWJvYXJkIGlzIHByZXNlbnQgd2hpY2ggZG9lcyBub3Qgb3ZlcmxhcCB0aGVcbiAgICogdmlld3BvcnQuIEUuZy4gZm9yIGEgVlIgc29mdC1rZXlib2FyZCB3aGljaCBpcyBkZXRhY2hlZCBmcm9tIHRoZSBhcHBcbiAgICogdmlld3BvcnQuXG4gICAqL1xuICBfc29mdEtleWJvYXJkSXNEZXRhY2hlZDogKCkgPT4gYm9vbGVhbiA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fa2V5Ym9hcmRNZXRyaWNzICE9IG51bGwgJiYgdGhpcy5fa2V5Ym9hcmRNZXRyaWNzLmhlaWdodCA9PT0gMDtcbiAgfTtcblxuICBfa2V5Ym9hcmRFdmVudHNBcmVVbnJlbGlhYmxlOiAoKSA9PiBib29sZWFuID0gKCkgPT4ge1xuICAgIC8vIEFuZHJvaWQgdmVyc2lvbnMgcHJpb3IgdG8gQVBJIDMwIHJlbHkgb24gb2JzZXJ2aW5nIGxheW91dCBjaGFuZ2VzIHdoZW5cbiAgICAvLyBgYW5kcm9pZDp3aW5kb3dTb2Z0SW5wdXRNb2RlYCBpcyBzZXQgdG8gYGFkanVzdFJlc2l6ZWAgb3IgYGFkanVzdFBhbmAuXG4gICAgcmV0dXJuIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgUGxhdGZvcm0uVmVyc2lvbiA8IDMwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoRW5kYCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIEV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoRW5kOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgY29uc3QgbmF0aXZlRXZlbnQgPSBlLm5hdGl2ZUV2ZW50O1xuICAgIHRoaXMuX2lzVG91Y2hpbmcgPSBuYXRpdmVFdmVudC50b3VjaGVzLmxlbmd0aCAhPT0gMDtcblxuICAgIGNvbnN0IHtrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qga2V5Ym9hcmROZXZlclBlcnNpc3RzVGFwcyA9XG4gICAgICAha2V5Ym9hcmRTaG91bGRQZXJzaXN0VGFwcyB8fCBrZXlib2FyZFNob3VsZFBlcnNpc3RUYXBzID09PSAnbmV2ZXInO1xuXG4gICAgLy8gRGlzbWlzcyB0aGUga2V5Ym9hcmQgbm93IGlmIHdlIGRpZG4ndCBiZWNvbWUgcmVzcG9uZGVyIGluIGNhcHR1cmUgcGhhc2VcbiAgICAvLyB0byBlYXQgcHJlc3NlcywgYnV0IHN0aWxsIHdhbnQgdG8gZGlzbWlzcyBvbiBpbnRlcmFjdGlvbi5cbiAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSB0b3VjaCBldmVudCBpcyB0aGUgY3VycmVudCBpbnB1dC5cbiAgICBjb25zdCBjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0ID0gVGV4dElucHV0U3RhdGUuY3VycmVudGx5Rm9jdXNlZElucHV0KCk7XG4gICAgaWYgKFxuICAgICAgY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCAhPSBudWxsICYmXG4gICAgICBlLnRhcmdldCAhPT0gY3VycmVudGx5Rm9jdXNlZFRleHRJbnB1dCAmJlxuICAgICAgdGhpcy5fc29mdEtleWJvYXJkSXNEZXRhY2hlZCgpICYmXG4gICAgICB0aGlzLl9rZXlib2FyZElzRGlzbWlzc2libGUoKSAmJlxuICAgICAga2V5Ym9hcmROZXZlclBlcnNpc3RzVGFwc1xuICAgICkge1xuICAgICAgVGV4dElucHV0U3RhdGUuYmx1clRleHRJbnB1dChjdXJyZW50bHlGb2N1c2VkVGV4dElucHV0KTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uVG91Y2hFbmQgJiYgdGhpcy5wcm9wcy5vblRvdWNoRW5kKGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBmcm9tIGFuIGBvblRvdWNoQ2FuY2VsYCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIEV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoQ2FuY2VsOiAoZTogUHJlc3NFdmVudCkgPT4gdm9pZCA9IChlOiBQcmVzc0V2ZW50KSA9PiB7XG4gICAgdGhpcy5faXNUb3VjaGluZyA9IGZhbHNlO1xuICAgIHRoaXMucHJvcHMub25Ub3VjaENhbmNlbCAmJiB0aGlzLnByb3BzLm9uVG91Y2hDYW5jZWwoZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSB0aGlzIGZyb20gYW4gYG9uVG91Y2hTdGFydGAgZXZlbnQuXG4gICAqXG4gICAqIFNpbmNlIHdlIGtub3cgdGhhdCB0aGUgYFNpbXBsZUV2ZW50UGx1Z2luYCBvY2N1cnMgbGF0ZXIgaW4gdGhlIHBsdWdpblxuICAgKiBvcmRlciwgYWZ0ZXIgYFJlc3BvbmRlckV2ZW50UGx1Z2luYCwgd2UgY2FuIGRldGVjdCB0aGF0IHdlIHdlcmUgKm5vdCpcbiAgICogcGVybWl0dGVkIHRvIGJlIHRoZSByZXNwb25kZXIgKHByZXN1bWFibHkgYmVjYXVzZSBhIGNvbnRhaW5lZCB2aWV3IGJlY2FtZVxuICAgKiByZXNwb25kZXIpLiBUaGUgYG9uUmVzcG9uZGVyUmVqZWN0YCB3b24ndCBmaXJlIGluIHRoYXQgY2FzZSAtIGl0IG9ubHlcbiAgICogZmlyZXMgd2hlbiBhICpjdXJyZW50KiByZXNwb25kZXIgcmVqZWN0cyBvdXIgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmVzc0V2ZW50fSBlIFRvdWNoIFN0YXJ0IGV2ZW50LlxuICAgKi9cbiAgX2hhbmRsZVRvdWNoU3RhcnQ6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLl9pc1RvdWNoaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hTdGFydCAmJiB0aGlzLnByb3BzLm9uVG91Y2hTdGFydChlKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoaXMgZnJvbSBhbiBgb25Ub3VjaE1vdmVgIGV2ZW50LlxuICAgKlxuICAgKiBTaW5jZSB3ZSBrbm93IHRoYXQgdGhlIGBTaW1wbGVFdmVudFBsdWdpbmAgb2NjdXJzIGxhdGVyIGluIHRoZSBwbHVnaW5cbiAgICogb3JkZXIsIGFmdGVyIGBSZXNwb25kZXJFdmVudFBsdWdpbmAsIHdlIGNhbiBkZXRlY3QgdGhhdCB3ZSB3ZXJlICpub3QqXG4gICAqIHBlcm1pdHRlZCB0byBiZSB0aGUgcmVzcG9uZGVyIChwcmVzdW1hYmx5IGJlY2F1c2UgYSBjb250YWluZWQgdmlldyBiZWNhbWVcbiAgICogcmVzcG9uZGVyKS4gVGhlIGBvblJlc3BvbmRlclJlamVjdGAgd29uJ3QgZmlyZSBpbiB0aGF0IGNhc2UgLSBpdCBvbmx5XG4gICAqIGZpcmVzIHdoZW4gYSAqY3VycmVudCogcmVzcG9uZGVyIHJlamVjdHMgb3VyIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJlc3NFdmVudH0gZSBUb3VjaCBTdGFydCBldmVudC5cbiAgICovXG4gIF9oYW5kbGVUb3VjaE1vdmU6IChlOiBQcmVzc0V2ZW50KSA9PiB2b2lkID0gKGU6IFByZXNzRXZlbnQpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uVG91Y2hNb3ZlICYmIHRoaXMucHJvcHMub25Ub3VjaE1vdmUoZSk7XG4gIH07XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUgfCBSZWFjdC5FbGVtZW50PHN0cmluZz4ge1xuICAgIGNvbnN0IFtOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXcsIE5hdGl2ZURpcmVjdGlvbmFsU2Nyb2xsQ29udGVudFZpZXddID1cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZVxuICAgICAgICA/IE5hdGl2ZUhvcml6b250YWxTY3JvbGxWaWV3VHVwbGVcbiAgICAgICAgOiBOYXRpdmVWZXJ0aWNhbFNjcm9sbFZpZXdUdXBsZTtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXJTdHlsZSA9IFtcbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZSAmJiBzdHlsZXMuY29udGVudENvbnRhaW5lckhvcml6b250YWwsXG4gICAgICB0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSxcbiAgICBdO1xuICAgIGlmIChfX0RFVl9fICYmIHRoaXMucHJvcHMuc3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICBjb25zdCBzdHlsZSA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLnN0eWxlKTtcbiAgICAgIGNvbnN0IGNoaWxkTGF5b3V0UHJvcHMgPSBbJ2FsaWduSXRlbXMnLCAnanVzdGlmeUNvbnRlbnQnXS5maWx0ZXIoXG4gICAgICAgIHByb3AgPT4gc3R5bGUgJiYgc3R5bGVbcHJvcF0gIT09IHVuZGVmaW5lZCxcbiAgICAgICk7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGNoaWxkTGF5b3V0UHJvcHMubGVuZ3RoID09PSAwLFxuICAgICAgICAnU2Nyb2xsVmlldyBjaGlsZCBsYXlvdXQgKCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGNoaWxkTGF5b3V0UHJvcHMpICtcbiAgICAgICAgICAnKSBtdXN0IGJlIGFwcGxpZWQgdGhyb3VnaCB0aGUgY29udGVudENvbnRhaW5lclN0eWxlIHByb3AuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudFNpemVDaGFuZ2VQcm9wcyA9XG4gICAgICB0aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UgPT0gbnVsbFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiB7XG4gICAgICAgICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlQ29udGVudE9uTGF5b3V0LFxuICAgICAgICAgIH07XG5cbiAgICBjb25zdCB7c3RpY2t5SGVhZGVySW5kaWNlc30gPSB0aGlzLnByb3BzO1xuICAgIGxldCBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICBpZiAoc3RpY2t5SGVhZGVySW5kaWNlcyAhPSBudWxsICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY2hpbGRBcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXk8JEZsb3dGaXhNZT4oXG4gICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW4sXG4gICAgICApO1xuXG4gICAgICBjaGlsZHJlbiA9IGNoaWxkQXJyYXkubWFwKChjaGlsZCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXhPZkluZGV4ID0gY2hpbGQgPyBzdGlja3lIZWFkZXJJbmRpY2VzLmluZGV4T2YoaW5kZXgpIDogLTE7XG4gICAgICAgIGlmIChpbmRleE9mSW5kZXggPiAtMSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzdGlja3lIZWFkZXJJbmRpY2VzW2luZGV4T2ZJbmRleCArIDFdO1xuICAgICAgICAgIGNvbnN0IFN0aWNreUhlYWRlckNvbXBvbmVudCA9XG4gICAgICAgICAgICB0aGlzLnByb3BzLlN0aWNreUhlYWRlckNvbXBvbmVudCB8fCBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U3RpY2t5SGVhZGVyQ29tcG9uZW50XG4gICAgICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgICAgICBuYXRpdmVJRD17J1N0aWNreUhlYWRlci0nICsga2V5fSAvKiBUT0RPOiBUNjgyNTg4NDYuICovXG4gICAgICAgICAgICAgIHJlZj17cmVmID0+IHRoaXMuX3NldFN0aWNreUhlYWRlclJlZihrZXksIHJlZil9XG4gICAgICAgICAgICAgIG5leHRIZWFkZXJMYXlvdXRZPXt0aGlzLl9oZWFkZXJMYXlvdXRZcy5nZXQoXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0S2V5Rm9ySW5kZXgobmV4dEluZGV4LCBjaGlsZEFycmF5KSxcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgb25MYXlvdXQ9e2V2ZW50ID0+IHRoaXMuX29uU3RpY2t5SGVhZGVyTGF5b3V0KGluZGV4LCBldmVudCwga2V5KX1cbiAgICAgICAgICAgICAgc2Nyb2xsQW5pbWF0ZWRWYWx1ZT17dGhpcy5fc2Nyb2xsQW5pbWF0ZWRWYWx1ZX1cbiAgICAgICAgICAgICAgaW52ZXJ0ZWQ9e3RoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc31cbiAgICAgICAgICAgICAgaGlkZGVuT25TY3JvbGw9e3RoaXMucHJvcHMuc3RpY2t5SGVhZGVySGlkZGVuT25TY3JvbGx9XG4gICAgICAgICAgICAgIHNjcm9sbFZpZXdIZWlnaHQ9e3RoaXMuc3RhdGUubGF5b3V0SGVpZ2h0fT5cbiAgICAgICAgICAgICAge2NoaWxkfVxuICAgICAgICAgICAgPC9TdGlja3lIZWFkZXJDb21wb25lbnQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZHJlbiA9IChcbiAgICAgIDxTY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlclxuICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5ob3Jpem9udGFsID09PSB0cnVlID8gSE9SSVpPTlRBTCA6IFZFUlRJQ0FMfT5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9TY3JvbGxWaWV3Q29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuXG4gICAgY29uc3QgaGFzU3RpY2t5SGVhZGVycyA9XG4gICAgICBBcnJheS5pc0FycmF5KHN0aWNreUhlYWRlckluZGljZXMpICYmIHN0aWNreUhlYWRlckluZGljZXMubGVuZ3RoID4gMDtcblxuICAgIGNvbnN0IGNvbnRlbnRDb250YWluZXIgPSAoXG4gICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50Vmlld1xuICAgICAgICB7Li4uY29udGVudFNpemVDaGFuZ2VQcm9wc31cbiAgICAgICAgcmVmPXt0aGlzLl9pbm5lclZpZXcuZ2V0Rm9yd2FyZGluZ1JlZih0aGlzLnByb3BzLmlubmVyVmlld1JlZil9XG4gICAgICAgIHN0eWxlPXtjb250ZW50Q29udGFpbmVyU3R5bGV9XG4gICAgICAgIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz17XG4gICAgICAgICAgLy8gU3VidmlldyBjbGlwcGluZyBjYXVzZXMgaXNzdWVzIHdpdGggc3RpY2t5IGhlYWRlcnMgb24gQW5kcm9pZCBhbmRcbiAgICAgICAgICAvLyB3b3VsZCBiZSBoYXJkIHRvIGZpeCBwcm9wZXJseSBpbiBhIHBlcmZvcm1hbnQgd2F5LlxuICAgICAgICAgIFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgaGFzU3RpY2t5SGVhZGVyc1xuICAgICAgICAgICAgPyBmYWxzZVxuICAgICAgICAgICAgOiB0aGlzLnByb3BzLnJlbW92ZUNsaXBwZWRTdWJ2aWV3c1xuICAgICAgICB9XG4gICAgICAgIGNvbGxhcHNhYmxlPXtmYWxzZX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxDb250ZW50Vmlldz5cbiAgICApO1xuXG4gICAgY29uc3QgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCA9XG4gICAgICB0aGlzLnByb3BzLmFsd2F5c0JvdW5jZUhvcml6b250YWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlSG9yaXpvbnRhbFxuICAgICAgICA6IHRoaXMucHJvcHMuaG9yaXpvbnRhbDtcblxuICAgIGNvbnN0IGFsd2F5c0JvdW5jZVZlcnRpY2FsID1cbiAgICAgIHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWwgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IHRoaXMucHJvcHMuYWx3YXlzQm91bmNlVmVydGljYWxcbiAgICAgICAgOiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsO1xuXG4gICAgY29uc3QgYmFzZVN0eWxlID1cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA9PT0gdHJ1ZVxuICAgICAgICA/IHN0eWxlcy5iYXNlSG9yaXpvbnRhbFxuICAgICAgICA6IHN0eWxlcy5iYXNlVmVydGljYWw7XG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAuLi50aGlzLnByb3BzLFxuICAgICAgYWx3YXlzQm91bmNlSG9yaXpvbnRhbCxcbiAgICAgIGFsd2F5c0JvdW5jZVZlcnRpY2FsLFxuICAgICAgc3R5bGU6IFN0eWxlU2hlZXQuY29tcG9zZShiYXNlU3R5bGUsIHRoaXMucHJvcHMuc3R5bGUpLFxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIG9uQ29udGVudFNpemVDaGFuZ2UgZnJvbSBwcm9wcywgc2luY2UgdGhpcyBldmVudCBjYW5cbiAgICAgIC8vIGJ1YmJsZSB1cCBmcm9tIFRleHRJbnB1dHNcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IG51bGwsXG4gICAgICBvbkxheW91dDogdGhpcy5faGFuZGxlTGF5b3V0LFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9oYW5kbGVNb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5faGFuZGxlTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBvblJlc3BvbmRlckdyYW50OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJHcmFudCxcbiAgICAgIG9uUmVzcG9uZGVyUmVqZWN0OiB0aGlzLl9oYW5kbGVSZXNwb25kZXJSZWplY3QsXG4gICAgICBvblJlc3BvbmRlclJlbGVhc2U6IHRoaXMuX2hhbmRsZVJlc3BvbmRlclJlbGVhc2UsXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogdGhpcy5faGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX2hhbmRsZVNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5faGFuZGxlU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uU2Nyb2xsU2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9oYW5kbGVTY3JvbGxTaG91bGRTZXRSZXNwb25kZXIsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcixcbiAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXJDYXB0dXJlOlxuICAgICAgICB0aGlzLl9oYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlckNhcHR1cmUsXG4gICAgICBvblRvdWNoRW5kOiB0aGlzLl9oYW5kbGVUb3VjaEVuZCxcbiAgICAgIG9uVG91Y2hNb3ZlOiB0aGlzLl9oYW5kbGVUb3VjaE1vdmUsXG4gICAgICBvblRvdWNoU3RhcnQ6IHRoaXMuX2hhbmRsZVRvdWNoU3RhcnQsXG4gICAgICBvblRvdWNoQ2FuY2VsOiB0aGlzLl9oYW5kbGVUb3VjaENhbmNlbCxcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9oYW5kbGVTY3JvbGwsXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiBoYXNTdGlja3lIZWFkZXJzXG4gICAgICAgID8gMVxuICAgICAgICA6IHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSxcbiAgICAgIHNlbmRNb21lbnR1bUV2ZW50czpcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gfHwgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kXG4gICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgOiBmYWxzZSxcbiAgICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAgc25hcFRvU3RhcnQ6IHRoaXMucHJvcHMuc25hcFRvU3RhcnQgIT09IGZhbHNlLFxuICAgICAgLy8gZGVmYXVsdCB0byB0cnVlXG4gICAgICBzbmFwVG9FbmQ6IHRoaXMucHJvcHMuc25hcFRvRW5kICE9PSBmYWxzZSxcbiAgICAgIC8vIHBhZ2luZ0VuYWJsZWQgaXMgb3ZlcnJpZGRlbiBieSBzbmFwVG9JbnRlcnZhbCAvIHNuYXBUb09mZnNldHNcbiAgICAgIHBhZ2luZ0VuYWJsZWQ6IFBsYXRmb3JtLnNlbGVjdCh7XG4gICAgICAgIC8vIG9uIGlPUywgcGFnaW5nRW5hYmxlZCBtdXN0IGJlIHNldCB0byBmYWxzZSB0byBoYXZlIHNuYXBUb0ludGVydmFsIC8gc25hcFRvT2Zmc2V0cyB3b3JrXG4gICAgICAgIGlvczpcbiAgICAgICAgICB0aGlzLnByb3BzLnBhZ2luZ0VuYWJsZWQgPT09IHRydWUgJiZcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb0ludGVydmFsID09IG51bGwgJiZcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb09mZnNldHMgPT0gbnVsbCxcbiAgICAgICAgLy8gb24gQW5kcm9pZCwgcGFnaW5nRW5hYmxlZCBtdXN0IGJlIHNldCB0byB0cnVlIHRvIGhhdmUgc25hcFRvSW50ZXJ2YWwgLyBzbmFwVG9PZmZzZXRzIHdvcmtcbiAgICAgICAgYW5kcm9pZDpcbiAgICAgICAgICB0aGlzLnByb3BzLnBhZ2luZ0VuYWJsZWQgPT09IHRydWUgfHxcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb0ludGVydmFsICE9IG51bGwgfHxcbiAgICAgICAgICB0aGlzLnByb3BzLnNuYXBUb09mZnNldHMgIT0gbnVsbCxcbiAgICAgIH0pLFxuICAgIH07XG5cbiAgICBjb25zdCB7ZGVjZWxlcmF0aW9uUmF0ZX0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkZWNlbGVyYXRpb25SYXRlICE9IG51bGwpIHtcbiAgICAgIHByb3BzLmRlY2VsZXJhdGlvblJhdGUgPSBwcm9jZXNzRGVjZWxlcmF0aW9uUmF0ZShkZWNlbGVyYXRpb25SYXRlKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWZyZXNoQ29udHJvbCA9IHRoaXMucHJvcHMucmVmcmVzaENvbnRyb2w7XG4gICAgY29uc3Qgc2Nyb2xsVmlld1JlZiA9IHRoaXMuX3Njcm9sbFZpZXcuZ2V0Rm9yd2FyZGluZ1JlZihcbiAgICAgIHRoaXMucHJvcHMuc2Nyb2xsVmlld1JlZixcbiAgICApO1xuXG4gICAgaWYgKHJlZnJlc2hDb250cm9sKSB7XG4gICAgICBpZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gICAgICAgIC8vIE9uIGlPUyB0aGUgUmVmcmVzaENvbnRyb2wgaXMgYSBjaGlsZCBvZiB0aGUgU2Nyb2xsVmlldy5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3IHsuLi5wcm9wc30gcmVmPXtzY3JvbGxWaWV3UmVmfT5cbiAgICAgICAgICAgIHtyZWZyZXNoQ29udHJvbH1cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3PlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgIC8vIE9uIEFuZHJvaWQgd3JhcCB0aGUgU2Nyb2xsVmlldyB3aXRoIGEgQW5kcm9pZFN3aXBlUmVmcmVzaExheW91dC5cbiAgICAgICAgLy8gU2luY2UgdGhlIFNjcm9sbFZpZXcgaXMgd3JhcHBlZCBhZGQgdGhlIHN0eWxlIHByb3BzIHRvIHRoZVxuICAgICAgICAvLyBBbmRyb2lkU3dpcGVSZWZyZXNoTGF5b3V0IGFuZCB1c2UgZmxleDogMSBmb3IgdGhlIFNjcm9sbFZpZXcuXG4gICAgICAgIC8vIE5vdGU6IHdlIHNob3VsZCBzcGxpdCBwcm9wcy5zdHlsZSBvbiB0aGUgaW5uZXIgYW5kIG91dGVyIHByb3BzXG4gICAgICAgIC8vIGhvd2V2ZXIsIHRoZSBTY3JvbGxWaWV3IHN0aWxsIG5lZWRzIHRoZSBiYXNlU3R5bGUgdG8gYmUgc2Nyb2xsYWJsZVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3VuZGVyY29uc3RyYWluZWQtaW1wbGljaXQtaW5zdGFudGlhdGlvbl1cbiAgICAgICAgY29uc3Qge291dGVyLCBpbm5lcn0gPSBzcGxpdExheW91dFByb3BzKGZsYXR0ZW5TdHlsZShwcm9wcy5zdHlsZSkpO1xuICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KFxuICAgICAgICAgIHJlZnJlc2hDb250cm9sLFxuICAgICAgICAgIHtzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKGJhc2VTdHlsZSwgb3V0ZXIpfSxcbiAgICAgICAgICA8TmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3XG4gICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5jb21wb3NlKGJhc2VTdHlsZSwgaW5uZXIpfVxuICAgICAgICAgICAgcmVmPXtzY3JvbGxWaWV3UmVmfT5cbiAgICAgICAgICAgIHtjb250ZW50Q29udGFpbmVyfVxuICAgICAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3PixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxOYXRpdmVEaXJlY3Rpb25hbFNjcm9sbFZpZXcgey4uLnByb3BzfSByZWY9e3Njcm9sbFZpZXdSZWZ9PlxuICAgICAgICB7Y29udGVudENvbnRhaW5lcn1cbiAgICAgIDwvTmF0aXZlRGlyZWN0aW9uYWxTY3JvbGxWaWV3PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBiYXNlVmVydGljYWw6IHtcbiAgICBmbGV4R3JvdzogMSxcbiAgICBmbGV4U2hyaW5rOiAxLFxuICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgIG92ZXJmbG93OiAnc2Nyb2xsJyxcbiAgfSxcbiAgYmFzZUhvcml6b250YWw6IHtcbiAgICBmbGV4R3JvdzogMSxcbiAgICBmbGV4U2hyaW5rOiAxLFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIG92ZXJmbG93OiAnc2Nyb2xsJyxcbiAgfSxcbiAgY29udGVudENvbnRhaW5lckhvcml6b250YWw6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgfSxcbn0pO1xuXG50eXBlIEZvcndhcmRlZFJlZjxUPiA9IHtjdXJyZW50OiBudWxsIHwgVCwgLi4ufSB8ICgobnVsbCB8IFQpID0+IG1peGVkKTtcblxudHlwZSBSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+ID0ge1xuICBnZXRGb3J3YXJkaW5nUmVmOiAoXG4gICAgP0ZvcndhcmRlZFJlZjxUUHVibGljSW5zdGFuY2U+LFxuICApID0+IChUTmF0aXZlSW5zdGFuY2UgfCBudWxsKSA9PiB2b2lkLFxuICBuYXRpdmVJbnN0YW5jZTogVE5hdGl2ZUluc3RhbmNlIHwgbnVsbCxcbiAgcHVibGljSW5zdGFuY2U6IFRQdWJsaWNJbnN0YW5jZSB8IG51bGwsXG59O1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGB1c2VDYWxsYmFja2AgYW5kIGB1c2VNZXJnZVJlZnNgXG4gKiBvbmNlIGBTY3JvbGxWaWV3YCBpcyByZWltcGxlbWVudGVkIGFzIGEgZnVuY3Rpb25hbCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlZkZvcndhcmRlcjxUTmF0aXZlSW5zdGFuY2UsIFRQdWJsaWNJbnN0YW5jZT4oXG4gIG11dGF0b3I6IFROYXRpdmVJbnN0YW5jZSA9PiBUUHVibGljSW5zdGFuY2UsXG4pOiBSZWZGb3J3YXJkZXI8VE5hdGl2ZUluc3RhbmNlLCBUUHVibGljSW5zdGFuY2U+IHtcbiAgY29uc3Qgc3RhdGU6IFJlZkZvcndhcmRlcjxUTmF0aXZlSW5zdGFuY2UsIFRQdWJsaWNJbnN0YW5jZT4gPSB7XG4gICAgZ2V0Rm9yd2FyZGluZ1JlZjogbWVtb2l6ZShmb3J3YXJkZWRSZWYgPT4ge1xuICAgICAgcmV0dXJuIChuYXRpdmVJbnN0YW5jZTogVE5hdGl2ZUluc3RhbmNlIHwgbnVsbCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBwdWJsaWNJbnN0YW5jZSA9XG4gICAgICAgICAgbmF0aXZlSW5zdGFuY2UgPT0gbnVsbCA/IG51bGwgOiBtdXRhdG9yKG5hdGl2ZUluc3RhbmNlKTtcblxuICAgICAgICBzdGF0ZS5uYXRpdmVJbnN0YW5jZSA9IG5hdGl2ZUluc3RhbmNlO1xuICAgICAgICBzdGF0ZS5wdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlO1xuXG4gICAgICAgIGlmIChmb3J3YXJkZWRSZWYgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgZm9yd2FyZGVkUmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBmb3J3YXJkZWRSZWYocHVibGljSW5zdGFuY2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3J3YXJkZWRSZWYuY3VycmVudCA9IHB1YmxpY0luc3RhbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSxcbiAgICBuYXRpdmVJbnN0YW5jZTogbnVsbCxcbiAgICBwdWJsaWNJbnN0YW5jZTogbnVsbCxcbiAgfTtcblxuICByZXR1cm4gc3RhdGU7XG59XG5cbi8qICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF0gVGhlIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieSBGbG93J3NcbiAqIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG5mdW5jdGlvbiBXcmFwcGVyKHByb3BzLCByZWY6IChtaXhlZCA9PiBtaXhlZCkgfCB7Y3VycmVudDogbWl4ZWQsIC4uLn0pIHtcbiAgcmV0dXJuIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gc2Nyb2xsVmlld1JlZj17cmVmfSAvPjtcbn1cbldyYXBwZXIuZGlzcGxheU5hbWUgPSAnU2Nyb2xsVmlldyc7XG5jb25zdCBGb3J3YXJkZWRTY3JvbGxWaWV3ID0gUmVhY3QuZm9yd2FyZFJlZihXcmFwcGVyKTtcblxuLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEFkZCBzdGF0aWMgY29udGV4dCB0byBGb3J3YXJkZWRTY3JvbGxWaWV3XG5Gb3J3YXJkZWRTY3JvbGxWaWV3LkNvbnRleHQgPSBTY3JvbGxWaWV3Q29udGV4dDtcblxuRm9yd2FyZGVkU2Nyb2xsVmlldy5kaXNwbGF5TmFtZSA9ICdTY3JvbGxWaWV3JztcblxubW9kdWxlLmV4cG9ydHMgPSAoKEZvcndhcmRlZFNjcm9sbFZpZXc6ICRGbG93Rml4TWUpOiBSZWFjdC5BYnN0cmFjdENvbXBvbmVudDxcbiAgUmVhY3QuRWxlbWVudENvbmZpZzx0eXBlb2YgU2Nyb2xsVmlldz4sXG4gIFB1YmxpY1Njcm9sbFZpZXdJbnN0YW5jZSxcbj4gJlxuICBTY3JvbGxWaWV3Q29tcG9uZW50U3RhdGljcyk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUF5QkEsSUFBQUEsdUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGdCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxjQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxhQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxrQkFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sV0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sV0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsZ0JBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLFNBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLFNBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLGVBQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFZLEtBQUEsR0FBQWIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFhLGtEQUFBLEdBQUFkLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBYywyQ0FBQSxHQUFBZixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQWUsd0JBQUEsR0FBQWhCLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBZ0IsaUNBQUEsR0FBQWpCLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBaUIsbUJBQUEsR0FBQWxCLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBa0Isa0JBQUEsR0FBQUMsdUJBQUEsQ0FBQW5CLE9BQUE7QUFDQSxJQUFBb0IsMEJBQUEsR0FBQXJCLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBcUIsdUJBQUEsR0FBQXRCLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBc0IsVUFBQSxHQUFBdkIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUF1QixXQUFBLEdBQUF4QixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQXdCLFdBQUEsR0FBQXpCLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBeUIsS0FBQSxHQUFBTix1QkFBQSxDQUFBbkIsT0FBQTtBQUErQixJQUFBMEIsV0FBQSxHQUFBMUIsT0FBQTtBQUFBLFNBQUFtQix3QkFBQVEsQ0FBQSxFQUFBQyxDQUFBLDZCQUFBQyxPQUFBLE1BQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQVYsdUJBQUEsWUFBQUEsd0JBQUFRLENBQUEsRUFBQUMsQ0FBQSxTQUFBQSxDQUFBLElBQUFELENBQUEsSUFBQUEsQ0FBQSxDQUFBSyxVQUFBLFNBQUFMLENBQUEsTUFBQU0sQ0FBQSxFQUFBQyxDQUFBLEVBQUFDLENBQUEsS0FBQUMsU0FBQSxRQUFBQyxPQUFBLEVBQUFWLENBQUEsaUJBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsU0FBQVEsQ0FBQSxNQUFBRixDQUFBLEdBQUFMLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLFFBQUFHLENBQUEsQ0FBQUssR0FBQSxDQUFBWCxDQUFBLFVBQUFNLENBQUEsQ0FBQU0sR0FBQSxDQUFBWixDQUFBLEdBQUFNLENBQUEsQ0FBQU8sR0FBQSxDQUFBYixDQUFBLEVBQUFRLENBQUEsY0FBQU0sRUFBQSxJQUFBZCxDQUFBLGdCQUFBYyxFQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxFQUFBLE9BQUFQLENBQUEsSUFBQUQsQ0FBQSxHQUFBVyxNQUFBLENBQUFDLGNBQUEsS0FBQUQsTUFBQSxDQUFBRSx3QkFBQSxDQUFBbkIsQ0FBQSxFQUFBYyxFQUFBLE9BQUFQLENBQUEsQ0FBQUssR0FBQSxJQUFBTCxDQUFBLENBQUFNLEdBQUEsSUFBQVAsQ0FBQSxDQUFBRSxDQUFBLEVBQUFNLEVBQUEsRUFBQVAsQ0FBQSxJQUFBQyxDQUFBLENBQUFNLEVBQUEsSUFBQWQsQ0FBQSxDQUFBYyxFQUFBLFdBQUFOLENBQUEsS0FBQVIsQ0FBQSxFQUFBQyxDQUFBO0FBQUEsU0FBQW1CLFFBQUFwQixDQUFBLEVBQUFHLENBQUEsUUFBQUYsQ0FBQSxHQUFBZ0IsTUFBQSxDQUFBSSxJQUFBLENBQUFyQixDQUFBLE9BQUFpQixNQUFBLENBQUFLLHFCQUFBLFFBQUFoQixDQUFBLEdBQUFXLE1BQUEsQ0FBQUsscUJBQUEsQ0FBQXRCLENBQUEsR0FBQUcsQ0FBQSxLQUFBRyxDQUFBLEdBQUFBLENBQUEsQ0FBQWlCLE1BQUEsV0FBQXBCLENBQUEsV0FBQWMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBbkIsQ0FBQSxFQUFBRyxDQUFBLEVBQUFxQixVQUFBLE9BQUF2QixDQUFBLENBQUF3QixJQUFBLENBQUFDLEtBQUEsQ0FBQXpCLENBQUEsRUFBQUssQ0FBQSxZQUFBTCxDQUFBO0FBQUEsU0FBQTBCLGNBQUEzQixDQUFBLGFBQUFHLENBQUEsTUFBQUEsQ0FBQSxHQUFBeUIsU0FBQSxDQUFBQyxNQUFBLEVBQUExQixDQUFBLFVBQUFGLENBQUEsV0FBQTJCLFNBQUEsQ0FBQXpCLENBQUEsSUFBQXlCLFNBQUEsQ0FBQXpCLENBQUEsUUFBQUEsQ0FBQSxPQUFBaUIsT0FBQSxDQUFBSCxNQUFBLENBQUFoQixDQUFBLE9BQUE2QixPQUFBLFdBQUEzQixDQUFBLFFBQUE0QixnQkFBQSxDQUFBckIsT0FBQSxFQUFBVixDQUFBLEVBQUFHLENBQUEsRUFBQUYsQ0FBQSxDQUFBRSxDQUFBLFNBQUFjLE1BQUEsQ0FBQWUseUJBQUEsR0FBQWYsTUFBQSxDQUFBZ0IsZ0JBQUEsQ0FBQWpDLENBQUEsRUFBQWlCLE1BQUEsQ0FBQWUseUJBQUEsQ0FBQS9CLENBQUEsS0FBQW1CLE9BQUEsQ0FBQUgsTUFBQSxDQUFBaEIsQ0FBQSxHQUFBNkIsT0FBQSxXQUFBM0IsQ0FBQSxJQUFBYyxNQUFBLENBQUFDLGNBQUEsQ0FBQWxCLENBQUEsRUFBQUcsQ0FBQSxFQUFBYyxNQUFBLENBQUFFLHdCQUFBLENBQUFsQixDQUFBLEVBQUFFLENBQUEsaUJBQUFILENBQUE7QUFBQSxTQUFBa0MsV0FBQWpDLENBQUEsRUFBQUssQ0FBQSxFQUFBTixDQUFBLFdBQUFNLENBQUEsT0FBQTZCLGdCQUFBLENBQUF6QixPQUFBLEVBQUFKLENBQUEsT0FBQThCLDJCQUFBLENBQUExQixPQUFBLEVBQUFULENBQUEsRUFBQW9DLHlCQUFBLEtBQUFDLE9BQUEsQ0FBQUMsU0FBQSxDQUFBakMsQ0FBQSxFQUFBTixDQUFBLFlBQUFtQyxnQkFBQSxDQUFBekIsT0FBQSxFQUFBVCxDQUFBLEVBQUF1QyxXQUFBLElBQUFsQyxDQUFBLENBQUFvQixLQUFBLENBQUF6QixDQUFBLEVBQUFELENBQUE7QUFBQSxTQUFBcUMsMEJBQUEsY0FBQXBDLENBQUEsSUFBQXdDLE9BQUEsQ0FBQUMsU0FBQSxDQUFBQyxPQUFBLENBQUEzQixJQUFBLENBQUFzQixPQUFBLENBQUFDLFNBQUEsQ0FBQUUsT0FBQSxpQ0FBQXhDLENBQUEsYUFBQW9DLHlCQUFBLFlBQUFBLDBCQUFBLGFBQUFwQyxDQUFBO0FBRS9CLElBQUkyQyxpQkFBUSxDQUFDQyxFQUFFLEtBQUssS0FBSyxFQUFFO0VBQ3pCeEUsT0FBTyxtQ0FBbUMsQ0FBQztBQUM3QztBQUVBLElBQUF5RSxJQUFBLEdBQ0VGLGlCQUFRLENBQUNDLEVBQUUsS0FBSyxTQUFTLEdBQ3JCO0lBQ0VFLCtCQUErQixFQUFFLENBQy9CQyxtREFBMEMsRUFDMUNDLDBEQUFpRCxDQUNsRDtJQUNEQyw2QkFBNkIsRUFBRSxDQUFDQyxrQ0FBeUIsRUFBRUMsYUFBSTtFQUNqRSxDQUFDLEdBQ0Q7SUFDRUwsK0JBQStCLEVBQUUsQ0FDL0JJLGtDQUF5QixFQUN6QkUseUNBQWdDLENBQ2pDO0lBQ0RILDZCQUE2QixFQUFFLENBQzdCQyxrQ0FBeUIsRUFDekJFLHlDQUFnQztFQUVwQyxDQUFDO0VBbEJBTiwrQkFBK0IsR0FBQUQsSUFBQSxDQUEvQkMsK0JBQStCO0VBQUVHLDZCQUE2QixHQUFBSixJQUFBLENBQTdCSSw2QkFBNkI7QUErbUJyRSxJQUFNSSxxQ0FBcUMsR0FBRyxFQUFFO0FBQUMsSUF5QzNDQyxVQUFVLGFBQUFDLGdCQUFBO0VBR2QsU0FBQUQsV0FBWUUsS0FBWSxFQUFFO0lBQUEsSUFBQUMscUJBQUEsRUFBQUMsc0JBQUEsRUFBQUMscUJBQUEsRUFBQUMsc0JBQUE7SUFBQSxJQUFBQyxLQUFBO0lBQUEsSUFBQUMsZ0JBQUEsQ0FBQXJELE9BQUEsUUFBQTZDLFVBQUE7SUFDeEJPLEtBQUEsR0FBQTVCLFVBQUEsT0FBQXFCLFVBQUEsR0FBTUUsS0FBSztJQUFFSyxLQUFBLENBU2ZFLDhCQUE4QixHQUErQixJQUFJO0lBQUFGLEtBQUEsQ0FDakVHLGlCQUFpQixHQUNmLElBQUlDLEdBQUcsQ0FBQyxDQUFDO0lBQUFKLEtBQUEsQ0FDWEssZUFBZSxHQUF3QixJQUFJRCxHQUFHLENBQUMsQ0FBQztJQUFBSixLQUFBLENBRWhETSxnQkFBZ0IsR0FBcUIsSUFBSTtJQUFBTixLQUFBLENBQ3pDTyx1QkFBdUIsR0FBVyxDQUFDO0lBQUFQLEtBQUEsQ0FDbkNRLFdBQVcsR0FBWSxLQUFLO0lBQUFSLEtBQUEsQ0FDNUJTLDRCQUE0QixHQUFXLENBQUM7SUFBQVQsS0FBQSxDQUN4Q1UsMEJBQTBCLEdBQVcsQ0FBQztJQUFBVixLQUFBLENBT3RDVyxxQ0FBcUMsR0FBWSxLQUFLO0lBQUFYLEtBQUEsQ0FDdERZLDhCQUE4QixHQUFZLEtBQUs7SUFBQVosS0FBQSxDQUMvQ2EsNEJBQTRCLEdBQWEsSUFBSTtJQUFBYixLQUFBLENBRTdDYyxTQUFTLEdBQWEsSUFBSTtJQUFBZCxLQUFBLENBRTFCZSw2QkFBNkIsR0FBdUIsSUFBSTtJQUFBZixLQUFBLENBQ3hEZ0IsNkJBQTZCLEdBQXVCLElBQUk7SUFBQWhCLEtBQUEsQ0FDeERpQiw0QkFBNEIsR0FBdUIsSUFBSTtJQUFBakIsS0FBQSxDQUN2RGtCLDRCQUE0QixHQUF1QixJQUFJO0lBQUFsQixLQUFBLENBRXZEbUIsS0FBSyxHQUFVO01BQ2JDLFlBQVksRUFBRTtJQUNoQixDQUFDO0lBQUFwQixLQUFBLENBNEVEcUIsa0JBQWtCLEdBQThCLFlBQU07TUFFcEQsT0FBQXJCLEtBQUE7SUFDRixDQUFDO0lBQUFBLEtBQUEsQ0FFRHNCLGlCQUFpQixHQUFrQixZQUFNO01BQ3ZDLE9BQU8sSUFBQUMsNkJBQWMsRUFBQ3ZCLEtBQUEsQ0FBS3dCLFdBQVcsQ0FBQ0MsY0FBYyxDQUFDO0lBQ3hELENBQUM7SUFBQXpCLEtBQUEsQ0FFRDBCLGdCQUFnQixHQUFrQixZQUFNO01BQ3RDLE9BQU8sSUFBQUgsNkJBQWMsRUFBQ3ZCLEtBQUEsQ0FBSzJCLFVBQVUsQ0FBQ0YsY0FBYyxDQUFDO0lBQ3ZELENBQUM7SUFBQXpCLEtBQUEsQ0FFRDRCLGVBQWUsR0FBbUMsWUFBTTtNQUN0RCxPQUFPNUIsS0FBQSxDQUFLMkIsVUFBVSxDQUFDRixjQUFjO0lBQ3ZDLENBQUM7SUFBQXpCLEtBQUEsQ0FFRDZCLGtCQUFrQixHQUEwQyxZQUFNO01BQ2hFLE9BQU83QixLQUFBLENBQUt3QixXQUFXLENBQUNDLGNBQWM7SUFDeEMsQ0FBQztJQUFBekIsS0FBQSxDQWFEOEIsUUFBUSxHQVdJLFVBQ1ZDLE9BT1UsRUFDVkMsV0FBb0IsRUFDcEJDLGtCQUE0QixFQUN6QjtNQUNILElBQUlDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxRQUFRO01BQ2xCLElBQUksT0FBT0wsT0FBTyxLQUFLLFFBQVEsRUFBRTtRQUMvQk0sT0FBTyxDQUFDQyxJQUFJLENBQ1YsdUVBQXVFLEdBQ3JFLDRCQUNKLENBQUM7UUFDREgsQ0FBQyxHQUFHSixPQUFPO1FBQ1hHLENBQUMsR0FBR0YsV0FBVztRQUNmSSxRQUFRLEdBQUdILGtCQUFrQjtNQUMvQixDQUFDLE1BQU0sSUFBSUYsT0FBTyxFQUFFO1FBQ2xCSSxDQUFDLEdBQUdKLE9BQU8sQ0FBQ0ksQ0FBQztRQUNiRCxDQUFDLEdBQUdILE9BQU8sQ0FBQ0csQ0FBQztRQUNiRSxRQUFRLEdBQUdMLE9BQU8sQ0FBQ0ssUUFBUTtNQUM3QjtNQUNBLElBQUlwQyxLQUFBLENBQUt3QixXQUFXLENBQUNDLGNBQWMsSUFBSSxJQUFJLEVBQUU7UUFDM0M7TUFDRjtNQUNBYywyQkFBUSxDQUFDVCxRQUFRLENBQ2Y5QixLQUFBLENBQUt3QixXQUFXLENBQUNDLGNBQWMsRUFDL0JTLENBQUMsSUFBSSxDQUFDLEVBQ05DLENBQUMsSUFBSSxDQUFDLEVBQ05DLFFBQVEsS0FBSyxLQUNmLENBQUM7SUFDSCxDQUFDO0lBQUFwQyxLQUFBLENBVUR3QyxXQUFXLEdBQW1ELFVBQzVEVCxPQUFvQyxFQUNqQztNQUVILElBQU1LLFFBQVEsR0FBRyxDQUFDTCxPQUFPLElBQUlBLE9BQU8sQ0FBQ0ssUUFBUSxNQUFNLEtBQUs7TUFDeEQsSUFBSXBDLEtBQUEsQ0FBS3dCLFdBQVcsQ0FBQ0MsY0FBYyxJQUFJLElBQUksRUFBRTtRQUMzQztNQUNGO01BQ0FjLDJCQUFRLENBQUNDLFdBQVcsQ0FBQ3hDLEtBQUEsQ0FBS3dCLFdBQVcsQ0FBQ0MsY0FBYyxFQUFFVyxRQUFRLENBQUM7SUFDakUsQ0FBQztJQUFBcEMsS0FBQSxDQU9EeUMscUJBQXFCLEdBQWUsWUFBTTtNQUN4QyxJQUFJekMsS0FBQSxDQUFLd0IsV0FBVyxDQUFDQyxjQUFjLElBQUksSUFBSSxFQUFFO1FBQzNDO01BQ0Y7TUFDQWMsMkJBQVEsQ0FBQ0UscUJBQXFCLENBQUN6QyxLQUFBLENBQUt3QixXQUFXLENBQUNDLGNBQWMsQ0FBQztJQUNqRSxDQUFDO0lBQUF6QixLQUFBLENBWUQwQywyQ0FBMkMsR0FJL0IsVUFDVkMsVUFBdUQsRUFDdkRDLGdCQUF5QixFQUN6QkMsMkJBQXFDLEVBQ2xDO01BQ0g3QyxLQUFBLENBQUtPLHVCQUF1QixHQUFHcUMsZ0JBQWdCLElBQUksQ0FBQztNQUNwRDVDLEtBQUEsQ0FBS2EsNEJBQTRCLEdBQUcsQ0FBQyxDQUFDZ0MsMkJBQTJCO01BRWpFLElBQUk3QyxLQUFBLENBQUsyQixVQUFVLENBQUNGLGNBQWMsSUFBSSxJQUFJLEVBQUU7UUFDMUM7TUFDRjtNQUVBLElBQUksT0FBT2tCLFVBQVUsS0FBSyxRQUFRLEVBQUU7UUFDbENHLGtCQUFTLENBQUNDLGFBQWEsQ0FDckJKLFVBQVUsRUFDVixJQUFBSyxtQkFBVSxFQUFDLElBQUF6Qiw2QkFBYyxFQUFBdkIsS0FBSyxDQUFDLENBQUMsRUFFaENBLEtBQUEsQ0FBS2lELG9CQUFvQixFQUN6QmpELEtBQUEsQ0FBS2tELGdDQUNQLENBQUM7TUFDSCxDQUFDLE1BQU07UUFDTFAsVUFBVSxDQUFDSSxhQUFhLENBQ3RCL0MsS0FBQSxDQUFLMkIsVUFBVSxDQUFDRixjQUFjLEVBQzlCekIsS0FBQSxDQUFLa0QsZ0NBQWdDLEVBRXJDbEQsS0FBQSxDQUFLaUQsb0JBQ1AsQ0FBQztNQUNIO0lBQ0YsQ0FBQztJQUFBakQsS0FBQSxDQVFEbUQscUJBQXFCLEdBU1QsVUFDVkMsSUFNRSxFQUNGaEIsUUFBa0IsRUFDZjtNQUNILElBQUFpQixrQkFBUyxFQUFDdkUsaUJBQVEsQ0FBQ0MsRUFBRSxLQUFLLEtBQUssRUFBRSwrQkFBK0IsQ0FBQztNQUNqRSxJQUFJLFVBQVUsSUFBSXFFLElBQUksRUFBRTtRQUN0QnBELEtBQUEsQ0FBS2MsU0FBUyxHQUFHc0MsSUFBSSxDQUFDaEIsUUFBUTtRQUM5QixPQUFPZ0IsSUFBSSxDQUFDaEIsUUFBUTtNQUN0QixDQUFDLE1BQU0sSUFBSSxPQUFPQSxRQUFRLEtBQUssV0FBVyxFQUFFO1FBQzFDQyxPQUFPLENBQUNDLElBQUksQ0FDViwyRkFDRixDQUFDO01BQ0g7TUFFQSxJQUFJdEMsS0FBQSxDQUFLd0IsV0FBVyxDQUFDQyxjQUFjLElBQUksSUFBSSxFQUFFO1FBQzNDO01BQ0Y7TUFDQWMsMkJBQVEsQ0FBQ2UsVUFBVSxDQUNqQnRELEtBQUEsQ0FBS3dCLFdBQVcsQ0FBQ0MsY0FBYyxFQUMvQjJCLElBQUksRUFDSmhCLFFBQVEsS0FBSyxLQUNmLENBQUM7SUFDSCxDQUFDO0lBQUFwQyxLQUFBLENBZ0JEa0QsZ0NBQWdDLEdBS3BCLFVBQUNLLElBQVksRUFBRUMsR0FBVyxFQUFFQyxLQUFhLEVBQUVDLE1BQWMsRUFBSztNQUN4RSxJQUFJQyxlQUFlLEdBQUdDLG1CQUFVLENBQUM5RyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM0RyxNQUFNO01BRXJELElBQU1HLDhCQUE4QixHQUFHLFNBQWpDQSw4QkFBOEJBLENBQUEsRUFBUztRQUMzQyxJQUFJN0QsS0FBQSxDQUFLTSxnQkFBZ0IsSUFBSSxJQUFJLEVBQUU7VUFDakNxRCxlQUFlLEdBQUczRCxLQUFBLENBQUtNLGdCQUFnQixDQUFDd0QsT0FBTztRQUNqRDtRQUNBLElBQUlDLGFBQWEsR0FDZlAsR0FBRyxHQUFHRyxlQUFlLEdBQUdELE1BQU0sR0FBRzFELEtBQUEsQ0FBS08sdUJBQXVCO1FBTS9ELElBQUlQLEtBQUEsQ0FBS2EsNEJBQTRCLEtBQUssSUFBSSxFQUFFO1VBQzlDa0QsYUFBYSxHQUFHQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEVBQUVGLGFBQWEsQ0FBQztRQUM1QztRQUNBL0QsS0FBQSxDQUFLOEIsUUFBUSxDQUFDO1VBQUNJLENBQUMsRUFBRSxDQUFDO1VBQUVDLENBQUMsRUFBRTRCLGFBQWE7VUFBRTNCLFFBQVEsRUFBRTtRQUFJLENBQUMsQ0FBQztRQUV2RHBDLEtBQUEsQ0FBS08sdUJBQXVCLEdBQUcsQ0FBQztRQUNoQ1AsS0FBQSxDQUFLYSw0QkFBNEIsR0FBRyxLQUFLO01BQzNDLENBQUM7TUFFRCxJQUFJYixLQUFBLENBQUtNLGdCQUFnQixJQUFJLElBQUksRUFBRTtRQUtqQzRELFVBQVUsQ0FBQyxZQUFNO1VBQ2ZMLDhCQUE4QixDQUFDLENBQUM7UUFDbEMsQ0FBQyxFQUFFLENBQUMsQ0FBQztNQUNQLENBQUMsTUFBTTtRQUNMQSw4QkFBOEIsQ0FBQyxDQUFDO01BQ2xDO0lBQ0YsQ0FBQztJQUFBN0QsS0FBQSxDQTZERG1FLGFBQWEsR0FBRyxVQUFDakksQ0FBYyxFQUFLO01BQ2xDLElBQUlrSSxPQUFPLEVBQUU7UUFDWCxJQUNFcEUsS0FBQSxDQUFLTCxLQUFLLENBQUMwRSxRQUFRLElBQ25CckUsS0FBQSxDQUFLTCxLQUFLLENBQUMyRSxtQkFBbUIsSUFBSSxJQUFJLElBQ3RDeEYsaUJBQVEsQ0FBQ0MsRUFBRSxLQUFLLEtBQUssRUFDckI7VUFDQXNELE9BQU8sQ0FBQ2tDLEdBQUcsQ0FDVCxxREFBcUQsR0FDbkQsMERBQTBELEdBQzFELDZEQUE2RCxHQUM3RCw4REFBOEQsR0FDOUQsaUJBQ0osQ0FBQztRQUNIO01BQ0Y7TUFDQXZFLEtBQUEsQ0FBS1cscUNBQXFDLEdBQUcsSUFBSTtNQUNqRFgsS0FBQSxDQUFLTCxLQUFLLENBQUMwRSxRQUFRLElBQUlyRSxLQUFBLENBQUtMLEtBQUssQ0FBQzBFLFFBQVEsQ0FBQ25JLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBQUE4RCxLQUFBLENBRUR3RSxhQUFhLEdBQUcsVUFBQ3RJLENBQWMsRUFBSztNQUNsQyxJQUFJOEQsS0FBQSxDQUFLTCxLQUFLLENBQUM4RSxtQkFBbUIsS0FBSyxJQUFJLEVBQUU7UUFDM0N6RSxLQUFBLENBQUswRSxRQUFRLENBQUM7VUFBQ3RELFlBQVksRUFBRWxGLENBQUMsQ0FBQ3lJLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDbEI7UUFBTSxDQUFDLENBQUM7TUFDNUQ7TUFDQSxJQUFJMUQsS0FBQSxDQUFLTCxLQUFLLENBQUNrRixRQUFRLEVBQUU7UUFDdkI3RSxLQUFBLENBQUtMLEtBQUssQ0FBQ2tGLFFBQVEsQ0FBQzNJLENBQUMsQ0FBQztNQUN4QjtJQUNGLENBQUM7SUFBQThELEtBQUEsQ0FFRDhFLHNCQUFzQixHQUFHLFVBQUM1SSxDQUFjLEVBQUs7TUFDM0MsSUFBQTZJLHFCQUFBLEdBQXdCN0ksQ0FBQyxDQUFDeUksV0FBVyxDQUFDQyxNQUFNO1FBQXJDbkIsS0FBSyxHQUFBc0IscUJBQUEsQ0FBTHRCLEtBQUs7UUFBRUMsTUFBTSxHQUFBcUIscUJBQUEsQ0FBTnJCLE1BQU07TUFDcEIxRCxLQUFBLENBQUtMLEtBQUssQ0FBQ3FGLG1CQUFtQixJQUM1QmhGLEtBQUEsQ0FBS0wsS0FBSyxDQUFDcUYsbUJBQW1CLENBQUN2QixLQUFLLEVBQUVDLE1BQU0sQ0FBQztJQUNqRCxDQUFDO0lBQUExRCxLQUFBLENBRUQyQixVQUFVLEdBQ1JzRCxrQkFBa0IsQ0FDaEIsVUFBQ0MsUUFBMkI7TUFBQSxPQUF3QkEsUUFBUTtJQUFBLENBQzlELENBQUM7SUFBQWxGLEtBQUEsQ0FFSHdCLFdBQVcsR0FHUHlELGtCQUFrQixDQUNwQixVQUFDeEQsY0FBd0MsRUFBK0I7TUFVdEUsSUFBTTBELGNBQXdDLEdBQUdoSSxNQUFNLENBQUNpSSxNQUFNLENBQzVEM0QsY0FBYyxFQUNkO1FBQ0VKLGtCQUFrQixFQUFFckIsS0FBQSxDQUFLcUIsa0JBQWtCO1FBQzNDQyxpQkFBaUIsRUFBRXRCLEtBQUEsQ0FBS3NCLGlCQUFpQjtRQUN6Q0ksZ0JBQWdCLEVBQUUxQixLQUFBLENBQUswQixnQkFBZ0I7UUFDdkNFLGVBQWUsRUFBRTVCLEtBQUEsQ0FBSzRCLGVBQWU7UUFDckNDLGtCQUFrQixFQUFFN0IsS0FBQSxDQUFLNkIsa0JBQWtCO1FBQzNDQyxRQUFRLEVBQUU5QixLQUFBLENBQUs4QixRQUFRO1FBQ3ZCVSxXQUFXLEVBQUV4QyxLQUFBLENBQUt3QyxXQUFXO1FBQzdCQyxxQkFBcUIsRUFBRXpDLEtBQUEsQ0FBS3lDLHFCQUFxQjtRQUNqRFUscUJBQXFCLEVBQUVuRCxLQUFBLENBQUttRCxxQkFBcUI7UUFDakRULDJDQUEyQyxFQUN6QzFDLEtBQUEsQ0FBSzBDO01BQ1QsQ0FDRixDQUFDO01BRUQsT0FBT3lDLGNBQWM7SUFDdkIsQ0FDRixDQUFDO0lBQUFuRixLQUFBLENBK0JEcUYsK0JBQStCLEdBQStCLFVBQzVEbkosQ0FBZ0IsRUFDYjtNQUNIOEQsS0FBQSxDQUFLTSxnQkFBZ0IsR0FBR3BFLENBQUMsQ0FBQ29KLGNBQWM7TUFDeEN0RixLQUFBLENBQUtMLEtBQUssQ0FBQzRGLGtCQUFrQixJQUFJdkYsS0FBQSxDQUFLTCxLQUFLLENBQUM0RixrQkFBa0IsQ0FBQ3JKLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBQUE4RCxLQUFBLENBRUR3RiwrQkFBK0IsR0FBK0IsVUFDNUR0SixDQUFnQixFQUNiO01BQ0g4RCxLQUFBLENBQUtNLGdCQUFnQixHQUFHLElBQUk7TUFDNUJOLEtBQUEsQ0FBS0wsS0FBSyxDQUFDOEYsa0JBQWtCLElBQUl6RixLQUFBLENBQUtMLEtBQUssQ0FBQzhGLGtCQUFrQixDQUFDdkosQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFBQThELEtBQUEsQ0FFRDBGLDhCQUE4QixHQUErQixVQUMzRHhKLENBQWdCLEVBQ2I7TUFDSDhELEtBQUEsQ0FBS00sZ0JBQWdCLEdBQUdwRSxDQUFDLENBQUNvSixjQUFjO01BQ3hDdEYsS0FBQSxDQUFLTCxLQUFLLENBQUNnRyxpQkFBaUIsSUFBSTNGLEtBQUEsQ0FBS0wsS0FBSyxDQUFDZ0csaUJBQWlCLENBQUN6SixDQUFDLENBQUM7SUFDakUsQ0FBQztJQUFBOEQsS0FBQSxDQUVENEYsOEJBQThCLEdBQStCLFVBQzNEMUosQ0FBZ0IsRUFDYjtNQUNIOEQsS0FBQSxDQUFLTSxnQkFBZ0IsR0FBRyxJQUFJO01BQzVCTixLQUFBLENBQUtMLEtBQUssQ0FBQ2tHLGlCQUFpQixJQUFJN0YsS0FBQSxDQUFLTCxLQUFLLENBQUNrRyxpQkFBaUIsQ0FBQzNKLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBQUE4RCxLQUFBLENBS0Q4RiwwQkFBMEIsR0FBNkIsVUFBQzVKLENBQWMsRUFBSztNQUN6RThELEtBQUEsQ0FBS1MsNEJBQTRCLEdBQUdzRixNQUFNLENBQUNDLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7TUFDNURqRyxLQUFBLENBQUtMLEtBQUssQ0FBQ3VHLHFCQUFxQixJQUFJbEcsS0FBQSxDQUFLTCxLQUFLLENBQUN1RyxxQkFBcUIsQ0FBQ2hLLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBQUE4RCxLQUFBLENBS0RtRyx3QkFBd0IsR0FBNkIsVUFBQ2pLLENBQWMsRUFBSztNQUN2RWtLLHdCQUFlLENBQUNDLFNBQVMsQ0FBQyxDQUFDO01BQzNCckcsS0FBQSxDQUFLVSwwQkFBMEIsR0FBR3FGLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUMxRGpHLEtBQUEsQ0FBS0wsS0FBSyxDQUFDMkcsbUJBQW1CLElBQUl0RyxLQUFBLENBQUtMLEtBQUssQ0FBQzJHLG1CQUFtQixDQUFDcEssQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFBQThELEtBQUEsQ0FTRHVHLHNCQUFzQixHQUE2QixVQUFDckssQ0FBYyxFQUFLO01BQ3JFa0ssd0JBQWUsQ0FBQ0ksV0FBVyxDQUFDLENBQUM7TUFFN0IsSUFDRTFILGlCQUFRLENBQUNDLEVBQUUsS0FBSyxTQUFTLElBQ3pCaUIsS0FBQSxDQUFLTCxLQUFLLENBQUM4RyxtQkFBbUIsS0FBSyxTQUFTLEVBQzVDO1FBQ0EsSUFBQUMsd0JBQWUsRUFBQyxDQUFDO01BQ25CO01BRUExRyxLQUFBLENBQUtMLEtBQUssQ0FBQ2dILGlCQUFpQixJQUFJM0csS0FBQSxDQUFLTCxLQUFLLENBQUNnSCxpQkFBaUIsQ0FBQ3pLLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBQUE4RCxLQUFBLENBS0Q0RyxvQkFBb0IsR0FBNkIsVUFBQzFLLENBQWMsRUFBSztNQUNuRSxJQUFPMkssUUFBUSxHQUFJM0ssQ0FBQyxDQUFDeUksV0FBVyxDQUF6QmtDLFFBQVE7TUFNZixJQUNFLENBQUM3RyxLQUFBLENBQUs4RyxZQUFZLENBQUMsQ0FBQyxLQUNuQixDQUFDRCxRQUFRLElBQUtBLFFBQVEsQ0FBQzNFLENBQUMsS0FBSyxDQUFDLElBQUkyRSxRQUFRLENBQUMxRSxDQUFDLEtBQUssQ0FBRSxDQUFDLEVBQ3JEO1FBQ0FpRSx3QkFBZSxDQUFDQyxTQUFTLENBQUMsQ0FBQztNQUM3QjtNQUNBckcsS0FBQSxDQUFLTCxLQUFLLENBQUNvSCxlQUFlLElBQUkvRyxLQUFBLENBQUtMLEtBQUssQ0FBQ29ILGVBQWUsQ0FBQzdLLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBQUE4RCxLQUFBLENBT0Q4RyxZQUFZLEdBQWtCLFlBQU07TUFDbEMsSUFBTWIsR0FBRyxHQUFHRixNQUFNLENBQUNDLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDLENBQUM7TUFDcEMsSUFBTWUsOEJBQThCLEdBQ2xDZixHQUFHLEdBQUdqRyxLQUFBLENBQUtVLDBCQUEwQjtNQUN2QyxJQUFNdUcsV0FBVyxHQUNmRCw4QkFBOEIsR0FBR3hILHFDQUFxQyxJQUN0RVEsS0FBQSxDQUFLVSwwQkFBMEIsR0FBR1YsS0FBQSxDQUFLUyw0QkFBNEI7TUFDckUsT0FBT3dHLFdBQVc7SUFDcEIsQ0FBQztJQUFBakgsS0FBQSxDQUtEa0gscUJBQXFCLEdBQTRCLFVBQUNoTCxDQUFhLEVBQUs7TUFDbEU4RCxLQUFBLENBQUtXLHFDQUFxQyxHQUFHLEtBQUs7TUFDbERYLEtBQUEsQ0FBS0wsS0FBSyxDQUFDd0gsZ0JBQWdCLElBQUluSCxLQUFBLENBQUtMLEtBQUssQ0FBQ3dILGdCQUFnQixDQUFDakwsQ0FBQyxDQUFDO01BQzdEOEQsS0FBQSxDQUFLWSw4QkFBOEIsR0FBR1osS0FBQSxDQUFLOEcsWUFBWSxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUFBOUcsS0FBQSxDQVlEb0gsc0JBQXNCLEdBQWUsWUFBTSxDQUFDLENBQUM7SUFBQXBILEtBQUEsQ0FLN0NxSCx1QkFBdUIsR0FBNEIsVUFBQ25MLENBQWEsRUFBSztNQUNwRThELEtBQUEsQ0FBS1EsV0FBVyxHQUFHdEUsQ0FBQyxDQUFDeUksV0FBVyxDQUFDMkMsT0FBTyxDQUFDdkosTUFBTSxLQUFLLENBQUM7TUFDckRpQyxLQUFBLENBQUtMLEtBQUssQ0FBQzRILGtCQUFrQixJQUFJdkgsS0FBQSxDQUFLTCxLQUFLLENBQUM0SCxrQkFBa0IsQ0FBQ3JMLENBQUMsQ0FBQztNQUVqRSxJQUFJLE9BQU9BLENBQUMsQ0FBQ3NMLE1BQU0sS0FBSyxRQUFRLEVBQUU7UUFDaEMsSUFBSXBELE9BQU8sRUFBRTtVQUNYL0IsT0FBTyxDQUFDb0YsS0FBSyxDQUNYLGlGQUNGLENBQUM7UUFDSDtRQUVBO01BQ0Y7TUFJQSxJQUFNQyx5QkFBeUIsR0FBR0MsdUJBQWMsQ0FBQ0MscUJBQXFCLENBQUMsQ0FBQztNQUN4RSxJQUNFRix5QkFBeUIsSUFBSSxJQUFJLElBQ2pDMUgsS0FBQSxDQUFLTCxLQUFLLENBQUNrSSx5QkFBeUIsS0FBSyxJQUFJLElBQzdDN0gsS0FBQSxDQUFLTCxLQUFLLENBQUNrSSx5QkFBeUIsS0FBSyxRQUFRLElBQ2pEN0gsS0FBQSxDQUFLOEgsc0JBQXNCLENBQUMsQ0FBQyxJQUM3QjVMLENBQUMsQ0FBQ3NMLE1BQU0sS0FBS0UseUJBQXlCLElBQ3RDLENBQUMxSCxLQUFBLENBQUtXLHFDQUFxQyxJQUMzQyxDQUFDWCxLQUFBLENBQUtZLDhCQUE4QixFQUNwQztRQUNBK0csdUJBQWMsQ0FBQ0ksYUFBYSxDQUFDTCx5QkFBeUIsQ0FBQztNQUN6RDtJQUNGLENBQUM7SUFBQTFILEtBQUEsQ0FpQkRnSSxrQ0FBa0MsR0FBa0IsWUFBTTtNQUN4RCxPQUFPLENBQUNoSSxLQUFBLENBQUtXLHFDQUFxQztJQUNwRCxDQUFDO0lBQUFYLEtBQUEsQ0FLRGlJLCtCQUErQixHQUFrQixZQUFNO01BRXJELElBQUlqSSxLQUFBLENBQUtMLEtBQUssQ0FBQ3VJLDZCQUE2QixLQUFLLElBQUksRUFBRTtRQUNyRCxPQUFPLEtBQUs7TUFDZDtNQUNBLE9BQU9sSSxLQUFBLENBQUtRLFdBQVc7SUFDekIsQ0FBQztJQUFBUixLQUFBLENBMkJEbUksOEJBQThCLEdBQStCLFVBQzNEak0sQ0FBYSxFQUNWO01BRUgsSUFBSThELEtBQUEsQ0FBS0wsS0FBSyxDQUFDdUksNkJBQTZCLEtBQUssSUFBSSxFQUFFO1FBQ3JELE9BQU8sS0FBSztNQUNkO01BRUEsSUFBTU4scUJBQXFCLEdBQUdELHVCQUFjLENBQUNDLHFCQUFxQixDQUFDLENBQUM7TUFDcEUsSUFDRTVILEtBQUEsQ0FBS0wsS0FBSyxDQUFDa0kseUJBQXlCLEtBQUssU0FBUyxJQUNsRDdILEtBQUEsQ0FBSzhILHNCQUFzQixDQUFDLENBQUMsSUFDN0I1TCxDQUFDLENBQUNzTCxNQUFNLEtBQUtJLHFCQUFxQixFQUNsQztRQUNBLE9BQU8sSUFBSTtNQUNiO01BQ0EsT0FBTyxLQUFLO0lBQ2QsQ0FBQztJQUFBNUgsS0FBQSxDQWFEb0kscUNBQXFDLEdBQStCLFVBQ2xFbE0sQ0FBYSxFQUNWO01BR0gsSUFBSThELEtBQUEsQ0FBSzhHLFlBQVksQ0FBQyxDQUFDLEVBQUU7UUFDdkIsT0FBTyxJQUFJO01BQ2I7TUFHQSxJQUFJOUcsS0FBQSxDQUFLTCxLQUFLLENBQUN1SSw2QkFBNkIsS0FBSyxJQUFJLEVBQUU7UUFDckQsT0FBTyxLQUFLO01BQ2Q7TUFNQSxJQUFPTCx5QkFBeUIsR0FBSTdILEtBQUEsQ0FBS0wsS0FBSyxDQUF2Q2tJLHlCQUF5QjtNQUNoQyxJQUFNUSx3QkFBd0IsR0FDNUIsQ0FBQ1IseUJBQXlCLElBQUlBLHlCQUF5QixLQUFLLE9BQU87TUFFckUsSUFBSSxPQUFPM0wsQ0FBQyxDQUFDc0wsTUFBTSxLQUFLLFFBQVEsRUFBRTtRQUNoQyxJQUFJcEQsT0FBTyxFQUFFO1VBQ1gvQixPQUFPLENBQUNvRixLQUFLLENBQ1gsaUZBQ0YsQ0FBQztRQUNIO1FBRUEsT0FBTyxLQUFLO01BQ2Q7TUFHQSxJQUFJekgsS0FBQSxDQUFLc0ksdUJBQXVCLENBQUMsQ0FBQyxFQUFFO1FBQ2xDLE9BQU8sS0FBSztNQUNkO01BRUEsSUFDRUQsd0JBQXdCLElBQ3hCckksS0FBQSxDQUFLOEgsc0JBQXNCLENBQUMsQ0FBQyxJQUM3QjVMLENBQUMsQ0FBQ3NMLE1BQU0sSUFBSSxJQUFJLElBRWhCLENBQUNHLHVCQUFjLENBQUNZLFdBQVcsQ0FBQ3JNLENBQUMsQ0FBQ3NMLE1BQU0sQ0FBQyxFQUNyQztRQUNBLE9BQU8sSUFBSTtNQUNiO01BRUEsT0FBTyxLQUFLO0lBQ2QsQ0FBQztJQUFBeEgsS0FBQSxDQUtEOEgsc0JBQXNCLEdBQWtCLFlBQU07TUFDNUMsSUFBTUYscUJBQXFCLEdBQUdELHVCQUFjLENBQUNDLHFCQUFxQixDQUFDLENBQUM7TUFPcEUsSUFBTVksbUJBQW1CLEdBQ3ZCWixxQkFBcUIsSUFBSSxJQUFJLElBQzdCRCx1QkFBYyxDQUFDWSxXQUFXLENBQUNYLHFCQUFxQixDQUFDO01BS25ELElBQU1hLHFCQUFxQixHQUN6QnpJLEtBQUEsQ0FBS00sZ0JBQWdCLElBQUksSUFBSSxJQUFJTixLQUFBLENBQUswSSw0QkFBNEIsQ0FBQyxDQUFDO01BRXRFLE9BQU9GLG1CQUFtQixJQUFJQyxxQkFBcUI7SUFDckQsQ0FBQztJQUFBekksS0FBQSxDQU9Ec0ksdUJBQXVCLEdBQWtCLFlBQU07TUFDN0MsT0FBT3RJLEtBQUEsQ0FBS00sZ0JBQWdCLElBQUksSUFBSSxJQUFJTixLQUFBLENBQUtNLGdCQUFnQixDQUFDb0QsTUFBTSxLQUFLLENBQUM7SUFDNUUsQ0FBQztJQUFBMUQsS0FBQSxDQUVEMEksNEJBQTRCLEdBQWtCLFlBQU07TUFHbEQsT0FBTzVKLGlCQUFRLENBQUNDLEVBQUUsS0FBSyxTQUFTLElBQUlELGlCQUFRLENBQUM2SixPQUFPLEdBQUcsRUFBRTtJQUMzRCxDQUFDO0lBQUEzSSxLQUFBLENBT0Q0SSxlQUFlLEdBQTRCLFVBQUMxTSxDQUFhLEVBQUs7TUFDNUQsSUFBTXlJLFdBQVcsR0FBR3pJLENBQUMsQ0FBQ3lJLFdBQVc7TUFDakMzRSxLQUFBLENBQUtRLFdBQVcsR0FBR21FLFdBQVcsQ0FBQzJDLE9BQU8sQ0FBQ3ZKLE1BQU0sS0FBSyxDQUFDO01BRW5ELElBQU84Six5QkFBeUIsR0FBSTdILEtBQUEsQ0FBS0wsS0FBSyxDQUF2Q2tJLHlCQUF5QjtNQUNoQyxJQUFNZ0IseUJBQXlCLEdBQzdCLENBQUNoQix5QkFBeUIsSUFBSUEseUJBQXlCLEtBQUssT0FBTztNQUtyRSxJQUFNSCx5QkFBeUIsR0FBR0MsdUJBQWMsQ0FBQ0MscUJBQXFCLENBQUMsQ0FBQztNQUN4RSxJQUNFRix5QkFBeUIsSUFBSSxJQUFJLElBQ2pDeEwsQ0FBQyxDQUFDc0wsTUFBTSxLQUFLRSx5QkFBeUIsSUFDdEMxSCxLQUFBLENBQUtzSSx1QkFBdUIsQ0FBQyxDQUFDLElBQzlCdEksS0FBQSxDQUFLOEgsc0JBQXNCLENBQUMsQ0FBQyxJQUM3QmUseUJBQXlCLEVBQ3pCO1FBQ0FsQix1QkFBYyxDQUFDSSxhQUFhLENBQUNMLHlCQUF5QixDQUFDO01BQ3pEO01BRUExSCxLQUFBLENBQUtMLEtBQUssQ0FBQ21KLFVBQVUsSUFBSTlJLEtBQUEsQ0FBS0wsS0FBSyxDQUFDbUosVUFBVSxDQUFDNU0sQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFBQThELEtBQUEsQ0FPRCtJLGtCQUFrQixHQUE0QixVQUFDN00sQ0FBYSxFQUFLO01BQy9EOEQsS0FBQSxDQUFLUSxXQUFXLEdBQUcsS0FBSztNQUN4QlIsS0FBQSxDQUFLTCxLQUFLLENBQUNxSixhQUFhLElBQUloSixLQUFBLENBQUtMLEtBQUssQ0FBQ3FKLGFBQWEsQ0FBQzlNLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBQUE4RCxLQUFBLENBYURpSixpQkFBaUIsR0FBNEIsVUFBQy9NLENBQWEsRUFBSztNQUM5RDhELEtBQUEsQ0FBS1EsV0FBVyxHQUFHLElBQUk7TUFDdkJSLEtBQUEsQ0FBS0wsS0FBSyxDQUFDdUosWUFBWSxJQUFJbEosS0FBQSxDQUFLTCxLQUFLLENBQUN1SixZQUFZLENBQUNoTixDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUFBOEQsS0FBQSxDQWFEbUosZ0JBQWdCLEdBQTRCLFVBQUNqTixDQUFhLEVBQUs7TUFDN0Q4RCxLQUFBLENBQUtMLEtBQUssQ0FBQ3lKLFdBQVcsSUFBSXBKLEtBQUEsQ0FBS0wsS0FBSyxDQUFDeUosV0FBVyxDQUFDbE4sQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUE5NUJDOEQsS0FBQSxDQUFLcUosb0JBQW9CLEdBQUcsSUFBSUMsK0JBQXNCLENBQUNDLEtBQUssRUFBQTNKLHFCQUFBLElBQUFDLHNCQUFBLEdBQzFERyxLQUFBLENBQUtMLEtBQUssQ0FBQzZKLGFBQWEscUJBQXhCM0osc0JBQUEsQ0FBMEJzQyxDQUFDLFlBQUF2QyxxQkFBQSxHQUFJLENBQ2pDLENBQUM7SUFDREksS0FBQSxDQUFLcUosb0JBQW9CLENBQUNJLFNBQVMsRUFBQTNKLHFCQUFBLElBQUFDLHNCQUFBLEdBQUNDLEtBQUEsQ0FBS0wsS0FBSyxDQUFDK0osWUFBWSxxQkFBdkIzSixzQkFBQSxDQUF5QnlELEdBQUcsWUFBQTFELHFCQUFBLEdBQUksQ0FBQyxDQUFDO0lBQUMsT0FBQUUsS0FBQTtFQUN6RTtFQUFDLElBQUEySixVQUFBLENBQUEvTSxPQUFBLEVBQUE2QyxVQUFBLEVBQUFDLGdCQUFBO0VBQUEsV0FBQWtLLGFBQUEsQ0FBQWhOLE9BQUEsRUFBQTZDLFVBQUE7SUFBQW9LLEdBQUE7SUFBQUMsS0FBQSxFQWtDRCxTQUFBQyxpQkFBaUJBLENBQUEsRUFBRztNQUNsQixJQUFJLE9BQU8sSUFBSSxDQUFDcEssS0FBSyxDQUFDa0kseUJBQXlCLEtBQUssU0FBUyxFQUFFO1FBQzdEeEYsT0FBTyxDQUFDQyxJQUFJLENBQ1YsK0JBQ0UsSUFBSSxDQUFDM0MsS0FBSyxDQUFDa0kseUJBQXlCLEtBQUssSUFBSSxHQUFHLE1BQU0sR0FBRyxPQUFPLG9CQUM5QyxHQUNsQixtQ0FDRSxJQUFJLENBQUNsSSxLQUFLLENBQUNrSSx5QkFBeUIsR0FBRyxRQUFRLEdBQUcsT0FBTyxZQUUvRCxDQUFDO01BQ0g7TUFFQSxJQUFJLENBQUN2SCxnQkFBZ0IsR0FBRzBKLGlCQUFRLENBQUNDLE9BQU8sQ0FBQyxDQUFDO01BQzFDLElBQUksQ0FBQzFKLHVCQUF1QixHQUFHLENBQUM7TUFFaEMsSUFBSSxDQUFDUSw2QkFBNkIsR0FBR2lKLGlCQUFRLENBQUNFLFdBQVcsQ0FDdkQsa0JBQWtCLEVBQ2xCLElBQUksQ0FBQzdFLCtCQUNQLENBQUM7TUFDRCxJQUFJLENBQUNyRSw2QkFBNkIsR0FBR2dKLGlCQUFRLENBQUNFLFdBQVcsQ0FDdkQsa0JBQWtCLEVBQ2xCLElBQUksQ0FBQzFFLCtCQUNQLENBQUM7TUFDRCxJQUFJLENBQUN2RSw0QkFBNEIsR0FBRytJLGlCQUFRLENBQUNFLFdBQVcsQ0FDdEQsaUJBQWlCLEVBQ2pCLElBQUksQ0FBQ3hFLDhCQUNQLENBQUM7TUFDRCxJQUFJLENBQUN4RSw0QkFBNEIsR0FBRzhJLGlCQUFRLENBQUNFLFdBQVcsQ0FDdEQsaUJBQWlCLEVBQ2pCLElBQUksQ0FBQ3RFLDhCQUNQLENBQUM7TUFFRCxJQUFJLENBQUN1RSw2QkFBNkIsQ0FBQyxDQUFDO0lBQ3RDO0VBQUM7SUFBQU4sR0FBQTtJQUFBQyxLQUFBLEVBRUQsU0FBQU0sa0JBQWtCQSxDQUFDQyxTQUFnQixFQUFFO01BQ25DLElBQU1DLG1CQUFtQixHQUFHRCxTQUFTLENBQUNYLFlBQVksR0FDOUNXLFNBQVMsQ0FBQ1gsWUFBWSxDQUFDbEcsR0FBRyxHQUMxQixDQUFDO01BQ0wsSUFBTStHLGtCQUFrQixHQUFHLElBQUksQ0FBQzVLLEtBQUssQ0FBQytKLFlBQVksR0FDOUMsSUFBSSxDQUFDL0osS0FBSyxDQUFDK0osWUFBWSxDQUFDbEcsR0FBRyxHQUMzQixDQUFDO01BQ0wsSUFBSThHLG1CQUFtQixLQUFLQyxrQkFBa0IsRUFBRTtRQUM5QyxJQUFJLENBQUNsQixvQkFBb0IsQ0FBQ0ksU0FBUyxDQUFDYyxrQkFBa0IsSUFBSSxDQUFDLENBQUM7TUFDOUQ7TUFFQSxJQUFJLENBQUNKLDZCQUE2QixDQUFDLENBQUM7SUFDdEM7RUFBQztJQUFBTixHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBVSxvQkFBb0JBLENBQUEsRUFBRztNQUNyQixJQUFJLElBQUksQ0FBQ3pKLDZCQUE2QixJQUFJLElBQUksRUFBRTtRQUM5QyxJQUFJLENBQUNBLDZCQUE2QixDQUFDMEosTUFBTSxDQUFDLENBQUM7TUFDN0M7TUFDQSxJQUFJLElBQUksQ0FBQ3pKLDZCQUE2QixJQUFJLElBQUksRUFBRTtRQUM5QyxJQUFJLENBQUNBLDZCQUE2QixDQUFDeUosTUFBTSxDQUFDLENBQUM7TUFDN0M7TUFDQSxJQUFJLElBQUksQ0FBQ3hKLDRCQUE0QixJQUFJLElBQUksRUFBRTtRQUM3QyxJQUFJLENBQUNBLDRCQUE0QixDQUFDd0osTUFBTSxDQUFDLENBQUM7TUFDNUM7TUFDQSxJQUFJLElBQUksQ0FBQ3ZKLDRCQUE0QixJQUFJLElBQUksRUFBRTtRQUM3QyxJQUFJLENBQUNBLDRCQUE0QixDQUFDdUosTUFBTSxDQUFDLENBQUM7TUFDNUM7TUFFQSxJQUFJLElBQUksQ0FBQ3ZLLDhCQUE4QixFQUFFO1FBQ3ZDLElBQUksQ0FBQ0EsOEJBQThCLENBQUN3SyxNQUFNLENBQUMsQ0FBQztNQUM5QztJQUNGO0VBQUM7SUFBQWIsR0FBQTtJQUFBQyxLQUFBLEVBZ05ELFNBQUE3RyxvQkFBb0JBLENBQUEsRUFBRztNQUNyQlosT0FBTyxDQUFDQyxJQUFJLENBQUMsNkJBQTZCLENBQUM7SUFDN0M7RUFBQztJQUFBdUgsR0FBQTtJQUFBQyxLQUFBLEVBcURELFNBQUFhLGVBQWVBLENBQUNDLEtBQWlCLEVBQUVDLFVBQXNCLEVBQWM7TUFDckUsSUFBTUMsS0FBSyxHQUFHRCxVQUFVLENBQUNELEtBQUssQ0FBQztNQUMvQixPQUFPRSxLQUFLLElBQUlBLEtBQUssQ0FBQ2pCLEdBQUc7SUFDM0I7RUFBQztJQUFBQSxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBSyw2QkFBNkJBLENBQUEsRUFBRztNQUM5QixJQUFJLElBQUksQ0FBQ2pLLDhCQUE4QixFQUFFO1FBQ3ZDLElBQUksQ0FBQ0EsOEJBQThCLENBQUN3SyxNQUFNLENBQUMsQ0FBQztNQUM5QztNQUNBLElBQ0UsSUFBSSxDQUFDL0ssS0FBSyxDQUFDb0wsbUJBQW1CLElBQzlCLElBQUksQ0FBQ3BMLEtBQUssQ0FBQ29MLG1CQUFtQixDQUFDaE4sTUFBTSxHQUFHLENBQUMsRUFDekM7UUFDQSxJQUFJLENBQUNtQyw4QkFBOEIsR0FDakNvSiwrQkFBc0IsQ0FBQzBCLGlCQUFpQixDQUN0QyxJQUFJLENBQUN4SixXQUFXLENBQUNDLGNBQWMsRUFDL0IsVUFBVSxFQUNWLENBQUM7VUFBQ2tELFdBQVcsRUFBRTtZQUFDNkUsYUFBYSxFQUFFO2NBQUNySCxDQUFDLEVBQUUsSUFBSSxDQUFDa0g7WUFBb0I7VUFBQztRQUFDLENBQUMsQ0FDakUsQ0FBQztNQUNMO0lBQ0Y7RUFBQztJQUFBUSxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBbUIsbUJBQW1CQSxDQUNqQnBCLEdBQVcsRUFDWHFCLEdBQWlELEVBQ2pEO01BQ0EsSUFBSUEsR0FBRyxFQUFFO1FBQ1AsSUFBSSxDQUFDL0ssaUJBQWlCLENBQUNwRCxHQUFHLENBQUM4TSxHQUFHLEVBQUVxQixHQUFHLENBQUM7TUFDdEMsQ0FBQyxNQUFNO1FBQ0wsSUFBSSxDQUFDL0ssaUJBQWlCLENBQUNnTCxNQUFNLENBQUN0QixHQUFHLENBQUM7TUFDcEM7SUFDRjtFQUFDO0lBQUFBLEdBQUE7SUFBQUMsS0FBQSxFQUVELFNBQUFzQixxQkFBcUJBLENBQUNSLEtBQWlCLEVBQUVTLEtBQWlCLEVBQUV4QixHQUFlLEVBQUU7TUFDM0UsSUFBT2tCLG1CQUFtQixHQUFJLElBQUksQ0FBQ3BMLEtBQUssQ0FBakNvTCxtQkFBbUI7TUFDMUIsSUFBSSxDQUFDQSxtQkFBbUIsRUFBRTtRQUN4QjtNQUNGO01BQ0EsSUFBTUYsVUFBVSxHQUFHN08sS0FBSyxDQUFDc1AsUUFBUSxDQUFDQyxPQUFPLENBQWEsSUFBSSxDQUFDNUwsS0FBSyxDQUFDNkwsUUFBUSxDQUFDO01BQzFFLElBQUkzQixHQUFHLEtBQUssSUFBSSxDQUFDYyxlQUFlLENBQUNDLEtBQUssRUFBRUMsVUFBVSxDQUFDLEVBQUU7UUFFbkQ7TUFDRjtNQUVBLElBQU1ZLE9BQU8sR0FBR0osS0FBSyxDQUFDMUcsV0FBVyxDQUFDQyxNQUFNLENBQUN6QyxDQUFDO01BQzFDLElBQUksQ0FBQzlCLGVBQWUsQ0FBQ3RELEdBQUcsQ0FBQzhNLEdBQUcsRUFBRTRCLE9BQU8sQ0FBQztNQUV0QyxJQUFNQyxZQUFZLEdBQUdYLG1CQUFtQixDQUFDWSxPQUFPLENBQUNmLEtBQUssQ0FBQztNQUN2RCxJQUFNZ0IsbUJBQW1CLEdBQUdiLG1CQUFtQixDQUFDVyxZQUFZLEdBQUcsQ0FBQyxDQUFDO01BQ2pFLElBQUlFLG1CQUFtQixJQUFJLElBQUksRUFBRTtRQUMvQixJQUFNQyxjQUFjLEdBQUcsSUFBSSxDQUFDMUwsaUJBQWlCLENBQUNyRCxHQUFHLENBQy9DLElBQUksQ0FBQzZOLGVBQWUsQ0FBQ2lCLG1CQUFtQixFQUFFZixVQUFVLENBQ3RELENBQUM7UUFDRGdCLGNBQWMsSUFDWkEsY0FBYyxDQUFDQyxjQUFjLElBQzdCRCxjQUFjLENBQUNDLGNBQWMsQ0FBQ0wsT0FBTyxDQUFDO01BQzFDO0lBQ0Y7RUFBQztJQUFBNUIsR0FBQTtJQUFBQyxLQUFBLEVBd2ZELFNBQUFpQyxNQUFNQSxDQUFBLEVBQXVDO01BQUEsSUFBQUMsTUFBQTtNQUMzQyxJQUFBQyxLQUFBLEdBQ0UsSUFBSSxDQUFDdE0sS0FBSyxDQUFDdU0sVUFBVSxLQUFLLElBQUksR0FDMUJqTiwrQkFBK0IsR0FDL0JHLDZCQUE2QjtRQUFBK00sS0FBQSxPQUFBQyxlQUFBLENBQUF4UCxPQUFBLEVBQUFxUCxLQUFBO1FBSDVCSSwyQkFBMkIsR0FBQUYsS0FBQTtRQUFFRyxrQ0FBa0MsR0FBQUgsS0FBQTtNQUt0RSxJQUFNSSxxQkFBcUIsR0FBRyxDQUM1QixJQUFJLENBQUM1TSxLQUFLLENBQUN1TSxVQUFVLEtBQUssSUFBSSxJQUFJTSxNQUFNLENBQUNDLDBCQUEwQixFQUNuRSxJQUFJLENBQUM5TSxLQUFLLENBQUM0TSxxQkFBcUIsQ0FDakM7TUFDRCxJQUFJbkksT0FBTyxJQUFJLElBQUksQ0FBQ3pFLEtBQUssQ0FBQytNLEtBQUssS0FBS0MsU0FBUyxFQUFFO1FBRTdDLElBQU1ELEtBQUssR0FBRyxJQUFBRSxxQkFBWSxFQUFDLElBQUksQ0FBQ2pOLEtBQUssQ0FBQytNLEtBQUssQ0FBQztRQUM1QyxJQUFNRyxnQkFBZ0IsR0FBRyxDQUFDLFlBQVksRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDcFAsTUFBTSxDQUM5RCxVQUFBcVAsSUFBSTtVQUFBLE9BQUlKLEtBQUssSUFBSUEsS0FBSyxDQUFDSSxJQUFJLENBQUMsS0FBS0gsU0FBUztRQUFBLENBQzVDLENBQUM7UUFDRCxJQUFBdEosa0JBQVMsRUFDUHdKLGdCQUFnQixDQUFDOU8sTUFBTSxLQUFLLENBQUMsRUFDN0IsMkJBQTJCLEdBQ3pCZ1AsSUFBSSxDQUFDQyxTQUFTLENBQUNILGdCQUFnQixDQUFDLEdBQ2hDLDJEQUNKLENBQUM7TUFDSDtNQUVBLElBQU1JLHNCQUFzQixHQUMxQixJQUFJLENBQUN0TixLQUFLLENBQUNxRixtQkFBbUIsSUFBSSxJQUFJLEdBQ2xDLElBQUksR0FDSjtRQUNFSCxRQUFRLEVBQUUsSUFBSSxDQUFDQztNQUNqQixDQUFDO01BRVAsSUFBT2lHLG1CQUFtQixHQUFJLElBQUksQ0FBQ3BMLEtBQUssQ0FBakNvTCxtQkFBbUI7TUFDMUIsSUFBSVMsUUFBUSxHQUFHLElBQUksQ0FBQzdMLEtBQUssQ0FBQzZMLFFBQVE7TUFFbEMsSUFBSVQsbUJBQW1CLElBQUksSUFBSSxJQUFJQSxtQkFBbUIsQ0FBQ2hOLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDakUsSUFBTThNLFVBQVUsR0FBRzdPLEtBQUssQ0FBQ3NQLFFBQVEsQ0FBQ0MsT0FBTyxDQUN2QyxJQUFJLENBQUM1TCxLQUFLLENBQUM2TCxRQUNiLENBQUM7UUFFREEsUUFBUSxHQUFHWCxVQUFVLENBQUNxQyxHQUFHLENBQUMsVUFBQ3BDLEtBQUssRUFBRUYsS0FBSyxFQUFLO1VBQzFDLElBQU1jLFlBQVksR0FBR1osS0FBSyxHQUFHQyxtQkFBbUIsQ0FBQ1ksT0FBTyxDQUFDZixLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7VUFDcEUsSUFBSWMsWUFBWSxHQUFHLENBQUMsQ0FBQyxFQUFFO1lBQ3JCLElBQU03QixHQUFHLEdBQUdpQixLQUFLLENBQUNqQixHQUFHO1lBQ3JCLElBQU1zRCxTQUFTLEdBQUdwQyxtQkFBbUIsQ0FBQ1csWUFBWSxHQUFHLENBQUMsQ0FBQztZQUN2RCxJQUFNMEIscUJBQXFCLEdBQ3pCcEIsTUFBSSxDQUFDck0sS0FBSyxDQUFDeU4scUJBQXFCLElBQUlDLCtCQUFzQjtZQUM1RCxPQUNFLElBQUFwUixXQUFBLENBQUFxUixHQUFBLEVBQUNGLHFCQUFxQjtjQUVwQkcsUUFBUSxFQUFFLGVBQWUsR0FBRzFELEdBQUk7Y0FDaENxQixHQUFHLEVBQUUsU0FBTEEsR0FBR0EsQ0FBRUEsS0FBRztnQkFBQSxPQUFJYyxNQUFJLENBQUNmLG1CQUFtQixDQUFDcEIsR0FBRyxFQUFFcUIsS0FBRyxDQUFDO2NBQUEsQ0FBQztjQUMvQ3NDLGlCQUFpQixFQUFFeEIsTUFBSSxDQUFDM0wsZUFBZSxDQUFDdkQsR0FBRyxDQUN6Q2tQLE1BQUksQ0FBQ3JCLGVBQWUsQ0FBQ3dDLFNBQVMsRUFBRXRDLFVBQVUsQ0FDNUMsQ0FBRTtjQUNGaEcsUUFBUSxFQUFFLFNBQVZBLFFBQVFBLENBQUV3RyxLQUFLO2dCQUFBLE9BQUlXLE1BQUksQ0FBQ1oscUJBQXFCLENBQUNSLEtBQUssRUFBRVMsS0FBSyxFQUFFeEIsR0FBRyxDQUFDO2NBQUEsQ0FBQztjQUNqRTRELG1CQUFtQixFQUFFekIsTUFBSSxDQUFDM0Msb0JBQXFCO2NBQy9DcUUsUUFBUSxFQUFFMUIsTUFBSSxDQUFDck0sS0FBSyxDQUFDOEUsbUJBQW9CO2NBQ3pDa0osY0FBYyxFQUFFM0IsTUFBSSxDQUFDck0sS0FBSyxDQUFDaU8sMEJBQTJCO2NBQ3REQyxnQkFBZ0IsRUFBRTdCLE1BQUksQ0FBQzdLLEtBQUssQ0FBQ0MsWUFBYTtjQUFBb0ssUUFBQSxFQUN6Q1Y7WUFBSyxHQVhEakIsR0FZZ0IsQ0FBQztVQUU1QixDQUFDLE1BQU07WUFDTCxPQUFPaUIsS0FBSztVQUNkO1FBQ0YsQ0FBQyxDQUFDO01BQ0o7TUFDQVUsUUFBUSxHQUNOLElBQUF2UCxXQUFBLENBQUFxUixHQUFBLEVBQUM3UixrQkFBQSxDQUFBbUIsT0FBaUIsQ0FBQ2tSLFFBQVE7UUFDekJoRSxLQUFLLEVBQUUsSUFBSSxDQUFDbkssS0FBSyxDQUFDdU0sVUFBVSxLQUFLLElBQUksR0FBRzZCLDZCQUFVLEdBQUdDLDJCQUFTO1FBQUF4QyxRQUFBLEVBQzdEQTtNQUFRLENBQ2lCLENBQzdCO01BRUQsSUFBTXlDLGdCQUFnQixHQUNwQkMsS0FBSyxDQUFDQyxPQUFPLENBQUNwRCxtQkFBbUIsQ0FBQyxJQUFJQSxtQkFBbUIsQ0FBQ2hOLE1BQU0sR0FBRyxDQUFDO01BRXRFLElBQU1xUSxnQkFBZ0IsR0FDcEIsSUFBQW5TLFdBQUEsQ0FBQXFSLEdBQUEsRUFBQ2hCLGtDQUFrQyxFQUFBek8sYUFBQSxDQUFBQSxhQUFBLEtBQzdCb1Asc0JBQXNCO1FBQzFCL0IsR0FBRyxFQUFFLElBQUksQ0FBQ3ZKLFVBQVUsQ0FBQzBNLGdCQUFnQixDQUFDLElBQUksQ0FBQzFPLEtBQUssQ0FBQzJPLFlBQVksQ0FBRTtRQUMvRDVCLEtBQUssRUFBRUgscUJBQXNCO1FBQzdCZ0MscUJBQXFCLEVBR25CelAsaUJBQVEsQ0FBQ0MsRUFBRSxLQUFLLFNBQVMsSUFBSWtQLGdCQUFnQixHQUN6QyxLQUFLLEdBQ0wsSUFBSSxDQUFDdE8sS0FBSyxDQUFDNE8scUJBQ2hCO1FBQ0RDLFdBQVcsRUFBRSxLQUFNO1FBQUFoRCxRQUFBLEVBQ2xCQTtNQUFRLEVBQ3lCLENBQ3JDO01BRUQsSUFBTWlELHNCQUFzQixHQUMxQixJQUFJLENBQUM5TyxLQUFLLENBQUM4TyxzQkFBc0IsS0FBSzlCLFNBQVMsR0FDM0MsSUFBSSxDQUFDaE4sS0FBSyxDQUFDOE8sc0JBQXNCLEdBQ2pDLElBQUksQ0FBQzlPLEtBQUssQ0FBQ3VNLFVBQVU7TUFFM0IsSUFBTXdDLG9CQUFvQixHQUN4QixJQUFJLENBQUMvTyxLQUFLLENBQUMrTyxvQkFBb0IsS0FBSy9CLFNBQVMsR0FDekMsSUFBSSxDQUFDaE4sS0FBSyxDQUFDK08sb0JBQW9CLEdBQy9CLENBQUMsSUFBSSxDQUFDL08sS0FBSyxDQUFDdU0sVUFBVTtNQUU1QixJQUFNeUMsU0FBUyxHQUNiLElBQUksQ0FBQ2hQLEtBQUssQ0FBQ3VNLFVBQVUsS0FBSyxJQUFJLEdBQzFCTSxNQUFNLENBQUNvQyxjQUFjLEdBQ3JCcEMsTUFBTSxDQUFDcUMsWUFBWTtNQUN6QixJQUFNbFAsS0FBSyxHQUFBOUIsYUFBQSxDQUFBQSxhQUFBLEtBQ04sSUFBSSxDQUFDOEIsS0FBSztRQUNiOE8sc0JBQXNCLEVBQXRCQSxzQkFBc0I7UUFDdEJDLG9CQUFvQixFQUFwQkEsb0JBQW9CO1FBQ3BCaEMsS0FBSyxFQUFFb0MsbUJBQVUsQ0FBQ0MsT0FBTyxDQUFDSixTQUFTLEVBQUUsSUFBSSxDQUFDaFAsS0FBSyxDQUFDK00sS0FBSyxDQUFDO1FBR3REMUgsbUJBQW1CLEVBQUUsSUFBSTtRQUN6QkgsUUFBUSxFQUFFLElBQUksQ0FBQ0wsYUFBYTtRQUM1QjBCLHFCQUFxQixFQUFFLElBQUksQ0FBQ0osMEJBQTBCO1FBQ3REUSxtQkFBbUIsRUFBRSxJQUFJLENBQUNILHdCQUF3QjtRQUNsRGdCLGdCQUFnQixFQUFFLElBQUksQ0FBQ0QscUJBQXFCO1FBQzVDOEgsaUJBQWlCLEVBQUUsSUFBSSxDQUFDNUgsc0JBQXNCO1FBQzlDRyxrQkFBa0IsRUFBRSxJQUFJLENBQUNGLHVCQUF1QjtRQUNoRDRILDZCQUE2QixFQUFFLElBQUksQ0FBQ2pILGtDQUFrQztRQUN0RXJCLGlCQUFpQixFQUFFLElBQUksQ0FBQ0osc0JBQXNCO1FBQzlDUSxlQUFlLEVBQUUsSUFBSSxDQUFDSCxvQkFBb0I7UUFDMUNzSSwwQkFBMEIsRUFBRSxJQUFJLENBQUNqSCwrQkFBK0I7UUFDaEVrSCx5QkFBeUIsRUFBRSxJQUFJLENBQUNoSCw4QkFBOEI7UUFDOURpSCxnQ0FBZ0MsRUFDOUIsSUFBSSxDQUFDaEgscUNBQXFDO1FBQzVDVSxVQUFVLEVBQUUsSUFBSSxDQUFDRixlQUFlO1FBQ2hDUSxXQUFXLEVBQUUsSUFBSSxDQUFDRCxnQkFBZ0I7UUFDbENELFlBQVksRUFBRSxJQUFJLENBQUNELGlCQUFpQjtRQUNwQ0QsYUFBYSxFQUFFLElBQUksQ0FBQ0Qsa0JBQWtCO1FBQ3RDMUUsUUFBUSxFQUFFLElBQUksQ0FBQ0YsYUFBYTtRQUM1QkcsbUJBQW1CLEVBQUUySixnQkFBZ0IsR0FDakMsQ0FBQyxHQUNELElBQUksQ0FBQ3RPLEtBQUssQ0FBQzJFLG1CQUFtQjtRQUNsQytLLGtCQUFrQixFQUNoQixJQUFJLENBQUMxUCxLQUFLLENBQUN1RyxxQkFBcUIsSUFBSSxJQUFJLENBQUN2RyxLQUFLLENBQUMyRyxtQkFBbUIsR0FDOUQsSUFBSSxHQUNKLEtBQUs7UUFFWGdKLFdBQVcsRUFBRSxJQUFJLENBQUMzUCxLQUFLLENBQUMyUCxXQUFXLEtBQUssS0FBSztRQUU3Q0MsU0FBUyxFQUFFLElBQUksQ0FBQzVQLEtBQUssQ0FBQzRQLFNBQVMsS0FBSyxLQUFLO1FBRXpDQyxhQUFhLEVBQUUxUSxpQkFBUSxDQUFDMlEsTUFBTSxDQUFDO1VBRTdCQyxHQUFHLEVBQ0QsSUFBSSxDQUFDL1AsS0FBSyxDQUFDNlAsYUFBYSxLQUFLLElBQUksSUFDakMsSUFBSSxDQUFDN1AsS0FBSyxDQUFDZ1EsY0FBYyxJQUFJLElBQUksSUFDakMsSUFBSSxDQUFDaFEsS0FBSyxDQUFDaVEsYUFBYSxJQUFJLElBQUk7VUFFbENDLE9BQU8sRUFDTCxJQUFJLENBQUNsUSxLQUFLLENBQUM2UCxhQUFhLEtBQUssSUFBSSxJQUNqQyxJQUFJLENBQUM3UCxLQUFLLENBQUNnUSxjQUFjLElBQUksSUFBSSxJQUNqQyxJQUFJLENBQUNoUSxLQUFLLENBQUNpUSxhQUFhLElBQUk7UUFDaEMsQ0FBQztNQUFDLEVBQ0g7TUFFRCxJQUFPRSxnQkFBZ0IsR0FBSSxJQUFJLENBQUNuUSxLQUFLLENBQTlCbVEsZ0JBQWdCO01BQ3ZCLElBQUlBLGdCQUFnQixJQUFJLElBQUksRUFBRTtRQUM1Qm5RLEtBQUssQ0FBQ21RLGdCQUFnQixHQUFHLElBQUFDLGdDQUF1QixFQUFDRCxnQkFBZ0IsQ0FBQztNQUNwRTtNQUVBLElBQU1FLGNBQWMsR0FBRyxJQUFJLENBQUNyUSxLQUFLLENBQUNxUSxjQUFjO01BQ2hELElBQU1DLGFBQWEsR0FBRyxJQUFJLENBQUN6TyxXQUFXLENBQUM2TSxnQkFBZ0IsQ0FDckQsSUFBSSxDQUFDMU8sS0FBSyxDQUFDc1EsYUFDYixDQUFDO01BRUQsSUFBSUQsY0FBYyxFQUFFO1FBQ2xCLElBQUlsUixpQkFBUSxDQUFDQyxFQUFFLEtBQUssS0FBSyxFQUFFO1VBRXpCLE9BQ0UsSUFBQTlDLFdBQUEsQ0FBQWlVLElBQUEsRUFBQzdELDJCQUEyQixFQUFBeE8sYUFBQSxDQUFBQSxhQUFBLEtBQUs4QixLQUFLO1lBQUV1TCxHQUFHLEVBQUUrRSxhQUFjO1lBQUF6RSxRQUFBLEdBQ3hEd0UsY0FBYyxFQUNkNUIsZ0JBQWdCO1VBQUEsRUFDVSxDQUFDO1FBRWxDLENBQUMsTUFBTSxJQUFJdFAsaUJBQVEsQ0FBQ0MsRUFBRSxLQUFLLFNBQVMsRUFBRTtVQU9wQyxJQUFBb1IsaUJBQUEsR0FBdUIsSUFBQUMsMEJBQWdCLEVBQUMsSUFBQXhELHFCQUFZLEVBQUNqTixLQUFLLENBQUMrTSxLQUFLLENBQUMsQ0FBQztZQUEzRDJELEtBQUssR0FBQUYsaUJBQUEsQ0FBTEUsS0FBSztZQUFFQyxLQUFLLEdBQUFILGlCQUFBLENBQUxHLEtBQUs7VUFDbkIsT0FBT3RVLEtBQUssQ0FBQ3VVLFlBQVksQ0FDdkJQLGNBQWMsRUFDZDtZQUFDdEQsS0FBSyxFQUFFb0MsbUJBQVUsQ0FBQ0MsT0FBTyxDQUFDSixTQUFTLEVBQUUwQixLQUFLO1VBQUMsQ0FBQyxFQUM3QyxJQUFBcFUsV0FBQSxDQUFBcVIsR0FBQSxFQUFDakIsMkJBQTJCLEVBQUF4TyxhQUFBLENBQUFBLGFBQUEsS0FDdEI4QixLQUFLO1lBQ1QrTSxLQUFLLEVBQUVvQyxtQkFBVSxDQUFDQyxPQUFPLENBQUNKLFNBQVMsRUFBRTJCLEtBQUssQ0FBRTtZQUM1Q3BGLEdBQUcsRUFBRStFLGFBQWM7WUFBQXpFLFFBQUEsRUFDbEI0QztVQUFnQixFQUNVLENBQy9CLENBQUM7UUFDSDtNQUNGO01BQ0EsT0FDRSxJQUFBblMsV0FBQSxDQUFBcVIsR0FBQSxFQUFDakIsMkJBQTJCLEVBQUF4TyxhQUFBLENBQUFBLGFBQUEsS0FBSzhCLEtBQUs7UUFBRXVMLEdBQUcsRUFBRStFLGFBQWM7UUFBQXpFLFFBQUEsRUFDeEQ0QztNQUFnQixFQUNVLENBQUM7SUFFbEM7RUFBQztBQUFBLEVBbG5Dc0JwUyxLQUFLLENBQUN3VSxTQUFTO0FBQWxDL1EsVUFBVSxDQUNQZ1IsT0FBTyxHQUE2QkMsMEJBQWlCO0FBb25DOUQsSUFBTWxFLE1BQU0sR0FBR3NDLG1CQUFVLENBQUM2QixNQUFNLENBQUM7RUFDL0I5QixZQUFZLEVBQUU7SUFDWitCLFFBQVEsRUFBRSxDQUFDO0lBQ1hDLFVBQVUsRUFBRSxDQUFDO0lBQ2JDLGFBQWEsRUFBRSxRQUFRO0lBQ3ZCQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0RuQyxjQUFjLEVBQUU7SUFDZGdDLFFBQVEsRUFBRSxDQUFDO0lBQ1hDLFVBQVUsRUFBRSxDQUFDO0lBQ2JDLGFBQWEsRUFBRSxLQUFLO0lBQ3BCQyxRQUFRLEVBQUU7RUFDWixDQUFDO0VBQ0R0RSwwQkFBMEIsRUFBRTtJQUMxQnFFLGFBQWEsRUFBRTtFQUNqQjtBQUNGLENBQUMsQ0FBQztBQWdCRixTQUFTN0wsa0JBQWtCQSxDQUN6QitMLE9BQTJDLEVBQ0s7RUFDaEQsSUFBTTdQLEtBQXFELEdBQUc7SUFDNURrTixnQkFBZ0IsRUFBRSxJQUFBNEMsbUJBQU8sRUFBQyxVQUFBQyxZQUFZLEVBQUk7TUFDeEMsT0FBTyxVQUFDelAsY0FBc0MsRUFBVztRQUN2RCxJQUFNMEQsY0FBYyxHQUNsQjFELGNBQWMsSUFBSSxJQUFJLEdBQUcsSUFBSSxHQUFHdVAsT0FBTyxDQUFDdlAsY0FBYyxDQUFDO1FBRXpETixLQUFLLENBQUNNLGNBQWMsR0FBR0EsY0FBYztRQUNyQ04sS0FBSyxDQUFDZ0UsY0FBYyxHQUFHQSxjQUFjO1FBRXJDLElBQUkrTCxZQUFZLElBQUksSUFBSSxFQUFFO1VBQ3hCLElBQUksT0FBT0EsWUFBWSxLQUFLLFVBQVUsRUFBRTtZQUN0Q0EsWUFBWSxDQUFDL0wsY0FBYyxDQUFDO1VBQzlCLENBQUMsTUFBTTtZQUNMK0wsWUFBWSxDQUFDQyxPQUFPLEdBQUdoTSxjQUFjO1VBQ3ZDO1FBQ0Y7TUFDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBQ0YxRCxjQUFjLEVBQUUsSUFBSTtJQUNwQjBELGNBQWMsRUFBRTtFQUNsQixDQUFDO0VBRUQsT0FBT2hFLEtBQUs7QUFDZDtBQUlBLFNBQVNpUSxPQUFPQSxDQUFDelIsS0FBSyxFQUFFdUwsR0FBNkMsRUFBRTtFQUNyRSxPQUFPLElBQUFqUCxXQUFBLENBQUFxUixHQUFBLEVBQUM3TixVQUFVLEVBQUE1QixhQUFBLENBQUFBLGFBQUEsS0FBSzhCLEtBQUs7SUFBRXNRLGFBQWEsRUFBRS9FO0VBQUksRUFBRSxDQUFDO0FBQ3REO0FBQ0FrRyxPQUFPLENBQUNDLFdBQVcsR0FBRyxZQUFZO0FBQ2xDLElBQU1DLG1CQUFtQixHQUFHdFYsS0FBSyxDQUFDdVYsVUFBVSxDQUFDSCxPQUFPLENBQUM7QUFHckRFLG1CQUFtQixDQUFDYixPQUFPLEdBQUdDLDBCQUFpQjtBQUUvQ1ksbUJBQW1CLENBQUNELFdBQVcsR0FBRyxZQUFZO0FBRTlDRyxNQUFNLENBQUNDLE9BQU8sR0FBS0gsbUJBSVUiLCJpZ25vcmVMaXN0IjpbXX0=