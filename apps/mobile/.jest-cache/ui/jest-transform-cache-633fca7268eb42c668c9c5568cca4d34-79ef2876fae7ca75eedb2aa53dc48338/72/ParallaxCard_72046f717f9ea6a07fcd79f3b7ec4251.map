{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_unifiedTheme","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_worklet_11475430993177_init_data","code","location","sourceMap","ParallaxCard","_ref","children","style","_ref$intensity","intensity","_ref$glow","glow","_useState","useState","w","h","_useState2","_slicedToArray2","box","setBox","rx","useSharedValue","ry","s","onLayout","_e$nativeEvent$layout","nativeEvent","layout","width","height","onPressIn","_e$nativeEvent","locationX","locationY","dx","Math","max","dy","value","withSpring","interpolate","onPressOut","a","useAnimatedStyle","_e","global","Error","_f","transform","perspective","rotateX","rotateY","scale","shadowOpacity","shadowRadius","shadowColor","Theme","colors","primary","_closure","__initData","__workletHash","__stackDetails","__version","jsx","View","onStartShouldSetResponder","onResponderGrant","onResponderMove","onResponderRelease","onResponderTerminate","styles","radius","StyleSheet","create","borderRadius","overflow"],"sources":["ParallaxCard.tsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport { View, StyleSheet, type ViewStyle, type LayoutChangeEvent, type GestureResponderEvent } from \"react-native\";\nimport Animated, { useSharedValue, useAnimatedStyle, withSpring, interpolate } from \"react-native-reanimated\";\nimport { Theme } from \"../../theme/unified-theme\";\n\ntype Props = {\n  children: React.ReactNode;\n  style?: ViewStyle | ViewStyle[];\n  intensity?: number; // 0..1\n  glow?: boolean;\n};\n\nexport default function ParallaxCard({ children, style, intensity = 0.6, glow = true }: Props) {\n  const [box, setBox] = useState({ w: 0, h: 0 });\n  const rx = useSharedValue(0);\n  const ry = useSharedValue(0);\n  const s = useSharedValue(1);\n\n  const onLayout = (e: LayoutChangeEvent) => {\n    const { width, height } = e.nativeEvent.layout;\n    setBox({ w: width, h: height });\n  };\n\n  const onPressIn = (e: GestureResponderEvent) => {\n    const { locationX, locationY } = e.nativeEvent;\n    const dx = (locationX / Math.max(box.w, 1)) - 0.5;\n    const dy = (locationY / Math.max(box.h, 1)) - 0.5;\n    rx.value = withSpring(interpolate(dy, [-0.5, 0.5], [6, -6]) * intensity);\n    ry.value = withSpring(interpolate(dx, [-0.5, 0.5], [-6, 6]) * intensity);\n    s.value = withSpring(0.995);\n  };\n\n  const onPressOut = () => {\n    rx.value = withSpring(0);\n    ry.value = withSpring(0);\n    s.value = withSpring(1);\n  };\n\n  const a = useAnimatedStyle(() => ({\n    transform: [{ perspective: 800 }, { rotateX: `${rx.value}deg` }, { rotateY: `${ry.value}deg` }, { scale: s.value }],\n    shadowOpacity: glow ? 0.2 : 0.1,\n    shadowRadius: glow ? 24 : 12,\n    shadowColor: Theme.colors.primary[500],\n  }));\n\n  return (\n    <View onLayout={onLayout} style={style}\n      onStartShouldSetResponder={() => true}\n      onResponderGrant={onPressIn}\n      onResponderMove={onPressIn}\n      onResponderRelease={onPressOut}\n      onResponderTerminate={onPressOut}\n    >\n      <Animated.View style={[a, styles.radius]}>{children}</Animated.View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  radius: { borderRadius: Theme.borderRadius[\"2xl\"], overflow: \"visible\" },\n});\n\n"],"mappings":"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","ignoreList":[]}