{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","createAnimatedComponent","_defineProperty2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_invariant","_react","_reactNative","_util","_animationBuilder","_commonTypes","_LayoutAnimationConfig","_ConfigHelper","_core","_errors","_fabricUtils","_layoutReanimation","_web","_domUtils","_findHostInstance","_PlatformChecker","_reactUtils","_UpdateLayoutAnimations","_getViewInfo2","_InlinePropManager","_JSPropsUpdater","_NativeEventsManager","_PropsFilter","_setAndForwardRef","_utils","_jsxRuntime","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","default","getOwnPropertyDescriptors","defineProperties","_callSuper","_isNativeReflectConstruct","Reflect","construct","constructor","Boolean","prototype","valueOf","call","IS_WEB","isWeb","IS_JEST","isJest","IS_REACT_19","isReact19","SHOULD_BE_USE_WEB","shouldBeUseWeb","configureWebLayoutAnimations","onlyAnimatedStyles","styles","style","viewDescriptors","id","Component","options","invariant","isReactComponent","name","AnimatedComponent","_ref","props","_this$context2","_this","_styles","_isFirstRender","jestAnimatedStyle","jestAnimatedProps","_componentRef","_hasAnimatedRef","_componentDOMRef","_sharedElementTransition","_jsPropsUpdater","JSPropsUpdater","InlinePropManager","PropsFilter","reanimatedID","_willUnmount","_resolveComponentRef","ref","componentRef","getAnimatableRef","elementRef","current","_setComponentRef","setAndForwardRef","getForwardedRef","forwardedRef","setLocalRef","_viewInfo","undefined","_this$props","layout","entering","exiting","sharedTransitionTag","_this$context","enableLayoutAnimations","_configureSharedTransition","skipEntering","context","isFabric","_configureLayoutAnimation","LayoutAnimationType","ENTERING","key","componentDidMount","_this$_NativeEventsMa","_this$_viewInfo","NativeEventsManager","attachEvents","addOnJSPropsChangeListener","_attachAnimatedStyles","attachInlineProps","_getViewInfo","LAYOUT","EXITING","_this$context3","saveSnapshot","getReducedMotionFromConfig","_callbackV","_ref2","callbackV","startWebLayoutAnimation","visibility","viewTag","unmarkNodeAsRemovable","componentWillUnmount","_this$_NativeEventsMa2","_this$_sharedElementT","_this$_viewInfo2","detachEvents","removeOnJSPropsChangeListener","_detachStyles","detachInlineProps","unregisterTransition","getComponentViewTag","addHTMLMutationObserver","reduceMotionInExiting","getReduceMotion","getReduceMotionFromConfig","wrapper","shadowNodeWrapper","markNodeAsRemovable","_this$props$animatedP","remove","animatedProps","_updateFromNative","setNativeProps","_this$_componentRef","viewName","viewConfig","DOMElement","hostInstance","findHostInstance","ReanimatedError","viewInfo","getViewInfo","getShadowNodeWrapperFromRef","_this$props$animatedP2","_this2","_this$props$animatedP3","flattenArray","prevStyles","prevAnimatedProps","_animatedProps","_this$_getViewInfo","hasReanimated2Props","adaptViewConfig","newStyles","Set","isStyleAttached","has","hasOneSameStyle","_loop","prevStyle","isPresent","some","_animatedProps$initia","initial","jestAnimatedValues","add","tag","componentDidUpdate","prevProps","_prevState","snapshot","_this$_NativeEventsMa3","updateEvents","_callbackV2","_ref3","tryActivateLayoutTransition","type","currentConfig","previousConfig","_this$props2","_isReducedMotion","updateLayoutAnimations","maybeBuild","displayName","_ref4","_this$props$sharedTra","isUnmounting","_this$_sharedElementT2","sharedElementTransition","sharedTransitionStyle","SharedTransition","registerTransition","config","getSnapshotBeforeUpdate","_this$_componentDOMRe","getBoundingClientRect","render","_this$context4","filteredProps","filterNonAnimatedProps","_filteredProps$style","Array","isArray","concat","platformProps","Platform","select","web","collapsable","nativeID","jestProps","jestInlineStyle","filterOutAnimatedStyles","jsx","React","contextType","SkipEnteringContext","animatedComponent","componentWithRef","styleElement","map"],"sources":["createAnimatedComponent.tsx"],"sourcesContent":["'use strict';\nimport '../layoutReanimation/animationsManager';\n\nimport invariant from 'invariant';\nimport type {\n  Component,\n  ComponentClass,\n  ComponentType,\n  FunctionComponent,\n  PropsWithoutRef,\n  Ref,\n  RefObject,\n} from 'react';\nimport React from 'react';\nimport type { FlatList, FlatListProps } from 'react-native';\nimport { Platform } from 'react-native';\n\nimport { getReduceMotionFromConfig } from '../animation/util';\nimport { maybeBuild } from '../animationBuilder';\nimport type { ShadowNodeWrapper, StyleProps } from '../commonTypes';\nimport { LayoutAnimationType } from '../commonTypes';\nimport { SkipEnteringContext } from '../component/LayoutAnimationConfig';\nimport { adaptViewConfig } from '../ConfigHelper';\nimport {\n  enableLayoutAnimations,\n  markNodeAsRemovable,\n  unmarkNodeAsRemovable,\n} from '../core';\nimport { ReanimatedError } from '../errors';\nimport { getShadowNodeWrapperFromRef } from '../fabricUtils';\nimport type { AnimateProps } from '../helperTypes';\nimport type { AnimatedStyleHandle } from '../hook/commonTypes';\nimport type { BaseAnimationBuilder } from '../layoutReanimation';\nimport { SharedTransition } from '../layoutReanimation';\nimport {\n  configureWebLayoutAnimations,\n  getReducedMotionFromConfig,\n  saveSnapshot,\n  startWebLayoutAnimation,\n  tryActivateLayoutTransition,\n} from '../layoutReanimation/web';\nimport type { CustomConfig } from '../layoutReanimation/web/config';\nimport { addHTMLMutationObserver } from '../layoutReanimation/web/domUtils';\nimport { findHostInstance } from '../platform-specific/findHostInstance';\nimport {\n  isFabric,\n  isJest,\n  isReact19,\n  isWeb,\n  shouldBeUseWeb,\n} from '../PlatformChecker';\nimport { componentWithRef } from '../reactUtils';\nimport type { ReanimatedHTMLElement } from '../ReanimatedModule/js-reanimated';\nimport { updateLayoutAnimations } from '../UpdateLayoutAnimations';\nimport type {\n  AnimatedComponentProps,\n  AnimatedComponentRef,\n  AnimatedProps,\n  IAnimatedComponentInternal,\n  INativeEventsManager,\n  InitialComponentProps,\n  LayoutAnimationOrBuilder,\n  NestedArray,\n  ViewInfo,\n} from './commonTypes';\nimport { getViewInfo } from './getViewInfo';\nimport { InlinePropManager } from './InlinePropManager';\nimport JSPropsUpdater from './JSPropsUpdater';\nimport { NativeEventsManager } from './NativeEventsManager';\nimport { PropsFilter } from './PropsFilter';\nimport setAndForwardRef from './setAndForwardRef';\nimport { flattenArray } from './utils';\n\nconst IS_WEB = isWeb();\nconst IS_JEST = isJest();\nconst IS_REACT_19 = isReact19();\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nif (IS_WEB) {\n  configureWebLayoutAnimations();\n}\n\nfunction onlyAnimatedStyles(styles: StyleProps[]): StyleProps[] {\n  return styles.filter((style) => style?.viewDescriptors);\n}\n\ntype Options<P> = {\n  setNativeProps: (ref: AnimatedComponentRef, props: P) => void;\n};\n\n/**\n * Lets you create an Animated version of any React Native component.\n *\n * @param component - The component you want to make animatable.\n * @returns A component that Reanimated is capable of animating.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/core/createAnimatedComponent\n */\n\n// Don't change the order of overloads, since such a change breaks current behavior\nexport function createAnimatedComponent<P extends object>(\n  component: FunctionComponent<P>,\n  options?: Options<P>\n): FunctionComponent<AnimateProps<P>>;\n\nexport function createAnimatedComponent<P extends object>(\n  component: ComponentClass<P>,\n  options?: Options<P>\n): ComponentClass<AnimateProps<P>>;\n\nexport function createAnimatedComponent<P extends object>(\n  // Actually ComponentType<P = {}> = ComponentClass<P> | FunctionComponent<P> but we need this overload too\n  // since some external components (like FastImage) are typed just as ComponentType\n  component: ComponentType<P>,\n  options?: Options<P>\n): FunctionComponent<AnimateProps<P>> | ComponentClass<AnimateProps<P>>;\n\n/**\n * @deprecated Please use `Animated.FlatList` component instead of calling\n *   `Animated.createAnimatedComponent(FlatList)` manually.\n */\n// @ts-ignore This is required to create this overload, since type of createAnimatedComponent is incorrect and doesn't include typeof FlatList\nexport function createAnimatedComponent(\n  component: typeof FlatList<unknown>,\n  options?: Options<any>\n): ComponentClass<AnimateProps<FlatListProps<unknown>>>;\n\nlet id = 0;\n\nexport function createAnimatedComponent(\n  Component: ComponentType<InitialComponentProps>,\n  options?: Options<InitialComponentProps>\n): any {\n  if (!IS_REACT_19) {\n    invariant(\n      typeof Component !== 'function' ||\n        (Component.prototype && Component.prototype.isReactComponent),\n      `Looks like you're passing a function component \\`${Component.name}\\` to \\`createAnimatedComponent\\` function which supports only class components. Please wrap your function component with \\`React.forwardRef()\\` or use a class component instead.`\n    );\n  }\n\n  class AnimatedComponent\n    extends React.Component<AnimatedComponentProps<InitialComponentProps>>\n    implements IAnimatedComponentInternal\n  {\n    _styles: StyleProps[] | null = null;\n    _animatedProps?: Partial<AnimatedComponentProps<AnimatedProps>>;\n    _isFirstRender = true;\n    jestInlineStyle: NestedArray<StyleProps> | undefined;\n    jestAnimatedStyle: { value: StyleProps } = { value: {} };\n    jestAnimatedProps: { value: AnimatedProps } = { value: {} };\n    _componentRef: AnimatedComponentRef | HTMLElement | null = null;\n    _hasAnimatedRef = false;\n    // Used only on web\n    _componentDOMRef: HTMLElement | null = null;\n    _sharedElementTransition: SharedTransition | null = null;\n    _jsPropsUpdater = new JSPropsUpdater();\n    _InlinePropManager = new InlinePropManager();\n    _PropsFilter = new PropsFilter();\n    _NativeEventsManager?: INativeEventsManager;\n    _viewInfo?: ViewInfo;\n    static displayName: string;\n    static contextType = SkipEnteringContext;\n    context!: React.ContextType<typeof SkipEnteringContext>;\n    reanimatedID = id++;\n    _willUnmount: boolean = false;\n\n    constructor(props: AnimatedComponentProps<InitialComponentProps>) {\n      super(props);\n      if (IS_JEST) {\n        this.jestAnimatedStyle = { value: {} };\n        this.jestAnimatedProps = { value: {} };\n      }\n\n      const skipEntering = this.context?.current;\n      if (isFabric() && !skipEntering) {\n        this._configureLayoutAnimation(\n          LayoutAnimationType.ENTERING,\n          this.props.entering\n        );\n      }\n    }\n\n    componentDidMount() {\n      if (!IS_WEB) {\n        // It exists only on native platforms. We initialize it here because the ref to the animated component is available only post-mount\n        this._NativeEventsManager = new NativeEventsManager(this, options);\n      }\n      this._NativeEventsManager?.attachEvents();\n      this._jsPropsUpdater.addOnJSPropsChangeListener(this);\n      this._attachAnimatedStyles();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n      this._configureLayoutAnimation(\n        LayoutAnimationType.LAYOUT,\n        this.props.layout\n      );\n      this._configureLayoutAnimation(\n        LayoutAnimationType.EXITING,\n        this.props.exiting\n      );\n\n      if (IS_WEB) {\n        if (this.props.exiting && this._componentDOMRef) {\n          saveSnapshot(this._componentDOMRef);\n        }\n\n        if (!this.props.entering) {\n          this._isFirstRender = false;\n          return;\n        }\n\n        if (getReducedMotionFromConfig(this.props.entering as CustomConfig)) {\n          this._isFirstRender = false;\n\n          (this.props.entering as BaseAnimationBuilder).callbackV?.(true);\n          return;\n        }\n\n        const skipEntering = this.context?.current;\n\n        if (!skipEntering) {\n          startWebLayoutAnimation(\n            this.props,\n            this._componentDOMRef as ReanimatedHTMLElement,\n            LayoutAnimationType.ENTERING\n          );\n        } else if (this._componentDOMRef) {\n          this._componentDOMRef.style.visibility = 'initial';\n        }\n      }\n\n      const viewTag = this._viewInfo?.viewTag;\n      if (\n        !SHOULD_BE_USE_WEB &&\n        isFabric() &&\n        this._willUnmount &&\n        typeof viewTag === 'number'\n      ) {\n        unmarkNodeAsRemovable(viewTag);\n      }\n\n      this._isFirstRender = false;\n    }\n\n    componentWillUnmount() {\n      this._NativeEventsManager?.detachEvents();\n      this._jsPropsUpdater.removeOnJSPropsChangeListener(this);\n      this._detachStyles();\n      this._InlinePropManager.detachInlineProps();\n      if (this.props.sharedTransitionTag) {\n        this._configureSharedTransition(true);\n      }\n      this._sharedElementTransition?.unregisterTransition(\n        this.getComponentViewTag(),\n        true\n      );\n\n      const exiting = this.props.exiting;\n\n      if (IS_WEB && this._componentDOMRef && exiting) {\n        if (getReducedMotionFromConfig(exiting as CustomConfig)) {\n          (exiting as BaseAnimationBuilder).callbackV?.(true);\n          return;\n        }\n        addHTMLMutationObserver();\n\n        startWebLayoutAnimation(\n          this.props,\n          this._componentDOMRef as ReanimatedHTMLElement,\n          LayoutAnimationType.EXITING\n        );\n      } else if (exiting && !IS_WEB && !isFabric()) {\n        const reduceMotionInExiting =\n          'getReduceMotion' in exiting &&\n          typeof exiting.getReduceMotion === 'function'\n            ? getReduceMotionFromConfig(exiting.getReduceMotion())\n            : getReduceMotionFromConfig();\n        if (!reduceMotionInExiting) {\n          this._configureLayoutAnimation(LayoutAnimationType.EXITING, exiting);\n        }\n      }\n\n      const wrapper = this._viewInfo?.shadowNodeWrapper;\n      if (!SHOULD_BE_USE_WEB && isFabric() && wrapper) {\n        // Mark node as removable on the native (C++) side, but only actually remove it\n        // when it no longer exists in the Shadow Tree. This ensures proper cleanup of\n        // animations/transitions/props while handling cases where the node might be\n        // remounted (e.g., when frozen) after componentWillUnmount is called.\n        markNodeAsRemovable(wrapper);\n      }\n\n      this._willUnmount = true;\n    }\n\n    getComponentViewTag() {\n      return this._getViewInfo().viewTag as number;\n    }\n\n    _detachStyles() {\n      const viewTag = this.getComponentViewTag();\n      if (viewTag !== -1 && this._styles !== null) {\n        for (const style of this._styles) {\n          style.viewDescriptors.remove(viewTag);\n        }\n        if (this.props.animatedProps?.viewDescriptors) {\n          this.props.animatedProps.viewDescriptors.remove(viewTag);\n        }\n      }\n    }\n\n    _updateFromNative(props: StyleProps) {\n      if (options?.setNativeProps) {\n        options.setNativeProps(\n          this._componentRef as AnimatedComponentRef,\n          props\n        );\n      } else {\n        (this._componentRef as AnimatedComponentRef)?.setNativeProps?.(props);\n      }\n    }\n\n    _getViewInfo(): ViewInfo {\n      if (this._viewInfo !== undefined) {\n        return this._viewInfo;\n      }\n\n      let viewTag: number | typeof this._componentRef;\n      let viewName: string | null;\n      let shadowNodeWrapper: ShadowNodeWrapper | null = null;\n      let viewConfig;\n      let DOMElement: HTMLElement | null = null;\n\n      if (SHOULD_BE_USE_WEB) {\n        // At this point I assume that `_setComponentRef` was already called and `_component` is set.\n        // `this._component` on web represents HTMLElement of our component, that's why we use casting\n        viewTag = this._componentRef;\n        DOMElement = this._componentDOMRef;\n        viewName = null;\n        shadowNodeWrapper = null;\n        viewConfig = null;\n      } else {\n        const hostInstance = findHostInstance(this);\n        if (!hostInstance) {\n          /* \n            findHostInstance can return null for a component that doesn't render anything \n            (render function returns null). Example: \n            svg Stop: https://github.com/react-native-svg/react-native-svg/blob/develop/src/elements/Stop.tsx\n          */\n          throw new ReanimatedError(\n            'Cannot find host instance for this component. Maybe it renders nothing?'\n          );\n        }\n\n        const viewInfo = getViewInfo(hostInstance);\n        viewTag = viewInfo.viewTag;\n        viewName = viewInfo.viewName;\n        viewConfig = viewInfo.viewConfig;\n        shadowNodeWrapper = isFabric()\n          ? getShadowNodeWrapperFromRef(this, hostInstance)\n          : null;\n      }\n      this._viewInfo = { viewTag, viewName, shadowNodeWrapper, viewConfig };\n      if (DOMElement) {\n        this._viewInfo.DOMElement = DOMElement;\n      }\n      return this._viewInfo;\n    }\n\n    _attachAnimatedStyles() {\n      const styles = this.props.style\n        ? onlyAnimatedStyles(flattenArray<StyleProps>(this.props.style))\n        : [];\n      const animatedProps = this.props.animatedProps;\n      const prevStyles = this._styles;\n      this._styles = styles;\n\n      const prevAnimatedProps = this._animatedProps;\n      this._animatedProps = animatedProps;\n\n      const { viewTag, viewName, shadowNodeWrapper, viewConfig } =\n        this._getViewInfo();\n\n      // update UI props whitelist for this view\n      const hasReanimated2Props =\n        this.props.animatedProps?.viewDescriptors || styles.length;\n      if (hasReanimated2Props && viewConfig) {\n        adaptViewConfig(viewConfig);\n      }\n\n      const newStyles = new Set<StyleProps>(styles);\n\n      const isStyleAttached = (style: StyleProps) =>\n        style.viewDescriptors.has(viewTag);\n\n      // remove old styles\n      if (prevStyles) {\n        // in most of the cases, views have only a single animated style and it remains unchanged\n        const hasOneSameStyle =\n          styles.length === 1 &&\n          prevStyles.length === 1 &&\n          styles[0] === prevStyles[0];\n\n        if (hasOneSameStyle && isStyleAttached(prevStyles[0])) {\n          return;\n        }\n\n        // otherwise, remove each style that is not present in new styles\n        for (const prevStyle of prevStyles) {\n          const isPresent = styles.some((style) => style === prevStyle);\n          if (!isPresent && isStyleAttached(prevStyle)) {\n            prevStyle.viewDescriptors.remove(viewTag);\n          }\n        }\n      }\n\n      if (animatedProps && IS_JEST) {\n        this.jestAnimatedProps.value = {\n          ...this.jestAnimatedProps.value,\n          ...animatedProps?.initial?.value,\n        };\n\n        if (animatedProps?.jestAnimatedValues) {\n          animatedProps.jestAnimatedValues.current = this.jestAnimatedProps;\n        }\n      }\n\n      newStyles.forEach((style) => {\n        style.viewDescriptors.add({\n          tag: viewTag,\n          name: viewName,\n          shadowNodeWrapper,\n        });\n        if (IS_JEST) {\n          /**\n           * We need to connect Jest's TestObject instance whose contains just\n           * props object with the updateProps() function where we update the\n           * properties of the component. We can't update props object directly\n           * because TestObject contains a copy of props - look at render\n           * function: const props = this._filterNonAnimatedProps(this.props);\n           */\n          this.jestAnimatedStyle.value = {\n            ...this.jestAnimatedStyle.value,\n            ...style.initial.value,\n          };\n          style.jestAnimatedValues.current = this.jestAnimatedStyle;\n        }\n      });\n\n      // detach old animatedProps\n      if (prevAnimatedProps && prevAnimatedProps !== this.props.animatedProps) {\n        prevAnimatedProps.viewDescriptors!.remove(viewTag as number);\n      }\n\n      // attach animatedProps property\n      if (this.props.animatedProps?.viewDescriptors) {\n        this.props.animatedProps.viewDescriptors.add({\n          tag: viewTag as number,\n          name: viewName!,\n          shadowNodeWrapper: shadowNodeWrapper!,\n        });\n      }\n    }\n\n    componentDidUpdate(\n      prevProps: AnimatedComponentProps<InitialComponentProps>,\n      _prevState: Readonly<unknown>,\n      snapshot: DOMRect | null\n    ) {\n      this._configureLayoutAnimation(\n        LayoutAnimationType.LAYOUT,\n        this.props.layout,\n        prevProps.layout\n      );\n      this._configureLayoutAnimation(\n        LayoutAnimationType.EXITING,\n        this.props.exiting,\n        prevProps.exiting\n      );\n\n      if (\n        this.props.sharedTransitionTag !== undefined ||\n        prevProps.sharedTransitionTag !== undefined\n      ) {\n        this._configureSharedTransition();\n      }\n      this._NativeEventsManager?.updateEvents(prevProps);\n      this._attachAnimatedStyles();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n      if (IS_WEB && this.props.exiting && this._componentDOMRef) {\n        saveSnapshot(this._componentDOMRef);\n      }\n\n      if (IS_WEB && snapshot && this.props.layout) {\n        if (getReducedMotionFromConfig(this.props.layout as CustomConfig)) {\n          (this.props.layout as BaseAnimationBuilder).callbackV?.(true);\n\n          return;\n        }\n        tryActivateLayoutTransition(\n          this.props,\n          this._componentDOMRef as ReanimatedHTMLElement,\n          snapshot\n        );\n      }\n    }\n\n    _configureLayoutAnimation(\n      type: LayoutAnimationType,\n      currentConfig: LayoutAnimationOrBuilder | undefined,\n      previousConfig?: LayoutAnimationOrBuilder\n    ) {\n      if (IS_WEB || currentConfig === previousConfig) {\n        return;\n      }\n\n      if (this._isReducedMotion(currentConfig)) {\n        if (!previousConfig) {\n          return;\n        }\n        currentConfig = undefined;\n      }\n\n      updateLayoutAnimations(\n        isFabric() && type === LayoutAnimationType.ENTERING\n          ? this.reanimatedID\n          : this.getComponentViewTag(),\n        type,\n        currentConfig &&\n          maybeBuild(\n            currentConfig,\n            type === LayoutAnimationType.LAYOUT\n              ? undefined /* We don't have to warn user if style has common properties with animation for LAYOUT */\n              : this.props?.style,\n            AnimatedComponent.displayName\n          )\n      );\n    }\n\n    _configureSharedTransition(isUnmounting = false) {\n      if (IS_WEB) {\n        return;\n      }\n\n      const { sharedTransitionTag } = this.props;\n      if (!sharedTransitionTag) {\n        this._sharedElementTransition?.unregisterTransition(\n          this.getComponentViewTag(),\n          isUnmounting\n        );\n        this._sharedElementTransition = null;\n        return;\n      }\n      const sharedElementTransition =\n        this.props.sharedTransitionStyle ??\n        this._sharedElementTransition ??\n        new SharedTransition();\n      sharedElementTransition.registerTransition(\n        this.getComponentViewTag(),\n        sharedTransitionTag,\n        isUnmounting\n      );\n      this._sharedElementTransition = sharedElementTransition;\n    }\n\n    _resolveComponentRef = (ref: Component | HTMLElement | null) => {\n      const componentRef = ref as AnimatedComponentRef;\n      // Component can specify ref which should be animated when animated version of the component is created.\n      // Otherwise, we animate the component itself.\n      if (componentRef && componentRef.getAnimatableRef) {\n        this._hasAnimatedRef = true;\n        return componentRef.getAnimatableRef();\n      }\n      // Case for SVG components on Web\n      if (SHOULD_BE_USE_WEB) {\n        if (componentRef && componentRef.elementRef) {\n          this._componentDOMRef = componentRef.elementRef.current;\n        } else {\n          this._componentDOMRef = ref as HTMLElement;\n        }\n      }\n      return componentRef;\n    };\n\n    _setComponentRef = setAndForwardRef<Component | HTMLElement>({\n      getForwardedRef: () =>\n        this.props.forwardedRef as RefObject<\n          Component<Record<string, unknown>, Record<string, unknown>, unknown>\n        >,\n      setLocalRef: (ref) => {\n        if (!ref) {\n          // component has been unmounted\n          return;\n        }\n        if (ref !== this._componentRef) {\n          this._componentRef = this._resolveComponentRef(ref);\n          // if ref is changed, reset viewInfo\n          this._viewInfo = undefined;\n        }\n\n        const { layout, entering, exiting, sharedTransitionTag } = this.props;\n        if (layout || entering || exiting || sharedTransitionTag) {\n          if (!SHOULD_BE_USE_WEB) {\n            enableLayoutAnimations(true, false);\n          }\n\n          if (sharedTransitionTag) {\n            this._configureSharedTransition();\n          }\n\n          const skipEntering = this.context?.current;\n          if (entering && !isFabric() && !skipEntering && !IS_WEB) {\n            this._configureLayoutAnimation(\n              LayoutAnimationType.ENTERING,\n              this.props.entering\n            );\n          }\n        }\n      },\n    });\n\n    _isReducedMotion(config?: LayoutAnimationOrBuilder): boolean {\n      return config &&\n        'getReduceMotion' in config &&\n        typeof config.getReduceMotion === 'function'\n        ? getReduceMotionFromConfig(config.getReduceMotion())\n        : getReduceMotionFromConfig();\n    }\n\n    // This is a component lifecycle method from React, therefore we are not calling it directly.\n    // It is called before the component gets rerendered. This way we can access components' position before it changed\n    // and later on, in componentDidUpdate, calculate translation for layout transition.\n    getSnapshotBeforeUpdate() {\n      if (\n        IS_WEB &&\n        this.props.layout &&\n        this._componentDOMRef?.getBoundingClientRect\n      ) {\n        return this._componentDOMRef.getBoundingClientRect();\n      }\n\n      // `getSnapshotBeforeUpdate` has to return value which is not `undefined`.\n      return null;\n    }\n\n    render() {\n      const filteredProps = this._PropsFilter.filterNonAnimatedProps(this);\n\n      if (IS_JEST) {\n        filteredProps.jestAnimatedStyle = this.jestAnimatedStyle;\n        filteredProps.jestAnimatedProps = this.jestAnimatedProps;\n      }\n\n      // Layout animations on web are set inside `componentDidMount` method, which is called after first render.\n      // Because of that we can encounter a situation in which component is visible for a short amount of time, and later on animation triggers.\n      // I've tested that on various browsers and devices and it did not happen to me. To be sure that it won't happen to someone else,\n      // I've decided to hide component at first render. Its visibility is reset in `componentDidMount`.\n      if (\n        this._isFirstRender &&\n        IS_WEB &&\n        filteredProps.entering &&\n        !getReducedMotionFromConfig(filteredProps.entering as CustomConfig)\n      ) {\n        filteredProps.style = Array.isArray(filteredProps.style)\n          ? filteredProps.style.concat([{ visibility: 'hidden' }])\n          : {\n              ...(filteredProps.style ?? {}),\n              visibility: 'hidden', // Hide component until `componentDidMount` triggers\n            };\n      }\n\n      const platformProps = Platform.select({\n        web: {},\n        default: { collapsable: false },\n      });\n\n      const skipEntering = this.context?.current;\n      const nativeID =\n        skipEntering || !isFabric() ? undefined : `${this.reanimatedID}`;\n\n      const jestProps = IS_JEST\n        ? {\n            jestInlineStyle:\n              this.props.style && filterOutAnimatedStyles(this.props.style),\n            jestAnimatedStyle: this.jestAnimatedStyle,\n            jestAnimatedProps: this.jestAnimatedProps,\n          }\n        : {};\n\n      return (\n        <Component\n          nativeID={nativeID}\n          {...filteredProps}\n          {...jestProps}\n          // Casting is used here, because ref can be null - in that case it cannot be assigned to HTMLElement.\n          // After spending some time trying to figure out what to do with this problem, we decided to leave it this way\n          ref={this._setComponentRef as (ref: Component) => void}\n          {...platformProps}\n        />\n      );\n    }\n  }\n\n  AnimatedComponent.displayName = `AnimatedComponent(${\n    Component.displayName || Component.name || 'Component'\n  })`;\n\n  const animatedComponent = componentWithRef(\n    (\n      props: PropsWithoutRef<AnimatedComponentProps<InitialComponentProps>>,\n      ref: Ref<Component>\n    ) => (\n      <AnimatedComponent\n        {...props}\n        {...(ref === null ? null : { forwardedRef: ref })}\n      />\n    )\n  );\n\n  animatedComponent.displayName =\n    Component.displayName || Component.name || 'Component';\n\n  return animatedComponent;\n}\n\nfunction filterOutAnimatedStyles(\n  style: NestedArray<StyleProps | AnimatedStyleHandle | null | undefined>\n): NestedArray<StyleProps | null | undefined> {\n  if (!style) {\n    return style;\n  }\n  if (!Array.isArray(style)) {\n    return style?.viewDescriptors ? {} : style;\n  }\n  return style\n    .filter(\n      (styleElement) => !(styleElement && 'viewDescriptors' in styleElement)\n    )\n    .map((styleElement) => {\n      if (Array.isArray(styleElement)) {\n        return filterOutAnimatedStyles(styleElement);\n      }\n      return styleElement;\n    });\n}\n"],"mappings":"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","ignoreList":[]}