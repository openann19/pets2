8c1d10eec7ee8c8098671614a2db6f06
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _reactNative = require("react-native");
var _VirtualizedList = _interopRequireDefault(require("./VirtualizedList"));
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["ItemSeparatorComponent", "SectionSeparatorComponent", "renderItem", "renderSectionFooter", "renderSectionHeader", "sections", "stickySectionHeadersEnabled"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var VirtualizedSectionList = function (_React$PureComponent) {
  function VirtualizedSectionList() {
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedSectionList);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _callSuper(this, VirtualizedSectionList, [].concat(args));
    _this._keyExtractor = function (item, index) {
      var info = _this._subExtractor(index);
      return info && info.key || String(index);
    };
    _this._convertViewable = function (viewable) {
      var _info$index;
      (0, _invariant.default)(viewable.index != null, 'Received a broken ViewToken');
      var info = _this._subExtractor(viewable.index);
      if (!info) {
        return null;
      }
      var keyExtractorWithNullableIndex = info.section.keyExtractor;
      var keyExtractorWithNonNullableIndex = _this.props.keyExtractor || _VirtualizeUtils.keyExtractor;
      var key = keyExtractorWithNullableIndex != null ? keyExtractorWithNullableIndex(viewable.item, info.index) : keyExtractorWithNonNullableIndex(viewable.item, (_info$index = info.index) != null ? _info$index : 0);
      return _objectSpread(_objectSpread({}, viewable), {}, {
        index: info.index,
        key: key,
        section: info.section
      });
    };
    _this._onViewableItemsChanged = function (_ref) {
      var viewableItems = _ref.viewableItems,
        changed = _ref.changed;
      var onViewableItemsChanged = _this.props.onViewableItemsChanged;
      if (onViewableItemsChanged != null) {
        onViewableItemsChanged({
          viewableItems: viewableItems.map(_this._convertViewable, _this).filter(Boolean),
          changed: changed.map(_this._convertViewable, _this).filter(Boolean)
        });
      }
    };
    _this._renderItem = function (listItemCount) {
      return (function (_ref2) {
          var item = _ref2.item,
            index = _ref2.index;
          var info = _this._subExtractor(index);
          if (!info) {
            return null;
          }
          var infoIndex = info.index;
          if (infoIndex == null) {
            var section = info.section;
            if (info.header === true) {
              var renderSectionHeader = _this.props.renderSectionHeader;
              return renderSectionHeader ? renderSectionHeader({
                section: section
              }) : null;
            } else {
              var renderSectionFooter = _this.props.renderSectionFooter;
              return renderSectionFooter ? renderSectionFooter({
                section: section
              }) : null;
            }
          } else {
            var renderItem = info.section.renderItem || _this.props.renderItem;
            var SeparatorComponent = _this._getSeparatorComponent(index, info, listItemCount);
            (0, _invariant.default)(renderItem, 'no renderItem!');
            return (0, _jsxRuntime.jsx)(ItemWithSeparator, {
              SeparatorComponent: SeparatorComponent,
              LeadingSeparatorComponent: infoIndex === 0 ? _this.props.SectionSeparatorComponent : undefined,
              cellKey: info.key,
              index: infoIndex,
              item: item,
              leadingItem: info.leadingItem,
              leadingSection: info.leadingSection,
              prevCellKey: (_this._subExtractor(index - 1) || {}).key,
              setSelfHighlightCallback: _this._setUpdateHighlightFor,
              setSelfUpdatePropsCallback: _this._setUpdatePropsFor,
              updateHighlightFor: _this._updateHighlightFor,
              updatePropsFor: _this._updatePropsFor,
              renderItem: renderItem,
              section: info.section,
              trailingItem: info.trailingItem,
              trailingSection: info.trailingSection,
              inverted: !!_this.props.inverted
            });
          }
        }
      );
    };
    _this._updatePropsFor = function (cellKey, value) {
      var updateProps = _this._updatePropsMap[cellKey];
      if (updateProps != null) {
        updateProps(value);
      }
    };
    _this._updateHighlightFor = function (cellKey, value) {
      var updateHighlight = _this._updateHighlightMap[cellKey];
      if (updateHighlight != null) {
        updateHighlight(value);
      }
    };
    _this._setUpdateHighlightFor = function (cellKey, updateHighlightFn) {
      if (updateHighlightFn != null) {
        _this._updateHighlightMap[cellKey] = updateHighlightFn;
      } else {
        delete _this._updateHighlightFor[cellKey];
      }
    };
    _this._setUpdatePropsFor = function (cellKey, updatePropsFn) {
      if (updatePropsFn != null) {
        _this._updatePropsMap[cellKey] = updatePropsFn;
      } else {
        delete _this._updatePropsMap[cellKey];
      }
    };
    _this._updateHighlightMap = {};
    _this._updatePropsMap = {};
    _this._captureRef = function (ref) {
      _this._listRef = ref;
    };
    return _this;
  }
  (0, _inherits2.default)(VirtualizedSectionList, _React$PureComponent);
  return (0, _createClass2.default)(VirtualizedSectionList, [{
    key: "scrollToLocation",
    value: function scrollToLocation(params) {
      var index = params.itemIndex;
      for (var i = 0; i < params.sectionIndex; i++) {
        index += this.props.getItemCount(this.props.sections[i].data) + 2;
      }
      var viewOffset = params.viewOffset || 0;
      if (this._listRef == null) {
        return;
      }
      if (params.itemIndex > 0 && this.props.stickySectionHeadersEnabled) {
        var frame = this._listRef.__getFrameMetricsApprox(index - params.itemIndex, this._listRef.props);
        viewOffset += frame.length;
      }
      var toIndexParams = _objectSpread(_objectSpread({}, params), {}, {
        viewOffset: viewOffset,
        index: index
      });
      this._listRef.scrollToIndex(toIndexParams);
    }
  }, {
    key: "getListRef",
    value: function getListRef() {
      return this._listRef;
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      var _this$props = this.props,
        ItemSeparatorComponent = _this$props.ItemSeparatorComponent,
        SectionSeparatorComponent = _this$props.SectionSeparatorComponent,
        _renderItem = _this$props.renderItem,
        renderSectionFooter = _this$props.renderSectionFooter,
        renderSectionHeader = _this$props.renderSectionHeader,
        _sections = _this$props.sections,
        stickySectionHeadersEnabled = _this$props.stickySectionHeadersEnabled,
        passThroughProps = (0, _objectWithoutProperties2.default)(_this$props, _excluded);
      var listHeaderOffset = this.props.ListHeaderComponent ? 1 : 0;
      var stickyHeaderIndices = this.props.stickySectionHeadersEnabled ? [] : undefined;
      var itemCount = 0;
      for (var section of this.props.sections) {
        if (stickyHeaderIndices != null) {
          stickyHeaderIndices.push(itemCount + listHeaderOffset);
        }
        itemCount += 2;
        itemCount += this.props.getItemCount(section.data);
      }
      var renderItem = this._renderItem(itemCount);
      return (0, _jsxRuntime.jsx)(_VirtualizedList.default, _objectSpread(_objectSpread({}, passThroughProps), {}, {
        keyExtractor: this._keyExtractor,
        stickyHeaderIndices: stickyHeaderIndices,
        renderItem: renderItem,
        data: this.props.sections,
        getItem: function getItem(sections, index) {
          return _this2._getItem(_this2.props, sections, index);
        },
        getItemCount: function getItemCount() {
          return itemCount;
        },
        onViewableItemsChanged: this.props.onViewableItemsChanged ? this._onViewableItemsChanged : undefined,
        ref: this._captureRef
      }));
    }
  }, {
    key: "_getItem",
    value: function _getItem(props, sections, index) {
      if (!sections) {
        return null;
      }
      var itemIdx = index - 1;
      for (var i = 0; i < sections.length; i++) {
        var section = sections[i];
        var sectionData = section.data;
        var itemCount = props.getItemCount(sectionData);
        if (itemIdx === -1 || itemIdx === itemCount) {
          return section;
        } else if (itemIdx < itemCount) {
          return props.getItem(sectionData, itemIdx);
        } else {
          itemIdx -= itemCount + 2;
        }
      }
      return null;
    }
  }, {
    key: "_subExtractor",
    value: function _subExtractor(index) {
      var itemIndex = index;
      var _this$props2 = this.props,
        getItem = _this$props2.getItem,
        getItemCount = _this$props2.getItemCount,
        keyExtractor = _this$props2.keyExtractor,
        sections = _this$props2.sections;
      for (var i = 0; i < sections.length; i++) {
        var section = sections[i];
        var sectionData = section.data;
        var key = section.key || String(i);
        itemIndex -= 1;
        if (itemIndex >= getItemCount(sectionData) + 1) {
          itemIndex -= getItemCount(sectionData) + 1;
        } else if (itemIndex === -1) {
          return {
            section: section,
            key: key + ':header',
            index: null,
            header: true,
            trailingSection: sections[i + 1]
          };
        } else if (itemIndex === getItemCount(sectionData)) {
          return {
            section: section,
            key: key + ':footer',
            index: null,
            header: false,
            trailingSection: sections[i + 1]
          };
        } else {
          var extractor = section.keyExtractor || keyExtractor || _VirtualizeUtils.keyExtractor;
          return {
            section: section,
            key: key + ':' + extractor(getItem(sectionData, itemIndex), itemIndex),
            index: itemIndex,
            leadingItem: getItem(sectionData, itemIndex - 1),
            leadingSection: sections[i - 1],
            trailingItem: getItem(sectionData, itemIndex + 1),
            trailingSection: sections[i + 1]
          };
        }
      }
    }
  }, {
    key: "_getSeparatorComponent",
    value: function _getSeparatorComponent(index, info, listItemCount) {
      info = info || this._subExtractor(index);
      if (!info) {
        return null;
      }
      var ItemSeparatorComponent = info.section.ItemSeparatorComponent || this.props.ItemSeparatorComponent;
      var SectionSeparatorComponent = this.props.SectionSeparatorComponent;
      var isLastItemInList = index === listItemCount - 1;
      var isLastItemInSection = info.index === this.props.getItemCount(info.section.data) - 1;
      if (SectionSeparatorComponent && isLastItemInSection) {
        return SectionSeparatorComponent;
      }
      if (ItemSeparatorComponent && !isLastItemInSection && !isLastItemInList) {
        return ItemSeparatorComponent;
      }
      return null;
    }
  }]);
}(React.PureComponent);
function ItemWithSeparator(props) {
  var LeadingSeparatorComponent = props.LeadingSeparatorComponent,
    SeparatorComponent = props.SeparatorComponent,
    cellKey = props.cellKey,
    prevCellKey = props.prevCellKey,
    setSelfHighlightCallback = props.setSelfHighlightCallback,
    updateHighlightFor = props.updateHighlightFor,
    setSelfUpdatePropsCallback = props.setSelfUpdatePropsCallback,
    updatePropsFor = props.updatePropsFor,
    item = props.item,
    index = props.index,
    section = props.section,
    inverted = props.inverted;
  var _React$useState = React.useState(false),
    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),
    leadingSeparatorHiglighted = _React$useState2[0],
    setLeadingSeparatorHighlighted = _React$useState2[1];
  var _React$useState3 = React.useState(false),
    _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),
    separatorHighlighted = _React$useState4[0],
    setSeparatorHighlighted = _React$useState4[1];
  var _React$useState5 = React.useState({
      leadingItem: props.leadingItem,
      leadingSection: props.leadingSection,
      section: props.section,
      trailingItem: props.item,
      trailingSection: props.trailingSection
    }),
    _React$useState6 = (0, _slicedToArray2.default)(_React$useState5, 2),
    leadingSeparatorProps = _React$useState6[0],
    setLeadingSeparatorProps = _React$useState6[1];
  var _React$useState7 = React.useState({
      leadingItem: props.item,
      leadingSection: props.leadingSection,
      section: props.section,
      trailingItem: props.trailingItem,
      trailingSection: props.trailingSection
    }),
    _React$useState8 = (0, _slicedToArray2.default)(_React$useState7, 2),
    separatorProps = _React$useState8[0],
    setSeparatorProps = _React$useState8[1];
  React.useEffect(function () {
    setSelfHighlightCallback(cellKey, setSeparatorHighlighted);
    setSelfUpdatePropsCallback(cellKey, setSeparatorProps);
    return function () {
      setSelfUpdatePropsCallback(cellKey, null);
      setSelfHighlightCallback(cellKey, null);
    };
  }, [cellKey, setSelfHighlightCallback, setSeparatorProps, setSelfUpdatePropsCallback]);
  var separators = {
    highlight: function highlight() {
      setLeadingSeparatorHighlighted(true);
      setSeparatorHighlighted(true);
      if (prevCellKey != null) {
        updateHighlightFor(prevCellKey, true);
      }
    },
    unhighlight: function unhighlight() {
      setLeadingSeparatorHighlighted(false);
      setSeparatorHighlighted(false);
      if (prevCellKey != null) {
        updateHighlightFor(prevCellKey, false);
      }
    },
    updateProps: function updateProps(select, newProps) {
      if (select === 'leading') {
        if (LeadingSeparatorComponent != null) {
          setLeadingSeparatorProps(_objectSpread(_objectSpread({}, leadingSeparatorProps), newProps));
        } else if (prevCellKey != null) {
          updatePropsFor(prevCellKey, _objectSpread(_objectSpread({}, leadingSeparatorProps), newProps));
        }
      } else if (select === 'trailing' && SeparatorComponent != null) {
        setSeparatorProps(_objectSpread(_objectSpread({}, separatorProps), newProps));
      }
    }
  };
  var element = props.renderItem({
    item: item,
    index: index,
    section: section,
    separators: separators
  });
  var leadingSeparator = LeadingSeparatorComponent != null && (0, _jsxRuntime.jsx)(LeadingSeparatorComponent, _objectSpread({
    highlighted: leadingSeparatorHiglighted
  }, leadingSeparatorProps));
  var separator = SeparatorComponent != null && (0, _jsxRuntime.jsx)(SeparatorComponent, _objectSpread({
    highlighted: separatorHighlighted
  }, separatorProps));
  return leadingSeparator || separator ? (0, _jsxRuntime.jsxs)(_reactNative.View, {
    children: [inverted === false ? leadingSeparator : separator, element, inverted === false ? separator : leadingSeparator]
  }) : element;
}
module.exports = VirtualizedSectionList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX1ZpcnR1YWxpemVkTGlzdCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfVmlydHVhbGl6ZVV0aWxzIiwiX2ludmFyaWFudCIsIlJlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfanN4UnVudGltZSIsIl9leGNsdWRlZCIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJmaWx0ZXIiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJfY2FsbFN1cGVyIiwiX2dldFByb3RvdHlwZU9mMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiY29uc3RydWN0b3IiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsIlZpcnR1YWxpemVkU2VjdGlvbkxpc3QiLCJfUmVhY3QkUHVyZUNvbXBvbmVudCIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrMiIsIl9sZW4iLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiY29uY2F0IiwiX2tleUV4dHJhY3RvciIsIml0ZW0iLCJpbmRleCIsImluZm8iLCJfc3ViRXh0cmFjdG9yIiwia2V5IiwiU3RyaW5nIiwiX2NvbnZlcnRWaWV3YWJsZSIsInZpZXdhYmxlIiwiX2luZm8kaW5kZXgiLCJpbnZhcmlhbnQiLCJrZXlFeHRyYWN0b3JXaXRoTnVsbGFibGVJbmRleCIsInNlY3Rpb24iLCJrZXlFeHRyYWN0b3IiLCJrZXlFeHRyYWN0b3JXaXRoTm9uTnVsbGFibGVJbmRleCIsInByb3BzIiwiZGVmYXVsdEtleUV4dHJhY3RvciIsIl9vblZpZXdhYmxlSXRlbXNDaGFuZ2VkIiwiX3JlZiIsInZpZXdhYmxlSXRlbXMiLCJjaGFuZ2VkIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsIm1hcCIsIl9yZW5kZXJJdGVtIiwibGlzdEl0ZW1Db3VudCIsIl9yZWYyIiwiaW5mb0luZGV4IiwiaGVhZGVyIiwicmVuZGVyU2VjdGlvbkhlYWRlciIsInJlbmRlclNlY3Rpb25Gb290ZXIiLCJyZW5kZXJJdGVtIiwiU2VwYXJhdG9yQ29tcG9uZW50IiwiX2dldFNlcGFyYXRvckNvbXBvbmVudCIsImpzeCIsIkl0ZW1XaXRoU2VwYXJhdG9yIiwiTGVhZGluZ1NlcGFyYXRvckNvbXBvbmVudCIsIlNlY3Rpb25TZXBhcmF0b3JDb21wb25lbnQiLCJ1bmRlZmluZWQiLCJjZWxsS2V5IiwibGVhZGluZ0l0ZW0iLCJsZWFkaW5nU2VjdGlvbiIsInByZXZDZWxsS2V5Iiwic2V0U2VsZkhpZ2hsaWdodENhbGxiYWNrIiwiX3NldFVwZGF0ZUhpZ2hsaWdodEZvciIsInNldFNlbGZVcGRhdGVQcm9wc0NhbGxiYWNrIiwiX3NldFVwZGF0ZVByb3BzRm9yIiwidXBkYXRlSGlnaGxpZ2h0Rm9yIiwiX3VwZGF0ZUhpZ2hsaWdodEZvciIsInVwZGF0ZVByb3BzRm9yIiwiX3VwZGF0ZVByb3BzRm9yIiwidHJhaWxpbmdJdGVtIiwidHJhaWxpbmdTZWN0aW9uIiwiaW52ZXJ0ZWQiLCJ2YWx1ZSIsInVwZGF0ZVByb3BzIiwiX3VwZGF0ZVByb3BzTWFwIiwidXBkYXRlSGlnaGxpZ2h0IiwiX3VwZGF0ZUhpZ2hsaWdodE1hcCIsInVwZGF0ZUhpZ2hsaWdodEZuIiwidXBkYXRlUHJvcHNGbiIsIl9jYXB0dXJlUmVmIiwicmVmIiwiX2xpc3RSZWYiLCJfaW5oZXJpdHMyIiwiX2NyZWF0ZUNsYXNzMiIsInNjcm9sbFRvTG9jYXRpb24iLCJwYXJhbXMiLCJpdGVtSW5kZXgiLCJzZWN0aW9uSW5kZXgiLCJnZXRJdGVtQ291bnQiLCJzZWN0aW9ucyIsImRhdGEiLCJ2aWV3T2Zmc2V0Iiwic3RpY2t5U2VjdGlvbkhlYWRlcnNFbmFibGVkIiwiZnJhbWUiLCJfX2dldEZyYW1lTWV0cmljc0FwcHJveCIsInRvSW5kZXhQYXJhbXMiLCJzY3JvbGxUb0luZGV4IiwiZ2V0TGlzdFJlZiIsInJlbmRlciIsIl90aGlzMiIsIl90aGlzJHByb3BzIiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsIl9zZWN0aW9ucyIsInBhc3NUaHJvdWdoUHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwibGlzdEhlYWRlck9mZnNldCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwiaXRlbUNvdW50IiwiZ2V0SXRlbSIsIl9nZXRJdGVtIiwiaXRlbUlkeCIsInNlY3Rpb25EYXRhIiwiX3RoaXMkcHJvcHMyIiwiZXh0cmFjdG9yIiwiaXNMYXN0SXRlbUluTGlzdCIsImlzTGFzdEl0ZW1JblNlY3Rpb24iLCJQdXJlQ29tcG9uZW50IiwiX1JlYWN0JHVzZVN0YXRlIiwidXNlU3RhdGUiLCJfUmVhY3QkdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwibGVhZGluZ1NlcGFyYXRvckhpZ2xpZ2h0ZWQiLCJzZXRMZWFkaW5nU2VwYXJhdG9ySGlnaGxpZ2h0ZWQiLCJfUmVhY3QkdXNlU3RhdGUzIiwiX1JlYWN0JHVzZVN0YXRlNCIsInNlcGFyYXRvckhpZ2hsaWdodGVkIiwic2V0U2VwYXJhdG9ySGlnaGxpZ2h0ZWQiLCJfUmVhY3QkdXNlU3RhdGU1IiwiX1JlYWN0JHVzZVN0YXRlNiIsImxlYWRpbmdTZXBhcmF0b3JQcm9wcyIsInNldExlYWRpbmdTZXBhcmF0b3JQcm9wcyIsIl9SZWFjdCR1c2VTdGF0ZTciLCJfUmVhY3QkdXNlU3RhdGU4Iiwic2VwYXJhdG9yUHJvcHMiLCJzZXRTZXBhcmF0b3JQcm9wcyIsInVzZUVmZmVjdCIsInNlcGFyYXRvcnMiLCJoaWdobGlnaHQiLCJ1bmhpZ2hsaWdodCIsInNlbGVjdCIsIm5ld1Byb3BzIiwiZWxlbWVudCIsImxlYWRpbmdTZXBhcmF0b3IiLCJoaWdobGlnaHRlZCIsInNlcGFyYXRvciIsImpzeHMiLCJWaWV3IiwiY2hpbGRyZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiVmlydHVhbGl6ZWRTZWN0aW9uTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7Vmlld1Rva2VufSBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcblxuaW1wb3J0IHtWaWV3fSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IFZpcnR1YWxpemVkTGlzdCBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdCc7XG5pbXBvcnQge2tleUV4dHJhY3RvciBhcyBkZWZhdWx0S2V5RXh0cmFjdG9yfSBmcm9tICcuL1ZpcnR1YWxpemVVdGlscyc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnR5cGUgSXRlbSA9IGFueTtcblxuZXhwb3J0IHR5cGUgU2VjdGlvbkJhc2U8U2VjdGlvbkl0ZW1UPiA9IHtcbiAgLyoqXG4gICAqIFRoZSBkYXRhIGZvciByZW5kZXJpbmcgaXRlbXMgaW4gdGhpcyBzZWN0aW9uLlxuICAgKi9cbiAgZGF0YTogJFJlYWRPbmx5QXJyYXk8U2VjdGlvbkl0ZW1UPixcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGtleSB0byBrZWVwIHRyYWNrIG9mIHNlY3Rpb24gcmUtb3JkZXJpbmcuIElmIHlvdSBkb24ndCBwbGFuIG9uIHJlLW9yZGVyaW5nIHNlY3Rpb25zLFxuICAgKiB0aGUgYXJyYXkgaW5kZXggd2lsbCBiZSB1c2VkIGJ5IGRlZmF1bHQuXG4gICAqL1xuICBrZXk/OiBzdHJpbmcsXG4gIC8vIE9wdGlvbmFsIHByb3BzIHdpbGwgb3ZlcnJpZGUgbGlzdC13aWRlIHByb3BzIGp1c3QgZm9yIHRoaXMgc2VjdGlvbi5cbiAgcmVuZGVySXRlbT86ID8oaW5mbzoge1xuICAgIGl0ZW06IFNlY3Rpb25JdGVtVCxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHNlY3Rpb246IFNlY3Rpb25CYXNlPFNlY3Rpb25JdGVtVD4sXG4gICAgc2VwYXJhdG9yczoge1xuICAgICAgaGlnaGxpZ2h0OiAoKSA9PiB2b2lkLFxuICAgICAgdW5oaWdobGlnaHQ6ICgpID0+IHZvaWQsXG4gICAgICB1cGRhdGVQcm9wczogKHNlbGVjdDogJ2xlYWRpbmcnIHwgJ3RyYWlsaW5nJywgbmV3UHJvcHM6IE9iamVjdCkgPT4gdm9pZCxcbiAgICAgIC4uLlxuICAgIH0sXG4gICAgLi4uXG4gIH0pID0+IG51bGwgfCBSZWFjdC5FbGVtZW50PGFueT4sXG4gIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ/OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICBrZXlFeHRyYWN0b3I/OiAoaXRlbTogU2VjdGlvbkl0ZW1ULCBpbmRleD86ID9udW1iZXIpID0+IHN0cmluZyxcbiAgLi4uXG59O1xuXG50eXBlIFJlcXVpcmVkUHJvcHM8U2VjdGlvblQ6IFNlY3Rpb25CYXNlPGFueT4+ID0ge3xcbiAgc2VjdGlvbnM6ICRSZWFkT25seUFycmF5PFNlY3Rpb25UPixcbnx9O1xuXG50eXBlIE9wdGlvbmFsUHJvcHM8U2VjdGlvblQ6IFNlY3Rpb25CYXNlPGFueT4+ID0ge3xcbiAgLyoqXG4gICAqIERlZmF1bHQgcmVuZGVyZXIgZm9yIGV2ZXJ5IGl0ZW0gaW4gZXZlcnkgc2VjdGlvbi5cbiAgICovXG4gIHJlbmRlckl0ZW0/OiAoaW5mbzoge1xuICAgIGl0ZW06IEl0ZW0sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBzZWN0aW9uOiBTZWN0aW9uVCxcbiAgICBzZXBhcmF0b3JzOiB7XG4gICAgICBoaWdobGlnaHQ6ICgpID0+IHZvaWQsXG4gICAgICB1bmhpZ2hsaWdodDogKCkgPT4gdm9pZCxcbiAgICAgIHVwZGF0ZVByb3BzOiAoc2VsZWN0OiAnbGVhZGluZycgfCAndHJhaWxpbmcnLCBuZXdQcm9wczogT2JqZWN0KSA9PiB2b2lkLFxuICAgICAgLi4uXG4gICAgfSxcbiAgICAuLi5cbiAgfSkgPT4gbnVsbCB8IFJlYWN0LkVsZW1lbnQ8YW55PixcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGF0IHRoZSB0b3Agb2YgZWFjaCBzZWN0aW9uLiBUaGVzZSBzdGljayB0byB0aGUgdG9wIG9mIHRoZSBgU2Nyb2xsVmlld2AgYnkgZGVmYXVsdCBvblxuICAgKiBpT1MuIFNlZSBgc3RpY2t5U2VjdGlvbkhlYWRlcnNFbmFibGVkYC5cbiAgICovXG4gIHJlbmRlclNlY3Rpb25IZWFkZXI/OiA/KGluZm86IHtcbiAgICBzZWN0aW9uOiBTZWN0aW9uVCxcbiAgICAuLi5cbiAgfSkgPT4gbnVsbCB8IFJlYWN0LkVsZW1lbnQ8YW55PixcbiAgLyoqXG4gICAqIFJlbmRlcmVkIGF0IHRoZSBib3R0b20gb2YgZWFjaCBzZWN0aW9uLlxuICAgKi9cbiAgcmVuZGVyU2VjdGlvbkZvb3Rlcj86ID8oaW5mbzoge1xuICAgIHNlY3Rpb246IFNlY3Rpb25ULFxuICAgIC4uLlxuICB9KSA9PiBudWxsIHwgUmVhY3QuRWxlbWVudDxhbnk+LFxuICAvKipcbiAgICogUmVuZGVyZWQgYXQgdGhlIHRvcCBhbmQgYm90dG9tIG9mIGVhY2ggc2VjdGlvbiAobm90ZSB0aGlzIGlzIGRpZmZlcmVudCBmcm9tXG4gICAqIGBJdGVtU2VwYXJhdG9yQ29tcG9uZW50YCB3aGljaCBpcyBvbmx5IHJlbmRlcmVkIGJldHdlZW4gaXRlbXMpLiBUaGVzZSBhcmUgaW50ZW5kZWQgdG8gc2VwYXJhdGVcbiAgICogc2VjdGlvbnMgZnJvbSB0aGUgaGVhZGVycyBhYm92ZSBhbmQgYmVsb3cgYW5kIHR5cGljYWxseSBoYXZlIHRoZSBzYW1lIGhpZ2hsaWdodCByZXNwb25zZSBhc1xuICAgKiBgSXRlbVNlcGFyYXRvckNvbXBvbmVudGAuIEFsc28gcmVjZWl2ZXMgYGhpZ2hsaWdodGVkYCwgYFtsZWFkaW5nL3RyYWlsaW5nXVtJdGVtL1NlcGFyYXRvcl1gLFxuICAgKiBhbmQgYW55IGN1c3RvbSBwcm9wcyBmcm9tIGBzZXBhcmF0b3JzLnVwZGF0ZVByb3BzYC5cbiAgICovXG4gIFNlY3Rpb25TZXBhcmF0b3JDb21wb25lbnQ/OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICAvKipcbiAgICogTWFrZXMgc2VjdGlvbiBoZWFkZXJzIHN0aWNrIHRvIHRoZSB0b3Agb2YgdGhlIHNjcmVlbiB1bnRpbCB0aGUgbmV4dCBvbmUgcHVzaGVzIGl0IG9mZi4gT25seVxuICAgKiBlbmFibGVkIGJ5IGRlZmF1bHQgb24gaU9TIGJlY2F1c2UgdGhhdCBpcyB0aGUgcGxhdGZvcm0gc3RhbmRhcmQgdGhlcmUuXG4gICAqL1xuICBzdGlja3lTZWN0aW9uSGVhZGVyc0VuYWJsZWQ/OiBib29sZWFuLFxuICBvbkVuZFJlYWNoZWQ/OiA/KHtkaXN0YW5jZUZyb21FbmQ6IG51bWJlciwgLi4ufSkgPT4gdm9pZCxcbnx9O1xuXG50eXBlIFZpcnR1YWxpemVkTGlzdFByb3BzID0gUmVhY3QuRWxlbWVudENvbmZpZzx0eXBlb2YgVmlydHVhbGl6ZWRMaXN0PjtcblxuZXhwb3J0IHR5cGUgUHJvcHM8U2VjdGlvblQ+ID0ge3xcbiAgLi4uUmVxdWlyZWRQcm9wczxTZWN0aW9uVD4sXG4gIC4uLk9wdGlvbmFsUHJvcHM8U2VjdGlvblQ+LFxuICAuLi4kRGlmZjxcbiAgICBWaXJ0dWFsaXplZExpc3RQcm9wcyxcbiAgICB7XG4gICAgICByZW5kZXJJdGVtOiAkUHJvcGVydHlUeXBlPFZpcnR1YWxpemVkTGlzdFByb3BzLCAncmVuZGVySXRlbSc+LFxuICAgICAgZGF0YTogJFByb3BlcnR5VHlwZTxWaXJ0dWFsaXplZExpc3RQcm9wcywgJ2RhdGEnPixcbiAgICAgIC4uLlxuICAgIH0sXG4gID4sXG58fTtcbmV4cG9ydCB0eXBlIFNjcm9sbFRvTG9jYXRpb25QYXJhbXNUeXBlID0ge3xcbiAgYW5pbWF0ZWQ/OiA/Ym9vbGVhbixcbiAgaXRlbUluZGV4OiBudW1iZXIsXG4gIHNlY3Rpb25JbmRleDogbnVtYmVyLFxuICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG58fTtcblxudHlwZSBTdGF0ZSA9IHtjaGlsZFByb3BzOiBWaXJ0dWFsaXplZExpc3RQcm9wcywgLi4ufTtcblxuLyoqXG4gKiBSaWdodCBub3cgdGhpcyBqdXN0IGZsYXR0ZW5zIGV2ZXJ5dGhpbmcgaW50byBvbmUgbGlzdCBhbmQgdXNlcyBWaXJ0dWFsaXplZExpc3QgdW5kZXIgdGhlXG4gKiBob29kLiBUaGUgb25seSBvcGVyYXRpb24gdGhhdCBtaWdodCBub3Qgc2NhbGUgd2VsbCBpcyBjb25jYXR0aW5nIHRoZSBkYXRhIGFycmF5cyBvZiBhbGwgdGhlXG4gKiBzZWN0aW9ucyB3aGVuIG5ldyBwcm9wcyBhcmUgcmVjZWl2ZWQsIHdoaWNoIHNob3VsZCBiZSBwbGVudHkgZmFzdCBmb3IgdXAgdG8gfjEwLDAwMCBpdGVtcy5cbiAqL1xuY2xhc3MgVmlydHVhbGl6ZWRTZWN0aW9uTGlzdDxcbiAgU2VjdGlvblQ6IFNlY3Rpb25CYXNlPGFueT4sXG4+IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wczxTZWN0aW9uVD4sIFN0YXRlPiB7XG4gIHNjcm9sbFRvTG9jYXRpb24ocGFyYW1zOiBTY3JvbGxUb0xvY2F0aW9uUGFyYW1zVHlwZSkge1xuICAgIGxldCBpbmRleCA9IHBhcmFtcy5pdGVtSW5kZXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMuc2VjdGlvbkluZGV4OyBpKyspIHtcbiAgICAgIGluZGV4ICs9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuc2VjdGlvbnNbaV0uZGF0YSkgKyAyO1xuICAgIH1cbiAgICBsZXQgdmlld09mZnNldCA9IHBhcmFtcy52aWV3T2Zmc2V0IHx8IDA7XG4gICAgaWYgKHRoaXMuX2xpc3RSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLml0ZW1JbmRleCA+IDAgJiYgdGhpcy5wcm9wcy5zdGlja3lTZWN0aW9uSGVhZGVyc0VuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fbGlzdFJlZi5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgICAgaW5kZXggLSBwYXJhbXMuaXRlbUluZGV4LFxuICAgICAgICB0aGlzLl9saXN0UmVmLnByb3BzLFxuICAgICAgKTtcbiAgICAgIHZpZXdPZmZzZXQgKz0gZnJhbWUubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCB0b0luZGV4UGFyYW1zID0ge1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAgdmlld09mZnNldCxcbiAgICAgIGluZGV4LFxuICAgIH07XG4gICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXVxuICAgIHRoaXMuX2xpc3RSZWYuc2Nyb2xsVG9JbmRleCh0b0luZGV4UGFyYW1zKTtcbiAgfVxuXG4gIGdldExpc3RSZWYoKTogP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpcnR1YWxpemVkTGlzdD4ge1xuICAgIHJldHVybiB0aGlzLl9saXN0UmVmO1xuICB9XG5cbiAgcmVuZGVyKCk6IFJlYWN0Lk5vZGUge1xuICAgIGNvbnN0IHtcbiAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsIC8vIGRvbid0IHBhc3MgdGhyb3VnaCwgcmVuZGVyZWQgd2l0aCByZW5kZXJJdGVtXG4gICAgICBTZWN0aW9uU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgcmVuZGVySXRlbTogX3JlbmRlckl0ZW0sXG4gICAgICByZW5kZXJTZWN0aW9uRm9vdGVyLFxuICAgICAgcmVuZGVyU2VjdGlvbkhlYWRlcixcbiAgICAgIHNlY3Rpb25zOiBfc2VjdGlvbnMsXG4gICAgICBzdGlja3lTZWN0aW9uSGVhZGVyc0VuYWJsZWQsXG4gICAgICAuLi5wYXNzVGhyb3VnaFByb3BzXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBsaXN0SGVhZGVyT2Zmc2V0ID0gdGhpcy5wcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG5cbiAgICBjb25zdCBzdGlja3lIZWFkZXJJbmRpY2VzID0gdGhpcy5wcm9wcy5zdGlja3lTZWN0aW9uSGVhZGVyc0VuYWJsZWRcbiAgICAgID8gKFtdOiBBcnJheTxudW1iZXI+KVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBsZXQgaXRlbUNvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgdGhpcy5wcm9wcy5zZWN0aW9ucykge1xuICAgICAgLy8gVHJhY2sgdGhlIHNlY3Rpb24gaGVhZGVyIGluZGljZXNcbiAgICAgIGlmIChzdGlja3lIZWFkZXJJbmRpY2VzICE9IG51bGwpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKGl0ZW1Db3VudCArIGxpc3RIZWFkZXJPZmZzZXQpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgdHdvIGZvciB0aGUgc2VjdGlvbiBoZWFkZXIgYW5kIGZvb3Rlci5cbiAgICAgIGl0ZW1Db3VudCArPSAyO1xuICAgICAgaXRlbUNvdW50ICs9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHNlY3Rpb24uZGF0YSk7XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlckl0ZW0gPSB0aGlzLl9yZW5kZXJJdGVtKGl0ZW1Db3VudCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpcnR1YWxpemVkTGlzdFxuICAgICAgICB7Li4ucGFzc1Rocm91Z2hQcm9wc31cbiAgICAgICAga2V5RXh0cmFjdG9yPXt0aGlzLl9rZXlFeHRyYWN0b3J9XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXM9e3N0aWNreUhlYWRlckluZGljZXN9XG4gICAgICAgIHJlbmRlckl0ZW09e3JlbmRlckl0ZW19XG4gICAgICAgIGRhdGE9e3RoaXMucHJvcHMuc2VjdGlvbnN9XG4gICAgICAgIGdldEl0ZW09eyhzZWN0aW9ucywgaW5kZXgpID0+XG4gICAgICAgICAgdGhpcy5fZ2V0SXRlbSh0aGlzLnByb3BzLCBzZWN0aW9ucywgaW5kZXgpXG4gICAgICAgIH1cbiAgICAgICAgZ2V0SXRlbUNvdW50PXsoKSA9PiBpdGVtQ291bnR9XG4gICAgICAgIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ9e1xuICAgICAgICAgIHRoaXMucHJvcHMub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZFxuICAgICAgICAgICAgPyB0aGlzLl9vblZpZXdhYmxlSXRlbXNDaGFuZ2VkXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICAgIHJlZj17dGhpcy5fY2FwdHVyZVJlZn1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIF9nZXRJdGVtKFxuICAgIHByb3BzOiBQcm9wczxTZWN0aW9uVD4sXG4gICAgc2VjdGlvbnM6ID8kUmVhZE9ubHlBcnJheTxJdGVtPixcbiAgICBpbmRleDogbnVtYmVyLFxuICApOiA/SXRlbSB7XG4gICAgaWYgKCFzZWN0aW9ucykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBpdGVtSWR4ID0gaW5kZXggLSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHNlY3Rpb24gPSBzZWN0aW9uc1tpXTtcbiAgICAgIGNvbnN0IHNlY3Rpb25EYXRhID0gc2VjdGlvbi5kYXRhO1xuICAgICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHNlY3Rpb25EYXRhKTtcbiAgICAgIGlmIChpdGVtSWR4ID09PSAtMSB8fCBpdGVtSWR4ID09PSBpdGVtQ291bnQpIHtcbiAgICAgICAgLy8gV2UgaW50ZW5kIGZvciB0aGVyZSB0byBiZSBvdmVyZmxvdyBieSBvbmUgb24gYm90aCBlbmRzIG9mIHRoZSBsaXN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgZm9yIGhlYWRlcnMgYW5kIGZvb3RlcnMuIFdoZW4gcmV0dXJuaW5nIGEgaGVhZGVyIG9yIGZvb3RlclxuICAgICAgICAvLyBpdGVtIHRoZSBzZWN0aW9uIGl0c2VsZiBpcyB0aGUgaXRlbS5cbiAgICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgICB9IGVsc2UgaWYgKGl0ZW1JZHggPCBpdGVtQ291bnQpIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlIGluIHRoZSBib3VuZHMgb2YgdGhlIGxpc3QncyBkYXRhIHRoZW4gcmV0dXJuIHRoZSBpdGVtLlxuICAgICAgICByZXR1cm4gcHJvcHMuZ2V0SXRlbShzZWN0aW9uRGF0YSwgaXRlbUlkeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtSWR4IC09IGl0ZW1Db3VudCArIDI7IC8vIEFkZCB0d28gZm9yIHRoZSBoZWFkZXIgYW5kIGZvb3RlclxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX2tleUV4dHJhY3RvciA9IChpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMuX3N1YkV4dHJhY3RvcihpbmRleCk7XG4gICAgcmV0dXJuIChpbmZvICYmIGluZm8ua2V5KSB8fCBTdHJpbmcoaW5kZXgpO1xuICB9O1xuXG4gIF9zdWJFeHRyYWN0b3IoaW5kZXg6IG51bWJlcik6ID97XG4gICAgc2VjdGlvbjogU2VjdGlvblQsXG4gICAgLy8gS2V5IG9mIHRoZSBzZWN0aW9uIG9yIGNvbWJpbmVkIGtleSBmb3Igc2VjdGlvbiArIGl0ZW1cbiAgICBrZXk6IHN0cmluZyxcbiAgICAvLyBSZWxhdGl2ZSBpbmRleCB3aXRoaW4gdGhlIHNlY3Rpb25cbiAgICBpbmRleDogP251bWJlcixcbiAgICAvLyBUcnVlIGlmIHRoaXMgaXMgdGhlIHNlY3Rpb24gaGVhZGVyXG4gICAgaGVhZGVyPzogP2Jvb2xlYW4sXG4gICAgbGVhZGluZ0l0ZW0/OiA/SXRlbSxcbiAgICBsZWFkaW5nU2VjdGlvbj86ID9TZWN0aW9uVCxcbiAgICB0cmFpbGluZ0l0ZW0/OiA/SXRlbSxcbiAgICB0cmFpbGluZ1NlY3Rpb24/OiA/U2VjdGlvblQsXG4gICAgLi4uXG4gIH0ge1xuICAgIGxldCBpdGVtSW5kZXggPSBpbmRleDtcbiAgICBjb25zdCB7Z2V0SXRlbSwgZ2V0SXRlbUNvdW50LCBrZXlFeHRyYWN0b3IsIHNlY3Rpb25zfSA9IHRoaXMucHJvcHM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2VjdGlvbiA9IHNlY3Rpb25zW2ldO1xuICAgICAgY29uc3Qgc2VjdGlvbkRhdGEgPSBzZWN0aW9uLmRhdGE7XG4gICAgICBjb25zdCBrZXkgPSBzZWN0aW9uLmtleSB8fCBTdHJpbmcoaSk7XG4gICAgICBpdGVtSW5kZXggLT0gMTsgLy8gVGhlIHNlY3Rpb24gYWRkcyBhbiBpdGVtIGZvciB0aGUgaGVhZGVyXG4gICAgICBpZiAoaXRlbUluZGV4ID49IGdldEl0ZW1Db3VudChzZWN0aW9uRGF0YSkgKyAxKSB7XG4gICAgICAgIGl0ZW1JbmRleCAtPSBnZXRJdGVtQ291bnQoc2VjdGlvbkRhdGEpICsgMTsgLy8gVGhlIHNlY3Rpb24gYWRkcyBhbiBpdGVtIGZvciB0aGUgZm9vdGVyLlxuICAgICAgfSBlbHNlIGlmIChpdGVtSW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2VjdGlvbixcbiAgICAgICAgICBrZXk6IGtleSArICc6aGVhZGVyJyxcbiAgICAgICAgICBpbmRleDogbnVsbCxcbiAgICAgICAgICBoZWFkZXI6IHRydWUsXG4gICAgICAgICAgdHJhaWxpbmdTZWN0aW9uOiBzZWN0aW9uc1tpICsgMV0sXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKGl0ZW1JbmRleCA9PT0gZ2V0SXRlbUNvdW50KHNlY3Rpb25EYXRhKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNlY3Rpb24sXG4gICAgICAgICAga2V5OiBrZXkgKyAnOmZvb3RlcicsXG4gICAgICAgICAgaW5kZXg6IG51bGwsXG4gICAgICAgICAgaGVhZGVyOiBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZ1NlY3Rpb246IHNlY3Rpb25zW2kgKyAxXSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGV4dHJhY3RvciA9XG4gICAgICAgICAgc2VjdGlvbi5rZXlFeHRyYWN0b3IgfHwga2V5RXh0cmFjdG9yIHx8IGRlZmF1bHRLZXlFeHRyYWN0b3I7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2VjdGlvbixcbiAgICAgICAgICBrZXk6XG4gICAgICAgICAgICBrZXkgKyAnOicgKyBleHRyYWN0b3IoZ2V0SXRlbShzZWN0aW9uRGF0YSwgaXRlbUluZGV4KSwgaXRlbUluZGV4KSxcbiAgICAgICAgICBpbmRleDogaXRlbUluZGV4LFxuICAgICAgICAgIGxlYWRpbmdJdGVtOiBnZXRJdGVtKHNlY3Rpb25EYXRhLCBpdGVtSW5kZXggLSAxKSxcbiAgICAgICAgICBsZWFkaW5nU2VjdGlvbjogc2VjdGlvbnNbaSAtIDFdLFxuICAgICAgICAgIHRyYWlsaW5nSXRlbTogZ2V0SXRlbShzZWN0aW9uRGF0YSwgaXRlbUluZGV4ICsgMSksXG4gICAgICAgICAgdHJhaWxpbmdTZWN0aW9uOiBzZWN0aW9uc1tpICsgMV0sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2NvbnZlcnRWaWV3YWJsZSA9ICh2aWV3YWJsZTogVmlld1Rva2VuKTogP1ZpZXdUb2tlbiA9PiB7XG4gICAgaW52YXJpYW50KHZpZXdhYmxlLmluZGV4ICE9IG51bGwsICdSZWNlaXZlZCBhIGJyb2tlbiBWaWV3VG9rZW4nKTtcbiAgICBjb25zdCBpbmZvID0gdGhpcy5fc3ViRXh0cmFjdG9yKHZpZXdhYmxlLmluZGV4KTtcbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBrZXlFeHRyYWN0b3JXaXRoTnVsbGFibGVJbmRleCA9IGluZm8uc2VjdGlvbi5rZXlFeHRyYWN0b3I7XG4gICAgY29uc3Qga2V5RXh0cmFjdG9yV2l0aE5vbk51bGxhYmxlSW5kZXggPVxuICAgICAgdGhpcy5wcm9wcy5rZXlFeHRyYWN0b3IgfHwgZGVmYXVsdEtleUV4dHJhY3RvcjtcbiAgICBjb25zdCBrZXkgPVxuICAgICAga2V5RXh0cmFjdG9yV2l0aE51bGxhYmxlSW5kZXggIT0gbnVsbFxuICAgICAgICA/IGtleUV4dHJhY3RvcldpdGhOdWxsYWJsZUluZGV4KHZpZXdhYmxlLml0ZW0sIGluZm8uaW5kZXgpXG4gICAgICAgIDoga2V5RXh0cmFjdG9yV2l0aE5vbk51bGxhYmxlSW5kZXgodmlld2FibGUuaXRlbSwgaW5mby5pbmRleCA/PyAwKTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi52aWV3YWJsZSxcbiAgICAgIGluZGV4OiBpbmZvLmluZGV4LFxuICAgICAga2V5LFxuICAgICAgc2VjdGlvbjogaW5mby5zZWN0aW9uLFxuICAgIH07XG4gIH07XG5cbiAgX29uVmlld2FibGVJdGVtc0NoYW5nZWQgPSAoe1xuICAgIHZpZXdhYmxlSXRlbXMsXG4gICAgY2hhbmdlZCxcbiAgfToge1xuICAgIHZpZXdhYmxlSXRlbXM6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgY2hhbmdlZDogQXJyYXk8Vmlld1Rva2VuPixcbiAgICAuLi5cbiAgfSkgPT4ge1xuICAgIGNvbnN0IG9uVmlld2FibGVJdGVtc0NoYW5nZWQgPSB0aGlzLnByb3BzLm9uVmlld2FibGVJdGVtc0NoYW5nZWQ7XG4gICAgaWYgKG9uVmlld2FibGVJdGVtc0NoYW5nZWQgIT0gbnVsbCkge1xuICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCh7XG4gICAgICAgIHZpZXdhYmxlSXRlbXM6IHZpZXdhYmxlSXRlbXNcbiAgICAgICAgICAubWFwKHRoaXMuX2NvbnZlcnRWaWV3YWJsZSwgdGhpcylcbiAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICBjaGFuZ2VkOiBjaGFuZ2VkLm1hcCh0aGlzLl9jb252ZXJ0Vmlld2FibGUsIHRoaXMpLmZpbHRlcihCb29sZWFuKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcmVuZGVySXRlbSA9XG4gICAgKGxpc3RJdGVtQ291bnQ6IG51bWJlcik6ICRGbG93Rml4TWUgPT5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3Qvbm8tdW5zdGFibGUtbmVzdGVkLWNvbXBvbmVudHNcbiAgICAoe2l0ZW0sIGluZGV4fToge2l0ZW06IEl0ZW0sIGluZGV4OiBudW1iZXIsIC4uLn0pID0+IHtcbiAgICAgIGNvbnN0IGluZm8gPSB0aGlzLl9zdWJFeHRyYWN0b3IoaW5kZXgpO1xuICAgICAgaWYgKCFpbmZvKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5mb0luZGV4ID0gaW5mby5pbmRleDtcbiAgICAgIGlmIChpbmZvSW5kZXggPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB7c2VjdGlvbn0gPSBpbmZvO1xuICAgICAgICBpZiAoaW5mby5oZWFkZXIgPT09IHRydWUpIHtcbiAgICAgICAgICBjb25zdCB7cmVuZGVyU2VjdGlvbkhlYWRlcn0gPSB0aGlzLnByb3BzO1xuICAgICAgICAgIHJldHVybiByZW5kZXJTZWN0aW9uSGVhZGVyID8gcmVuZGVyU2VjdGlvbkhlYWRlcih7c2VjdGlvbn0pIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB7cmVuZGVyU2VjdGlvbkZvb3Rlcn0gPSB0aGlzLnByb3BzO1xuICAgICAgICAgIHJldHVybiByZW5kZXJTZWN0aW9uRm9vdGVyID8gcmVuZGVyU2VjdGlvbkZvb3Rlcih7c2VjdGlvbn0pIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVuZGVySXRlbSA9IGluZm8uc2VjdGlvbi5yZW5kZXJJdGVtIHx8IHRoaXMucHJvcHMucmVuZGVySXRlbTtcbiAgICAgICAgY29uc3QgU2VwYXJhdG9yQ29tcG9uZW50ID0gdGhpcy5fZ2V0U2VwYXJhdG9yQ29tcG9uZW50KFxuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIGluZm8sXG4gICAgICAgICAgbGlzdEl0ZW1Db3VudCxcbiAgICAgICAgKTtcbiAgICAgICAgaW52YXJpYW50KHJlbmRlckl0ZW0sICdubyByZW5kZXJJdGVtIScpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxJdGVtV2l0aFNlcGFyYXRvclxuICAgICAgICAgICAgU2VwYXJhdG9yQ29tcG9uZW50PXtTZXBhcmF0b3JDb21wb25lbnR9XG4gICAgICAgICAgICBMZWFkaW5nU2VwYXJhdG9yQ29tcG9uZW50PXtcbiAgICAgICAgICAgICAgaW5mb0luZGV4ID09PSAwID8gdGhpcy5wcm9wcy5TZWN0aW9uU2VwYXJhdG9yQ29tcG9uZW50IDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjZWxsS2V5PXtpbmZvLmtleX1cbiAgICAgICAgICAgIGluZGV4PXtpbmZvSW5kZXh9XG4gICAgICAgICAgICBpdGVtPXtpdGVtfVxuICAgICAgICAgICAgbGVhZGluZ0l0ZW09e2luZm8ubGVhZGluZ0l0ZW19XG4gICAgICAgICAgICBsZWFkaW5nU2VjdGlvbj17aW5mby5sZWFkaW5nU2VjdGlvbn1cbiAgICAgICAgICAgIHByZXZDZWxsS2V5PXsodGhpcy5fc3ViRXh0cmFjdG9yKGluZGV4IC0gMSkgfHwge30pLmtleX1cbiAgICAgICAgICAgIC8vIENhbGxiYWNrIHRvIHByb3ZpZGUgdXBkYXRlSGlnaGxpZ2h0IGZvciB0aGlzIGl0ZW1cbiAgICAgICAgICAgIHNldFNlbGZIaWdobGlnaHRDYWxsYmFjaz17dGhpcy5fc2V0VXBkYXRlSGlnaGxpZ2h0Rm9yfVxuICAgICAgICAgICAgc2V0U2VsZlVwZGF0ZVByb3BzQ2FsbGJhY2s9e3RoaXMuX3NldFVwZGF0ZVByb3BzRm9yfVxuICAgICAgICAgICAgLy8gUHJvdmlkZSBjaGlsZCBhYmlsaXR5IHRvIHNldCBoaWdobGlnaHQvdXBkYXRlUHJvcHMgZm9yIHByZXZpb3VzIGl0ZW0gdXNpbmcgcHJldkNlbGxLZXlcbiAgICAgICAgICAgIHVwZGF0ZUhpZ2hsaWdodEZvcj17dGhpcy5fdXBkYXRlSGlnaGxpZ2h0Rm9yfVxuICAgICAgICAgICAgdXBkYXRlUHJvcHNGb3I9e3RoaXMuX3VwZGF0ZVByb3BzRm9yfVxuICAgICAgICAgICAgcmVuZGVySXRlbT17cmVuZGVySXRlbX1cbiAgICAgICAgICAgIHNlY3Rpb249e2luZm8uc2VjdGlvbn1cbiAgICAgICAgICAgIHRyYWlsaW5nSXRlbT17aW5mby50cmFpbGluZ0l0ZW19XG4gICAgICAgICAgICB0cmFpbGluZ1NlY3Rpb249e2luZm8udHJhaWxpbmdTZWN0aW9ufVxuICAgICAgICAgICAgaW52ZXJ0ZWQ9eyEhdGhpcy5wcm9wcy5pbnZlcnRlZH1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG5cbiAgX3VwZGF0ZVByb3BzRm9yID0gKGNlbGxLZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZVByb3BzID0gdGhpcy5fdXBkYXRlUHJvcHNNYXBbY2VsbEtleV07XG4gICAgaWYgKHVwZGF0ZVByb3BzICE9IG51bGwpIHtcbiAgICAgIHVwZGF0ZVByb3BzKHZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgX3VwZGF0ZUhpZ2hsaWdodEZvciA9IChjZWxsS2V5OiBzdHJpbmcsIHZhbHVlOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgdXBkYXRlSGlnaGxpZ2h0ID0gdGhpcy5fdXBkYXRlSGlnaGxpZ2h0TWFwW2NlbGxLZXldO1xuICAgIGlmICh1cGRhdGVIaWdobGlnaHQgIT0gbnVsbCkge1xuICAgICAgdXBkYXRlSGlnaGxpZ2h0KHZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgX3NldFVwZGF0ZUhpZ2hsaWdodEZvciA9IChcbiAgICBjZWxsS2V5OiBzdHJpbmcsXG4gICAgdXBkYXRlSGlnaGxpZ2h0Rm46ID8oYm9vbGVhbikgPT4gdm9pZCxcbiAgKSA9PiB7XG4gICAgaWYgKHVwZGF0ZUhpZ2hsaWdodEZuICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodE1hcFtjZWxsS2V5XSA9IHVwZGF0ZUhpZ2hsaWdodEZuO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgIGRlbGV0ZSB0aGlzLl91cGRhdGVIaWdobGlnaHRGb3JbY2VsbEtleV07XG4gICAgfVxuICB9O1xuXG4gIF9zZXRVcGRhdGVQcm9wc0ZvciA9IChjZWxsS2V5OiBzdHJpbmcsIHVwZGF0ZVByb3BzRm46ID8oYm9vbGVhbikgPT4gdm9pZCkgPT4ge1xuICAgIGlmICh1cGRhdGVQcm9wc0ZuICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVByb3BzTWFwW2NlbGxLZXldID0gdXBkYXRlUHJvcHNGbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRoaXMuX3VwZGF0ZVByb3BzTWFwW2NlbGxLZXldO1xuICAgIH1cbiAgfTtcblxuICBfZ2V0U2VwYXJhdG9yQ29tcG9uZW50KFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgaW5mbz86ID9PYmplY3QsXG4gICAgbGlzdEl0ZW1Db3VudDogbnVtYmVyLFxuICApOiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+IHtcbiAgICBpbmZvID0gaW5mbyB8fCB0aGlzLl9zdWJFeHRyYWN0b3IoaW5kZXgpO1xuICAgIGlmICghaW5mbykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgPVxuICAgICAgaW5mby5zZWN0aW9uLkl0ZW1TZXBhcmF0b3JDb21wb25lbnQgfHwgdGhpcy5wcm9wcy5JdGVtU2VwYXJhdG9yQ29tcG9uZW50O1xuICAgIGNvbnN0IHtTZWN0aW9uU2VwYXJhdG9yQ29tcG9uZW50fSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXNMYXN0SXRlbUluTGlzdCA9IGluZGV4ID09PSBsaXN0SXRlbUNvdW50IC0gMTtcbiAgICBjb25zdCBpc0xhc3RJdGVtSW5TZWN0aW9uID1cbiAgICAgIGluZm8uaW5kZXggPT09IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KGluZm8uc2VjdGlvbi5kYXRhKSAtIDE7XG4gICAgaWYgKFNlY3Rpb25TZXBhcmF0b3JDb21wb25lbnQgJiYgaXNMYXN0SXRlbUluU2VjdGlvbikge1xuICAgICAgcmV0dXJuIFNlY3Rpb25TZXBhcmF0b3JDb21wb25lbnQ7XG4gICAgfVxuICAgIGlmIChJdGVtU2VwYXJhdG9yQ29tcG9uZW50ICYmICFpc0xhc3RJdGVtSW5TZWN0aW9uICYmICFpc0xhc3RJdGVtSW5MaXN0KSB7XG4gICAgICByZXR1cm4gSXRlbVNlcGFyYXRvckNvbXBvbmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBfdXBkYXRlSGlnaGxpZ2h0TWFwOiB7W3N0cmluZ106IChib29sZWFuKSA9PiB2b2lkfSA9IHt9O1xuICBfdXBkYXRlUHJvcHNNYXA6IHtbc3RyaW5nXTogdm9pZCB8IChib29sZWFuID0+IHZvaWQpfSA9IHt9O1xuICBfbGlzdFJlZjogP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpcnR1YWxpemVkTGlzdD47XG4gIF9jYXB0dXJlUmVmID0gKHJlZjogbnVsbCB8IFJlYWN0JEVsZW1lbnRSZWY8Q2xhc3M8VmlydHVhbGl6ZWRMaXN0Pj4pID0+IHtcbiAgICB0aGlzLl9saXN0UmVmID0gcmVmO1xuICB9O1xufVxuXG50eXBlIEl0ZW1XaXRoU2VwYXJhdG9yQ29tbW9uUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgbGVhZGluZ0l0ZW06ID9JdGVtLFxuICBsZWFkaW5nU2VjdGlvbjogP09iamVjdCxcbiAgc2VjdGlvbjogT2JqZWN0LFxuICB0cmFpbGluZ0l0ZW06ID9JdGVtLFxuICB0cmFpbGluZ1NlY3Rpb246ID9PYmplY3QsXG58fT47XG5cbnR5cGUgSXRlbVdpdGhTZXBhcmF0b3JQcm9wcyA9ICRSZWFkT25seTx7fFxuICAuLi5JdGVtV2l0aFNlcGFyYXRvckNvbW1vblByb3BzLFxuICBMZWFkaW5nU2VwYXJhdG9yQ29tcG9uZW50OiA/UmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LFxuICBTZXBhcmF0b3JDb21wb25lbnQ6ID9SZWFjdC5Db21wb25lbnRUeXBlPGFueT4sXG4gIGNlbGxLZXk6IHN0cmluZyxcbiAgaW5kZXg6IG51bWJlcixcbiAgaXRlbTogSXRlbSxcbiAgc2V0U2VsZkhpZ2hsaWdodENhbGxiYWNrOiAoXG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIHVwZGF0ZUZuOiA/KGJvb2xlYW4pID0+IHZvaWQsXG4gICkgPT4gdm9pZCxcbiAgc2V0U2VsZlVwZGF0ZVByb3BzQ2FsbGJhY2s6IChcbiAgICBjZWxsS2V5OiBzdHJpbmcsXG4gICAgdXBkYXRlRm46ID8oYm9vbGVhbikgPT4gdm9pZCxcbiAgKSA9PiB2b2lkLFxuICBwcmV2Q2VsbEtleT86ID9zdHJpbmcsXG4gIHVwZGF0ZUhpZ2hsaWdodEZvcjogKHByZXZDZWxsS2V5OiBzdHJpbmcsIHZhbHVlOiBib29sZWFuKSA9PiB2b2lkLFxuICB1cGRhdGVQcm9wc0ZvcjogKHByZXZDZWxsS2V5OiBzdHJpbmcsIHZhbHVlOiBPYmplY3QpID0+IHZvaWQsXG4gIHJlbmRlckl0ZW06IEZ1bmN0aW9uLFxuICBpbnZlcnRlZDogYm9vbGVhbixcbnx9PjtcblxuZnVuY3Rpb24gSXRlbVdpdGhTZXBhcmF0b3IocHJvcHM6IEl0ZW1XaXRoU2VwYXJhdG9yUHJvcHMpOiBSZWFjdC5Ob2RlIHtcbiAgY29uc3Qge1xuICAgIExlYWRpbmdTZXBhcmF0b3JDb21wb25lbnQsXG4gICAgLy8gdGhpcyBpcyB0aGUgdHJhaWxpbmcgc2VwYXJhdG9yIGFuZCBpcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBpdGVtXG4gICAgU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgIGNlbGxLZXksXG4gICAgcHJldkNlbGxLZXksXG4gICAgc2V0U2VsZkhpZ2hsaWdodENhbGxiYWNrLFxuICAgIHVwZGF0ZUhpZ2hsaWdodEZvcixcbiAgICBzZXRTZWxmVXBkYXRlUHJvcHNDYWxsYmFjayxcbiAgICB1cGRhdGVQcm9wc0ZvcixcbiAgICBpdGVtLFxuICAgIGluZGV4LFxuICAgIHNlY3Rpb24sXG4gICAgaW52ZXJ0ZWQsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBbbGVhZGluZ1NlcGFyYXRvckhpZ2xpZ2h0ZWQsIHNldExlYWRpbmdTZXBhcmF0b3JIaWdobGlnaHRlZF0gPVxuICAgIFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBbc2VwYXJhdG9ySGlnaGxpZ2h0ZWQsIHNldFNlcGFyYXRvckhpZ2hsaWdodGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBbbGVhZGluZ1NlcGFyYXRvclByb3BzLCBzZXRMZWFkaW5nU2VwYXJhdG9yUHJvcHNdID0gUmVhY3QudXNlU3RhdGUoe1xuICAgIGxlYWRpbmdJdGVtOiBwcm9wcy5sZWFkaW5nSXRlbSxcbiAgICBsZWFkaW5nU2VjdGlvbjogcHJvcHMubGVhZGluZ1NlY3Rpb24sXG4gICAgc2VjdGlvbjogcHJvcHMuc2VjdGlvbixcbiAgICB0cmFpbGluZ0l0ZW06IHByb3BzLml0ZW0sXG4gICAgdHJhaWxpbmdTZWN0aW9uOiBwcm9wcy50cmFpbGluZ1NlY3Rpb24sXG4gIH0pO1xuICBjb25zdCBbc2VwYXJhdG9yUHJvcHMsIHNldFNlcGFyYXRvclByb3BzXSA9IFJlYWN0LnVzZVN0YXRlKHtcbiAgICBsZWFkaW5nSXRlbTogcHJvcHMuaXRlbSxcbiAgICBsZWFkaW5nU2VjdGlvbjogcHJvcHMubGVhZGluZ1NlY3Rpb24sXG4gICAgc2VjdGlvbjogcHJvcHMuc2VjdGlvbixcbiAgICB0cmFpbGluZ0l0ZW06IHByb3BzLnRyYWlsaW5nSXRlbSxcbiAgICB0cmFpbGluZ1NlY3Rpb246IHByb3BzLnRyYWlsaW5nU2VjdGlvbixcbiAgfSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRTZWxmSGlnaGxpZ2h0Q2FsbGJhY2soY2VsbEtleSwgc2V0U2VwYXJhdG9ySGlnaGxpZ2h0ZWQpO1xuICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdXG4gICAgc2V0U2VsZlVwZGF0ZVByb3BzQ2FsbGJhY2soY2VsbEtleSwgc2V0U2VwYXJhdG9yUHJvcHMpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNldFNlbGZVcGRhdGVQcm9wc0NhbGxiYWNrKGNlbGxLZXksIG51bGwpO1xuICAgICAgc2V0U2VsZkhpZ2hsaWdodENhbGxiYWNrKGNlbGxLZXksIG51bGwpO1xuICAgIH07XG4gIH0sIFtcbiAgICBjZWxsS2V5LFxuICAgIHNldFNlbGZIaWdobGlnaHRDYWxsYmFjayxcbiAgICBzZXRTZXBhcmF0b3JQcm9wcyxcbiAgICBzZXRTZWxmVXBkYXRlUHJvcHNDYWxsYmFjayxcbiAgXSk7XG5cbiAgY29uc3Qgc2VwYXJhdG9ycyA9IHtcbiAgICBoaWdobGlnaHQ6ICgpID0+IHtcbiAgICAgIHNldExlYWRpbmdTZXBhcmF0b3JIaWdobGlnaHRlZCh0cnVlKTtcbiAgICAgIHNldFNlcGFyYXRvckhpZ2hsaWdodGVkKHRydWUpO1xuICAgICAgaWYgKHByZXZDZWxsS2V5ICE9IG51bGwpIHtcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0Rm9yKHByZXZDZWxsS2V5LCB0cnVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHVuaGlnaGxpZ2h0OiAoKSA9PiB7XG4gICAgICBzZXRMZWFkaW5nU2VwYXJhdG9ySGlnaGxpZ2h0ZWQoZmFsc2UpO1xuICAgICAgc2V0U2VwYXJhdG9ySGlnaGxpZ2h0ZWQoZmFsc2UpO1xuICAgICAgaWYgKHByZXZDZWxsS2V5ICE9IG51bGwpIHtcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0Rm9yKHByZXZDZWxsS2V5LCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGVQcm9wczogKFxuICAgICAgc2VsZWN0OiAnbGVhZGluZycgfCAndHJhaWxpbmcnLFxuICAgICAgbmV3UHJvcHM6ICRTaGFwZTxJdGVtV2l0aFNlcGFyYXRvckNvbW1vblByb3BzPixcbiAgICApID0+IHtcbiAgICAgIGlmIChzZWxlY3QgPT09ICdsZWFkaW5nJykge1xuICAgICAgICBpZiAoTGVhZGluZ1NlcGFyYXRvckNvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgc2V0TGVhZGluZ1NlcGFyYXRvclByb3BzKHsuLi5sZWFkaW5nU2VwYXJhdG9yUHJvcHMsIC4uLm5ld1Byb3BzfSk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldkNlbGxLZXkgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgcHJldmlvdXMgaXRlbSdzIHNlcGFyYXRvclxuICAgICAgICAgIHVwZGF0ZVByb3BzRm9yKHByZXZDZWxsS2V5LCB7Li4ubGVhZGluZ1NlcGFyYXRvclByb3BzLCAuLi5uZXdQcm9wc30pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdCA9PT0gJ3RyYWlsaW5nJyAmJiBTZXBhcmF0b3JDb21wb25lbnQgIT0gbnVsbCkge1xuICAgICAgICBzZXRTZXBhcmF0b3JQcm9wcyh7Li4uc2VwYXJhdG9yUHJvcHMsIC4uLm5ld1Byb3BzfSk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbiAgY29uc3QgZWxlbWVudCA9IHByb3BzLnJlbmRlckl0ZW0oe1xuICAgIGl0ZW0sXG4gICAgaW5kZXgsXG4gICAgc2VjdGlvbixcbiAgICBzZXBhcmF0b3JzLFxuICB9KTtcbiAgY29uc3QgbGVhZGluZ1NlcGFyYXRvciA9IExlYWRpbmdTZXBhcmF0b3JDb21wb25lbnQgIT0gbnVsbCAmJiAoXG4gICAgPExlYWRpbmdTZXBhcmF0b3JDb21wb25lbnRcbiAgICAgIGhpZ2hsaWdodGVkPXtsZWFkaW5nU2VwYXJhdG9ySGlnbGlnaHRlZH1cbiAgICAgIHsuLi5sZWFkaW5nU2VwYXJhdG9yUHJvcHN9XG4gICAgLz5cbiAgKTtcbiAgY29uc3Qgc2VwYXJhdG9yID0gU2VwYXJhdG9yQ29tcG9uZW50ICE9IG51bGwgJiYgKFxuICAgIDxTZXBhcmF0b3JDb21wb25lbnRcbiAgICAgIGhpZ2hsaWdodGVkPXtzZXBhcmF0b3JIaWdobGlnaHRlZH1cbiAgICAgIHsuLi5zZXBhcmF0b3JQcm9wc31cbiAgICAvPlxuICApO1xuICByZXR1cm4gbGVhZGluZ1NlcGFyYXRvciB8fCBzZXBhcmF0b3IgPyAoXG4gICAgPFZpZXc+XG4gICAgICB7aW52ZXJ0ZWQgPT09IGZhbHNlID8gbGVhZGluZ1NlcGFyYXRvciA6IHNlcGFyYXRvcn1cbiAgICAgIHtlbGVtZW50fVxuICAgICAge2ludmVydGVkID09PSBmYWxzZSA/IHNlcGFyYXRvciA6IGxlYWRpbmdTZXBhcmF0b3J9XG4gICAgPC9WaWV3PlxuICApIDogKFxuICAgIGVsZW1lbnRcbiAgKTtcbn1cblxuLyogJEZsb3dGaXhNZVtjbGFzcy1vYmplY3Qtc3VidHlwaW5nXSBhZGRlZCB3aGVuIGltcHJvdmluZyB0eXBpbmcgZm9yIHRoaXNcbiAqIHBhcmFtZXRlcnMgKi9cbi8vICRGbG93Rml4TWVbbWV0aG9kLXVuYmluZGluZ11cbm1vZHVsZS5leHBvcnRzID0gKFZpcnR1YWxpemVkU2VjdGlvbkxpc3Q6IFJlYWN0LkFic3RyYWN0Q29tcG9uZW50PFxuICBSZWFjdC5FbGVtZW50Q29uZmlnPHR5cGVvZiBWaXJ0dWFsaXplZFNlY3Rpb25MaXN0PixcbiAgJFJlYWRPbmx5PHtcbiAgICBnZXRMaXN0UmVmOiAoKSA9PiA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlydHVhbGl6ZWRMaXN0PixcbiAgICBzY3JvbGxUb0xvY2F0aW9uOiAocGFyYW1zOiBTY3JvbGxUb0xvY2F0aW9uUGFyYW1zVHlwZSkgPT4gdm9pZCxcbiAgICAuLi5cbiAgfT4sXG4+KTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFZQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxnQkFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsZ0JBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFLLEtBQUEsR0FBQUMsdUJBQUEsQ0FBQU4sT0FBQTtBQUErQixJQUFBTyxXQUFBLEdBQUFQLE9BQUE7QUFBQSxJQUFBUSxTQUFBO0FBQUEsU0FBQUYsd0JBQUFHLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFMLHVCQUFBLFlBQUFBLHdCQUFBRyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQUMsT0FBQSxFQUFBVixDQUFBLGlCQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFNBQUFRLENBQUEsTUFBQUYsQ0FBQSxHQUFBTCxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxRQUFBRyxDQUFBLENBQUFLLEdBQUEsQ0FBQVgsQ0FBQSxVQUFBTSxDQUFBLENBQUFNLEdBQUEsQ0FB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