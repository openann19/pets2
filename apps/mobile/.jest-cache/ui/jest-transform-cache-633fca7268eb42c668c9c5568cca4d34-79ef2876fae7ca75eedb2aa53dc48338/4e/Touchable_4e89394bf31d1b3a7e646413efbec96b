63d03b8a6fb68a40cef9058f001f09e4
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _PressabilityDebug = require("../../Pressability/PressabilityDebug");
var _UIManager = _interopRequireDefault(require("../../ReactNative/UIManager"));
var _Platform = _interopRequireDefault(require("../../Utilities/Platform"));
var _SoundManager = _interopRequireDefault(require("../Sound/SoundManager"));
var _BoundingDimensions = _interopRequireDefault(require("./BoundingDimensions"));
var _Position = _interopRequireDefault(require("./Position"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var extractSingleTouch = function extractSingleTouch(nativeEvent) {
  var touches = nativeEvent.touches;
  var changedTouches = nativeEvent.changedTouches;
  var hasTouches = touches && touches.length > 0;
  var hasChangedTouches = changedTouches && changedTouches.length > 0;
  return !hasTouches && hasChangedTouches ? changedTouches[0] : hasTouches ? touches[0] : nativeEvent;
};
var States = {
  NOT_RESPONDER: 'NOT_RESPONDER',
  RESPONDER_INACTIVE_PRESS_IN: 'RESPONDER_INACTIVE_PRESS_IN',
  RESPONDER_INACTIVE_PRESS_OUT: 'RESPONDER_INACTIVE_PRESS_OUT',
  RESPONDER_ACTIVE_PRESS_IN: 'RESPONDER_ACTIVE_PRESS_IN',
  RESPONDER_ACTIVE_PRESS_OUT: 'RESPONDER_ACTIVE_PRESS_OUT',
  RESPONDER_ACTIVE_LONG_PRESS_IN: 'RESPONDER_ACTIVE_LONG_PRESS_IN',
  RESPONDER_ACTIVE_LONG_PRESS_OUT: 'RESPONDER_ACTIVE_LONG_PRESS_OUT',
  ERROR: 'ERROR'
};
var baseStatesConditions = {
  NOT_RESPONDER: false,
  RESPONDER_INACTIVE_PRESS_IN: false,
  RESPONDER_INACTIVE_PRESS_OUT: false,
  RESPONDER_ACTIVE_PRESS_IN: false,
  RESPONDER_ACTIVE_PRESS_OUT: false,
  RESPONDER_ACTIVE_LONG_PRESS_IN: false,
  RESPONDER_ACTIVE_LONG_PRESS_OUT: false,
  ERROR: false
};
var IsActive = _objectSpread(_objectSpread({}, baseStatesConditions), {}, {
  RESPONDER_ACTIVE_PRESS_OUT: true,
  RESPONDER_ACTIVE_PRESS_IN: true
});
var IsPressingIn = _objectSpread(_objectSpread({}, baseStatesConditions), {}, {
  RESPONDER_INACTIVE_PRESS_IN: true,
  RESPONDER_ACTIVE_PRESS_IN: true,
  RESPONDER_ACTIVE_LONG_PRESS_IN: true
});
var IsLongPressingIn = _objectSpread(_objectSpread({}, baseStatesConditions), {}, {
  RESPONDER_ACTIVE_LONG_PRESS_IN: true
});
var Signals = {
  DELAY: 'DELAY',
  RESPONDER_GRANT: 'RESPONDER_GRANT',
  RESPONDER_RELEASE: 'RESPONDER_RELEASE',
  RESPONDER_TERMINATED: 'RESPONDER_TERMINATED',
  ENTER_PRESS_RECT: 'ENTER_PRESS_RECT',
  LEAVE_PRESS_RECT: 'LEAVE_PRESS_RECT',
  LONG_PRESS_DETECTED: 'LONG_PRESS_DETECTED'
};
var Transitions = {
  NOT_RESPONDER: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,
    RESPONDER_RELEASE: States.ERROR,
    RESPONDER_TERMINATED: States.ERROR,
    ENTER_PRESS_RECT: States.ERROR,
    LEAVE_PRESS_RECT: States.ERROR,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_INACTIVE_PRESS_IN: {
    DELAY: States.RESPONDER_ACTIVE_PRESS_IN,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_INACTIVE_PRESS_OUT: {
    DELAY: States.RESPONDER_ACTIVE_PRESS_OUT,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_INACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_ACTIVE_PRESS_IN: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN
  },
  RESPONDER_ACTIVE_PRESS_OUT: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  RESPONDER_ACTIVE_LONG_PRESS_IN: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
    LONG_PRESS_DETECTED: States.RESPONDER_ACTIVE_LONG_PRESS_IN
  },
  RESPONDER_ACTIVE_LONG_PRESS_OUT: {
    DELAY: States.ERROR,
    RESPONDER_GRANT: States.ERROR,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_IN,
    LEAVE_PRESS_RECT: States.RESPONDER_ACTIVE_LONG_PRESS_OUT,
    LONG_PRESS_DETECTED: States.ERROR
  },
  error: {
    DELAY: States.NOT_RESPONDER,
    RESPONDER_GRANT: States.RESPONDER_INACTIVE_PRESS_IN,
    RESPONDER_RELEASE: States.NOT_RESPONDER,
    RESPONDER_TERMINATED: States.NOT_RESPONDER,
    ENTER_PRESS_RECT: States.NOT_RESPONDER,
    LEAVE_PRESS_RECT: States.NOT_RESPONDER,
    LONG_PRESS_DETECTED: States.NOT_RESPONDER
  }
};
var HIGHLIGHT_DELAY_MS = 130;
var PRESS_EXPAND_PX = 20;
var LONG_PRESS_THRESHOLD = 500;
var LONG_PRESS_DELAY_MS = LONG_PRESS_THRESHOLD - HIGHLIGHT_DELAY_MS;
var LONG_PRESS_ALLOWED_MOVEMENT = 10;
var TouchableMixin = {
  componentDidMount: function componentDidMount() {
    if (!_Platform.default.isTV) {
      return;
    }
  },
  componentWillUnmount: function componentWillUnmount() {
    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);
  },
  touchableGetInitialState: function touchableGetInitialState() {
    return {
      touchable: {
        touchState: undefined,
        responderID: null
      }
    };
  },
  touchableHandleResponderTerminationRequest: function touchableHandleResponderTerminationRequest() {
    return !this.props.rejectResponderTermination;
  },
  touchableHandleStartShouldSetResponder: function touchableHandleStartShouldSetResponder() {
    return !this.props.disabled;
  },
  touchableLongPressCancelsPress: function touchableLongPressCancelsPress() {
    return true;
  },
  touchableHandleResponderGrant: function touchableHandleResponderGrant(e) {
    var dispatchID = e.currentTarget;
    e.persist();
    this.pressOutDelayTimeout && clearTimeout(this.pressOutDelayTimeout);
    this.pressOutDelayTimeout = null;
    this.state.touchable.touchState = States.NOT_RESPONDER;
    this.state.touchable.responderID = dispatchID;
    this._receiveSignal(Signals.RESPONDER_GRANT, e);
    var delayMS = this.touchableGetHighlightDelayMS !== undefined ? Math.max(this.touchableGetHighlightDelayMS(), 0) : HIGHLIGHT_DELAY_MS;
    delayMS = isNaN(delayMS) ? HIGHLIGHT_DELAY_MS : delayMS;
    if (delayMS !== 0) {
      this.touchableDelayTimeout = setTimeout(this._handleDelay.bind(this, e), delayMS);
    } else {
      this._handleDelay(e);
    }
    var longDelayMS = this.touchableGetLongPressDelayMS !== undefined ? Math.max(this.touchableGetLongPressDelayMS(), 10) : LONG_PRESS_DELAY_MS;
    longDelayMS = isNaN(longDelayMS) ? LONG_PRESS_DELAY_MS : longDelayMS;
    this.longPressDelayTimeout = setTimeout(this._handleLongDelay.bind(this, e), longDelayMS + delayMS);
  },
  touchableHandleResponderRelease: function touchableHandleResponderRelease(e) {
    this.pressInLocation = null;
    this._receiveSignal(Signals.RESPONDER_RELEASE, e);
  },
  touchableHandleResponderTerminate: function touchableHandleResponderTerminate(e) {
    this.pressInLocation = null;
    this._receiveSignal(Signals.RESPONDER_TERMINATED, e);
  },
  touchableHandleResponderMove: function touchableHandleResponderMove(e) {
    if (!this.state.touchable.positionOnActivate) {
      return;
    }
    var positionOnActivate = this.state.touchable.positionOnActivate;
    var dimensionsOnActivate = this.state.touchable.dimensionsOnActivate;
    var pressRectOffset = this.touchableGetPressRectOffset ? this.touchableGetPressRectOffset() : {
      left: PRESS_EXPAND_PX,
      right: PRESS_EXPAND_PX,
      top: PRESS_EXPAND_PX,
      bottom: PRESS_EXPAND_PX
    };
    var pressExpandLeft = pressRectOffset.left;
    var pressExpandTop = pressRectOffset.top;
    var pressExpandRight = pressRectOffset.right;
    var pressExpandBottom = pressRectOffset.bottom;
    var hitSlop = this.touchableGetHitSlop ? this.touchableGetHitSlop() : null;
    if (hitSlop) {
      pressExpandLeft += hitSlop.left || 0;
      pressExpandTop += hitSlop.top || 0;
      pressExpandRight += hitSlop.right || 0;
      pressExpandBottom += hitSlop.bottom || 0;
    }
    var touch = extractSingleTouch(e.nativeEvent);
    var pageX = touch && touch.pageX;
    var pageY = touch && touch.pageY;
    if (this.pressInLocation) {
      var movedDistance = this._getDistanceBetweenPoints(pageX, pageY, this.pressInLocation.pageX, this.pressInLocation.pageY);
      if (movedDistance > LONG_PRESS_ALLOWED_MOVEMENT) {
        this._cancelLongPressDelayTimeout();
      }
    }
    var isTouchWithinActive = pageX > positionOnActivate.left - pressExpandLeft && pageY > positionOnActivate.top - pressExpandTop && pageX < positionOnActivate.left + dimensionsOnActivate.width + pressExpandRight && pageY < positionOnActivate.top + dimensionsOnActivate.height + pressExpandBottom;
    if (isTouchWithinActive) {
      var prevState = this.state.touchable.touchState;
      this._receiveSignal(Signals.ENTER_PRESS_RECT, e);
      var curState = this.state.touchable.touchState;
      if (curState === States.RESPONDER_INACTIVE_PRESS_IN && prevState !== States.RESPONDER_INACTIVE_PRESS_IN) {
        this._cancelLongPressDelayTimeout();
      }
    } else {
      this._cancelLongPressDelayTimeout();
      this._receiveSignal(Signals.LEAVE_PRESS_RECT, e);
    }
  },
  touchableHandleFocus: function touchableHandleFocus(e) {
    this.props.onFocus && this.props.onFocus(e);
  },
  touchableHandleBlur: function touchableHandleBlur(e) {
    this.props.onBlur && this.props.onBlur(e);
  },
  _remeasureMetricsOnActivation: function _remeasureMetricsOnActivation() {
    var responderID = this.state.touchable.responderID;
    if (responderID == null) {
      return;
    }
    if (typeof responderID === 'number') {
      _UIManager.default.measure(responderID, this._handleQueryLayout);
    } else {
      responderID.measure(this._handleQueryLayout);
    }
  },
  _handleQueryLayout: function _handleQueryLayout(l, t, w, h, globalX, globalY) {
    if (!l && !t && !w && !h && !globalX && !globalY) {
      return;
    }
    this.state.touchable.positionOnActivate && _Position.default.release(this.state.touchable.positionOnActivate);
    this.state.touchable.dimensionsOnActivate && _BoundingDimensions.default.release(this.state.touchable.dimensionsOnActivate);
    this.state.touchable.positionOnActivate = _Position.default.getPooled(globalX, globalY);
    this.state.touchable.dimensionsOnActivate = _BoundingDimensions.default.getPooled(w, h);
  },
  _handleDelay: function _handleDelay(e) {
    this.touchableDelayTimeout = null;
    this._receiveSignal(Signals.DELAY, e);
  },
  _handleLongDelay: function _handleLongDelay(e) {
    this.longPressDelayTimeout = null;
    var curState = this.state.touchable.touchState;
    if (curState === States.RESPONDER_ACTIVE_PRESS_IN || curState === States.RESPONDER_ACTIVE_LONG_PRESS_IN) {
      this._receiveSignal(Signals.LONG_PRESS_DETECTED, e);
    }
  },
  _receiveSignal: function _receiveSignal(signal, e) {
    var responderID = this.state.touchable.responderID;
    var curState = this.state.touchable.touchState;
    var nextState = Transitions[curState] && Transitions[curState][signal];
    if (!responderID && signal === Signals.RESPONDER_RELEASE) {
      return;
    }
    if (!nextState) {
      throw new Error('Unrecognized signal `' + signal + '` or state `' + curState + '` for Touchable responder `' + typeof this.state.touchable.responderID === 'number' ? this.state.touchable.responderID : 'host component' + '`');
    }
    if (nextState === States.ERROR) {
      throw new Error('Touchable cannot transition from `' + curState + '` to `' + signal + '` for responder `' + typeof this.state.touchable.responderID === 'number' ? this.state.touchable.responderID : '<<host component>>' + '`');
    }
    if (curState !== nextState) {
      this._performSideEffectsForTransition(curState, nextState, signal, e);
      this.state.touchable.touchState = nextState;
    }
  },
  _cancelLongPressDelayTimeout: function _cancelLongPressDelayTimeout() {
    this.longPressDelayTimeout && clearTimeout(this.longPressDelayTimeout);
    this.longPressDelayTimeout = null;
  },
  _isHighlight: function _isHighlight(state) {
    return state === States.RESPONDER_ACTIVE_PRESS_IN || state === States.RESPONDER_ACTIVE_LONG_PRESS_IN;
  },
  _savePressInLocation: function _savePressInLocation(e) {
    var touch = extractSingleTouch(e.nativeEvent);
    var pageX = touch && touch.pageX;
    var pageY = touch && touch.pageY;
    var locationX = touch && touch.locationX;
    var locationY = touch && touch.locationY;
    this.pressInLocation = {
      pageX: pageX,
      pageY: pageY,
      locationX: locationX,
      locationY: locationY
    };
  },
  _getDistanceBetweenPoints: function _getDistanceBetweenPoints(aX, aY, bX, bY) {
    var deltaX = aX - bX;
    var deltaY = aY - bY;
    return Math.sqrt(deltaX * deltaX + deltaY * deltaY);
  },
  _performSideEffectsForTransition: function _performSideEffectsForTransition(curState, nextState, signal, e) {
    var curIsHighlight = this._isHighlight(curState);
    var newIsHighlight = this._isHighlight(nextState);
    var isFinalSignal = signal === Signals.RESPONDER_TERMINATED || signal === Signals.RESPONDER_RELEASE;
    if (isFinalSignal) {
      this._cancelLongPressDelayTimeout();
    }
    var isInitialTransition = curState === States.NOT_RESPONDER && nextState === States.RESPONDER_INACTIVE_PRESS_IN;
    var isActiveTransition = !IsActive[curState] && IsActive[nextState];
    if (isInitialTransition || isActiveTransition) {
      this._remeasureMetricsOnActivation();
    }
    if (IsPressingIn[curState] && signal === Signals.LONG_PRESS_DETECTED) {
      this.touchableHandleLongPress && this.touchableHandleLongPress(e);
    }
    if (newIsHighlight && !curIsHighlight) {
      this._startHighlight(e);
    } else if (!newIsHighlight && curIsHighlight) {
      this._endHighlight(e);
    }
    if (IsPressingIn[curState] && signal === Signals.RESPONDER_RELEASE) {
      var hasLongPressHandler = !!this.props.onLongPress;
      var pressIsLongButStillCallOnPress = IsLongPressingIn[curState] && (!hasLongPressHandler || !this.touchableLongPressCancelsPress());
      var shouldInvokePress = !IsLongPressingIn[curState] || pressIsLongButStillCallOnPress;
      if (shouldInvokePress && this.touchableHandlePress) {
        if (!newIsHighlight && !curIsHighlight) {
          this._startHighlight(e);
          this._endHighlight(e);
        }
        if (_Platform.default.OS === 'android' && !this.props.touchSoundDisabled) {
          _SoundManager.default.playTouchSound();
        }
        this.touchableHandlePress(e);
      }
    }
    this.touchableDelayTimeout && clearTimeout(this.touchableDelayTimeout);
    this.touchableDelayTimeout = null;
  },
  _startHighlight: function _startHighlight(e) {
    this._savePressInLocation(e);
    this.touchableHandleActivePressIn && this.touchableHandleActivePressIn(e);
  },
  _endHighlight: function _endHighlight(e) {
    var _this = this;
    if (this.touchableHandleActivePressOut) {
      if (this.touchableGetPressOutDelayMS && this.touchableGetPressOutDelayMS()) {
        this.pressOutDelayTimeout = setTimeout(function () {
          _this.touchableHandleActivePressOut(e);
        }, this.touchableGetPressOutDelayMS());
      } else {
        this.touchableHandleActivePressOut(e);
      }
    }
  },
  withoutDefaultFocusAndBlur: {}
};
var touchableHandleFocus = TouchableMixin.touchableHandleFocus,
  touchableHandleBlur = TouchableMixin.touchableHandleBlur,
  TouchableMixinWithoutDefaultFocusAndBlur = (0, _objectWithoutProperties2.default)(TouchableMixin, ["touchableHandleFocus", "touchableHandleBlur"]);
TouchableMixin.withoutDefaultFocusAndBlur = TouchableMixinWithoutDefaultFocusAndBlur;
var Touchable = {
  Mixin: TouchableMixin,
  renderDebugView: function renderDebugView(_ref) {
    var color = _ref.color,
      hitSlop = _ref.hitSlop;
    if (__DEV__) {
      return (0, _jsxRuntime.jsx)(_PressabilityDebug.PressabilityDebugView, {
        color: color,
        hitSlop: hitSlop
      });
    }
    return null;
  }
};
module.exports = Touchable;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUHJlc3NhYmlsaXR5RGVidWciLCJyZXF1aXJlIiwiX1VJTWFuYWdlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfUGxhdGZvcm0iLCJfU291bmRNYW5hZ2VyIiwiX0JvdW5kaW5nRGltZW5zaW9ucyIsIl9Qb3NpdGlvbiIsIlJlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfanN4UnVudGltZSIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJmaWx0ZXIiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJleHRyYWN0U2luZ2xlVG91Y2giLCJuYXRpdmVFdmVudCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsImhhc1RvdWNoZXMiLCJoYXNDaGFuZ2VkVG91Y2hlcyIsIlN0YXRlcyIsIk5PVF9SRVNQT05ERVIiLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4iLCJSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTiIsIlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VUIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOIiwiUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVCIsIkVSUk9SIiwiYmFzZVN0YXRlc0NvbmRpdGlvbnMiLCJJc0FjdGl2ZSIsIklzUHJlc3NpbmdJbiIsIklzTG9uZ1ByZXNzaW5nSW4iLCJTaWduYWxzIiwiREVMQVkiLCJSRVNQT05ERVJfR1JBTlQiLCJSRVNQT05ERVJfUkVMRUFTRSIsIlJFU1BPTkRFUl9URVJNSU5BVEVEIiwiRU5URVJfUFJFU1NfUkVDVCIsIkxFQVZFX1BSRVNTX1JFQ1QiLCJMT05HX1BSRVNTX0RFVEVDVEVEIiwiVHJhbnNpdGlvbnMiLCJlcnJvciIsIkhJR0hMSUdIVF9ERUxBWV9NUyIsIlBSRVNTX0VYUEFORF9QWCIsIkxPTkdfUFJFU1NfVEhSRVNIT0xEIiwiTE9OR19QUkVTU19ERUxBWV9NUyIsIkxPTkdfUFJFU1NfQUxMT1dFRF9NT1ZFTUVOVCIsIlRvdWNoYWJsZU1peGluIiwiY29tcG9uZW50RGlkTW91bnQiLCJQbGF0Zm9ybSIsImlzVFYiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInRvdWNoYWJsZURlbGF5VGltZW91dCIsImNsZWFyVGltZW91dCIsImxvbmdQcmVzc0RlbGF5VGltZW91dCIsInByZXNzT3V0RGVsYXlUaW1lb3V0IiwidG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlIiwidG91Y2hhYmxlIiwidG91Y2hTdGF0ZSIsInVuZGVmaW5lZCIsInJlc3BvbmRlcklEIiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0IiwicHJvcHMiLCJyZWplY3RSZXNwb25kZXJUZXJtaW5hdGlvbiIsInRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwiZGlzYWJsZWQiLCJ0b3VjaGFibGVMb25nUHJlc3NDYW5jZWxzUHJlc3MiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudCIsImRpc3BhdGNoSUQiLCJjdXJyZW50VGFyZ2V0IiwicGVyc2lzdCIsInN0YXRlIiwiX3JlY2VpdmVTaWduYWwiLCJkZWxheU1TIiwidG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUyIsIk1hdGgiLCJtYXgiLCJpc05hTiIsInNldFRpbWVvdXQiLCJfaGFuZGxlRGVsYXkiLCJiaW5kIiwibG9uZ0RlbGF5TVMiLCJ0b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TIiwiX2hhbmRsZUxvbmdEZWxheSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclJlbGVhc2UiLCJwcmVzc0luTG9jYXRpb24iLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGUiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJNb3ZlIiwicG9zaXRpb25PbkFjdGl2YXRlIiwiZGltZW5zaW9uc09uQWN0aXZhdGUiLCJwcmVzc1JlY3RPZmZzZXQiLCJ0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJwcmVzc0V4cGFuZExlZnQiLCJwcmVzc0V4cGFuZFRvcCIsInByZXNzRXhwYW5kUmlnaHQiLCJwcmVzc0V4cGFuZEJvdHRvbSIsImhpdFNsb3AiLCJ0b3VjaGFibGVHZXRIaXRTbG9wIiwidG91Y2giLCJwYWdlWCIsInBhZ2VZIiwibW92ZWREaXN0YW5jZSIsIl9nZXREaXN0YW5jZUJldHdlZW5Qb2ludHMiLCJfY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0IiwiaXNUb3VjaFdpdGhpbkFjdGl2ZSIsIndpZHRoIiwiaGVpZ2h0IiwicHJldlN0YXRlIiwiY3VyU3RhdGUiLCJ0b3VjaGFibGVIYW5kbGVGb2N1cyIsIm9uRm9jdXMiLCJ0b3VjaGFibGVIYW5kbGVCbHVyIiwib25CbHVyIiwiX3JlbWVhc3VyZU1ldHJpY3NPbkFjdGl2YXRpb24iLCJVSU1hbmFnZXIiLCJtZWFzdXJlIiwiX2hhbmRsZVF1ZXJ5TGF5b3V0IiwibCIsInciLCJoIiwiZ2xvYmFsWCIsImdsb2JhbFkiLCJQb3NpdGlvbiIsInJlbGVhc2UiLCJCb3VuZGluZ0RpbWVuc2lvbnMiLCJnZXRQb29sZWQiLCJzaWduYWwiLCJuZXh0U3RhdGUiLCJFcnJvciIsIl9wZXJmb3JtU2lkZUVmZmVjdHNGb3JUcmFuc2l0aW9uIiwiX2lzSGlnaGxpZ2h0IiwiX3NhdmVQcmVzc0luTG9jYXRpb24iLCJsb2NhdGlvblgiLCJsb2NhdGlvblkiLCJhWCIsImFZIiwiYlgiLCJiWSIsImRlbHRhWCIsImRlbHRhWSIsInNxcnQiLCJjdXJJc0hpZ2hsaWdodCIsIm5ld0lzSGlnaGxpZ2h0IiwiaXNGaW5hbFNpZ25hbCIsImlzSW5pdGlhbFRyYW5zaXRpb24iLCJpc0FjdGl2ZVRyYW5zaXRpb24iLCJ0b3VjaGFibGVIYW5kbGVMb25nUHJlc3MiLCJfc3RhcnRIaWdobGlnaHQiLCJfZW5kSGlnaGxpZ2h0IiwiaGFzTG9uZ1ByZXNzSGFuZGxlciIsIm9uTG9uZ1ByZXNzIiwicHJlc3NJc0xvbmdCdXRTdGlsbENhbGxPblByZXNzIiwic2hvdWxkSW52b2tlUHJlc3MiLCJ0b3VjaGFibGVIYW5kbGVQcmVzcyIsIk9TIiwidG91Y2hTb3VuZERpc2FibGVkIiwiU291bmRNYW5hZ2VyIiwicGxheVRvdWNoU291bmQiLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luIiwiX3RoaXMiLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dCIsInRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUyIsIndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyIiwiVG91Y2hhYmxlTWl4aW5XaXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1ciIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJUb3VjaGFibGUiLCJNaXhpbiIsInJlbmRlckRlYnVnVmlldyIsIl9yZWYiLCJjb2xvciIsIl9fREVWX18iLCJqc3giLCJQcmVzc2FiaWxpdHlEZWJ1Z1ZpZXciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiVG91Y2hhYmxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtFZGdlSW5zZXRzUHJvcH0gZnJvbSAnLi4vLi4vU3R5bGVTaGVldC9FZGdlSW5zZXRzUHJvcFR5cGUnO1xuaW1wb3J0IHR5cGUge0NvbG9yVmFsdWV9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7UHJlc3NFdmVudH0gZnJvbSAnLi4vLi4vVHlwZXMvQ29yZUV2ZW50VHlwZXMnO1xuaW1wb3J0IHR5cGUge1RvdWNoYWJsZVR5cGV9IGZyb20gJy4vVG91Y2hhYmxlLmZsb3cnO1xuXG5pbXBvcnQge1ByZXNzYWJpbGl0eURlYnVnVmlld30gZnJvbSAnLi4vLi4vUHJlc3NhYmlsaXR5L1ByZXNzYWJpbGl0eURlYnVnJztcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSAnLi4vLi4vUmVhY3ROYXRpdmUvVUlNYW5hZ2VyJztcbmltcG9ydCBQbGF0Zm9ybSBmcm9tICcuLi8uLi9VdGlsaXRpZXMvUGxhdGZvcm0nO1xuaW1wb3J0IFNvdW5kTWFuYWdlciBmcm9tICcuLi9Tb3VuZC9Tb3VuZE1hbmFnZXInO1xuaW1wb3J0IEJvdW5kaW5nRGltZW5zaW9ucyBmcm9tICcuL0JvdW5kaW5nRGltZW5zaW9ucyc7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSAnLi9Qb3NpdGlvbic7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IGV4dHJhY3RTaW5nbGVUb3VjaCA9IChuYXRpdmVFdmVudDoge1xuICArY2hhbmdlZFRvdWNoZXM6ICRSZWFkT25seUFycmF5PFByZXNzRXZlbnRbJ25hdGl2ZUV2ZW50J10+LFxuICArZm9yY2U/OiBudW1iZXIsXG4gICtpZGVudGlmaWVyOiBudW1iZXIsXG4gICtsb2NhdGlvblg6IG51bWJlcixcbiAgK2xvY2F0aW9uWTogbnVtYmVyLFxuICArcGFnZVg6IG51bWJlcixcbiAgK3BhZ2VZOiBudW1iZXIsXG4gICt0YXJnZXQ6ID9udW1iZXIsXG4gICt0aW1lc3RhbXA6IG51bWJlcixcbiAgK3RvdWNoZXM6ICRSZWFkT25seUFycmF5PFByZXNzRXZlbnRbJ25hdGl2ZUV2ZW50J10+LFxufSkgPT4ge1xuICBjb25zdCB0b3VjaGVzID0gbmF0aXZlRXZlbnQudG91Y2hlcztcbiAgY29uc3QgY2hhbmdlZFRvdWNoZXMgPSBuYXRpdmVFdmVudC5jaGFuZ2VkVG91Y2hlcztcbiAgY29uc3QgaGFzVG91Y2hlcyA9IHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPiAwO1xuICBjb25zdCBoYXNDaGFuZ2VkVG91Y2hlcyA9IGNoYW5nZWRUb3VjaGVzICYmIGNoYW5nZWRUb3VjaGVzLmxlbmd0aCA+IDA7XG5cbiAgcmV0dXJuICFoYXNUb3VjaGVzICYmIGhhc0NoYW5nZWRUb3VjaGVzXG4gICAgPyBjaGFuZ2VkVG91Y2hlc1swXVxuICAgIDogaGFzVG91Y2hlc1xuICAgID8gdG91Y2hlc1swXVxuICAgIDogbmF0aXZlRXZlbnQ7XG59O1xuXG4vKipcbiAqIGBUb3VjaGFibGVgOiBUYXBzIGRvbmUgcmlnaHQuXG4gKlxuICogWW91IGhvb2sgeW91ciBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gIGV2ZW50cyBpbnRvIGBUb3VjaGFibGVgLiBgVG91Y2hhYmxlYFxuICogd2lsbCBtZWFzdXJlIHRpbWUvZ2VvbWV0cnkgYW5kIHRlbGxzIHlvdSB3aGVuIHRvIGdpdmUgZmVlZGJhY2sgdG8gdGhlIHVzZXIuXG4gKlxuICogPT09PT09PT09PT09PT09PT09PT09PSBUb3VjaGFibGUgVHV0b3JpYWwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogVGhlIGBUb3VjaGFibGVgIG1peGluIGhlbHBzIHlvdSBoYW5kbGUgdGhlIFwicHJlc3NcIiBpbnRlcmFjdGlvbi4gSXQgYW5hbHl6ZXNcbiAqIHRoZSBnZW9tZXRyeSBvZiBlbGVtZW50cywgYW5kIG9ic2VydmVzIHdoZW4gYW5vdGhlciByZXNwb25kZXIgKHNjcm9sbCB2aWV3XG4gKiBldGMpIGhhcyBzdG9sZW4gdGhlIHRvdWNoIGxvY2suIEl0IG5vdGlmaWVzIHlvdXIgY29tcG9uZW50IHdoZW4gaXQgc2hvdWxkXG4gKiBnaXZlIGZlZWRiYWNrIHRvIHRoZSB1c2VyLiAoYm91bmNpbmcvaGlnaGxpZ2h0aW5nL3VuaGlnaGxpZ2h0aW5nKS5cbiAqXG4gKiAtIFdoZW4gYSB0b3VjaCB3YXMgYWN0aXZhdGVkICh0eXBpY2FsbHkgeW91IGhpZ2hsaWdodClcbiAqIC0gV2hlbiBhIHRvdWNoIHdhcyBkZWFjdGl2YXRlZCAodHlwaWNhbGx5IHlvdSB1bmhpZ2hsaWdodClcbiAqIC0gV2hlbiBhIHRvdWNoIHdhcyBcInByZXNzZWRcIiAtIGEgdG91Y2ggZW5kZWQgd2hpbGUgc3RpbGwgd2l0aGluIHRoZSBnZW9tZXRyeVxuICogICBvZiB0aGUgZWxlbWVudCwgYW5kIG5vIG90aGVyIGVsZW1lbnQgKGxpa2Ugc2Nyb2xsZXIpIGhhcyBcInN0b2xlblwiIHRvdWNoXG4gKiAgIGxvY2sgKFwicmVzcG9uZGVyXCIpIChUeXBpY2FsbHkgeW91IGJvdW5jZSB0aGUgZWxlbWVudCkuXG4gKlxuICogQSBnb29kIHRhcCBpbnRlcmFjdGlvbiBpc24ndCBhcyBzaW1wbGUgYXMgeW91IG1pZ2h0IHRoaW5rLiBUaGVyZSBzaG91bGQgYmUgYVxuICogc2xpZ2h0IGRlbGF5IGJlZm9yZSBzaG93aW5nIGEgaGlnaGxpZ2h0IHdoZW4gc3RhcnRpbmcgYSB0b3VjaC4gSWYgYVxuICogc3Vic2VxdWVudCB0b3VjaCBtb3ZlIGV4Y2VlZHMgdGhlIGJvdW5kYXJ5IG9mIHRoZSBlbGVtZW50LCBpdCBzaG91bGRcbiAqIHVuaGlnaGxpZ2h0LCBidXQgaWYgdGhhdCBzYW1lIHRvdWNoIGlzIGJyb3VnaHQgYmFjayB3aXRoaW4gdGhlIGJvdW5kYXJ5LCBpdFxuICogc2hvdWxkIHJlaGlnaGxpZ2h0IGFnYWluLiBBIHRvdWNoIGNhbiBtb3ZlIGluIGFuZCBvdXQgb2YgdGhhdCBib3VuZGFyeVxuICogc2V2ZXJhbCB0aW1lcywgZWFjaCB0aW1lIHRvZ2dsaW5nIGhpZ2hsaWdodGluZywgYnV0IGEgXCJwcmVzc1wiIGlzIG9ubHlcbiAqIHRyaWdnZXJlZCBpZiB0aGF0IHRvdWNoIGVuZHMgd2hpbGUgd2l0aGluIHRoZSBlbGVtZW50J3MgYm91bmRhcnkgYW5kIG5vXG4gKiBzY3JvbGxlciAob3IgYW55dGhpbmcgZWxzZSkgaGFzIHN0b2xlbiB0aGUgbG9jayBvbiB0b3VjaGVzLlxuICpcbiAqIFRvIGNyZWF0ZSBhIG5ldyB0eXBlIG9mIGNvbXBvbmVudCB0aGF0IGhhbmRsZXMgaW50ZXJhY3Rpb24gdXNpbmcgdGhlXG4gKiBgVG91Y2hhYmxlYCBtaXhpbiwgZG8gdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAtIEluaXRpYWxpemUgdGhlIGBUb3VjaGFibGVgIHN0YXRlLlxuICpcbiAqICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4gbWVyZ2UodGhpcy50b3VjaGFibGVHZXRJbml0aWFsU3RhdGUoKSwgeW91ckNvbXBvbmVudFN0YXRlKTtcbiAqICAgfVxuICpcbiAqIC0gQ2hvb3NlIHRoZSByZW5kZXJlZCBjb21wb25lbnQgd2hvJ3MgdG91Y2hlcyBzaG91bGQgc3RhcnQgdGhlIGludGVyYWN0aXZlXG4gKiAgIHNlcXVlbmNlLiBPbiB0aGF0IHJlbmRlcmVkIG5vZGUsIGZvcndhcmQgYWxsIGBUb3VjaGFibGVgIHJlc3BvbmRlclxuICogICBoYW5kbGVycy4gWW91IGNhbiBjaG9vc2UgYW55IHJlbmRlcmVkIG5vZGUgeW91IGxpa2UuIENob29zZSBhIG5vZGUgd2hvc2VcbiAqICAgaGl0IHRhcmdldCB5b3UnZCBsaWtlIHRvIGluc3RpZ2F0ZSB0aGUgaW50ZXJhY3Rpb24gc2VxdWVuY2U6XG4gKlxuICogICAvLyBJbiByZW5kZXIgZnVuY3Rpb246XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPFZpZXdcbiAqICAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI9e3RoaXMudG91Y2hhYmxlSGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJ9XG4gKiAgICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdD17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3R9XG4gKiAgICAgICBvblJlc3BvbmRlckdyYW50PXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlckdyYW50fVxuICogICAgICAgb25SZXNwb25kZXJNb3ZlPXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmV9XG4gKiAgICAgICBvblJlc3BvbmRlclJlbGVhc2U9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZX1cbiAqICAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRlPXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0ZX0+XG4gKiAgICAgICA8Vmlldz5cbiAqICAgICAgICAgRXZlbiB0aG91Z2ggdGhlIGhpdCBkZXRlY3Rpb24vaW50ZXJhY3Rpb25zIGFyZSB0cmlnZ2VyZWQgYnkgdGhlXG4gKiAgICAgICAgIHdyYXBwaW5nICh0eXBpY2FsbHkgbGFyZ2VyKSBub2RlLCB3ZSB1c3VhbGx5IGVuZCB1cCBpbXBsZW1lbnRpbmdcbiAqICAgICAgICAgY3VzdG9tIGxvZ2ljIHRoYXQgaGlnaGxpZ2h0cyB0aGlzIGlubmVyIG9uZS5cbiAqICAgICAgIDwvVmlldz5cbiAqICAgICA8L1ZpZXc+XG4gKiAgICk7XG4gKlxuICogLSBZb3UgbWF5IHNldCB1cCB5b3VyIG93biBoYW5kbGVycyBmb3IgZWFjaCBvZiB0aGVzZSBldmVudHMsIHNvIGxvbmcgYXMgeW91XG4gKiAgIGFsc28gaW52b2tlIHRoZSBgdG91Y2hhYmxlKmAgaGFuZGxlcnMgaW5zaWRlIG9mIHlvdXIgY3VzdG9tIGhhbmRsZXIuXG4gKlxuICogLSBJbXBsZW1lbnQgdGhlIGhhbmRsZXJzIG9uIHlvdXIgY29tcG9uZW50IGNsYXNzIGluIG9yZGVyIHRvIHByb3ZpZGVcbiAqICAgZmVlZGJhY2sgdG8gdGhlIHVzZXIuIFNlZSBkb2N1bWVudGF0aW9uIGZvciBlYWNoIG9mIHRoZXNlIGNsYXNzIG1ldGhvZHNcbiAqICAgdGhhdCB5b3Ugc2hvdWxkIGltcGxlbWVudC5cbiAqXG4gKiAgIHRvdWNoYWJsZUhhbmRsZVByZXNzOiBmdW5jdGlvbigpIHtcbiAqICAgICAgdGhpcy5wZXJmb3JtQm91bmNlQW5pbWF0aW9uKCk7ICAvLyBvciB3aGF0ZXZlciB5b3Ugd2FudCB0byBkby5cbiAqICAgfSxcbiAqICAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbjogZnVuY3Rpb24oKSB7XG4gKiAgICAgdGhpcy5iZWdpbkhpZ2hsaWdodGluZyguLi4pOyAgLy8gV2hhdGV2ZXIgeW91IGxpa2UgdG8gY29udmV5IGFjdGl2YXRpb25cbiAqICAgfSxcbiAqICAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQ6IGZ1bmN0aW9uKCkge1xuICogICAgIHRoaXMuZW5kSGlnaGxpZ2h0aW5nKC4uLik7ICAvLyBXaGF0ZXZlciB5b3UgbGlrZSB0byBjb252ZXkgZGVhY3RpdmF0aW9uXG4gKiAgIH0sXG4gKlxuICogLSBUaGVyZSBhcmUgbW9yZSBhZHZhbmNlZCBtZXRob2RzIHlvdSBjYW4gaW1wbGVtZW50IChzZWUgZG9jdW1lbnRhdGlvbiBiZWxvdyk6XG4gKiAgIHRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVM6IGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiAyMDtcbiAqICAgfVxuICogICAvLyBJbiBwcmFjdGljZSwgKmFsd2F5cyogdXNlIGEgcHJlZGVjbGFyZWQgY29uc3RhbnQgKGNvbnNlcnZlIG1lbW9yeSkuXG4gKiAgIHRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldDogZnVuY3Rpb24oKSB7XG4gKiAgICAgcmV0dXJuIHt0b3A6IDIwLCBsZWZ0OiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDEwMH07XG4gKiAgIH1cbiAqL1xuXG4vKipcbiAqIFRvdWNoYWJsZSBzdGF0ZXMuXG4gKi9cblxuY29uc3QgU3RhdGVzID0ge1xuICBOT1RfUkVTUE9OREVSOiAnTk9UX1JFU1BPTkRFUicsIC8vIE5vdCB0aGUgcmVzcG9uZGVyXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTjogJ1JFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTicsIC8vIFJlc3BvbmRlciwgaW5hY3RpdmUsIGluIHRoZSBgUHJlc3NSZWN0YFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUOiAnUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVCcsIC8vIFJlc3BvbmRlciwgaW5hY3RpdmUsIG91dCBvZiBgUHJlc3NSZWN0YFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOOiAnUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTicsIC8vIFJlc3BvbmRlciwgYWN0aXZlLCBpbiB0aGUgYFByZXNzUmVjdGBcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQ6ICdSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVCcsIC8vIFJlc3BvbmRlciwgYWN0aXZlLCBvdXQgb2YgYFByZXNzUmVjdGBcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOOiAnUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOJywgLy8gUmVzcG9uZGVyLCBhY3RpdmUsIGluIHRoZSBgUHJlc3NSZWN0YCwgYWZ0ZXIgbG9uZyBwcmVzcyB0aHJlc2hvbGRcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVDogJ1JFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVQnLCAvLyBSZXNwb25kZXIsIGFjdGl2ZSwgb3V0IG9mIGBQcmVzc1JlY3RgLCBhZnRlciBsb25nIHByZXNzIHRocmVzaG9sZFxuICBFUlJPUjogJ0VSUk9SJyxcbn07XG5cbnR5cGUgU3RhdGUgPVxuICB8IHR5cGVvZiBTdGF0ZXMuTk9UX1JFU1BPTkRFUlxuICB8IHR5cGVvZiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVFxuICB8IHR5cGVvZiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOXG4gIHwgdHlwZW9mIFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VUXG4gIHwgdHlwZW9mIFN0YXRlcy5FUlJPUjtcblxuLypcbiAqIFF1aWNrIGxvb2t1cCBtYXAgZm9yIHN0YXRlcyB0aGF0IGFyZSBjb25zaWRlcmVkIHRvIGJlIFwiYWN0aXZlXCJcbiAqL1xuXG5jb25zdCBiYXNlU3RhdGVzQ29uZGl0aW9ucyA9IHtcbiAgTk9UX1JFU1BPTkRFUjogZmFsc2UsXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19JTjogZmFsc2UsXG4gIFJFU1BPTkRFUl9JTkFDVElWRV9QUkVTU19PVVQ6IGZhbHNlLFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOOiBmYWxzZSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQ6IGZhbHNlLFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU46IGZhbHNlLFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VUOiBmYWxzZSxcbiAgRVJST1I6IGZhbHNlLFxufTtcblxuY29uc3QgSXNBY3RpdmUgPSB7XG4gIC4uLmJhc2VTdGF0ZXNDb25kaXRpb25zLFxuICBSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVDogdHJ1ZSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTjogdHJ1ZSxcbn07XG5cbi8qKlxuICogUXVpY2sgbG9va3VwIGZvciBzdGF0ZXMgdGhhdCBhcmUgY29uc2lkZXJlZCB0byBiZSBcInByZXNzaW5nXCIgYW5kIGFyZVxuICogdGhlcmVmb3JlIGVsaWdpYmxlIHRvIHJlc3VsdCBpbiBhIFwic2VsZWN0aW9uXCIgaWYgdGhlIHByZXNzIHN0b3BzLlxuICovXG5jb25zdCBJc1ByZXNzaW5nSW4gPSB7XG4gIC4uLmJhc2VTdGF0ZXNDb25kaXRpb25zLFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU46IHRydWUsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU46IHRydWUsXG4gIFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTjogdHJ1ZSxcbn07XG5cbmNvbnN0IElzTG9uZ1ByZXNzaW5nSW4gPSB7XG4gIC4uLmJhc2VTdGF0ZXNDb25kaXRpb25zLFxuICBSRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU46IHRydWUsXG59O1xuXG4vKipcbiAqIElucHV0cyB0byB0aGUgc3RhdGUgbWFjaGluZS5cbiAqL1xuY29uc3QgU2lnbmFscyA9IHtcbiAgREVMQVk6ICdERUxBWScsXG4gIFJFU1BPTkRFUl9HUkFOVDogJ1JFU1BPTkRFUl9HUkFOVCcsXG4gIFJFU1BPTkRFUl9SRUxFQVNFOiAnUkVTUE9OREVSX1JFTEVBU0UnLFxuICBSRVNQT05ERVJfVEVSTUlOQVRFRDogJ1JFU1BPTkRFUl9URVJNSU5BVEVEJyxcbiAgRU5URVJfUFJFU1NfUkVDVDogJ0VOVEVSX1BSRVNTX1JFQ1QnLFxuICBMRUFWRV9QUkVTU19SRUNUOiAnTEVBVkVfUFJFU1NfUkVDVCcsXG4gIExPTkdfUFJFU1NfREVURUNURUQ6ICdMT05HX1BSRVNTX0RFVEVDVEVEJyxcbn07XG5cbnR5cGUgU2lnbmFsID1cbiAgfCB0eXBlb2YgU2lnbmFscy5ERUxBWVxuICB8IHR5cGVvZiBTaWduYWxzLlJFU1BPTkRFUl9HUkFOVFxuICB8IHR5cGVvZiBTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFXG4gIHwgdHlwZW9mIFNpZ25hbHMuUkVTUE9OREVSX1RFUk1JTkFURURcbiAgfCB0eXBlb2YgU2lnbmFscy5FTlRFUl9QUkVTU19SRUNUXG4gIHwgdHlwZW9mIFNpZ25hbHMuTEVBVkVfUFJFU1NfUkVDVFxuICB8IHR5cGVvZiBTaWduYWxzLkxPTkdfUFJFU1NfREVURUNURUQ7XG5cbi8qKlxuICogTWFwcGluZyBmcm9tIFN0YXRlcyB4IFNpZ25hbHMgPT4gU3RhdGVzXG4gKi9cbmNvbnN0IFRyYW5zaXRpb25zID0ge1xuICBOT1RfUkVTUE9OREVSOiB7XG4gICAgREVMQVk6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4sXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLkVSUk9SLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5FUlJPUixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuRVJST1IsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLkVSUk9SLFxuICB9LFxuICBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU46IHtcbiAgICBERUxBWTogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4sXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5FUlJPUixcbiAgfSxcbiAgUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX09VVDoge1xuICAgIERFTEFZOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5FUlJPUixcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTjoge1xuICAgIERFTEFZOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19JTixcbiAgICBMRUFWRV9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTixcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9QUkVTU19PVVQ6IHtcbiAgICBERUxBWTogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9HUkFOVDogU3RhdGVzLkVSUk9SLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4sXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5FUlJPUixcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOOiB7XG4gICAgREVMQVk6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfR1JBTlQ6IFN0YXRlcy5FUlJPUixcbiAgICBSRVNQT05ERVJfUkVMRUFTRTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX1RFUk1JTkFURUQ6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIEVOVEVSX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfSU4sXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19PVVQsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTixcbiAgfSxcbiAgUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVDoge1xuICAgIERFTEFZOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuRVJST1IsXG4gICAgUkVTUE9OREVSX1JFTEVBU0U6IFN0YXRlcy5OT1RfUkVTUE9OREVSLFxuICAgIFJFU1BPTkRFUl9URVJNSU5BVEVEOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBFTlRFUl9QUkVTU19SRUNUOiBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOLFxuICAgIExFQVZFX1BSRVNTX1JFQ1Q6IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX0xPTkdfUFJFU1NfT1VULFxuICAgIExPTkdfUFJFU1NfREVURUNURUQ6IFN0YXRlcy5FUlJPUixcbiAgfSxcbiAgZXJyb3I6IHtcbiAgICBERUxBWTogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgUkVTUE9OREVSX0dSQU5UOiBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOLFxuICAgIFJFU1BPTkRFUl9SRUxFQVNFOiBTdGF0ZXMuTk9UX1JFU1BPTkRFUixcbiAgICBSRVNQT05ERVJfVEVSTUlOQVRFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgRU5URVJfUFJFU1NfUkVDVDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgTEVBVkVfUFJFU1NfUkVDVDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gICAgTE9OR19QUkVTU19ERVRFQ1RFRDogU3RhdGVzLk5PVF9SRVNQT05ERVIsXG4gIH0sXG59O1xuXG4vLyA9PT09IFR5cGljYWwgQ29uc3RhbnRzIGZvciBpbnRlZ3JhdGluZyBpbnRvIFVJIGNvbXBvbmVudHMgPT09PVxuLy8gdmFyIEhJVF9FWFBBTkRfUFggPSAyMDtcbi8vIHZhciBISVRfVkVSVF9PRkZTRVRfUFggPSAxMDtcbmNvbnN0IEhJR0hMSUdIVF9ERUxBWV9NUyA9IDEzMDtcblxuY29uc3QgUFJFU1NfRVhQQU5EX1BYID0gMjA7XG5cbmNvbnN0IExPTkdfUFJFU1NfVEhSRVNIT0xEID0gNTAwO1xuXG5jb25zdCBMT05HX1BSRVNTX0RFTEFZX01TID0gTE9OR19QUkVTU19USFJFU0hPTEQgLSBISUdITElHSFRfREVMQVlfTVM7XG5cbmNvbnN0IExPTkdfUFJFU1NfQUxMT1dFRF9NT1ZFTUVOVCA9IDEwO1xuXG4vLyBEZWZhdWx0IGFtb3VudCBcImFjdGl2ZVwiIHJlZ2lvbiBwcm90cnVkZXMgYmV5b25kIGJveFxuXG4vKipcbiAqIEJ5IGNvbnZlbnRpb24sIG1ldGhvZHMgcHJlZml4ZWQgd2l0aCB1bmRlcnNjb3JlcyBhcmUgbWVhbnQgdG8gYmUgQHByaXZhdGUsXG4gKiBhbmQgbm90IEBwcm90ZWN0ZWQuIE1peGVycyBzaG91bGRuJ3QgYWNjZXNzIHRoZW0gLSBub3QgZXZlbiB0byBwcm92aWRlIHRoZW1cbiAqIGFzIGNhbGxiYWNrIGhhbmRsZXJzLlxuICpcbiAqXG4gKiA9PT09PT09PT09IEdlb21ldHJ5ID09PT09PT09PVxuICogYFRvdWNoYWJsZWAgb25seSBhc3N1bWVzIHRoYXQgdGhlcmUgZXhpc3RzIGEgYEhpdFJlY3RgIG5vZGUuIFRoZSBgUHJlc3NSZWN0YFxuICogaXMgYW4gYWJzdHJhY3QgYm94IHRoYXQgaXMgZXh0ZW5kZWQgYmV5b25kIHRoZSBgSGl0UmVjdGAuXG4gKlxuICogICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqICB8ICAgICAgICAgICAgICAgICAgICAgICAgICB8IC0gXCJTdGFydFwiIGV2ZW50cyBpbiBgSGl0UmVjdGAgY2F1c2UgYEhpdFJlY3RgXG4gKiAgfCAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgfCAgIHRvIGJlY29tZSB0aGUgcmVzcG9uZGVyLlxuICogIHwgIHwgICstLS0tLS0tLS0tLS0tLSsgIHwgIHwgLSBgSGl0UmVjdGAgaXMgdHlwaWNhbGx5IGV4cGFuZGVkIGFyb3VuZFxuICogIHwgIHwgIHwgICAgICAgICAgICAgIHwgIHwgIHwgICB0aGUgYFZpc3VhbFJlY3RgLCBidXQgc2hpZnRlZCBkb3dud2FyZC5cbiAqICB8ICB8ICB8ICBWaXN1YWxSZWN0ICB8ICB8ICB8IC0gQWZ0ZXIgcHJlc3NpbmcgZG93biwgYWZ0ZXIgc29tZSBkZWxheSxcbiAqICB8ICB8ICB8ICAgICAgICAgICAgICB8ICB8ICB8ICAgYW5kIGJlZm9yZSBsZXR0aW5nIHVwLCB0aGUgVmlzdWFsIFJlYWN0XG4gKiAgfCAgfCAgKy0tLS0tLS0tLS0tLS0tKyAgfCAgfCAgIHdpbGwgYmVjb21lIFwiYWN0aXZlXCIuIFRoaXMgbWFrZXMgaXQgZWxpZ2libGVcbiAqICB8ICB8ICAgICBIaXRSZWN0ICAgICAgICB8ICB8ICAgZm9yIGJlaW5nIGhpZ2hsaWdodGVkIChzbyBsb25nIGFzIHRoZVxuICogIHwgICstLS0tLS0tLS0tLS0tLS0tLS0tLSsgIHwgICBwcmVzcyByZW1haW5zIGluIHRoZSBgUHJlc3NSZWN0YCkuXG4gKiAgfCAgICAgICAgUHJlc3NSZWN0ICAgICBvICAgfFxuICogICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLStcbiAqICAgICAgICAgICBPdXQgUmVnaW9uICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLSsgVGhpcyBnYXAgYmV0d2VlbiB0aGUgYEhpdFJlY3RgIGFuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgUHJlc3NSZWN0YCBhbGxvd3MgYSB0b3VjaCB0byBtb3ZlIGZhciBhd2F5XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gdGhlIG9yaWdpbmFsIGhpdCByZWN0LCBhbmQgcmVtYWluXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkLCBhbmQgZWxpZ2libGUgZm9yIGEgXCJQcmVzc1wiLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDdXN0b21pemUgdGhpcyB2aWFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldCgpYC5cbiAqXG4gKlxuICpcbiAqID09PT09PT0gU3RhdGUgTWFjaGluZSA9PT09PT09XG4gKlxuICogKy0tLS0tLS0tLS0tLS0rIDwtLS0rIFJFU1BPTkRFUl9SRUxFQVNFXG4gKiB8Tk9UX1JFU1BPTkRFUnxcbiAqICstLS0tLS0tLS0tLS0tKyA8LS0tKyBSRVNQT05ERVJfVEVSTUlOQVRFRFxuICogICAgICtcbiAqICAgICB8IFJFU1BPTkRFUl9HUkFOVCAoSGl0UmVjdClcbiAqICAgICB2XG4gKiArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgREVMQVkgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgIFQgKyBERUxBWSAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqIHxSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU58Ky0tLS0tLS0tPnxSRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOfCArLS0tLS0tLS0tLS0tPiB8UkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOfFxuICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKiAgICAgKyAgICAgICAgICAgIF4gICAgICAgICAgICAgICAgICAgICAgICAgKyAgICAgICAgICAgXiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgICAgICAgICAgIF5cbiAqICAgICB8TEVBVkVfICAgICAgfEVOVEVSXyAgICAgICAgICAgICAgICAgICB8TEVBVkVfICAgICB8RU5URVJfICAgICAgICAgICAgICAgICAgICAgICAgICAgfExFQVZFXyAgICAgfEVOVEVSX1xuICogICAgIHxQUkVTU19SRUNUICB8UFJFU1NfUkVDVCAgICAgICAgICAgICAgIHxQUkVTU19SRUNUIHxQUkVTU19SRUNUICAgICAgICAgICAgICAgICAgICAgICB8UFJFU1NfUkVDVCB8UFJFU1NfUkVDVFxuICogICAgIHwgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICB8XG4gKiAgICAgdiAgICAgICAgICAgICsgICAgICAgICAgICAgICAgICAgICAgICAgdiAgICAgICAgICAgKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgICAgICAgICAgICtcbiAqICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgREVMQVkgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqIHxSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfT1VUfCstLS0tLS0tPnxSRVNQT05ERVJfQUNUSVZFX1BSRVNTX09VVHwgICAgICAgICAgICAgICB8UkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX09VVHxcbiAqICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAqXG4gKiBUICsgREVMQVkgPT4gTE9OR19QUkVTU19ERUxBWV9NUyArIERFTEFZXG4gKlxuICogTm90IGRyYXduIGFyZSB0aGUgc2lkZSBlZmZlY3RzIG9mIGVhY2ggdHJhbnNpdGlvbi4gVGhlIG1vc3QgaW1wb3J0YW50IHNpZGVcbiAqIGVmZmVjdCBpcyB0aGUgYHRvdWNoYWJsZUhhbmRsZVByZXNzYCBhYnN0cmFjdCBtZXRob2QgaW52b2NhdGlvbiB0aGF0IG9jY3Vyc1xuICogd2hlbiBhIHJlc3BvbmRlciBpcyByZWxlYXNlZCB3aGlsZSBpbiBlaXRoZXIgb2YgdGhlIFwiUHJlc3NcIiBzdGF0ZXMuXG4gKlxuICogVGhlIG90aGVyIGltcG9ydGFudCBzaWRlIGVmZmVjdHMgYXJlIHRoZSBoaWdobGlnaHQgYWJzdHJhY3QgbWV0aG9kXG4gKiBpbnZvY2F0aW9ucyAoaW50ZXJuYWwgY2FsbGJhY2tzKSB0byBiZSBpbXBsZW1lbnRlZCBieSB0aGUgbWl4ZXIuXG4gKlxuICpcbiAqIEBsZW5kcyBUb3VjaGFibGUucHJvdG90eXBlXG4gKi9cbmNvbnN0IFRvdWNoYWJsZU1peGluID0ge1xuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gKCkge1xuICAgIGlmICghUGxhdGZvcm0uaXNUVikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHRpbWVvdXRzIG9uIHVubW91bnRcbiAgICovXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy10aGlzLWFubm90XSBUaGUgJ3RoaXMnIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieVxuICAgKiBGbG93J3MgTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy50b3VjaGFibGVEZWxheVRpbWVvdXQpO1xuICAgIHRoaXMubG9uZ1ByZXNzRGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCk7XG4gICAgdGhpcy5wcmVzc091dERlbGF5VGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5wcmVzc091dERlbGF5VGltZW91dCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEl0J3MgcHJlZmVyIHRoYXQgbWl4aW5zIGRldGVybWluZSBzdGF0ZSBpbiB0aGlzIHdheSwgaGF2aW5nIHRoZSBjbGFzc1xuICAgKiBleHBsaWNpdGx5IG1peCB0aGUgc3RhdGUgaW4gdGhlIG9uZSBhbmQgb25seSBgZ2V0SW5pdGlhbFN0YXRlYCBtZXRob2QuXG4gICAqXG4gICAqIEByZXR1cm4ge29iamVjdH0gU3RhdGUgb2JqZWN0IHRvIGJlIHBsYWNlZCBpbnNpZGUgb2ZcbiAgICogYHRoaXMuc3RhdGUudG91Y2hhYmxlYC5cbiAgICovXG4gIHRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCk6IHtcbiAgICB0b3VjaGFibGU6IHtcbiAgICAgIHRvdWNoU3RhdGU6ID9TdGF0ZSxcbiAgICAgIHJlc3BvbmRlcklEOiA/UHJlc3NFdmVudFsnY3VycmVudFRhcmdldCddLFxuICAgIH0sXG4gIH0ge1xuICAgIHJldHVybiB7XG4gICAgICB0b3VjaGFibGU6IHt0b3VjaFN0YXRlOiB1bmRlZmluZWQsIHJlc3BvbmRlcklEOiBudWxsfSxcbiAgICB9O1xuICB9LFxuXG4gIC8vID09PT0gSG9va3MgdG8gR2VzdHVyZSBSZXNwb25kZXIgc3lzdGVtID09PT1cbiAgLyoqXG4gICAqIE11c3QgcmV0dXJuIHRydWUgaWYgZW1iZWRkZWQgaW4gYSBuYXRpdmUgcGxhdGZvcm0gc2Nyb2xsIHZpZXcuXG4gICAqL1xuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctdGhpcy1hbm5vdF0gVGhlICd0aGlzJyB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnlcbiAgICogRmxvdydzIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIHRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdDogZnVuY3Rpb24gKCk6IGFueSB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLnJlamVjdFJlc3BvbmRlclRlcm1pbmF0aW9uO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNdXN0IHJldHVybiB0cnVlIHRvIHN0YXJ0IHRoZSBwcm9jZXNzIG9mIGBUb3VjaGFibGVgLlxuICAgKi9cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLXRoaXMtYW5ub3RdIFRoZSAndGhpcycgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5XG4gICAqIEZsb3cncyBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICB0b3VjaGFibGVIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlcjogZnVuY3Rpb24gKCk6IGFueSB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmRpc2FibGVkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSB0byBjYW5jZWwgcHJlc3Mgb24gbG9uZyBwcmVzcy5cbiAgICovXG4gIHRvdWNoYWJsZUxvbmdQcmVzc0NhbmNlbHNQcmVzczogZnVuY3Rpb24gKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQbGFjZSBhcyBjYWxsYmFjayBmb3IgYSBET00gZWxlbWVudCdzIGBvblJlc3BvbmRlckdyYW50YCBldmVudC5cbiAgICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZSBTeW50aGV0aWMgZXZlbnQgZnJvbSBldmVudCBzeXN0ZW0uXG4gICAqXG4gICAqL1xuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctdGhpcy1hbm5vdF0gVGhlICd0aGlzJyB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnlcbiAgICogRmxvdydzIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIHRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlckdyYW50OiBmdW5jdGlvbiAoZTogUHJlc3NFdmVudCkge1xuICAgIGNvbnN0IGRpc3BhdGNoSUQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgLy8gU2luY2UgZSBpcyB1c2VkIGluIGEgY2FsbGJhY2sgaW52b2tlZCBvbiBhbm90aGVyIGV2ZW50IGxvb3BcbiAgICAvLyAoYXMgaW4gc2V0VGltZW91dCBldGMpLCB3ZSBuZWVkIHRvIGNhbGwgZS5wZXJzaXN0KCkgb24gdGhlXG4gICAgLy8gZXZlbnQgdG8gbWFrZSBzdXJlIGl0IGRvZXNuJ3QgZ2V0IHJldXNlZCBpbiB0aGUgZXZlbnQgb2JqZWN0IHBvb2wuXG4gICAgZS5wZXJzaXN0KCk7XG5cbiAgICB0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0KTtcbiAgICB0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0ID0gbnVsbDtcblxuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnRvdWNoU3RhdGUgPSBTdGF0ZXMuTk9UX1JFU1BPTkRFUjtcbiAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRCA9IGRpc3BhdGNoSUQ7XG4gICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLlJFU1BPTkRFUl9HUkFOVCwgZSk7XG4gICAgbGV0IGRlbGF5TVMgPVxuICAgICAgdGhpcy50b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBNYXRoLm1heCh0aGlzLnRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVMoKSwgMClcbiAgICAgICAgOiBISUdITElHSFRfREVMQVlfTVM7XG4gICAgZGVsYXlNUyA9IGlzTmFOKGRlbGF5TVMpID8gSElHSExJR0hUX0RFTEFZX01TIDogZGVsYXlNUztcbiAgICBpZiAoZGVsYXlNUyAhPT0gMCkge1xuICAgICAgdGhpcy50b3VjaGFibGVEZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxheS5iaW5kKHRoaXMsIGUpLFxuICAgICAgICBkZWxheU1TLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGFuZGxlRGVsYXkoZSk7XG4gICAgfVxuXG4gICAgbGV0IGxvbmdEZWxheU1TID1cbiAgICAgIHRoaXMudG91Y2hhYmxlR2V0TG9uZ1ByZXNzRGVsYXlNUyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gTWF0aC5tYXgodGhpcy50b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TKCksIDEwKVxuICAgICAgICA6IExPTkdfUFJFU1NfREVMQVlfTVM7XG4gICAgbG9uZ0RlbGF5TVMgPSBpc05hTihsb25nRGVsYXlNUykgPyBMT05HX1BSRVNTX0RFTEFZX01TIDogbG9uZ0RlbGF5TVM7XG4gICAgdGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgdGhpcy5faGFuZGxlTG9uZ0RlbGF5LmJpbmQodGhpcywgZSksXG4gICAgICBsb25nRGVsYXlNUyArIGRlbGF5TVMsXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogUGxhY2UgYXMgY2FsbGJhY2sgZm9yIGEgRE9NIGVsZW1lbnQncyBgb25SZXNwb25kZXJSZWxlYXNlYCBldmVudC5cbiAgICovXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy10aGlzLWFubm90XSBUaGUgJ3RoaXMnIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieVxuICAgKiBGbG93J3MgTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgdG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZTogZnVuY3Rpb24gKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnByZXNzSW5Mb2NhdGlvbiA9IG51bGw7XG4gICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogUGxhY2UgYXMgY2FsbGJhY2sgZm9yIGEgRE9NIGVsZW1lbnQncyBgb25SZXNwb25kZXJUZXJtaW5hdGVgIGV2ZW50LlxuICAgKi9cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLXRoaXMtYW5ub3RdIFRoZSAndGhpcycgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5XG4gICAqIEZsb3cncyBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICB0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGU6IGZ1bmN0aW9uIChlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5wcmVzc0luTG9jYXRpb24gPSBudWxsO1xuICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoU2lnbmFscy5SRVNQT05ERVJfVEVSTUlOQVRFRCwgZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBsYWNlIGFzIGNhbGxiYWNrIGZvciBhIERPTSBlbGVtZW50J3MgYG9uUmVzcG9uZGVyTW92ZWAgZXZlbnQuXG4gICAqL1xuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctdGhpcy1hbm5vdF0gVGhlICd0aGlzJyB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnlcbiAgICogRmxvdydzIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIHRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmU6IGZ1bmN0aW9uIChlOiBQcmVzc0V2ZW50KSB7XG4gICAgLy8gTWVhc3VyZW1lbnQgbWF5IG5vdCBoYXZlIHJldHVybmVkIHlldC5cbiAgICBpZiAoIXRoaXMuc3RhdGUudG91Y2hhYmxlLnBvc2l0aW9uT25BY3RpdmF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBvc2l0aW9uT25BY3RpdmF0ZSA9IHRoaXMuc3RhdGUudG91Y2hhYmxlLnBvc2l0aW9uT25BY3RpdmF0ZTtcbiAgICBjb25zdCBkaW1lbnNpb25zT25BY3RpdmF0ZSA9IHRoaXMuc3RhdGUudG91Y2hhYmxlLmRpbWVuc2lvbnNPbkFjdGl2YXRlO1xuICAgIGNvbnN0IHByZXNzUmVjdE9mZnNldCA9IHRoaXMudG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0XG4gICAgICA/IHRoaXMudG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0KClcbiAgICAgIDoge1xuICAgICAgICAgIGxlZnQ6IFBSRVNTX0VYUEFORF9QWCxcbiAgICAgICAgICByaWdodDogUFJFU1NfRVhQQU5EX1BYLFxuICAgICAgICAgIHRvcDogUFJFU1NfRVhQQU5EX1BYLFxuICAgICAgICAgIGJvdHRvbTogUFJFU1NfRVhQQU5EX1BYLFxuICAgICAgICB9O1xuXG4gICAgbGV0IHByZXNzRXhwYW5kTGVmdCA9IHByZXNzUmVjdE9mZnNldC5sZWZ0O1xuICAgIGxldCBwcmVzc0V4cGFuZFRvcCA9IHByZXNzUmVjdE9mZnNldC50b3A7XG4gICAgbGV0IHByZXNzRXhwYW5kUmlnaHQgPSBwcmVzc1JlY3RPZmZzZXQucmlnaHQ7XG4gICAgbGV0IHByZXNzRXhwYW5kQm90dG9tID0gcHJlc3NSZWN0T2Zmc2V0LmJvdHRvbTtcblxuICAgIGNvbnN0IGhpdFNsb3AgPSB0aGlzLnRvdWNoYWJsZUdldEhpdFNsb3BcbiAgICAgID8gdGhpcy50b3VjaGFibGVHZXRIaXRTbG9wKClcbiAgICAgIDogbnVsbDtcblxuICAgIGlmIChoaXRTbG9wKSB7XG4gICAgICBwcmVzc0V4cGFuZExlZnQgKz0gaGl0U2xvcC5sZWZ0IHx8IDA7XG4gICAgICBwcmVzc0V4cGFuZFRvcCArPSBoaXRTbG9wLnRvcCB8fCAwO1xuICAgICAgcHJlc3NFeHBhbmRSaWdodCArPSBoaXRTbG9wLnJpZ2h0IHx8IDA7XG4gICAgICBwcmVzc0V4cGFuZEJvdHRvbSArPSBoaXRTbG9wLmJvdHRvbSB8fCAwO1xuICAgIH1cblxuICAgIGNvbnN0IHRvdWNoID0gZXh0cmFjdFNpbmdsZVRvdWNoKGUubmF0aXZlRXZlbnQpO1xuICAgIGNvbnN0IHBhZ2VYID0gdG91Y2ggJiYgdG91Y2gucGFnZVg7XG4gICAgY29uc3QgcGFnZVkgPSB0b3VjaCAmJiB0b3VjaC5wYWdlWTtcblxuICAgIGlmICh0aGlzLnByZXNzSW5Mb2NhdGlvbikge1xuICAgICAgY29uc3QgbW92ZWREaXN0YW5jZSA9IHRoaXMuX2dldERpc3RhbmNlQmV0d2VlblBvaW50cyhcbiAgICAgICAgcGFnZVgsXG4gICAgICAgIHBhZ2VZLFxuICAgICAgICB0aGlzLnByZXNzSW5Mb2NhdGlvbi5wYWdlWCxcbiAgICAgICAgdGhpcy5wcmVzc0luTG9jYXRpb24ucGFnZVksXG4gICAgICApO1xuICAgICAgaWYgKG1vdmVkRGlzdGFuY2UgPiBMT05HX1BSRVNTX0FMTE9XRURfTU9WRU1FTlQpIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaXNUb3VjaFdpdGhpbkFjdGl2ZSA9XG4gICAgICBwYWdlWCA+IHBvc2l0aW9uT25BY3RpdmF0ZS5sZWZ0IC0gcHJlc3NFeHBhbmRMZWZ0ICYmXG4gICAgICBwYWdlWSA+IHBvc2l0aW9uT25BY3RpdmF0ZS50b3AgLSBwcmVzc0V4cGFuZFRvcCAmJlxuICAgICAgcGFnZVggPFxuICAgICAgICBwb3NpdGlvbk9uQWN0aXZhdGUubGVmdCArXG4gICAgICAgICAgZGltZW5zaW9uc09uQWN0aXZhdGUud2lkdGggK1xuICAgICAgICAgIHByZXNzRXhwYW5kUmlnaHQgJiZcbiAgICAgIHBhZ2VZIDxcbiAgICAgICAgcG9zaXRpb25PbkFjdGl2YXRlLnRvcCArXG4gICAgICAgICAgZGltZW5zaW9uc09uQWN0aXZhdGUuaGVpZ2h0ICtcbiAgICAgICAgICBwcmVzc0V4cGFuZEJvdHRvbTtcbiAgICBpZiAoaXNUb3VjaFdpdGhpbkFjdGl2ZSkge1xuICAgICAgY29uc3QgcHJldlN0YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZTtcbiAgICAgIHRoaXMuX3JlY2VpdmVTaWduYWwoU2lnbmFscy5FTlRFUl9QUkVTU19SRUNULCBlKTtcbiAgICAgIGNvbnN0IGN1clN0YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgY3VyU3RhdGUgPT09IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU4gJiZcbiAgICAgICAgcHJldlN0YXRlICE9PSBTdGF0ZXMuUkVTUE9OREVSX0lOQUNUSVZFX1BSRVNTX0lOXG4gICAgICApIHtcbiAgICAgICAgLy8gZml4IGZvciB0Nzk2NzQyMFxuICAgICAgICB0aGlzLl9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY2FuY2VsTG9uZ1ByZXNzRGVsYXlUaW1lb3V0KCk7XG4gICAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuTEVBVkVfUFJFU1NfUkVDVCwgZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gcmVjZWl2ZXMgZm9jdXMuIE1peGVycyBtaWdodCBvdmVycmlkZSB0aGlzIHRvXG4gICAqIHZpc3VhbGx5IGRpc3Rpbmd1aXNoIHRoZSBgVmlzdWFsUmVjdGAgc28gdGhhdCB0aGUgdXNlciBrbm93cyB0aGF0IGl0XG4gICAqIGN1cnJlbnRseSBoYXMgdGhlIGZvY3VzLiBNb3N0IHBsYXRmb3JtcyBvbmx5IHN1cHBvcnQgYSBzaW5nbGUgZWxlbWVudCBiZWluZ1xuICAgKiBmb2N1c2VkIGF0IGEgdGltZSwgaW4gd2hpY2ggY2FzZSB0aGVyZSBtYXkgaGF2ZSBiZWVuIGEgcHJldmlvdXNseSBmb2N1c2VkXG4gICAqIGVsZW1lbnQgdGhhdCB3YXMgYmx1cnJlZCBqdXN0IHByaW9yIHRvIHRoaXMuIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gd2hlblxuICAgKiB1c2luZyBgVG91Y2hhYmxlLk1peGluLndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyYC5cbiAgICovXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy10aGlzLWFubm90XSBUaGUgJ3RoaXMnIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieVxuICAgKiBGbG93J3MgTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgdG91Y2hhYmxlSGFuZGxlRm9jdXM6IGZ1bmN0aW9uIChlOiBFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25Gb2N1cyAmJiB0aGlzLnByb3BzLm9uRm9jdXMoZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgaXRlbSBsb3NlcyBmb2N1cy4gTWl4ZXJzIG1pZ2h0IG92ZXJyaWRlIHRoaXMgdG9cbiAgICogdmlzdWFsbHkgZGlzdGluZ3Vpc2ggdGhlIGBWaXN1YWxSZWN0YCBzbyB0aGF0IHRoZSB1c2VyIGtub3dzIHRoYXQgaXRcbiAgICogbm8gbG9uZ2VyIGhhcyBmb2N1cy4gTW9zdCBwbGF0Zm9ybXMgb25seSBzdXBwb3J0IGEgc2luZ2xlIGVsZW1lbnQgYmVpbmdcbiAgICogZm9jdXNlZCBhdCBhIHRpbWUsIGluIHdoaWNoIGNhc2UgdGhlIGZvY3VzIG1heSBoYXZlIG1vdmVkIHRvIGFub3RoZXIuXG4gICAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gd2hlbiB1c2luZ1xuICAgKiBgVG91Y2hhYmxlLk1peGluLndpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyYC5cbiAgICovXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy10aGlzLWFubm90XSBUaGUgJ3RoaXMnIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieVxuICAgKiBGbG93J3MgTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgdG91Y2hhYmxlSGFuZGxlQmx1cjogZnVuY3Rpb24gKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkJsdXIgJiYgdGhpcy5wcm9wcy5vbkJsdXIoZSk7XG4gIH0sXG5cbiAgLy8gPT09PSBBYnN0cmFjdCBBcHBsaWNhdGlvbiBDYWxsYmFja3MgPT09PVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gc2hvdWxkIGJlIGhpZ2hsaWdodGVkLiBNaXhlcnMgc2hvdWxkIGltcGxlbWVudCB0aGlzXG4gICAqIHRvIHZpc3VhbGx5IGRpc3Rpbmd1aXNoIHRoZSBgVmlzdWFsUmVjdGAgc28gdGhhdCB0aGUgdXNlciBrbm93cyB0aGF0XG4gICAqIHJlbGVhc2luZyBhIHRvdWNoIHdpbGwgcmVzdWx0IGluIGEgXCJzZWxlY3Rpb25cIiAoYW5hbG9nIHRvIGNsaWNrKS5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW46IGZ1bmN0aW9uLFxuICAgKi9cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBpdGVtIGlzIFwiYWN0aXZlXCIgKGluIHRoYXQgaXQgaXMgc3RpbGwgZWxpZ2libGUgdG8gYmVjb21lXG4gICAqIGEgXCJzZWxlY3RcIikgYnV0IHRoZSB0b3VjaCBoYXMgbGVmdCB0aGUgYFByZXNzUmVjdGAuIFVzdWFsbHkgdGhlIG1peGVyIHdpbGxcbiAgICogd2FudCB0byB1bmhpZ2hsaWdodCB0aGUgYFZpc3VhbFJlY3RgLiBJZiB0aGUgdXNlciAod2hpbGUgcHJlc3NpbmcpIG1vdmVzXG4gICAqIGJhY2sgaW50byB0aGUgYFByZXNzUmVjdGAgYHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW5gIHdpbGwgYmUgaW52b2tlZFxuICAgKiBhZ2FpbiBhbmQgdGhlIG1peGVyIHNob3VsZCBwcm9iYWJseSBoaWdobGlnaHQgdGhlIGBWaXN1YWxSZWN0YCBhZ2Fpbi4gVGhpc1xuICAgKiBldmVudCB3aWxsIG5vdCBmaXJlIG9uIGFuIGB0b3VjaEVuZC9tb3VzZVVwYCBldmVudCwgb25seSBtb3ZlIGV2ZW50cyB3aGlsZVxuICAgKiB0aGUgdXNlciBpcyBkZXByZXNzaW5nIHRoZSBtb3VzZS90b3VjaC5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzT3V0OiBmdW5jdGlvblxuICAgKi9cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBpdGVtIGlzIFwic2VsZWN0ZWRcIiAtIG1lYW5pbmcgdGhlIGludGVyYWN0aW9uIGVuZGVkIGJ5XG4gICAqIGxldHRpbmcgdXAgd2hpbGUgdGhlIGl0ZW0gd2FzIGVpdGhlciBpbiB0aGUgc3RhdGVcbiAgICogYFJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU5gIG9yIGBSRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU5gLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlSGFuZGxlUHJlc3M6IGZ1bmN0aW9uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGl0ZW0gaXMgbG9uZyBwcmVzc2VkIC0gbWVhbmluZyB0aGUgaW50ZXJhY3Rpb24gZW5kZWQgYnlcbiAgICogbGV0dGluZyB1cCB3aGlsZSB0aGUgaXRlbSB3YXMgaW4gYFJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTmAuIElmXG4gICAqIGB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3NgIGlzICpub3QqIHByb3ZpZGVkLCBgdG91Y2hhYmxlSGFuZGxlUHJlc3NgIHdpbGxcbiAgICogYmUgY2FsbGVkIGFzIGl0IG5vcm1hbGx5IGlzLiBJZiBgdG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzYCBpcyBwcm92aWRlZCwgYnlcbiAgICogZGVmYXVsdCBhbnkgYHRvdWNoYWJsZUhhbmRsZVByZXNzYCBjYWxsYmFjayB3aWxsIG5vdCBiZSBpbnZva2VkLiBUb1xuICAgKiBvdmVycmlkZSB0aGlzIGRlZmF1bHQgYmVoYXZpb3IsIG92ZXJyaWRlIGB0b3VjaGFibGVMb25nUHJlc3NDYW5jZWxzUHJlc3NgXG4gICAqIHRvIHJldHVybiBmYWxzZS4gQXMgYSByZXN1bHQsIGB0b3VjaGFibGVIYW5kbGVQcmVzc2Agd2lsbCBiZSBjYWxsZWQgd2hlblxuICAgKiBsaWZ0aW5nIHVwLCBldmVuIGlmIGB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3NgIGhhcyBhbHNvIGJlZW4gY2FsbGVkLlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzOiBmdW5jdGlvblxuICAgKi9cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIG1pbGxpcyB0byB3YWl0IGJlZm9yZSB0cmlnZ2VyaW5nIGEgaGlnaGxpZ2h0LlxuICAgKlxuICAgKiBAYWJzdHJhY3RcbiAgICogdG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUzogZnVuY3Rpb25cbiAgICovXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFtb3VudCB0byBleHRlbmQgdGhlIGBIaXRSZWN0YCBpbnRvIHRoZSBgUHJlc3NSZWN0YC4gUG9zaXRpdmVcbiAgICogbnVtYmVycyBtZWFuIHRoZSBzaXplIGV4cGFuZHMgb3V0d2FyZHMuXG4gICAqXG4gICAqIEBhYnN0cmFjdFxuICAgKiB0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQ6IGZ1bmN0aW9uXG4gICAqL1xuXG4gIC8vID09PT0gSW50ZXJuYWwgTG9naWMgPT09PVxuXG4gIC8qKlxuICAgKiBNZWFzdXJlcyB0aGUgYEhpdFJlY3RgIG5vZGUgb24gYWN0aXZhdGlvbi4gVGhlIEJvdW5kaW5nIHJlY3RhbmdsZSBpcyB3aXRoXG4gICAqIHJlc3BlY3QgdG8gdmlld3BvcnQgLSBub3QgcGFnZSwgc28gYWRkaW5nIHRoZSBgcGFnZVhPZmZzZXQvcGFnZVlPZmZzZXRgXG4gICAqIHNob3VsZCByZXN1bHQgaW4gcG9pbnRzIHRoYXQgYXJlIGluIHRoZSBzYW1lIGNvb3JkaW5hdGUgc3lzdGVtIGFzIGFuXG4gICAqIGV2ZW50J3MgYGdsb2JhbFgvZ2xvYmFsWWAgZGF0YSB2YWx1ZXMuXG4gICAqXG4gICAqIC0gQ29uc2lkZXIgY2FjaGluZyB0aGlzIGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudCwgb3IgcG9zc2libHlcbiAgICogICBiZWluZyBhYmxlIHRvIHNoYXJlIHRoaXMgY2FjaGUgYmV0d2VlbiBhbnkgYFNjcm9sbE1hcGAgdmlldy5cbiAgICpcbiAgICogQHNpZGVlZmZlY3RzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctdGhpcy1hbm5vdF0gVGhlICd0aGlzJyB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnlcbiAgICogRmxvdydzIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIF9yZW1lYXN1cmVNZXRyaWNzT25BY3RpdmF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcmVzcG9uZGVySUQgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRDtcbiAgICBpZiAocmVzcG9uZGVySUQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVzcG9uZGVySUQgPT09ICdudW1iZXInKSB7XG4gICAgICBVSU1hbmFnZXIubWVhc3VyZShyZXNwb25kZXJJRCwgdGhpcy5faGFuZGxlUXVlcnlMYXlvdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25kZXJJRC5tZWFzdXJlKHRoaXMuX2hhbmRsZVF1ZXJ5TGF5b3V0KTtcbiAgICB9XG4gIH0sXG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLXRoaXMtYW5ub3RdIFRoZSAndGhpcycgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5XG4gICAqIEZsb3cncyBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfaGFuZGxlUXVlcnlMYXlvdXQ6IGZ1bmN0aW9uIChcbiAgICBsOiBudW1iZXIsXG4gICAgdDogbnVtYmVyLFxuICAgIHc6IG51bWJlcixcbiAgICBoOiBudW1iZXIsXG4gICAgZ2xvYmFsWDogbnVtYmVyLFxuICAgIGdsb2JhbFk6IG51bWJlcixcbiAgKSB7XG4gICAgLy9kb24ndCBkbyBhbnl0aGluZyBVSU1hbmFnZXIgZmFpbGVkIHRvIG1lYXN1cmUgbm9kZVxuICAgIGlmICghbCAmJiAhdCAmJiAhdyAmJiAhaCAmJiAhZ2xvYmFsWCAmJiAhZ2xvYmFsWSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS5wb3NpdGlvbk9uQWN0aXZhdGUgJiZcbiAgICAgIFBvc2l0aW9uLnJlbGVhc2UodGhpcy5zdGF0ZS50b3VjaGFibGUucG9zaXRpb25PbkFjdGl2YXRlKTtcbiAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS5kaW1lbnNpb25zT25BY3RpdmF0ZSAmJlxuICAgICAgQm91bmRpbmdEaW1lbnNpb25zLnJlbGVhc2UodGhpcy5zdGF0ZS50b3VjaGFibGUuZGltZW5zaW9uc09uQWN0aXZhdGUpO1xuICAgIHRoaXMuc3RhdGUudG91Y2hhYmxlLnBvc2l0aW9uT25BY3RpdmF0ZSA9IFBvc2l0aW9uLmdldFBvb2xlZChcbiAgICAgIGdsb2JhbFgsXG4gICAgICBnbG9iYWxZLFxuICAgICk7XG4gICAgdGhpcy5zdGF0ZS50b3VjaGFibGUuZGltZW5zaW9uc09uQWN0aXZhdGUgPSBCb3VuZGluZ0RpbWVuc2lvbnMuZ2V0UG9vbGVkKFxuICAgICAgdyxcbiAgICAgIGgsXG4gICAgKTtcbiAgfSxcblxuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctdGhpcy1hbm5vdF0gVGhlICd0aGlzJyB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnlcbiAgICogRmxvdydzIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIF9oYW5kbGVEZWxheTogZnVuY3Rpb24gKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCA9IG51bGw7XG4gICAgdGhpcy5fcmVjZWl2ZVNpZ25hbChTaWduYWxzLkRFTEFZLCBlKTtcbiAgfSxcblxuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctdGhpcy1hbm5vdF0gVGhlICd0aGlzJyB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnlcbiAgICogRmxvdydzIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIF9oYW5kbGVMb25nRGVsYXk6IGZ1bmN0aW9uIChlOiBQcmVzc0V2ZW50KSB7XG4gICAgdGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQgPSBudWxsO1xuICAgIGNvbnN0IGN1clN0YXRlID0gdGhpcy5zdGF0ZS50b3VjaGFibGUudG91Y2hTdGF0ZTtcbiAgICBpZiAoXG4gICAgICBjdXJTdGF0ZSA9PT0gU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfUFJFU1NfSU4gfHxcbiAgICAgIGN1clN0YXRlID09PSBTdGF0ZXMuUkVTUE9OREVSX0FDVElWRV9MT05HX1BSRVNTX0lOXG4gICAgKSB7XG4gICAgICB0aGlzLl9yZWNlaXZlU2lnbmFsKFNpZ25hbHMuTE9OR19QUkVTU19ERVRFQ1RFRCwgZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZWNlaXZlcyBhIHN0YXRlIG1hY2hpbmUgc2lnbmFsLCBwZXJmb3JtcyBzaWRlIGVmZmVjdHMgb2YgdGhlIHRyYW5zaXRpb25cbiAgICogYW5kIHN0b3JlcyB0aGUgbmV3IHN0YXRlLiBWYWxpZGF0ZXMgdGhlIHRyYW5zaXRpb24gYXMgd2VsbC5cbiAgICpcbiAgICogQHBhcmFtIHtTaWduYWxzfSBzaWduYWwgU3RhdGUgbWFjaGluZSBzaWduYWwuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgaW52YWxpZCBzdGF0ZSB0cmFuc2l0aW9uIG9yIHVucmVjb2duaXplZCBzaWduYWwuXG4gICAqIEBzaWRlZWZmZWN0c1xuICAgKi9cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLXRoaXMtYW5ub3RdIFRoZSAndGhpcycgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5XG4gICAqIEZsb3cncyBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfcmVjZWl2ZVNpZ25hbDogZnVuY3Rpb24gKHNpZ25hbDogU2lnbmFsLCBlOiBQcmVzc0V2ZW50KSB7XG4gICAgY29uc3QgcmVzcG9uZGVySUQgPSB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRDtcbiAgICBjb25zdCBjdXJTdGF0ZSA9IHRoaXMuc3RhdGUudG91Y2hhYmxlLnRvdWNoU3RhdGU7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gVHJhbnNpdGlvbnNbY3VyU3RhdGVdICYmIFRyYW5zaXRpb25zW2N1clN0YXRlXVtzaWduYWxdO1xuICAgIGlmICghcmVzcG9uZGVySUQgJiYgc2lnbmFsID09PSBTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbmV4dFN0YXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbnJlY29nbml6ZWQgc2lnbmFsIGAnICtcbiAgICAgICAgICBzaWduYWwgK1xuICAgICAgICAgICdgIG9yIHN0YXRlIGAnICtcbiAgICAgICAgICBjdXJTdGF0ZSArXG4gICAgICAgICAgJ2AgZm9yIFRvdWNoYWJsZSByZXNwb25kZXIgYCcgK1xuICAgICAgICAgIHR5cGVvZiB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRCA9PT1cbiAgICAgICAgJ251bWJlcidcbiAgICAgICAgICA/IHRoaXMuc3RhdGUudG91Y2hhYmxlLnJlc3BvbmRlcklEXG4gICAgICAgICAgOiAnaG9zdCBjb21wb25lbnQnICsgJ2AnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG5leHRTdGF0ZSA9PT0gU3RhdGVzLkVSUk9SKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUb3VjaGFibGUgY2Fubm90IHRyYW5zaXRpb24gZnJvbSBgJyArXG4gICAgICAgICAgY3VyU3RhdGUgK1xuICAgICAgICAgICdgIHRvIGAnICtcbiAgICAgICAgICBzaWduYWwgK1xuICAgICAgICAgICdgIGZvciByZXNwb25kZXIgYCcgK1xuICAgICAgICAgIHR5cGVvZiB0aGlzLnN0YXRlLnRvdWNoYWJsZS5yZXNwb25kZXJJRCA9PT1cbiAgICAgICAgJ251bWJlcidcbiAgICAgICAgICA/IHRoaXMuc3RhdGUudG91Y2hhYmxlLnJlc3BvbmRlcklEXG4gICAgICAgICAgOiAnPDxob3N0IGNvbXBvbmVudD4+JyArICdgJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChjdXJTdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICB0aGlzLl9wZXJmb3JtU2lkZUVmZmVjdHNGb3JUcmFuc2l0aW9uKGN1clN0YXRlLCBuZXh0U3RhdGUsIHNpZ25hbCwgZSk7XG4gICAgICB0aGlzLnN0YXRlLnRvdWNoYWJsZS50b3VjaFN0YXRlID0gbmV4dFN0YXRlO1xuICAgIH1cbiAgfSxcblxuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctdGhpcy1hbm5vdF0gVGhlICd0aGlzJyB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnlcbiAgICogRmxvdydzIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIF9jYW5jZWxMb25nUHJlc3NEZWxheVRpbWVvdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmxvbmdQcmVzc0RlbGF5VGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5sb25nUHJlc3NEZWxheVRpbWVvdXQpO1xuICAgIHRoaXMubG9uZ1ByZXNzRGVsYXlUaW1lb3V0ID0gbnVsbDtcbiAgfSxcblxuICBfaXNIaWdobGlnaHQ6IGZ1bmN0aW9uIChzdGF0ZTogU3RhdGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgc3RhdGUgPT09IFN0YXRlcy5SRVNQT05ERVJfQUNUSVZFX1BSRVNTX0lOIHx8XG4gICAgICBzdGF0ZSA9PT0gU3RhdGVzLlJFU1BPTkRFUl9BQ1RJVkVfTE9OR19QUkVTU19JTlxuICAgICk7XG4gIH0sXG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLXRoaXMtYW5ub3RdIFRoZSAndGhpcycgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5XG4gICAqIEZsb3cncyBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfc2F2ZVByZXNzSW5Mb2NhdGlvbjogZnVuY3Rpb24gKGU6IFByZXNzRXZlbnQpIHtcbiAgICBjb25zdCB0b3VjaCA9IGV4dHJhY3RTaW5nbGVUb3VjaChlLm5hdGl2ZUV2ZW50KTtcbiAgICBjb25zdCBwYWdlWCA9IHRvdWNoICYmIHRvdWNoLnBhZ2VYO1xuICAgIGNvbnN0IHBhZ2VZID0gdG91Y2ggJiYgdG91Y2gucGFnZVk7XG4gICAgY29uc3QgbG9jYXRpb25YID0gdG91Y2ggJiYgdG91Y2gubG9jYXRpb25YO1xuICAgIGNvbnN0IGxvY2F0aW9uWSA9IHRvdWNoICYmIHRvdWNoLmxvY2F0aW9uWTtcbiAgICB0aGlzLnByZXNzSW5Mb2NhdGlvbiA9IHtwYWdlWCwgcGFnZVksIGxvY2F0aW9uWCwgbG9jYXRpb25ZfTtcbiAgfSxcblxuICBfZ2V0RGlzdGFuY2VCZXR3ZWVuUG9pbnRzOiBmdW5jdGlvbiAoXG4gICAgYVg6IG51bWJlcixcbiAgICBhWTogbnVtYmVyLFxuICAgIGJYOiBudW1iZXIsXG4gICAgYlk6IG51bWJlcixcbiAgKTogbnVtYmVyIHtcbiAgICBjb25zdCBkZWx0YVggPSBhWCAtIGJYO1xuICAgIGNvbnN0IGRlbHRhWSA9IGFZIC0gYlk7XG4gICAgcmV0dXJuIE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBXaWxsIHBlcmZvcm0gYSB0cmFuc2l0aW9uIGJldHdlZW4gdG91Y2hhYmxlIHN0YXRlcywgYW5kIGlkZW50aWZ5IGFueVxuICAgKiBoaWdobGlnaHRpbmcgb3IgdW5oaWdobGlnaHRpbmcgdGhhdCBtdXN0IGJlIHBlcmZvcm1lZCBmb3IgdGhpcyBwYXJ0aWN1bGFyXG4gICAqIHRyYW5zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RhdGVzfSBjdXJTdGF0ZSBDdXJyZW50IFRvdWNoYWJsZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtTdGF0ZXN9IG5leHRTdGF0ZSBOZXh0IFRvdWNoYWJsZSBzdGF0ZS5cbiAgICogQHBhcmFtIHtTaWduYWx9IHNpZ25hbCBTaWduYWwgdGhhdCB0cmlnZ2VyZWQgdGhlIHRyYW5zaXRpb24uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgTmF0aXZlIGV2ZW50LlxuICAgKiBAc2lkZWVmZmVjdHNcbiAgICovXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy10aGlzLWFubm90XSBUaGUgJ3RoaXMnIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieVxuICAgKiBGbG93J3MgTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgX3BlcmZvcm1TaWRlRWZmZWN0c0ZvclRyYW5zaXRpb246IGZ1bmN0aW9uIChcbiAgICBjdXJTdGF0ZTogU3RhdGUsXG4gICAgbmV4dFN0YXRlOiBTdGF0ZSxcbiAgICBzaWduYWw6IFNpZ25hbCxcbiAgICBlOiBQcmVzc0V2ZW50LFxuICApIHtcbiAgICBjb25zdCBjdXJJc0hpZ2hsaWdodCA9IHRoaXMuX2lzSGlnaGxpZ2h0KGN1clN0YXRlKTtcbiAgICBjb25zdCBuZXdJc0hpZ2hsaWdodCA9IHRoaXMuX2lzSGlnaGxpZ2h0KG5leHRTdGF0ZSk7XG5cbiAgICBjb25zdCBpc0ZpbmFsU2lnbmFsID1cbiAgICAgIHNpZ25hbCA9PT0gU2lnbmFscy5SRVNQT05ERVJfVEVSTUlOQVRFRCB8fFxuICAgICAgc2lnbmFsID09PSBTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFO1xuXG4gICAgaWYgKGlzRmluYWxTaWduYWwpIHtcbiAgICAgIHRoaXMuX2NhbmNlbExvbmdQcmVzc0RlbGF5VGltZW91dCgpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzSW5pdGlhbFRyYW5zaXRpb24gPVxuICAgICAgY3VyU3RhdGUgPT09IFN0YXRlcy5OT1RfUkVTUE9OREVSICYmXG4gICAgICBuZXh0U3RhdGUgPT09IFN0YXRlcy5SRVNQT05ERVJfSU5BQ1RJVkVfUFJFU1NfSU47XG5cbiAgICBjb25zdCBpc0FjdGl2ZVRyYW5zaXRpb24gPSAhSXNBY3RpdmVbY3VyU3RhdGVdICYmIElzQWN0aXZlW25leHRTdGF0ZV07XG4gICAgaWYgKGlzSW5pdGlhbFRyYW5zaXRpb24gfHwgaXNBY3RpdmVUcmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLl9yZW1lYXN1cmVNZXRyaWNzT25BY3RpdmF0aW9uKCk7XG4gICAgfVxuXG4gICAgaWYgKElzUHJlc3NpbmdJbltjdXJTdGF0ZV0gJiYgc2lnbmFsID09PSBTaWduYWxzLkxPTkdfUFJFU1NfREVURUNURUQpIHtcbiAgICAgIHRoaXMudG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzICYmIHRoaXMudG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzKGUpO1xuICAgIH1cblxuICAgIGlmIChuZXdJc0hpZ2hsaWdodCAmJiAhY3VySXNIaWdobGlnaHQpIHtcbiAgICAgIHRoaXMuX3N0YXJ0SGlnaGxpZ2h0KGUpO1xuICAgIH0gZWxzZSBpZiAoIW5ld0lzSGlnaGxpZ2h0ICYmIGN1cklzSGlnaGxpZ2h0KSB7XG4gICAgICB0aGlzLl9lbmRIaWdobGlnaHQoZSk7XG4gICAgfVxuXG4gICAgaWYgKElzUHJlc3NpbmdJbltjdXJTdGF0ZV0gJiYgc2lnbmFsID09PSBTaWduYWxzLlJFU1BPTkRFUl9SRUxFQVNFKSB7XG4gICAgICBjb25zdCBoYXNMb25nUHJlc3NIYW5kbGVyID0gISF0aGlzLnByb3BzLm9uTG9uZ1ByZXNzO1xuICAgICAgY29uc3QgcHJlc3NJc0xvbmdCdXRTdGlsbENhbGxPblByZXNzID1cbiAgICAgICAgSXNMb25nUHJlc3NpbmdJbltjdXJTdGF0ZV0gJiYgLy8gV2UgKmFyZSogbG9uZyBwcmVzc2luZy4uIC8vIEJ1dCBlaXRoZXIgaGFzIG5vIGxvbmcgaGFuZGxlclxuICAgICAgICAoIWhhc0xvbmdQcmVzc0hhbmRsZXIgfHwgIXRoaXMudG91Y2hhYmxlTG9uZ1ByZXNzQ2FuY2Vsc1ByZXNzKCkpOyAvLyBvciB3ZSdyZSB0b2xkIHRvIGlnbm9yZSBpdC5cblxuICAgICAgY29uc3Qgc2hvdWxkSW52b2tlUHJlc3MgPVxuICAgICAgICAhSXNMb25nUHJlc3NpbmdJbltjdXJTdGF0ZV0gfHwgcHJlc3NJc0xvbmdCdXRTdGlsbENhbGxPblByZXNzO1xuICAgICAgaWYgKHNob3VsZEludm9rZVByZXNzICYmIHRoaXMudG91Y2hhYmxlSGFuZGxlUHJlc3MpIHtcbiAgICAgICAgaWYgKCFuZXdJc0hpZ2hsaWdodCAmJiAhY3VySXNIaWdobGlnaHQpIHtcbiAgICAgICAgICAvLyB3ZSBuZXZlciBoaWdobGlnaHRlZCBiZWNhdXNlIG9mIGRlbGF5LCBidXQgd2Ugc2hvdWxkIGhpZ2hsaWdodCBub3dcbiAgICAgICAgICB0aGlzLl9zdGFydEhpZ2hsaWdodChlKTtcbiAgICAgICAgICB0aGlzLl9lbmRIaWdobGlnaHQoZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcgJiYgIXRoaXMucHJvcHMudG91Y2hTb3VuZERpc2FibGVkKSB7XG4gICAgICAgICAgU291bmRNYW5hZ2VyLnBsYXlUb3VjaFNvdW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3VjaGFibGVIYW5kbGVQcmVzcyhlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRvdWNoYWJsZURlbGF5VGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy50b3VjaGFibGVEZWxheVRpbWVvdXQpO1xuICAgIHRoaXMudG91Y2hhYmxlRGVsYXlUaW1lb3V0ID0gbnVsbDtcbiAgfSxcblxuICAvKiAkRmxvd0ZpeE1lW21pc3NpbmctdGhpcy1hbm5vdF0gVGhlICd0aGlzJyB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnlcbiAgICogRmxvdydzIExUSSB1cGRhdGUgY291bGQgbm90IGJlIGFkZGVkIHZpYSBjb2RlbW9kICovXG4gIF9zdGFydEhpZ2hsaWdodDogZnVuY3Rpb24gKGU6IFByZXNzRXZlbnQpIHtcbiAgICB0aGlzLl9zYXZlUHJlc3NJbkxvY2F0aW9uKGUpO1xuICAgIHRoaXMudG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbiAmJiB0aGlzLnRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW4oZSk7XG4gIH0sXG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLXRoaXMtYW5ub3RdIFRoZSAndGhpcycgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5XG4gICAqIEZsb3cncyBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfZW5kSGlnaGxpZ2h0OiBmdW5jdGlvbiAoZTogUHJlc3NFdmVudCkge1xuICAgIGlmICh0aGlzLnRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzT3V0KSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMudG91Y2hhYmxlR2V0UHJlc3NPdXREZWxheU1TICYmXG4gICAgICAgIHRoaXMudG91Y2hhYmxlR2V0UHJlc3NPdXREZWxheU1TKClcbiAgICAgICkge1xuICAgICAgICB0aGlzLnByZXNzT3V0RGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dChlKTtcbiAgICAgICAgfSwgdGhpcy50b3VjaGFibGVHZXRQcmVzc091dERlbGF5TVMoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzT3V0KGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICB3aXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1cjogKHt9OiB7Li4ufSksXG59O1xuXG4vKipcbiAqIFByb3ZpZGUgYW4gb3B0aW9uYWwgdmVyc2lvbiBvZiB0aGUgbWl4aW4gd2hlcmUgYHRvdWNoYWJsZUhhbmRsZUZvY3VzYCBhbmRcbiAqIGB0b3VjaGFibGVIYW5kbGVCbHVyYCBjYW4gYmUgb3ZlcnJpZGRlbi4gVGhpcyBhbGxvd3MgYXBwcm9wcmlhdGUgZGVmYXVsdHMgdG9cbiAqIGJlIHNldCBvbiBUViBwbGF0Zm9ybXMsIHdpdGhvdXQgYnJlYWtpbmcgZXhpc3RpbmcgaW1wbGVtZW50YXRpb25zIG9mXG4gKiBgVG91Y2hhYmxlYC5cbiAqL1xuY29uc3Qge1xuICB0b3VjaGFibGVIYW5kbGVGb2N1cyxcbiAgdG91Y2hhYmxlSGFuZGxlQmx1cixcbiAgLi4uVG91Y2hhYmxlTWl4aW5XaXRob3V0RGVmYXVsdEZvY3VzQW5kQmx1clxufSA9IFRvdWNoYWJsZU1peGluO1xuVG91Y2hhYmxlTWl4aW4ud2l0aG91dERlZmF1bHRGb2N1c0FuZEJsdXIgPVxuICBUb3VjaGFibGVNaXhpbldpdGhvdXREZWZhdWx0Rm9jdXNBbmRCbHVyO1xuXG5jb25zdCBUb3VjaGFibGU6IFRvdWNoYWJsZVR5cGUgPSB7XG4gIE1peGluOiBUb3VjaGFibGVNaXhpbixcbiAgLyoqXG4gICAqIFJlbmRlcnMgYSBkZWJ1Z2dpbmcgb3ZlcmxheSB0byB2aXN1YWxpemUgdG91Y2ggdGFyZ2V0IHdpdGggaGl0U2xvcCAobWlnaHQgbm90IHdvcmsgb24gQW5kcm9pZCkuXG4gICAqL1xuICByZW5kZXJEZWJ1Z1ZpZXc6ICh7XG4gICAgY29sb3IsXG4gICAgaGl0U2xvcCxcbiAgfToge1xuICAgIGNvbG9yOiBDb2xvclZhbHVlLFxuICAgIGhpdFNsb3A6IEVkZ2VJbnNldHNQcm9wLFxuICAgIC4uLlxuICB9KTogbnVsbCB8IFJlYWN0Lk5vZGUgPT4ge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICByZXR1cm4gPFByZXNzYWJpbGl0eURlYnVnVmlldyBjb2xvcj17Y29sb3J9IGhpdFNsb3A9e2hpdFNsb3B9IC8+O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVG91Y2hhYmxlO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQWVBLElBQUFBLGtCQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFELHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSSxhQUFBLEdBQUFGLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSyxtQkFBQSxHQUFBSCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBSixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBQyx1QkFBQSxDQUFBUixPQUFBO0FBQStCLElBQUFTLFdBQUEsR0FBQVQsT0FBQTtBQUFBLFNBQUFRLHdCQUFBRSxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBSix1QkFBQSxZQUFBQSx3QkFBQUUsQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxLQUFBQyxTQUFBLFFBQUFDLE9BQUEsRUFBQVYsQ0FBQSxpQkFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxTQUFBUSxDQUFBLE1BQUFG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