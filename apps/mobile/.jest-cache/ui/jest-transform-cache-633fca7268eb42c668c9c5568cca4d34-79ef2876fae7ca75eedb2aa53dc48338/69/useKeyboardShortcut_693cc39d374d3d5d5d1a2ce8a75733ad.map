{"version":3,"names":["Object","defineProperty","exports","value","useKeyboardShortcut","react_1","require","environment_1","keyCombo","handler","handlerRef","useRef","useEffect","current","handleKeyDown","event","isKeyboardEvent","pressedCombo","formatPressedKeys","formattedCombo","formatKeyCombo","preventDefault","documentObject","getDocumentObject","undefined","addEventListenerSafely","removeEventListenerSafely","combo","modifiers","ctrl","push","shift","alt","meta","concat","key","join","ctrlKey","shiftKey","altKey","metaKey"],"sources":["useKeyboardShortcut.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useKeyboardShortcut = useKeyboardShortcut;\nconst react_1 = require(\"react\");\nconst environment_1 = require(\"../utils/environment\");\nfunction useKeyboardShortcut(keyCombo, handler) {\n    const handlerRef = (0, react_1.useRef)(handler);\n    (0, react_1.useEffect)(() => {\n        handlerRef.current = handler;\n    }, [handler]);\n    (0, react_1.useEffect)(() => {\n        const handleKeyDown = (event) => {\n            if (!isKeyboardEvent(event)) {\n                return;\n            }\n            const pressedCombo = formatPressedKeys(event);\n            const formattedCombo = formatKeyCombo(keyCombo);\n            if (pressedCombo === formattedCombo) {\n                event.preventDefault();\n                handlerRef.current();\n            }\n        };\n        const documentObject = (0, environment_1.getDocumentObject)();\n        if (documentObject == null) {\n            return undefined;\n        }\n        (0, environment_1.addEventListenerSafely)(documentObject, 'keydown', handleKeyDown);\n        return () => {\n            (0, environment_1.removeEventListenerSafely)(documentObject, 'keydown', handleKeyDown);\n        };\n    }, [keyCombo, handler]);\n    return formatKeyCombo(keyCombo);\n}\nfunction formatKeyCombo(combo) {\n    const modifiers = [];\n    if (combo.ctrl === true)\n        modifiers.push('Ctrl');\n    if (combo.shift === true)\n        modifiers.push('Shift');\n    if (combo.alt === true)\n        modifiers.push('Alt');\n    if (combo.meta === true)\n        modifiers.push('Meta');\n    return [...modifiers, combo.key].join('+');\n}\nfunction formatPressedKeys(event) {\n    const modifiers = [];\n    if (event.ctrlKey)\n        modifiers.push('Ctrl');\n    if (event.shiftKey)\n        modifiers.push('Shift');\n    if (event.altKey)\n        modifiers.push('Alt');\n    if (event.metaKey)\n        modifiers.push('Meta');\n    return [...modifiers, event.key].join('+');\n}\nconst isKeyboardEvent = (event) => {\n    return 'key' in event;\n};\n"],"mappings":"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","ignoreList":[]}