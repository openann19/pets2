d72a4c65e2ab6d8cc2db8a761005ae99
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _vectorIcons = require("@expo/vector-icons");
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _unifiedTheme = require("../../theme/unified-theme");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["title", "variant", "size", "loading", "disabled", "icon", "leftIcon", "rightIcon", "style", "textStyle", "onPress"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var SIZE_CONFIGS = {
  sm: {
    paddingHorizontal: _unifiedTheme.Theme.spacing.lg,
    paddingVertical: _unifiedTheme.Theme.spacing.sm,
    fontSize: _unifiedTheme.Theme.typography.fontSize.sm,
    borderRadius: _unifiedTheme.Theme.borderRadius.md,
    minHeight: 36,
    iconSize: 16
  },
  md: {
    paddingHorizontal: _unifiedTheme.Theme.spacing.xl,
    paddingVertical: _unifiedTheme.Theme.spacing.md,
    fontSize: _unifiedTheme.Theme.typography.fontSize.base,
    borderRadius: _unifiedTheme.Theme.borderRadius.lg,
    minHeight: 44,
    iconSize: 20
  },
  lg: {
    paddingHorizontal: _unifiedTheme.Theme.spacing["2xl"],
    paddingVertical: _unifiedTheme.Theme.spacing.lg,
    fontSize: _unifiedTheme.Theme.typography.fontSize.lg,
    borderRadius: _unifiedTheme.Theme.borderRadius.xl,
    minHeight: 52,
    iconSize: 24
  },
  xl: {
    paddingHorizontal: _unifiedTheme.Theme.spacing["3xl"],
    paddingVertical: _unifiedTheme.Theme.spacing.xl,
    fontSize: _unifiedTheme.Theme.typography.fontSize.xl,
    borderRadius: _unifiedTheme.Theme.borderRadius["2xl"],
    minHeight: 60,
    iconSize: 28
  }
};
var BaseButton = (0, _react.forwardRef)(function (_ref, ref) {
  var title = _ref.title,
    _ref$variant = _ref.variant,
    variant = _ref$variant === void 0 ? "primary" : _ref$variant,
    _ref$size = _ref.size,
    size = _ref$size === void 0 ? "md" : _ref$size,
    _ref$loading = _ref.loading,
    loading = _ref$loading === void 0 ? false : _ref$loading,
    _ref$disabled = _ref.disabled,
    disabled = _ref$disabled === void 0 ? false : _ref$disabled,
    icon = _ref.icon,
    leftIcon = _ref.leftIcon,
    rightIcon = _ref.rightIcon,
    style = _ref.style,
    textStyle = _ref.textStyle,
    onPress = _ref.onPress,
    props = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  var effectiveLeftIcon = icon || leftIcon;
  var sizeConfig = SIZE_CONFIGS[size];
  var isDisabled = disabled || loading;
  var getVariantStyles = function getVariantStyles() {
    var baseStyles = {
      borderRadius: sizeConfig.borderRadius,
      minHeight: sizeConfig.minHeight,
      alignItems: "center",
      justifyContent: "center",
      flexDirection: "row",
      overflow: "hidden"
    };
    switch (variant) {
      case "primary":
        return _objectSpread(_objectSpread({}, baseStyles), {}, {
          backgroundColor: _unifiedTheme.Theme.semantic.interactive.primary
        }, _unifiedTheme.Theme.shadows.depth.sm);
      case "secondary":
        return _objectSpread(_objectSpread({}, baseStyles), {}, {
          backgroundColor: _unifiedTheme.Theme.semantic.interactive.secondary
        }, _unifiedTheme.Theme.shadows.depth.sm);
      case "ghost":
        return _objectSpread(_objectSpread({}, baseStyles), {}, {
          backgroundColor: "transparent"
        });
      case "outline":
        return _objectSpread(_objectSpread({}, baseStyles), {}, {
          backgroundColor: "transparent",
          borderWidth: 2,
          borderColor: _unifiedTheme.Theme.semantic.interactive.primary
        });
      default:
        return baseStyles;
    }
  };
  var getTextStyles = function getTextStyles() {
    var baseTextStyles = {
      fontSize: sizeConfig.fontSize,
      fontWeight: _unifiedTheme.Theme.typography.fontWeight.semibold,
      textAlign: "center"
    };
    switch (variant) {
      case "primary":
      case "secondary":
        return _objectSpread(_objectSpread({}, baseTextStyles), {}, {
          color: _unifiedTheme.Theme.colors.text.inverse
        });
      case "ghost":
      case "outline":
        return _objectSpread(_objectSpread({}, baseTextStyles), {}, {
          color: _unifiedTheme.Theme.semantic.interactive.primary
        });
      default:
        return _objectSpread(_objectSpread({}, baseTextStyles), {}, {
          color: _unifiedTheme.Theme.colors.text.primary
        });
    }
  };
  var getIconColor = function getIconColor() {
    switch (variant) {
      case "primary":
      case "secondary":
        return _unifiedTheme.Theme.colors.text.inverse;
      case "ghost":
      case "outline":
        return _unifiedTheme.Theme.semantic.interactive.primary;
      default:
        return _unifiedTheme.Theme.colors.text.primary;
    }
  };
  var handlePress = function handlePress() {
    if (isDisabled) return;
    onPress == null ? void 0 : onPress();
  };
  var renderContent = function renderContent() {
    if (loading) {
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: styles.loadingContainer,
        children: [(0, _jsxRuntime.jsx)(_reactNative.ActivityIndicator, {
          size: "small",
          color: getIconColor()
        }), (0, _jsxRuntime.jsx)(_reactNative.Text, {
          style: _reactNative.StyleSheet.flatten([getTextStyles(), {
            marginLeft: _unifiedTheme.Theme.spacing.sm
          }]),
          children: "Loading..."
        })]
      });
    }
    return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
      children: [effectiveLeftIcon && (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
        name: effectiveLeftIcon,
        size: sizeConfig.iconSize,
        color: getIconColor(),
        style: {
          marginRight: _unifiedTheme.Theme.spacing.sm
        }
      }), (0, _jsxRuntime.jsx)(_reactNative.Text, {
        style: _reactNative.StyleSheet.flatten([getTextStyles(), textStyle]),
        children: title
      }), rightIcon && (0, _jsxRuntime.jsx)(_vectorIcons.Ionicons, {
        name: rightIcon,
        size: sizeConfig.iconSize,
        color: getIconColor(),
        style: {
          marginLeft: _unifiedTheme.Theme.spacing.sm
        }
      })]
    });
  };
  return (0, _jsxRuntime.jsx)(_reactNative.TouchableOpacity, _objectSpread(_objectSpread({
    ref: ref,
    style: _reactNative.StyleSheet.flatten([getVariantStyles(), {
      paddingHorizontal: sizeConfig.paddingHorizontal,
      paddingVertical: sizeConfig.paddingVertical,
      opacity: isDisabled ? 0.6 : 1
    }, style]),
    onPress: handlePress,
    disabled: isDisabled,
    activeOpacity: 0.8,
    accessibilityRole: "button",
    accessibilityLabel: title,
    accessibilityState: {
      disabled: isDisabled,
      busy: loading
    }
  }, props), {}, {
    children: renderContent()
  }));
});
var styles = _reactNative.StyleSheet.create({
  loadingContainer: {
    flexDirection: "row",
    alignItems: "center",
    justifyContent: "center"
  }
});
BaseButton.displayName = "BaseButton";
var _default = exports.default = BaseButton;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdmVjdG9ySWNvbnMiLCJyZXF1aXJlIiwiX3JlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfcmVhY3ROYXRpdmUiLCJfdW5pZmllZFRoZW1lIiwiX2pzeFJ1bnRpbWUiLCJfZXhjbHVkZWQiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiU0laRV9DT05GSUdTIiwic20iLCJwYWRkaW5nSG9yaXpvbnRhbCIsIlRoZW1lIiwic3BhY2luZyIsImxnIiwicGFkZGluZ1ZlcnRpY2FsIiwiZm9udFNpemUiLCJ0eXBvZ3JhcGh5IiwiYm9yZGVyUmFkaXVzIiwibWQiLCJtaW5IZWlnaHQiLCJpY29uU2l6ZSIsInhsIiwiYmFzZSIsIkJhc2VCdXR0b24iLCJmb3J3YXJkUmVmIiwiX3JlZiIsInJlZiIsInRpdGxlIiwiX3JlZiR2YXJpYW50IiwidmFyaWFudCIsIl9yZWYkc2l6ZSIsInNpemUiLCJfcmVmJGxvYWRpbmciLCJsb2FkaW5nIiwiX3JlZiRkaXNhYmxlZCIsImRpc2FibGVkIiwiaWNvbiIsImxlZnRJY29uIiwicmlnaHRJY29uIiwic3R5bGUiLCJ0ZXh0U3R5bGUiLCJvblByZXNzIiwicHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiZWZmZWN0aXZlTGVmdEljb24iLCJzaXplQ29uZmlnIiwiaXNEaXNhYmxlZCIsImdldFZhcmlhbnRTdHlsZXMiLCJiYXNlU3R5bGVzIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiZmxleERpcmVjdGlvbiIsIm92ZXJmbG93IiwiYmFja2dyb3VuZENvbG9yIiwic2VtYW50aWMiLCJpbnRlcmFjdGl2ZSIsInByaW1hcnkiLCJzaGFkb3dzIiwiZGVwdGgiLCJzZWNvbmRhcnkiLCJib3JkZXJXaWR0aCIsImJvcmRlckNvbG9yIiwiZ2V0VGV4dFN0eWxlcyIsImJhc2VUZXh0U3R5bGVzIiwiZm9udFdlaWdodCIsInNlbWlib2xkIiwidGV4dEFsaWduIiwiY29sb3IiLCJjb2xvcnMiLCJ0ZXh0IiwiaW52ZXJzZSIsImdldEljb25Db2xvciIsImhhbmRsZVByZXNzIiwicmVuZGVyQ29udGVudCIsImpzeHMiLCJWaWV3Iiwic3R5bGVzIiwibG9hZGluZ0NvbnRhaW5lciIsImNoaWxkcmVuIiwianN4IiwiQWN0aXZpdHlJbmRpY2F0b3IiLCJUZXh0IiwiU3R5bGVTaGVldCIsImZsYXR0ZW4iLCJtYXJnaW5MZWZ0IiwiRnJhZ21lbnQiLCJJb25pY29ucyIsIm5hbWUiLCJtYXJnaW5SaWdodCIsIlRvdWNoYWJsZU9wYWNpdHkiLCJvcGFjaXR5IiwiYWN0aXZlT3BhY2l0eSIsImFjY2Vzc2liaWxpdHlSb2xlIiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwiYWNjZXNzaWJpbGl0eVN0YXRlIiwiYnVzeSIsImNyZWF0ZSIsImRpc3BsYXlOYW1lIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiQmFzZUJ1dHRvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQUk9KRUNUIEhZUEVSSU9OOiBCQVNFIEJVVFRPTiBDT01QT05FTlRcbiAqXG4gKiBGb3VuZGF0aW9uYWwgYnV0dG9uIGNvbXBvbmVudCB0aGF0IG9ubHkgaGFuZGxlczpcbiAqIC0gQmFzaWMgcHJlc3MgZXZlbnRzIGFuZCBzdHlsaW5nXG4gKiAtIExvYWRpbmcgYW5kIGRpc2FibGVkIHN0YXRlc1xuICogLSBUaGVtZS1iYXNlZCBzdHlsaW5nXG4gKiAtIEFjY2Vzc2liaWxpdHkgc3VwcG9ydFxuICpcbiAqIFRoaXMgZm9sbG93cyB0aGUgU2luZ2xlIFJlc3BvbnNpYmlsaXR5IFByaW5jaXBsZSAtIG5vIHZpc3VhbCBlZmZlY3RzIGhlcmUuXG4gKi9cblxuaW1wb3J0IHsgSW9uaWNvbnMgfSBmcm9tIFwiQGV4cG8vdmVjdG9yLWljb25zXCI7XG5pbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgVG91Y2hhYmxlT3BhY2l0eSxcbiAgVGV4dCxcbiAgQWN0aXZpdHlJbmRpY2F0b3IsXG4gIFZpZXcsXG4gIFN0eWxlU2hlZXQsXG4gIHR5cGUgVG91Y2hhYmxlT3BhY2l0eVByb3BzLFxuICB0eXBlIFRleHRTdHlsZSxcbiAgdHlwZSBWaWV3U3R5bGUsXG59IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcblxuaW1wb3J0IHsgVGhlbWUgfSBmcm9tIFwiLi4vLi4vdGhlbWUvdW5pZmllZC10aGVtZVwiO1xuXG4vLyA9PT0gVFlQRVMgPT09XG5leHBvcnQgdHlwZSBCdXR0b25WYXJpYW50ID0gXCJwcmltYXJ5XCIgfCBcInNlY29uZGFyeVwiIHwgXCJnaG9zdFwiIHwgXCJvdXRsaW5lXCI7XG5leHBvcnQgdHlwZSBCdXR0b25TaXplID0gXCJzbVwiIHwgXCJtZFwiIHwgXCJsZ1wiIHwgXCJ4bFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VCdXR0b25Qcm9wcyBleHRlbmRzIFRvdWNoYWJsZU9wYWNpdHlQcm9wcyB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHZhcmlhbnQ/OiBCdXR0b25WYXJpYW50O1xuICBzaXplPzogQnV0dG9uU2l6ZTtcbiAgbG9hZGluZz86IGJvb2xlYW47XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgaWNvbj86IHN0cmluZztcbiAgbGVmdEljb24/OiBzdHJpbmc7XG4gIHJpZ2h0SWNvbj86IHN0cmluZztcbiAgc3R5bGU/OiBWaWV3U3R5bGU7XG4gIHRleHRTdHlsZT86IFRleHRTdHlsZTtcbiAgb25QcmVzcz86ICgpID0+IHZvaWQ7XG59XG5cbi8vID09PSBTSVpFIENPTkZJR1VSQVRJT05TID09PVxuY29uc3QgU0laRV9DT05GSUdTID0ge1xuICBzbToge1xuICAgIHBhZGRpbmdIb3Jpem9udGFsOiBUaGVtZS5zcGFjaW5nLmxnLFxuICAgIHBhZGRpbmdWZXJ0aWNhbDogVGhlbWUuc3BhY2luZy5zbSxcbiAgICBmb250U2l6ZTogVGhlbWUudHlwb2dyYXBoeS5mb250U2l6ZS5zbSxcbiAgICBib3JkZXJSYWRpdXM6IFRoZW1lLmJvcmRlclJhZGl1cy5tZCxcbiAgICBtaW5IZWlnaHQ6IDM2LFxuICAgIGljb25TaXplOiAxNixcbiAgfSxcbiAgbWQ6IHtcbiAgICBwYWRkaW5nSG9yaXpvbnRhbDogVGhlbWUuc3BhY2luZy54bCxcbiAgICBwYWRkaW5nVmVydGljYWw6IFRoZW1lLnNwYWNpbmcubWQsXG4gICAgZm9udFNpemU6IFRoZW1lLnR5cG9ncmFwaHkuZm9udFNpemUuYmFzZSxcbiAgICBib3JkZXJSYWRpdXM6IFRoZW1lLmJvcmRlclJhZGl1cy5sZyxcbiAgICBtaW5IZWlnaHQ6IDQ0LFxuICAgIGljb25TaXplOiAyMCxcbiAgfSxcbiAgbGc6IHtcbiAgICBwYWRkaW5nSG9yaXpvbnRhbDogVGhlbWUuc3BhY2luZ1tcIjJ4bFwiXSxcbiAgICBwYWRkaW5nVmVydGljYWw6IFRoZW1lLnNwYWNpbmcubGcsXG4gICAgZm9udFNpemU6IFRoZW1lLnR5cG9ncmFwaHkuZm9udFNpemUubGcsXG4gICAgYm9yZGVyUmFkaXVzOiBUaGVtZS5ib3JkZXJSYWRpdXMueGwsXG4gICAgbWluSGVpZ2h0OiA1MixcbiAgICBpY29uU2l6ZTogMjQsXG4gIH0sXG4gIHhsOiB7XG4gICAgcGFkZGluZ0hvcml6b250YWw6IFRoZW1lLnNwYWNpbmdbXCIzeGxcIl0sXG4gICAgcGFkZGluZ1ZlcnRpY2FsOiBUaGVtZS5zcGFjaW5nLnhsLFxuICAgIGZvbnRTaXplOiBUaGVtZS50eXBvZ3JhcGh5LmZvbnRTaXplLnhsLFxuICAgIGJvcmRlclJhZGl1czogVGhlbWUuYm9yZGVyUmFkaXVzW1wiMnhsXCJdLFxuICAgIG1pbkhlaWdodDogNjAsXG4gICAgaWNvblNpemU6IDI4LFxuICB9LFxufSBhcyBjb25zdDtcblxuLy8gPT09IE1BSU4gQ09NUE9ORU5UID09PVxuY29uc3QgQmFzZUJ1dHRvbiA9IGZvcndhcmRSZWY8VG91Y2hhYmxlT3BhY2l0eSwgQmFzZUJ1dHRvblByb3BzPihcbiAgKFxuICAgIHtcbiAgICAgIHRpdGxlLFxuICAgICAgdmFyaWFudCA9IFwicHJpbWFyeVwiLFxuICAgICAgc2l6ZSA9IFwibWRcIixcbiAgICAgIGxvYWRpbmcgPSBmYWxzZSxcbiAgICAgIGRpc2FibGVkID0gZmFsc2UsXG4gICAgICBpY29uLFxuICAgICAgbGVmdEljb24sXG4gICAgICByaWdodEljb24sXG4gICAgICBzdHlsZSxcbiAgICAgIHRleHRTdHlsZSxcbiAgICAgIG9uUHJlc3MsXG4gICAgICAuLi5wcm9wc1xuICAgIH0sXG4gICAgcmVmLFxuICApID0+IHtcbiAgICAvLyBNYXAgaWNvbiB0byBsZWZ0SWNvbiBmb3IgY29udmVuaWVuY2VcbiAgICBjb25zdCBlZmZlY3RpdmVMZWZ0SWNvbiA9IGljb24gfHwgbGVmdEljb247XG4gICAgY29uc3Qgc2l6ZUNvbmZpZyA9IFNJWkVfQ09ORklHU1tzaXplXTtcbiAgICBjb25zdCBpc0Rpc2FibGVkID0gZGlzYWJsZWQgfHwgbG9hZGluZztcblxuICAgIC8vIEdldCB2YXJpYW50IHN0eWxlc1xuICAgIGNvbnN0IGdldFZhcmlhbnRTdHlsZXMgPSAoKTogVmlld1N0eWxlID0+IHtcbiAgICAgIGNvbnN0IGJhc2VTdHlsZXM6IFZpZXdTdHlsZSA9IHtcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBzaXplQ29uZmlnLmJvcmRlclJhZGl1cyxcbiAgICAgICAgbWluSGVpZ2h0OiBzaXplQ29uZmlnLm1pbkhlaWdodCxcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgfTtcblxuICAgICAgc3dpdGNoICh2YXJpYW50KSB7XG4gICAgICAgIGNhc2UgXCJwcmltYXJ5XCI6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmJhc2VTdHlsZXMsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFRoZW1lLnNlbWFudGljLmludGVyYWN0aXZlLnByaW1hcnksXG4gICAgICAgICAgICAuLi5UaGVtZS5zaGFkb3dzLmRlcHRoLnNtLFxuICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJzZWNvbmRhcnlcIjpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uYmFzZVN0eWxlcyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogVGhlbWUuc2VtYW50aWMuaW50ZXJhY3RpdmUuc2Vjb25kYXJ5LFxuICAgICAgICAgICAgLi4uVGhlbWUuc2hhZG93cy5kZXB0aC5zbSxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwiZ2hvc3RcIjpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uYmFzZVN0eWxlcyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJvdXRsaW5lXCI6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmJhc2VTdHlsZXMsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6IFRoZW1lLnNlbWFudGljLmludGVyYWN0aXZlLnByaW1hcnksXG4gICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gYmFzZVN0eWxlcztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gR2V0IHRleHQgc3R5bGVzXG4gICAgY29uc3QgZ2V0VGV4dFN0eWxlcyA9ICgpOiBUZXh0U3R5bGUgPT4ge1xuICAgICAgY29uc3QgYmFzZVRleHRTdHlsZXM6IFRleHRTdHlsZSA9IHtcbiAgICAgICAgZm9udFNpemU6IHNpemVDb25maWcuZm9udFNpemUsXG4gICAgICAgIGZvbnRXZWlnaHQ6IFRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodC5zZW1pYm9sZCxcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgfTtcblxuICAgICAgc3dpdGNoICh2YXJpYW50KSB7XG4gICAgICAgIGNhc2UgXCJwcmltYXJ5XCI6XG4gICAgICAgIGNhc2UgXCJzZWNvbmRhcnlcIjpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uYmFzZVRleHRTdHlsZXMsXG4gICAgICAgICAgICBjb2xvcjogVGhlbWUuY29sb3JzLnRleHQuaW52ZXJzZSxcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwiZ2hvc3RcIjpcbiAgICAgICAgY2FzZSBcIm91dGxpbmVcIjpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uYmFzZVRleHRTdHlsZXMsXG4gICAgICAgICAgICBjb2xvcjogVGhlbWUuc2VtYW50aWMuaW50ZXJhY3RpdmUucHJpbWFyeSxcbiAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5iYXNlVGV4dFN0eWxlcyxcbiAgICAgICAgICAgIGNvbG9yOiBUaGVtZS5jb2xvcnMudGV4dC5wcmltYXJ5LFxuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEdldCBpY29uIGNvbG9yXG4gICAgY29uc3QgZ2V0SWNvbkNvbG9yID0gKCk6IHN0cmluZyA9PiB7XG4gICAgICBzd2l0Y2ggKHZhcmlhbnQpIHtcbiAgICAgICAgY2FzZSBcInByaW1hcnlcIjpcbiAgICAgICAgY2FzZSBcInNlY29uZGFyeVwiOlxuICAgICAgICAgIHJldHVybiBUaGVtZS5jb2xvcnMudGV4dC5pbnZlcnNlO1xuICAgICAgICBjYXNlIFwiZ2hvc3RcIjpcbiAgICAgICAgY2FzZSBcIm91dGxpbmVcIjpcbiAgICAgICAgICByZXR1cm4gVGhlbWUuc2VtYW50aWMuaW50ZXJhY3RpdmUucHJpbWFyeTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gVGhlbWUuY29sb3JzLnRleHQucHJpbWFyeTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHByZXNzXG4gICAgY29uc3QgaGFuZGxlUHJlc3MgPSAoKSA9PiB7XG4gICAgICBpZiAoaXNEaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgb25QcmVzcz8uKCk7XG4gICAgfTtcblxuICAgIC8vIFJlbmRlciBjb250ZW50XG4gICAgY29uc3QgcmVuZGVyQ29udGVudCA9ICgpID0+IHtcbiAgICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5sb2FkaW5nQ29udGFpbmVyfT5cbiAgICAgICAgICAgIDxBY3Rpdml0eUluZGljYXRvciBzaXplPVwic21hbGxcIiBjb2xvcj17Z2V0SWNvbkNvbG9yKCl9IC8+XG4gICAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtcbiAgICAgICAgICAgICAgICBnZXRUZXh0U3R5bGVzKCksXG4gICAgICAgICAgICAgICAgeyBtYXJnaW5MZWZ0OiBUaGVtZS5zcGFjaW5nLnNtIH0sXG4gICAgICAgICAgICAgIF0pfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBMb2FkaW5nLi4uXG4gICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgIHtlZmZlY3RpdmVMZWZ0SWNvbiAmJiAoXG4gICAgICAgICAgICA8SW9uaWNvbnNcbiAgICAgICAgICAgICAgbmFtZT17ZWZmZWN0aXZlTGVmdEljb259XG4gICAgICAgICAgICAgIHNpemU9e3NpemVDb25maWcuaWNvblNpemV9XG4gICAgICAgICAgICAgIGNvbG9yPXtnZXRJY29uQ29sb3IoKX1cbiAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6IFRoZW1lLnNwYWNpbmcuc20gfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8VGV4dCBzdHlsZT17U3R5bGVTaGVldC5mbGF0dGVuKFtnZXRUZXh0U3R5bGVzKCksIHRleHRTdHlsZV0pfT5cbiAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAge3JpZ2h0SWNvbiAmJiAoXG4gICAgICAgICAgICA8SW9uaWNvbnNcbiAgICAgICAgICAgICAgbmFtZT17cmlnaHRJY29ufVxuICAgICAgICAgICAgICBzaXplPXtzaXplQ29uZmlnLmljb25TaXplfVxuICAgICAgICAgICAgICBjb2xvcj17Z2V0SWNvbkNvbG9yKCl9XG4gICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpbkxlZnQ6IFRoZW1lLnNwYWNpbmcuc20gfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC8+XG4gICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFRvdWNoYWJsZU9wYWNpdHlcbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmZsYXR0ZW4oW1xuICAgICAgICAgIGdldFZhcmlhbnRTdHlsZXMoKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBwYWRkaW5nSG9yaXpvbnRhbDogc2l6ZUNvbmZpZy5wYWRkaW5nSG9yaXpvbnRhbCxcbiAgICAgICAgICAgIHBhZGRpbmdWZXJ0aWNhbDogc2l6ZUNvbmZpZy5wYWRkaW5nVmVydGljYWwsXG4gICAgICAgICAgICBvcGFjaXR5OiBpc0Rpc2FibGVkID8gMC42IDogMSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0eWxlLFxuICAgICAgICBdKX1cbiAgICAgICAgb25QcmVzcz17aGFuZGxlUHJlc3N9XG4gICAgICAgIGRpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICBhY3RpdmVPcGFjaXR5PXswLjh9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlSb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXt0aXRsZX1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVN0YXRlPXt7IGRpc2FibGVkOiBpc0Rpc2FibGVkLCBidXN5OiBsb2FkaW5nIH19XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgID5cbiAgICAgICAge3JlbmRlckNvbnRlbnQoKX1cbiAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAgICApO1xuICB9LFxuKTtcblxuLy8gPT09IFNUWUxFUyA9PT1cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgbG9hZGluZ0NvbnRhaW5lcjoge1xuICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgfSxcbn0pO1xuXG4vLyBEaXNwbGF5IG5hbWUgZm9yIGRlYnVnZ2luZ1xuQmFzZUJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiQmFzZUJ1dHRvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBCYXNlQnV0dG9uO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFZQSxJQUFBQSxZQUFBLEdB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