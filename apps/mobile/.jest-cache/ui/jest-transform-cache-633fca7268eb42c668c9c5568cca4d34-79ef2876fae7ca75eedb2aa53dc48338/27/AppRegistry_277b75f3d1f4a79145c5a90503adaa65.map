{"version":3,"names":["_BatchedBridge","_interopRequireDefault","require","_BugReporting","_createPerformanceLogger","_infoLog","_SceneTracker","_DisplayMode","_HeadlessJsTaskError","_NativeHeadlessJsTaskSupport","_renderApplication","_RendererProxy","_invariant","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","default","getOwnPropertyDescriptors","defineProperties","defineProperty","runnables","runCount","sections","taskProviders","Map","taskCancelProviders","componentProviderInstrumentationHook","component","wrapperComponentProvider","showArchitectureIndicator","AppRegistry","setWrapperComponentProvider","provider","enableArchitectureIndicator","enabled","registerConfig","config","appConfig","run","registerRunnable","appKey","invariant","registerComponent","section","componentProvider","scopedPerformanceLogger","createPerformanceLogger","appParameters","displayMode","_appParameters$initia","concurrentRootEnabled","initialProps","concurrentRoot","renderApplication","rootTag","fabric","coerceDisplayMode","registerSection","getAppKeys","getSectionKeys","getSections","getRunnable","getRegistry","setComponentProviderInstrumentationHook","hook","runApplication","logParams","__DEV__","JSON","stringify","msg","infoLog","BugReporting","addSource","SceneTracker","setActiveScene","name","setSurfaceProps","unmountApplicationComponentAtRootTag","unmountComponentAtNodeAndRemoveContainer","registerHeadlessTask","taskKey","taskProvider","registerCancellableHeadlessTask","taskCancelProvider","has","console","warn","set","startHeadlessTask","taskId","data","get","NativeHeadlessJsTaskSupport","notifyTaskFinished","then","catch","reason","error","HeadlessJsTaskError","notifyTaskRetry","retryPosted","cancelHeadlessTask","Error","global","RN$Bridgeless","BatchedBridge","registerCallableModule","NoOp","module","exports"],"sources":["AppRegistry.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\nimport type {RootTag} from '../Types/RootTagTypes';\nimport type {IPerformanceLogger} from '../Utilities/createPerformanceLogger';\n\nimport BatchedBridge from '../BatchedBridge/BatchedBridge';\nimport BugReporting from '../BugReporting/BugReporting';\nimport createPerformanceLogger from '../Utilities/createPerformanceLogger';\nimport infoLog from '../Utilities/infoLog';\nimport SceneTracker from '../Utilities/SceneTracker';\nimport {coerceDisplayMode} from './DisplayMode';\nimport HeadlessJsTaskError from './HeadlessJsTaskError';\nimport NativeHeadlessJsTaskSupport from './NativeHeadlessJsTaskSupport';\nimport renderApplication from './renderApplication';\nimport {unmountComponentAtNodeAndRemoveContainer} from './RendererProxy';\nimport invariant from 'invariant';\n\ntype Task = (taskData: any) => Promise<void>;\nexport type TaskProvider = () => Task;\ntype TaskCanceller = () => void;\ntype TaskCancelProvider = () => TaskCanceller;\n\nexport type ComponentProvider = () => React$ComponentType<any>;\nexport type ComponentProviderInstrumentationHook = (\n  component: ComponentProvider,\n  scopedPerformanceLogger: IPerformanceLogger,\n) => React$ComponentType<any>;\nexport type AppConfig = {\n  appKey: string,\n  component?: ComponentProvider,\n  run?: Function,\n  section?: boolean,\n  ...\n};\nexport type Runnable = {\n  component?: ComponentProvider,\n  run: Function,\n  ...\n};\nexport type Runnables = {[appKey: string]: Runnable, ...};\nexport type Registry = {\n  sections: Array<string>,\n  runnables: Runnables,\n  ...\n};\nexport type WrapperComponentProvider = (\n  appParameters: any,\n) => React$ComponentType<any>;\n\nconst runnables: Runnables = {};\nlet runCount = 1;\nconst sections: Runnables = {};\nconst taskProviders: Map<string, TaskProvider> = new Map();\nconst taskCancelProviders: Map<string, TaskCancelProvider> = new Map();\nlet componentProviderInstrumentationHook: ComponentProviderInstrumentationHook =\n  (component: ComponentProvider) => component();\n\nlet wrapperComponentProvider: ?WrapperComponentProvider;\nlet showArchitectureIndicator = false;\n\n/**\n * `AppRegistry` is the JavaScript entry point to running all React Native apps.\n *\n * See https://reactnative.dev/docs/appregistry\n */\nconst AppRegistry = {\n  setWrapperComponentProvider(provider: WrapperComponentProvider) {\n    wrapperComponentProvider = provider;\n  },\n\n  enableArchitectureIndicator(enabled: boolean): void {\n    showArchitectureIndicator = enabled;\n  },\n\n  registerConfig(config: Array<AppConfig>): void {\n    config.forEach(appConfig => {\n      if (appConfig.run) {\n        AppRegistry.registerRunnable(appConfig.appKey, appConfig.run);\n      } else {\n        invariant(\n          appConfig.component != null,\n          'AppRegistry.registerConfig(...): Every config is expected to set ' +\n            'either `run` or `component`, but `%s` has neither.',\n          appConfig.appKey,\n        );\n        AppRegistry.registerComponent(\n          appConfig.appKey,\n          appConfig.component,\n          appConfig.section,\n        );\n      }\n    });\n  },\n\n  /**\n   * Registers an app's root component.\n   *\n   * See https://reactnative.dev/docs/appregistry#registercomponent\n   */\n  registerComponent(\n    appKey: string,\n    componentProvider: ComponentProvider,\n    section?: boolean,\n  ): string {\n    let scopedPerformanceLogger = createPerformanceLogger();\n    runnables[appKey] = {\n      componentProvider,\n      run: (appParameters, displayMode) => {\n        const concurrentRootEnabled =\n          appParameters.initialProps?.concurrentRoot ||\n          appParameters.concurrentRoot;\n        renderApplication(\n          componentProviderInstrumentationHook(\n            componentProvider,\n            scopedPerformanceLogger,\n          ),\n          appParameters.initialProps,\n          appParameters.rootTag,\n          wrapperComponentProvider && wrapperComponentProvider(appParameters),\n          appParameters.fabric,\n          showArchitectureIndicator,\n          scopedPerformanceLogger,\n          appKey === 'LogBox',\n          appKey,\n          coerceDisplayMode(displayMode),\n          concurrentRootEnabled,\n        );\n      },\n    };\n    if (section) {\n      sections[appKey] = runnables[appKey];\n    }\n    return appKey;\n  },\n\n  registerRunnable(appKey: string, run: Function): string {\n    runnables[appKey] = {run};\n    return appKey;\n  },\n\n  registerSection(appKey: string, component: ComponentProvider): void {\n    AppRegistry.registerComponent(appKey, component, true);\n  },\n\n  getAppKeys(): Array<string> {\n    return Object.keys(runnables);\n  },\n\n  getSectionKeys(): Array<string> {\n    return Object.keys(sections);\n  },\n\n  getSections(): Runnables {\n    return {\n      ...sections,\n    };\n  },\n\n  getRunnable(appKey: string): ?Runnable {\n    return runnables[appKey];\n  },\n\n  getRegistry(): Registry {\n    return {\n      sections: AppRegistry.getSectionKeys(),\n      runnables: {...runnables},\n    };\n  },\n\n  setComponentProviderInstrumentationHook(\n    hook: ComponentProviderInstrumentationHook,\n  ) {\n    componentProviderInstrumentationHook = hook;\n  },\n\n  /**\n   * Loads the JavaScript bundle and runs the app.\n   *\n   * See https://reactnative.dev/docs/appregistry#runapplication\n   */\n  runApplication(\n    appKey: string,\n    appParameters: any,\n    displayMode?: number,\n  ): void {\n    if (appKey !== 'LogBox') {\n      const logParams = __DEV__\n        ? '\" with ' + JSON.stringify(appParameters)\n        : '';\n      const msg = 'Running \"' + appKey + logParams;\n      infoLog(msg);\n      BugReporting.addSource(\n        'AppRegistry.runApplication' + runCount++,\n        () => msg,\n      );\n    }\n    invariant(\n      runnables[appKey] && runnables[appKey].run,\n      `\"${appKey}\" has not been registered. This can happen if:\\n` +\n        '* Metro (the local dev server) is run from the wrong folder. ' +\n        'Check if Metro is running, stop it and restart it in the current project.\\n' +\n        \"* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called.\",\n    );\n\n    SceneTracker.setActiveScene({name: appKey});\n    runnables[appKey].run(appParameters, displayMode);\n  },\n\n  /**\n   * Update initial props for a surface that's already rendered\n   */\n  setSurfaceProps(\n    appKey: string,\n    appParameters: any,\n    displayMode?: number,\n  ): void {\n    if (appKey !== 'LogBox') {\n      const msg =\n        'Updating props for Surface \"' +\n        appKey +\n        '\" with ' +\n        JSON.stringify(appParameters);\n      infoLog(msg);\n      BugReporting.addSource(\n        'AppRegistry.setSurfaceProps' + runCount++,\n        () => msg,\n      );\n    }\n    invariant(\n      runnables[appKey] && runnables[appKey].run,\n      `\"${appKey}\" has not been registered. This can happen if:\\n` +\n        '* Metro (the local dev server) is run from the wrong folder. ' +\n        'Check if Metro is running, stop it and restart it in the current project.\\n' +\n        \"* A module failed to load due to an error and `AppRegistry.registerComponent` wasn't called.\",\n    );\n\n    runnables[appKey].run(appParameters, displayMode);\n  },\n\n  /**\n   * Stops an application when a view should be destroyed.\n   *\n   * See https://reactnative.dev/docs/appregistry#unmountapplicationcomponentatroottag\n   */\n  unmountApplicationComponentAtRootTag(rootTag: RootTag): void {\n    unmountComponentAtNodeAndRemoveContainer(rootTag);\n  },\n\n  /**\n   * Register a headless task. A headless task is a bit of code that runs without a UI.\n   *\n   * See https://reactnative.dev/docs/appregistry#registerheadlesstask\n   */\n  registerHeadlessTask(taskKey: string, taskProvider: TaskProvider): void {\n    // $FlowFixMe[object-this-reference]\n    this.registerCancellableHeadlessTask(taskKey, taskProvider, () => () => {\n      /* Cancel is no-op */\n    });\n  },\n\n  /**\n   * Register a cancellable headless task. A headless task is a bit of code that runs without a UI.\n   *\n   * See https://reactnative.dev/docs/appregistry#registercancellableheadlesstask\n   */\n  registerCancellableHeadlessTask(\n    taskKey: string,\n    taskProvider: TaskProvider,\n    taskCancelProvider: TaskCancelProvider,\n  ): void {\n    if (taskProviders.has(taskKey)) {\n      console.warn(\n        `registerHeadlessTask or registerCancellableHeadlessTask called multiple times for same key '${taskKey}'`,\n      );\n    }\n    taskProviders.set(taskKey, taskProvider);\n    taskCancelProviders.set(taskKey, taskCancelProvider);\n  },\n\n  /**\n   * Only called from native code. Starts a headless task.\n   *\n   * See https://reactnative.dev/docs/appregistry#startheadlesstask\n   */\n  startHeadlessTask(taskId: number, taskKey: string, data: any): void {\n    const taskProvider = taskProviders.get(taskKey);\n    if (!taskProvider) {\n      console.warn(`No task registered for key ${taskKey}`);\n      if (NativeHeadlessJsTaskSupport) {\n        NativeHeadlessJsTaskSupport.notifyTaskFinished(taskId);\n      }\n      return;\n    }\n    taskProvider()(data)\n      .then(() => {\n        if (NativeHeadlessJsTaskSupport) {\n          NativeHeadlessJsTaskSupport.notifyTaskFinished(taskId);\n        }\n      })\n      .catch(reason => {\n        console.error(reason);\n\n        if (\n          NativeHeadlessJsTaskSupport &&\n          reason instanceof HeadlessJsTaskError\n        ) {\n          // $FlowFixMe[unused-promise]\n          NativeHeadlessJsTaskSupport.notifyTaskRetry(taskId).then(\n            retryPosted => {\n              if (!retryPosted) {\n                NativeHeadlessJsTaskSupport.notifyTaskFinished(taskId);\n              }\n            },\n          );\n        }\n      });\n  },\n\n  /**\n   * Only called from native code. Cancels a headless task.\n   *\n   * See https://reactnative.dev/docs/appregistry#cancelheadlesstask\n   */\n  cancelHeadlessTask(taskId: number, taskKey: string): void {\n    const taskCancelProvider = taskCancelProviders.get(taskKey);\n    if (!taskCancelProvider) {\n      throw new Error(`No task canceller registered for key '${taskKey}'`);\n    }\n    taskCancelProvider()();\n  },\n};\n\nif (!(global.RN$Bridgeless === true)) {\n  BatchedBridge.registerCallableModule('AppRegistry', AppRegistry);\n\n  AppRegistry.registerComponent('LogBox', () => {\n    if (__DEV__) {\n      return require('../LogBox/LogBoxInspectorContainer').default;\n    } else {\n      return function NoOp() {\n        return null;\n      };\n    }\n  });\n}\n\nmodule.exports = AppRegistry;\n"],"mappings":"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","ignoreList":[]}