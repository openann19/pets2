{"version":3,"names":["Object","defineProperty","exports","value","getLocalStorageValue","removeLocalStorageValue","setLocalStorageValue","removeEventListenerSafely","addEventListenerSafely","redirectTo","getGeolocation","getLocalStorage","getNavigatorObject","getDocumentElement","getDocumentObject","getWindowObject","isBrowserEnvironment","isWindowAvailable","window","document","_browserWindow$docume","browserWindow","_documentElement","_ref","documentElement","_browserWindow$naviga","navigator","localStorage","_unused","_geolocation","_ref2","geolocation","href","location","target","type","listener","options","isEventListenerTarget","addEventListener","removeEventListener","key","storage","setItem","removeItem","_storage$getItem","getItem"],"sources":["environment.js"],"sourcesContent":["\"use strict\";\n/// <reference lib=\"dom\" />\n/**\n * Environment detection helpers to safely access browser-only APIs.\n *\n * Note: This file uses DOM types via triple-slash reference\n * but guards all DOM access with runtime checks for Node safety\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLocalStorageValue = exports.removeLocalStorageValue = exports.setLocalStorageValue = exports.removeEventListenerSafely = exports.addEventListenerSafely = exports.redirectTo = exports.getGeolocation = exports.getLocalStorage = exports.getNavigatorObject = exports.getDocumentElement = exports.getDocumentObject = exports.getWindowObject = exports.isBrowserEnvironment = void 0;\nconst isWindowAvailable = () => typeof window !== 'undefined';\nconst isBrowserEnvironment = () => isWindowAvailable() && typeof document !== 'undefined';\nexports.isBrowserEnvironment = isBrowserEnvironment;\nconst getWindowObject = () => (isWindowAvailable() ? window : null);\nexports.getWindowObject = getWindowObject;\nconst getDocumentObject = () => {\n    const browserWindow = (0, exports.getWindowObject)();\n    return browserWindow?.document ?? null;\n};\nexports.getDocumentObject = getDocumentObject;\nconst getDocumentElement = () => (0, exports.getDocumentObject)()?.documentElement ?? null;\nexports.getDocumentElement = getDocumentElement;\nconst getNavigatorObject = () => {\n    const browserWindow = (0, exports.getWindowObject)();\n    return browserWindow?.navigator ?? null;\n};\nexports.getNavigatorObject = getNavigatorObject;\nconst getLocalStorage = () => {\n    const browserWindow = (0, exports.getWindowObject)();\n    if (browserWindow == null) {\n        return null;\n    }\n    try {\n        return browserWindow.localStorage;\n    }\n    catch {\n        return null;\n    }\n};\nexports.getLocalStorage = getLocalStorage;\nconst getGeolocation = () => (0, exports.getNavigatorObject)()?.geolocation ?? null;\nexports.getGeolocation = getGeolocation;\nconst redirectTo = (href) => {\n    const browserWindow = (0, exports.getWindowObject)();\n    if (browserWindow != null) {\n        browserWindow.location.href = href;\n    }\n};\nexports.redirectTo = redirectTo;\nconst addEventListenerSafely = (target, type, listener, options) => {\n    if (isEventListenerTarget(target)) {\n        target.addEventListener(type, listener, options);\n    }\n};\nexports.addEventListenerSafely = addEventListenerSafely;\nconst removeEventListenerSafely = (target, type, listener, options) => {\n    if (isEventListenerTarget(target)) {\n        target.removeEventListener(type, listener, options);\n    }\n};\nexports.removeEventListenerSafely = removeEventListenerSafely;\nconst setLocalStorageValue = (key, value) => {\n    const storage = (0, exports.getLocalStorage)();\n    if (storage != null) {\n        storage.setItem(key, value);\n    }\n};\nexports.setLocalStorageValue = setLocalStorageValue;\nconst removeLocalStorageValue = (key) => {\n    const storage = (0, exports.getLocalStorage)();\n    if (storage != null) {\n        storage.removeItem(key);\n    }\n};\nexports.removeLocalStorageValue = removeLocalStorageValue;\nconst getLocalStorageValue = (key) => {\n    const storage = (0, exports.getLocalStorage)();\n    return storage?.getItem(key) ?? null;\n};\nexports.getLocalStorageValue = getLocalStorageValue;\nconst isEventListenerTarget = (target) => {\n    return (typeof target === 'object' &&\n        target !== null &&\n        'addEventListener' in target &&\n        typeof target.addEventListener === 'function' &&\n        'removeEventListener' in target &&\n        typeof target.removeEventListener === 'function');\n};\n"],"mappings":"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","ignoreList":[]}