{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","GLYPHS","_worklet_1145890008131_init_data","code","location","sourceMap","_worklet_1256343299839_init_data","SendSparkle","exports","forwardRef","_ref","ref","_ref$count","count","_ref$size","size","_ref$duration","duration","_ref$colors","colors","style","items","useMemo","Array","from","length","_","glyph","color","x","useSharedValue","y","s","burst","_e","global","Error","_f","spread","forEach","p","cancelAnimation","angle","Math","random","PI","radius","dx","cos","dy","abs","sin","value","withSpring","damping","stiffness","withTiming","withDelay","_closure","__initData","__workletHash","__stackDetails","__version","useImperativeHandle","jsx","View","pointerEvents","styles","wrap","children","map","sty","useAnimatedStyle","transform","translateX","translateY","rotate","scale","opacity","Text","fontSize","StyleSheet","create","position","right","bottom","width","height","left","top","textShadowColor","textShadowOffset","textShadowRadius","_default"],"sources":["SendSparkle.tsx"],"sourcesContent":["import React, { forwardRef, useImperativeHandle, useMemo } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport Animated, {\n  cancelAnimation,\n  useAnimatedStyle,\n  useSharedValue,\n  withDelay,\n  withSpring,\n  withTiming,\n} from \"react-native-reanimated\";\n\nexport type SendSparkleHandle = { burst: () => void };\n\ninterface SendSparkleProps {\n  count?: number;          // number of particles\n  size?: number;           // base font size\n  duration?: number;       // ms until particles fade\n  colors?: string[];       // text colors to pick from\n  style?: any;             // wrapper style (position:relative recommended)\n}\n\nconst GLYPHS = [\"✦\", \"✧\", \"✺\", \"✨\"];\n\nexport const SendSparkle = forwardRef<SendSparkleHandle, SendSparkleProps>(\n  (\n    {\n      count = 10,\n      size = 14,\n      duration = 450,\n      colors = [\"#ffffff\", \"#fde047\", \"#f472b6\", \"#60a5fa\"],\n      style,\n    },\n    ref,\n  ) => {\n    const items = useMemo(\n      () =>\n        Array.from({ length: count }, (_, i) => ({\n          i,\n          glyph: GLYPHS[i % GLYPHS.length],\n          color: colors[i % colors.length],\n          // animated fields\n          x: useSharedValue(0),\n          y: useSharedValue(0),\n          s: useSharedValue(0),\n          o: useSharedValue(0),\n          r: useSharedValue(0),\n        })),\n      [count, colors],\n    );\n\n    const burst = () => {\n      \"worklet\";\n      const spread = 34; // px\n      items.forEach((p) => {\n        cancelAnimation(p.x);\n        cancelAnimation(p.y);\n        cancelAnimation(p.s);\n        cancelAnimation(p.o);\n        cancelAnimation(p.r);\n\n        // random radial fan\n        const angle = (Math.random() * Math.PI * 2);\n        const radius = spread * (0.4 + Math.random() * 1);\n        const dx = Math.cos(angle) * radius;\n        const dy = -Math.abs(Math.sin(angle) * radius); // bias upward\n\n        p.x.value = 0;\n        p.y.value = 0;\n        p.s.value = 0;\n        p.o.value = 0;\n        p.r.value = 0;\n\n        p.s.value = withSpring(1, { damping: 12, stiffness: 240 });\n        p.o.value = withTiming(1, { duration: 80 });\n        p.x.value = withSpring(dx, { damping: 16, stiffness: 160 });\n        p.y.value = withSpring(dy, { damping: 16, stiffness: 160 });\n        p.r.value = withSpring((Math.random() > 0.5 ? 1 : -1) * (10 + Math.random() * 25));\n\n        // fade out + shrink\n        p.o.value = withDelay(120, withTiming(0, { duration }));\n        p.s.value = withDelay(120, withTiming(0.2, { duration }));\n      });\n    };\n\n    useImperativeHandle(ref, () => ({ burst }), [items]);\n\n    return (\n      <View pointerEvents=\"none\" style={[styles.wrap, style]}>\n        {items.map((p) => {\n          const sty = useAnimatedStyle(() => ({\n            transform: [\n              { translateX: p.x.value },\n              { translateY: p.y.value },\n              { rotate: `${p.r.value}deg` },\n              { scale: p.s.value },\n            ],\n            opacity: p.o.value,\n          }));\n          return (\n            <Animated.Text\n              key={p.i}\n              style={[styles.glyph, sty, { fontSize: size, color: p.color }]}\n            >\n              {p.glyph}\n            </Animated.Text>\n          );\n        })}\n      </View>\n    );\n  },\n);\n\nconst styles = StyleSheet.create({\n  wrap: { position: \"absolute\", right: 0, bottom: 0, width: 0, height: 0 },\n  glyph: {\n    position: \"absolute\",\n    left: -6,\n    top: -6,\n    textShadowColor: \"rgba(0,0,0,0.25)\",\n    textShadowOffset: { width: 0, height: 1 },\n    textShadowRadius: 2,\n  },\n});\n\nexport default SendSparkle;\n\n"],"mappings":"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","ignoreList":[]}