36f96cc5bd7597fe504924f7558401a2
"use strict";

_getJestObj().mock("@react-navigation/native", function () {
  return {
    useNavigation: function useNavigation() {
      return mockNavigation;
    }
  };
});
_getJestObj().mock("../../domains/onboarding/useUserIntent", function () {
  return {
    useUserIntent: function useUserIntent() {
      return {
        intents: mockIntents,
        selectedIntent: null,
        isNavigating: false,
        selectIntent: mockSelectIntent,
        confirmIntent: mockConfirmIntent,
        isValidSelection: false
      };
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactNative = require("@testing-library/react-native");
var _useUserIntentScreen = require("../useUserIntentScreen");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockNavigate = jest.fn();
var mockGoBack = jest.fn();
var mockNavigation = {
  navigate: mockNavigate,
  goBack: mockGoBack
};
var mockSelectIntent = jest.fn();
var mockConfirmIntent = jest.fn();
var mockIntents = [{
  id: "find_match",
  title: "Find a Match",
  description: "Find a pet for mine"
}, {
  id: "find_home",
  title: "Find a Home",
  description: "Find a home for my pet"
}, {
  id: "browse",
  title: "Just Browsing",
  description: "Looking around"
}];
describe("useUserIntentScreen", function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it("should initialize with intents data", function () {
    var _renderHook = (0, _reactNative.renderHook)(function () {
        return (0, _useUserIntentScreen.useUserIntentScreen)();
      }),
      result = _renderHook.result;
    expect(result.current.intents).toHaveLength(3);
    expect(result.current.selectedIntent).toBe(null);
    expect(result.current.isNavigating).toBe(false);
    expect(result.current.isValidSelection).toBe(false);
  });
  it("should provide intent selection function", function () {
    var _renderHook2 = (0, _reactNative.renderHook)(function () {
        return (0, _useUserIntentScreen.useUserIntentScreen)();
      }),
      result = _renderHook2.result;
    (0, _reactNative.act)(function () {
      result.current.selectIntent("find_match");
    });
    expect(mockSelectIntent).toHaveBeenCalledWith("find_match");
  });
  it("should not navigate when selection is invalid", (0, _asyncToGenerator2.default)(function* () {
    var _renderHook3 = (0, _reactNative.renderHook)(function () {
        return (0, _useUserIntentScreen.useUserIntentScreen)();
      }),
      result = _renderHook3.result;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.handleContinue();
    }));
    expect(mockConfirmIntent).not.toHaveBeenCalled();
    expect(mockNavigate).not.toHaveBeenCalled();
  }));
  it("should navigate when selection is valid", (0, _asyncToGenerator2.default)(function* () {
    _getJestObj().mock("../../domains/onboarding/useUserIntent", function () {
      return {
        useUserIntent: function useUserIntent() {
          return {
            intents: mockIntents,
            selectedIntent: "find_match",
            isNavigating: false,
            selectIntent: mockSelectIntent,
            confirmIntent: mockConfirmIntent.mockResolvedValue("find_match"),
            isValidSelection: true
          };
        }
      };
    });
    jest.resetModules();
    mockConfirmIntent.mockResolvedValue("find_match");
    var _renderHook4 = (0, _reactNative.renderHook)(function () {
        return (0, _useUserIntentScreen.useUserIntentScreen)();
      }),
      result = _renderHook4.result;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.handleContinue();
    }));
    expect(mockConfirmIntent).toHaveBeenCalled();
    expect(mockNavigate).toHaveBeenCalledWith("PetProfileSetup", {
      userIntent: "find_match"
    });
  }));
  it("should handle navigation back", function () {
    var _renderHook5 = (0, _reactNative.renderHook)(function () {
        return (0, _useUserIntentScreen.useUserIntentScreen)();
      }),
      result = _renderHook5.result;
    (0, _reactNative.act)(function () {
      result.current.handleGoBack();
    });
    expect(mockGoBack).toHaveBeenCalledTimes(1);
  });
  it("should handle confirmation errors gracefully", (0, _asyncToGenerator2.default)(function* () {
    _getJestObj().mock("../../domains/onboarding/useUserIntent", function () {
      return {
        useUserIntent: function useUserIntent() {
          return {
            intents: mockIntents,
            selectedIntent: "find_match",
            isNavigating: false,
            selectIntent: mockSelectIntent,
            confirmIntent: mockConfirmIntent,
            isValidSelection: true
          };
        }
      };
    });
    jest.resetModules();
    mockConfirmIntent.mockRejectedValue(new Error("Network error"));
    var _renderHook6 = (0, _reactNative.renderHook)(function () {
        return (0, _useUserIntentScreen.useUserIntentScreen)();
      }),
      result = _renderHook6.result;
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.handleContinue();
    }));
    expect(mockConfirmIntent).toHaveBeenCalled();
    expect(mockNavigate).not.toHaveBeenCalled();
  }));
  it("should provide all intents data", function () {
    var _renderHook7 = (0, _reactNative.renderHook)(function () {
        return (0, _useUserIntentScreen.useUserIntentScreen)();
      }),
      result = _renderHook7.result;
    expect(result.current.intents).toEqual(mockIntents);
    expect(result.current.intents[0].id).toBe("find_match");
    expect(result.current.intents[1].id).toBe("find_home");
    expect(result.current.intents[2].id).toBe("browse");
  });
  it("should expose navigation state", function () {
    var _renderHook8 = (0, _reactNative.renderHook)(function () {
        return (0, _useUserIntentScreen.useUserIntentScreen)();
      }),
      result = _renderHook8.result;
    expect(result.current.isNavigating).toBe(false);
  });
  it("should return stable function references", function () {
    var _renderHook9 = (0, _reactNative.renderHook)(function () {
        return (0, _useUserIntentScreen.useUserIntentScreen)();
      }),
      result = _renderHook9.result,
      rerender = _renderHook9.rerender;
    var firstSelectIntent = result.current.selectIntent;
    var firstHandleContinue = result.current.handleContinue;
    var firstHandleGoBack = result.current.handleGoBack;
    rerender();
    expect(result.current.selectIntent).toBe(firstSelectIntent);
    expect(result.current.handleContinue).toBe(firstHandleContinue);
    expect(result.current.handleGoBack).toBe(firstHandleGoBack);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VOYXZpZ2F0aW9uIiwibW9ja05hdmlnYXRpb24iLCJ1c2VVc2VySW50ZW50IiwiaW50ZW50cyIsIm1vY2tJbnRlbnRzIiwic2VsZWN0ZWRJbnRlbnQiLCJpc05hdmlnYXRpbmciLCJzZWxlY3RJbnRlbnQiLCJtb2NrU2VsZWN0SW50ZW50IiwiY29uZmlybUludGVudCIsIm1vY2tDb25maXJtSW50ZW50IiwiaXNWYWxpZFNlbGVjdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlYWN0TmF0aXZlIiwiX3VzZVVzZXJJbnRlbnRTY3JlZW4iLCJfcmVxdWlyZSIsImplc3QiLCJtb2NrTmF2aWdhdGUiLCJmbiIsIm1vY2tHb0JhY2siLCJuYXZpZ2F0ZSIsImdvQmFjayIsImlkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIl9yZW5kZXJIb29rIiwicmVuZGVySG9vayIsInVzZVVzZXJJbnRlbnRTY3JlZW4iLCJyZXN1bHQiLCJleHBlY3QiLCJjdXJyZW50IiwidG9IYXZlTGVuZ3RoIiwidG9CZSIsIl9yZW5kZXJIb29rMiIsImFjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiZGVmYXVsdCIsIl9yZW5kZXJIb29rMyIsImhhbmRsZUNvbnRpbnVlIiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwicmVzZXRNb2R1bGVzIiwiX3JlbmRlckhvb2s0IiwidXNlckludGVudCIsIl9yZW5kZXJIb29rNSIsImhhbmRsZUdvQmFjayIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJfcmVuZGVySG9vazYiLCJfcmVuZGVySG9vazciLCJ0b0VxdWFsIiwiX3JlbmRlckhvb2s4IiwiX3JlbmRlckhvb2s5IiwicmVyZW5kZXIiLCJmaXJzdFNlbGVjdEludGVudCIsImZpcnN0SGFuZGxlQ29udGludWUiLCJmaXJzdEhhbmRsZUdvQmFjayJdLCJzb3VyY2VzIjpbInVzZVVzZXJJbnRlbnRTY3JlZW4udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBqZXN0LWVudmlyb25tZW50IGpzZG9tXG4gKi9cbmltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCwgd2FpdEZvciB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZVwiO1xuaW1wb3J0IHsgdXNlVXNlckludGVudFNjcmVlbiB9IGZyb20gXCIuLi91c2VVc2VySW50ZW50U2NyZWVuXCI7XG5cbi8vIE1vY2sgbmF2aWdhdGlvblxuY29uc3QgbW9ja05hdmlnYXRlID0gamVzdC5mbigpO1xuY29uc3QgbW9ja0dvQmFjayA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tOYXZpZ2F0aW9uID0ge1xuICBuYXZpZ2F0ZTogbW9ja05hdmlnYXRlLFxuICBnb0JhY2s6IG1vY2tHb0JhY2ssXG59IGFzIGFueTtcblxuamVzdC5tb2NrKFwiQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlXCIsICgpID0+ICh7XG4gIHVzZU5hdmlnYXRpb246ICgpID0+IG1vY2tOYXZpZ2F0aW9uLFxufSkpO1xuXG4vLyBNb2NrIGRvbWFpbiBob29rXG5jb25zdCBtb2NrU2VsZWN0SW50ZW50ID0gamVzdC5mbigpO1xuY29uc3QgbW9ja0NvbmZpcm1JbnRlbnQgPSBqZXN0LmZuKCk7XG5cbmNvbnN0IG1vY2tJbnRlbnRzID0gW1xuICB7XG4gICAgaWQ6IFwiZmluZF9tYXRjaFwiLFxuICAgIHRpdGxlOiBcIkZpbmQgYSBNYXRjaFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkZpbmQgYSBwZXQgZm9yIG1pbmVcIixcbiAgfSxcbiAge1xuICAgIGlkOiBcImZpbmRfaG9tZVwiLFxuICAgIHRpdGxlOiBcIkZpbmQgYSBIb21lXCIsXG4gICAgZGVzY3JpcHRpb246IFwiRmluZCBhIGhvbWUgZm9yIG15IHBldFwiLFxuICB9LFxuICB7IGlkOiBcImJyb3dzZVwiLCB0aXRsZTogXCJKdXN0IEJyb3dzaW5nXCIsIGRlc2NyaXB0aW9uOiBcIkxvb2tpbmcgYXJvdW5kXCIgfSxcbl07XG5cbmplc3QubW9jayhcIi4uLy4uL2RvbWFpbnMvb25ib2FyZGluZy91c2VVc2VySW50ZW50XCIsICgpID0+ICh7XG4gIHVzZVVzZXJJbnRlbnQ6ICgpID0+ICh7XG4gICAgaW50ZW50czogbW9ja0ludGVudHMsXG4gICAgc2VsZWN0ZWRJbnRlbnQ6IG51bGwsXG4gICAgaXNOYXZpZ2F0aW5nOiBmYWxzZSxcbiAgICBzZWxlY3RJbnRlbnQ6IG1vY2tTZWxlY3RJbnRlbnQsXG4gICAgY29uZmlybUludGVudDogbW9ja0NvbmZpcm1JbnRlbnQsXG4gICAgaXNWYWxpZFNlbGVjdGlvbjogZmFsc2UsXG4gIH0pLFxufSkpO1xuXG5kZXNjcmliZShcInVzZVVzZXJJbnRlbnRTY3JlZW5cIiwgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgaXQoXCJzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGludGVudHMgZGF0YVwiLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlVXNlckludGVudFNjcmVlbigpKTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pbnRlbnRzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdGVkSW50ZW50KS50b0JlKG51bGwpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc05hdmlnYXRpbmcpLnRvQmUoZmFsc2UpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pc1ZhbGlkU2VsZWN0aW9uKS50b0JlKGZhbHNlKTtcbiAgfSk7XG5cbiAgaXQoXCJzaG91bGQgcHJvdmlkZSBpbnRlbnQgc2VsZWN0aW9uIGZ1bmN0aW9uXCIsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VVc2VySW50ZW50U2NyZWVuKCkpO1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNlbGVjdEludGVudChcImZpbmRfbWF0Y2hcIik7XG4gICAgfSk7XG5cbiAgICBleHBlY3QobW9ja1NlbGVjdEludGVudCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCJmaW5kX21hdGNoXCIpO1xuICB9KTtcblxuICBpdChcInNob3VsZCBub3QgbmF2aWdhdGUgd2hlbiBzZWxlY3Rpb24gaXMgaW52YWxpZFwiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlVXNlckludGVudFNjcmVlbigpKTtcblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5oYW5kbGVDb250aW51ZSgpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KG1vY2tDb25maXJtSW50ZW50KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIGV4cGVjdChtb2NrTmF2aWdhdGUpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIG5hdmlnYXRlIHdoZW4gc2VsZWN0aW9uIGlzIHZhbGlkXCIsIGFzeW5jICgpID0+IHtcbiAgICAvLyBNb2NrIHZhbGlkIHNlbGVjdGlvblxuICAgIGplc3QucmVzZXRNb2R1bGVzKCk7XG4gICAgamVzdC5tb2NrKFwiLi4vLi4vZG9tYWlucy9vbmJvYXJkaW5nL3VzZVVzZXJJbnRlbnRcIiwgKCkgPT4gKHtcbiAgICAgIHVzZVVzZXJJbnRlbnQ6ICgpID0+ICh7XG4gICAgICAgIGludGVudHM6IG1vY2tJbnRlbnRzLFxuICAgICAgICBzZWxlY3RlZEludGVudDogXCJmaW5kX21hdGNoXCIsXG4gICAgICAgIGlzTmF2aWdhdGluZzogZmFsc2UsXG4gICAgICAgIHNlbGVjdEludGVudDogbW9ja1NlbGVjdEludGVudCxcbiAgICAgICAgY29uZmlybUludGVudDogbW9ja0NvbmZpcm1JbnRlbnQubW9ja1Jlc29sdmVkVmFsdWUoXCJmaW5kX21hdGNoXCIpLFxuICAgICAgICBpc1ZhbGlkU2VsZWN0aW9uOiB0cnVlLFxuICAgICAgfSksXG4gICAgfSkpO1xuXG4gICAgbW9ja0NvbmZpcm1JbnRlbnQubW9ja1Jlc29sdmVkVmFsdWUoXCJmaW5kX21hdGNoXCIpO1xuXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlVXNlckludGVudFNjcmVlbigpKTtcblxuICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5oYW5kbGVDb250aW51ZSgpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KG1vY2tDb25maXJtSW50ZW50KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgZXhwZWN0KG1vY2tOYXZpZ2F0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCJQZXRQcm9maWxlU2V0dXBcIiwge1xuICAgICAgdXNlckludGVudDogXCJmaW5kX21hdGNoXCIsXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIGhhbmRsZSBuYXZpZ2F0aW9uIGJhY2tcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVVzZXJJbnRlbnRTY3JlZW4oKSk7XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQuaGFuZGxlR29CYWNrKCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QobW9ja0dvQmFjaykudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICB9KTtcblxuICBpdChcInNob3VsZCBoYW5kbGUgY29uZmlybWF0aW9uIGVycm9ycyBncmFjZWZ1bGx5XCIsIGFzeW5jICgpID0+IHtcbiAgICAvLyBNb2NrIHZhbGlkIHNlbGVjdGlvbiBidXQgZXJyb3Igb24gY29uZmlybWF0aW9uXG4gICAgamVzdC5yZXNldE1vZHVsZXMoKTtcbiAgICBtb2NrQ29uZmlybUludGVudC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoXCJOZXR3b3JrIGVycm9yXCIpKTtcblxuICAgIGplc3QubW9jayhcIi4uLy4uL2RvbWFpbnMvb25ib2FyZGluZy91c2VVc2VySW50ZW50XCIsICgpID0+ICh7XG4gICAgICB1c2VVc2VySW50ZW50OiAoKSA9PiAoe1xuICAgICAgICBpbnRlbnRzOiBtb2NrSW50ZW50cyxcbiAgICAgICAgc2VsZWN0ZWRJbnRlbnQ6IFwiZmluZF9tYXRjaFwiLFxuICAgICAgICBpc05hdmlnYXRpbmc6IGZhbHNlLFxuICAgICAgICBzZWxlY3RJbnRlbnQ6IG1vY2tTZWxlY3RJbnRlbnQsXG4gICAgICAgIGNvbmZpcm1JbnRlbnQ6IG1vY2tDb25maXJtSW50ZW50LFxuICAgICAgICBpc1ZhbGlkU2VsZWN0aW9uOiB0cnVlLFxuICAgICAgfSksXG4gICAgfSkpO1xuXG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlVXNlckludGVudFNjcmVlbigpKTtcblxuICAgIC8vIFNob3VsZCBub3QgdGhyb3dcbiAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ29udGludWUoKTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChtb2NrQ29uZmlybUludGVudCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIGV4cGVjdChtb2NrTmF2aWdhdGUpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIHByb3ZpZGUgYWxsIGludGVudHMgZGF0YVwiLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlVXNlckludGVudFNjcmVlbigpKTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5pbnRlbnRzKS50b0VxdWFsKG1vY2tJbnRlbnRzKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuaW50ZW50c1swXS5pZCkudG9CZShcImZpbmRfbWF0Y2hcIik7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmludGVudHNbMV0uaWQpLnRvQmUoXCJmaW5kX2hvbWVcIik7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmludGVudHNbMl0uaWQpLnRvQmUoXCJicm93c2VcIik7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIGV4cG9zZSBuYXZpZ2F0aW9uIHN0YXRlXCIsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VVc2VySW50ZW50U2NyZWVuKCkpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmlzTmF2aWdhdGluZykudG9CZShmYWxzZSk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIHJldHVybiBzdGFibGUgZnVuY3Rpb24gcmVmZXJlbmNlc1wiLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQsIHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVVzZXJJbnRlbnRTY3JlZW4oKSk7XG5cbiAgICBjb25zdCBmaXJzdFNlbGVjdEludGVudCA9IHJlc3VsdC5jdXJyZW50LnNlbGVjdEludGVudDtcbiAgICBjb25zdCBmaXJzdEhhbmRsZUNvbnRpbnVlID0gcmVzdWx0LmN1cnJlbnQuaGFuZGxlQ29udGludWU7XG4gICAgY29uc3QgZmlyc3RIYW5kbGVHb0JhY2sgPSByZXN1bHQuY3VycmVudC5oYW5kbGVHb0JhY2s7XG5cbiAgICByZXJlbmRlcigpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnNlbGVjdEludGVudCkudG9CZShmaXJzdFNlbGVjdEludGVudCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmhhbmRsZUNvbnRpbnVlKS50b0JlKGZpcnN0SGFuZGxlQ29udGludWUpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5oYW5kbGVHb0JhY2spLnRvQmUoZmlyc3RIYW5kbGVHb0JhY2spO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQWNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQywwQkFBMEIsRUFBRTtFQUFBLE9BQU87SUFDM0NDLGFBQWEsRUFBRSxTQUFmQSxhQUFhQSxDQUFBO01BQUEsT0FBUUMsY0FBYztJQUFBO0VBQ3JDLENBQUM7QUFBQSxDQUFDLENBQUM7QUFvQkhILFdBQUEsR0FBS0MsSUFBSSwyQ0FBMkM7RUFBQSxPQUFPO0lBQ3pERyxhQUFhLEVBQUUsU0FBZkEsYUFBYUEsQ0FBQTtNQUFBLE9BQVM7UUFDcEJDLE9BQU8sRUFBRUMsV0FBVztRQUNwQkMsY0FBYyxFQUFFLElBQUk7UUFDcEJDLFlBQVksRUFBRSxLQUFLO1FBQ25CQyxZQUFZLEVBQUVDLGdCQUFnQjtRQUM5QkMsYUFBYSxFQUFFQyxpQkFBaUI7UUFDaENDLGdCQUFnQixFQUFFO01BQ3BCLENBQUM7SUFBQTtFQUNILENBQUM7QUFBQSxDQUFDLENBQUM7QUFBQyxJQUFBQyxzQkFBQSxHQUFBQyxPQUFBO0FBQUEsSUFBQUMsa0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQTFDSixJQUFBRSxZQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxvQkFBQSxHQUFBSCxPQUFBO0FBQTZELFNBQUFmLFlBQUE7RUFBQSxJQUFBbUIsUUFBQSxHQUFBSixPQUFBO0lBQUFLLElBQUEsR0FBQUQsUUFBQSxDQUFBQyxJQUFBO0VBQUFwQixXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBb0IsSUFBQTtFQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBRzdELElBQU1DLFlBQVksR0FBR0QsSUFBSSxDQUFDRSxFQUFFLENBQUMsQ0FBQztBQUM5QixJQUFNQyxVQUFVLEdBQUdILElBQUksQ0FBQ0UsRUFBRSxDQUFDLENBQUM7QUFDNUIsSUFBTW5CLGNBQWMsR0FBRztFQUNyQnFCLFFBQVEsRUFBRUgsWUFBWTtFQUN0QkksTUFBTSxFQUFFRjtBQUNWLENBQVE7QUFPUixJQUFNYixnQkFBZ0IsR0FBR1UsSUFBSSxDQUFDRSxFQUFFLENBQUMsQ0FBQztBQUNsQyxJQUFNVixpQkFBaUIsR0FBR1EsSUFBSSxDQUFDRSxFQUFFLENBQUMsQ0FBQztBQUVuQyxJQUFNaEIsV0FBVyxHQUFHLENBQ2xCO0VBQ0VvQixFQUFFLEVBQUUsWUFBWTtFQUNoQkMsS0FBSyxFQUFFLGNBQWM7RUFDckJDLFdBQVcsRUFBRTtBQUNmLENBQUMsRUFDRDtFQUNFRixFQUFFLEVBQUUsV0FBVztFQUNmQyxLQUFLLEVBQUUsYUFBYTtFQUNwQkMsV0FBVyxFQUFFO0FBQ2YsQ0FBQyxFQUNEO0VBQUVGLEVBQUUsRUFBRSxRQUFRO0VBQUVDLEtBQUssRUFBRSxlQUFlO0VBQUVDLFdBQVcsRUFBRTtBQUFpQixDQUFDLENBQ3hFO0FBYURDLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxZQUFNO0VBQ3BDQyxVQUFVLENBQUMsWUFBTTtJQUNmVixJQUFJLENBQUNXLGFBQWEsQ0FBQyxDQUFDO0VBQ3RCLENBQUMsQ0FBQztFQUVGQyxFQUFFLENBQUMscUNBQXFDLEVBQUUsWUFBTTtJQUM5QyxJQUFBQyxXQUFBLEdBQW1CLElBQUFDLHVCQUFVLEVBQUM7UUFBQSxPQUFNLElBQUFDLHdDQUFtQixFQUFDLENBQUM7TUFBQSxFQUFDO01BQWxEQyxNQUFNLEdBQUFILFdBQUEsQ0FBTkcsTUFBTTtJQUVkQyxNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDakMsT0FBTyxDQUFDLENBQUNrQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBQzlDRixNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDL0IsY0FBYyxDQUFDLENBQUNpQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2hESCxNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDOUIsWUFBWSxDQUFDLENBQUNnQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQy9DSCxNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDekIsZ0JBQWdCLENBQUMsQ0FBQzJCLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDckQsQ0FBQyxDQUFDO0VBRUZSLEVBQUUsQ0FBQywwQ0FBMEMsRUFBRSxZQUFNO0lBQ25ELElBQUFTLFlBQUEsR0FBbUIsSUFBQVAsdUJBQVUsRUFBQztRQUFBLE9BQU0sSUFBQUMsd0NBQW1CLEVBQUMsQ0FBQztNQUFBLEVBQUM7TUFBbERDLE1BQU0sR0FBQUssWUFBQSxDQUFOTCxNQUFNO0lBRWQsSUFBQU0sZ0JBQUcsRUFBQyxZQUFNO01BQ1JOLE1BQU0sQ0FBQ0UsT0FBTyxDQUFDN0IsWUFBWSxDQUFDLFlBQVksQ0FBQztJQUMzQyxDQUFDLENBQUM7SUFFRjRCLE1BQU0sQ0FBQzNCLGdCQUFnQixDQUFDLENBQUNpQyxvQkFBb0IsQ0FBQyxZQUFZLENBQUM7RUFDN0QsQ0FBQyxDQUFDO0VBRUZYLEVBQUUsQ0FBQywrQ0FBK0MsTUFBQWhCLGtCQUFBLENBQUE0QixPQUFBLEVBQUUsYUFBWTtJQUM5RCxJQUFBQyxZQUFBLEdBQW1CLElBQUFYLHVCQUFVLEVBQUM7UUFBQSxPQUFNLElBQUFDLHdDQUFtQixFQUFDLENBQUM7TUFBQSxFQUFDO01BQWxEQyxNQUFNLEdBQUFTLFlBQUEsQ0FBTlQsTUFBTTtJQUVkLE1BQU0sSUFBQU0sZ0JBQUcsTUFBQTFCLGtCQUFBLENBQUE0QixPQUFBLEVBQUMsYUFBWTtNQUNwQixNQUFNUixNQUFNLENBQUNFLE9BQU8sQ0FBQ1EsY0FBYyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxFQUFDO0lBRUZULE1BQU0sQ0FBQ3pCLGlCQUFpQixDQUFDLENBQUNtQyxHQUFHLENBQUNDLGdCQUFnQixDQUFDLENBQUM7SUFDaERYLE1BQU0sQ0FBQ2hCLFlBQVksQ0FBQyxDQUFDMEIsR0FBRyxDQUFDQyxnQkFBZ0IsQ0FBQyxDQUFDO0VBQzdDLENBQUMsRUFBQztFQUVGaEIsRUFBRSxDQUFDLHlDQUF5QyxNQUFBaEIsa0JBQUEsQ0FBQTRCLE9BQUEsRUFBRSxhQUFZO0lBR3hENUMsV0FBQSxHQUFLQyxJQUFJLDJDQUEyQztNQUFBLE9BQU87UUFDekRHLGFBQWEsRUFBRSxTQUFmQSxhQUFhQSxDQUFBO1VBQUEsT0FBUztZQUNwQkMsT0FBTyxFQUFFQyxXQUFXO1lBQ3BCQyxjQUFjLEVBQUUsWUFBWTtZQUM1QkMsWUFBWSxFQUFFLEtBQUs7WUFDbkJDLFlBQVksRUFBRUMsZ0JBQWdCO1lBQzlCQyxhQUFhLEVBQUVDLGlCQUFpQixDQUFDcUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDO1lBQ2hFcEMsZ0JBQWdCLEVBQUU7VUFDcEIsQ0FBQztRQUFBO01BQ0gsQ0FBQztJQUFBLENBQUMsQ0FBQztJQVZITyxJQUFJLENBQUM4QixZQUFZLENBQUMsQ0FBQztJQVluQnRDLGlCQUFpQixDQUFDcUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDO0lBRWpELElBQUFFLFlBQUEsR0FBbUIsSUFBQWpCLHVCQUFVLEVBQUM7UUFBQSxPQUFNLElBQUFDLHdDQUFtQixFQUFDLENBQUM7TUFBQSxFQUFDO01BQWxEQyxNQUFNLEdBQUFlLFlBQUEsQ0FBTmYsTUFBTTtJQUVkLE1BQU0sSUFBQU0sZ0JBQUcsTUFBQTFCLGtCQUFBLENBQUE0QixPQUFBLEVBQUMsYUFBWTtNQUNwQixNQUFNUixNQUFNLENBQUNFLE9BQU8sQ0FBQ1EsY0FBYyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxFQUFDO0lBRUZULE1BQU0sQ0FBQ3pCLGlCQUFpQixDQUFDLENBQUNvQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzVDWCxNQUFNLENBQUNoQixZQUFZLENBQUMsQ0FBQ3NCLG9CQUFvQixDQUFDLGlCQUFpQixFQUFFO01BQzNEUyxVQUFVLEVBQUU7SUFDZCxDQUFDLENBQUM7RUFDSixDQUFDLEVBQUM7RUFFRnBCLEVBQUUsQ0FBQywrQkFBK0IsRUFBRSxZQUFNO0lBQ3hDLElBQUFxQixZQUFBLEdBQW1CLElBQUFuQix1QkFBVSxFQUFDO1FBQUEsT0FBTSxJQUFBQyx3Q0FBbUIsRUFBQyxDQUFDO01BQUEsRUFBQztNQUFsREMsTUFBTSxHQUFBaUIsWUFBQSxDQUFOakIsTUFBTTtJQUVkLElBQUFNLGdCQUFHLEVBQUMsWUFBTTtNQUNSTixNQUFNLENBQUNFLE9BQU8sQ0FBQ2dCLFlBQVksQ0FBQyxDQUFDO0lBQy9CLENBQUMsQ0FBQztJQUVGakIsTUFBTSxDQUFDZCxVQUFVLENBQUMsQ0FBQ2dDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztFQUM3QyxDQUFDLENBQUM7RUFFRnZCLEVBQUUsQ0FBQyw4Q0FBOEMsTUFBQWhCLGtCQUFBLENBQUE0QixPQUFBLEVBQUUsYUFBWTtJQUs3RDVDLFdBQUEsR0FBS0MsSUFBSSwyQ0FBMkM7TUFBQSxPQUFPO1FBQ3pERyxhQUFhLEVBQUUsU0FBZkEsYUFBYUEsQ0FBQTtVQUFBLE9BQVM7WUFDcEJDLE9BQU8sRUFBRUMsV0FBVztZQUNwQkMsY0FBYyxFQUFFLFlBQVk7WUFDNUJDLFlBQVksRUFBRSxLQUFLO1lBQ25CQyxZQUFZLEVBQUVDLGdCQUFnQjtZQUM5QkMsYUFBYSxFQUFFQyxpQkFBaUI7WUFDaENDLGdCQUFnQixFQUFFO1VBQ3BCLENBQUM7UUFBQTtNQUNILENBQUM7SUFBQSxDQUFDLENBQUM7SUFaSE8sSUFBSSxDQUFDOEIsWUFBWSxDQUFDLENBQUM7SUFDbkJ0QyxpQkFBaUIsQ0FBQzRDLGlCQUFpQixDQUFDLElBQUlDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztJQWEvRCxJQUFBQyxZQUFBLEdBQW1CLElBQUF4Qix1QkFBVSxFQUFDO1FBQUEsT0FBTSxJQUFBQyx3Q0FBbUIsRUFBQyxDQUFDO01BQUEsRUFBQztNQUFsREMsTUFBTSxHQUFBc0IsWUFBQSxDQUFOdEIsTUFBTTtJQUdkLE1BQU0sSUFBQU0sZ0JBQUcsTUFBQTFCLGtCQUFBLENBQUE0QixPQUFBLEVBQUMsYUFBWTtNQUNwQixNQUFNUixNQUFNLENBQUNFLE9BQU8sQ0FBQ1EsY0FBYyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxFQUFDO0lBRUZULE1BQU0sQ0FBQ3pCLGlCQUFpQixDQUFDLENBQUNvQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQzVDWCxNQUFNLENBQUNoQixZQUFZLENBQUMsQ0FBQzBCLEdBQUcsQ0FBQ0MsZ0JBQWdCLENBQUMsQ0FBQztFQUM3QyxDQUFDLEVBQUM7RUFFRmhCLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxZQUFNO0lBQzFDLElBQUEyQixZQUFBLEdBQW1CLElBQUF6Qix1QkFBVSxFQUFDO1FBQUEsT0FBTSxJQUFBQyx3Q0FBbUIsRUFBQyxDQUFDO01BQUEsRUFBQztNQUFsREMsTUFBTSxHQUFBdUIsWUFBQSxDQUFOdkIsTUFBTTtJQUVkQyxNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDakMsT0FBTyxDQUFDLENBQUN1RCxPQUFPLENBQUN0RCxXQUFXLENBQUM7SUFDbkQrQixNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDakMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDcUIsRUFBRSxDQUFDLENBQUNjLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDdkRILE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNqQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUNxQixFQUFFLENBQUMsQ0FBQ2MsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUN0REgsTUFBTSxDQUFDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQ2pDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQ3FCLEVBQUUsQ0FBQyxDQUFDYyxJQUFJLENBQUMsUUFBUSxDQUFDO0VBQ3JELENBQUMsQ0FBQztFQUVGUixFQUFFLENBQUMsZ0NBQWdDLEVBQUUsWUFBTTtJQUN6QyxJQUFBNkIsWUFBQSxHQUFtQixJQUFBM0IsdUJBQVUsRUFBQztRQUFBLE9BQU0sSUFBQUMsd0NBQW1CLEVBQUMsQ0FBQztNQUFBLEVBQUM7TUFBbERDLE1BQU0sR0FBQXlCLFlBQUEsQ0FBTnpCLE1BQU07SUFFZEMsTUFBTSxDQUFDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQzlCLFlBQVksQ0FBQyxDQUFDZ0MsSUFBSSxDQUFDLEtBQUssQ0FBQztFQUNqRCxDQUFDLENBQUM7RUFFRlIsRUFBRSxDQUFDLDBDQUEwQyxFQUFFLFlBQU07SUFDbkQsSUFBQThCLFlBQUEsR0FBNkIsSUFBQTVCLHVCQUFVLEVBQUM7UUFBQSxPQUFNLElBQUFDLHdDQUFtQixFQUFDLENBQUM7TUFBQSxFQUFDO01BQTVEQyxNQUFNLEdBQUEwQixZQUFBLENBQU4xQixNQUFNO01BQUUyQixRQUFRLEdBQUFELFlBQUEsQ0FBUkMsUUFBUTtJQUV4QixJQUFNQyxpQkFBaUIsR0FBRzVCLE1BQU0sQ0FBQ0UsT0FBTyxDQUFDN0IsWUFBWTtJQUNyRCxJQUFNd0QsbUJBQW1CLEdBQUc3QixNQUFNLENBQUNFLE9BQU8sQ0FBQ1EsY0FBYztJQUN6RCxJQUFNb0IsaUJBQWlCLEdBQUc5QixNQUFNLENBQUNFLE9BQU8sQ0FBQ2dCLFlBQVk7SUFFckRTLFFBQVEsQ0FBQyxDQUFDO0lBRVYxQixNQUFNLENBQUNELE1BQU0sQ0FBQ0UsT0FBTyxDQUFDN0IsWUFBWSxDQUFDLENBQUMrQixJQUFJLENBQUN3QixpQkFBaUIsQ0FBQztJQUMzRDNCLE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNRLGNBQWMsQ0FBQyxDQUFDTixJQUFJLENBQUN5QixtQkFBbUIsQ0FBQztJQUMvRDVCLE1BQU0sQ0FBQ0QsTUFBTSxDQUFDRSxPQUFPLENBQUNnQixZQUFZLENBQUMsQ0FBQ2QsSUFBSSxDQUFDMEIsaUJBQWlCLENBQUM7RUFDN0QsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119