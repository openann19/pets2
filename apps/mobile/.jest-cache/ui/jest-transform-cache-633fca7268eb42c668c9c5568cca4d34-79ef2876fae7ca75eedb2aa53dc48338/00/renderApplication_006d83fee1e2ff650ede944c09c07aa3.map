{"version":3,"names":["_GlobalPerformanceLogger","_interopRequireDefault","require","_PerformanceLoggerContext","_AppContainer","_DisplayMode","_getCachedComponentWithDebugName","Renderer","_interopRequireWildcard","_invariant","React","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","renderApplication","RootComponent","initialProps","rootTag","WrapperComponent","fabric","showArchitectureIndicator","scopedPerformanceLogger","isLogBox","debugName","displayMode","useConcurrentRoot","useOffscreen","invariant","performanceLogger","GlobalPerformanceLogger","renderable","jsx","Provider","value","children","freeze","internal_excludeLogBox","__DEV__","RootComponentWithMeaningfulName","getCachedComponentWithDebugName","Offscreen","unstable_Offscreen","mode","DisplayMode","VISIBLE","startTimespan","setExtra","isProfilingRenderer","renderElement","element","useFabric","Boolean","stopTimespan"],"sources":["renderApplication.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\nimport type {IPerformanceLogger} from '../Utilities/createPerformanceLogger';\n\nimport GlobalPerformanceLogger from '../Utilities/GlobalPerformanceLogger';\nimport PerformanceLoggerContext from '../Utilities/PerformanceLoggerContext';\nimport AppContainer from './AppContainer';\nimport DisplayMode, {type DisplayModeType} from './DisplayMode';\nimport getCachedComponentWithDebugName from './getCachedComponentWithDebugName';\nimport * as Renderer from './RendererProxy';\nimport invariant from 'invariant';\nimport * as React from 'react';\n\n// require BackHandler so it sets the default handler that exits the app if no listeners respond\nimport '../Utilities/BackHandler';\n\ntype OffscreenType = React.AbstractComponent<{\n  mode: 'visible' | 'hidden',\n  children: React.Node,\n}>;\n\nexport default function renderApplication<Props: Object>(\n  RootComponent: React.ComponentType<Props>,\n  initialProps: Props,\n  rootTag: any,\n  WrapperComponent?: ?React.ComponentType<any>,\n  fabric?: boolean,\n  showArchitectureIndicator?: boolean,\n  scopedPerformanceLogger?: IPerformanceLogger,\n  isLogBox?: boolean,\n  debugName?: string,\n  displayMode?: ?DisplayModeType,\n  useConcurrentRoot?: boolean,\n  useOffscreen?: boolean,\n) {\n  invariant(rootTag, 'Expect to have a valid rootTag, instead got ', rootTag);\n\n  const performanceLogger = scopedPerformanceLogger ?? GlobalPerformanceLogger;\n\n  let renderable: React.MixedElement = (\n    <PerformanceLoggerContext.Provider value={performanceLogger}>\n      <AppContainer\n        rootTag={rootTag}\n        fabric={fabric}\n        showArchitectureIndicator={showArchitectureIndicator}\n        WrapperComponent={WrapperComponent}\n        initialProps={initialProps ?? Object.freeze({})}\n        internal_excludeLogBox={isLogBox}>\n        <RootComponent {...initialProps} rootTag={rootTag} />\n      </AppContainer>\n    </PerformanceLoggerContext.Provider>\n  );\n\n  if (__DEV__ && debugName) {\n    const RootComponentWithMeaningfulName = getCachedComponentWithDebugName(\n      `${debugName}(RootComponent)`,\n    );\n    renderable = (\n      <RootComponentWithMeaningfulName>\n        {renderable}\n      </RootComponentWithMeaningfulName>\n    );\n  }\n\n  if (useOffscreen && displayMode != null) {\n    // $FlowFixMe[incompatible-type]\n    // $FlowFixMe[prop-missing]\n    const Offscreen: OffscreenType = React.unstable_Offscreen;\n\n    renderable = (\n      <Offscreen\n        mode={displayMode === DisplayMode.VISIBLE ? 'visible' : 'hidden'}>\n        {renderable}\n      </Offscreen>\n    );\n  }\n\n  performanceLogger.startTimespan('renderApplication_React_render');\n  performanceLogger.setExtra(\n    'usedReactConcurrentRoot',\n    useConcurrentRoot ? '1' : '0',\n  );\n  performanceLogger.setExtra('usedReactFabric', fabric ? '1' : '0');\n  performanceLogger.setExtra(\n    'usedReactProfiler',\n    Renderer.isProfilingRenderer(),\n  );\n  Renderer.renderElement({\n    element: renderable,\n    rootTag,\n    useFabric: Boolean(fabric),\n    useConcurrentRoot: Boolean(useConcurrentRoot),\n  });\n  performanceLogger.stopTimespan('renderApplication_React_render');\n}\n"],"mappings":"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","ignoreList":[]}