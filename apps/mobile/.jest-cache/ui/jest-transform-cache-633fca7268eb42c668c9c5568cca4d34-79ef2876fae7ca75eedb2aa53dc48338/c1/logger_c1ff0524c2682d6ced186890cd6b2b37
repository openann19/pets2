d7395ea8e2649c2cf000833c8bde5ab6
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.logger = exports.LogLevel = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var Sentry = _interopRequireWildcard(require("@sentry/react-native"));
var Keychain = _interopRequireWildcard(require("react-native-keychain"));
var Aes = _interopRequireWildcard(require("react-native-aes-crypto"));
var _reactNativeEncryptedStorage = _interopRequireDefault(require("react-native-encrypted-storage"));
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
var sentry = Sentry;
var LogLevel = exports.LogLevel = function (LogLevel) {
  LogLevel["DEBUG"] = "debug";
  LogLevel["INFO"] = "info";
  LogLevel["WARN"] = "warn";
  LogLevel["ERROR"] = "error";
  LogLevel["SECURITY"] = "security";
  LogLevel["PERFORMANCE"] = "performance";
  return LogLevel;
}({});
var MobileLogger = function () {
  function MobileLogger() {
    (0, _classCallCheck2.default)(this, MobileLogger);
    this.isDevelopment = __DEV__;
    this.userInfo = null;
    this.logBuffer = [];
    this.offlineBuffer = [];
    this.encryptionKey = null;
    this.encryptionSalt = null;
    this.ENCRYPTION_KEY_SIZE = 32;
    this.ENCRYPTION_IV_SIZE = 16;
    this.ENCRYPTION_KEY_STORAGE_KEY = "logger_encryption_key";
    this.ENCRYPTION_SALT_STORAGE_KEY = "logger_encryption_salt";
    this.MAX_LOG_BUFFER_SIZE = 1000;
    this.MAX_LOG_SIZE = 32768;
    this.MAX_OFFLINE_BUFFER_SIZE = 500;
    this.rateLimitBackoff = 100;
    this.rateLimits = (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, LogLevel.DEBUG, {
      points: 1000,
      interval: 60000
    }), LogLevel.INFO, {
      points: 500,
      interval: 60000
    }), LogLevel.WARN, {
      points: 100,
      interval: 60000
    }), LogLevel.ERROR, {
      points: 50,
      interval: 60000
    }), LogLevel.SECURITY, {
      points: 20,
      interval: 60000
    }), LogLevel.PERFORMANCE, {
      points: 200,
      interval: 60000
    });
    this.rateTracking = (0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)((0, _defineProperty2.default)({}, LogLevel.DEBUG, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.INFO, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.WARN, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.ERROR, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.SECURITY, {
      count: 0,
      resetTime: Date.now()
    }), LogLevel.PERFORMANCE, {
      count: 0,
      resetTime: Date.now()
    });
    this.lastLogTime = 0;
    this.sessionId = this.generateSessionId();
    this.appVersion = "1.0.0";
    this.setupLogRotation();
    void this.initializeEncryption();
  }
  return (0, _createClass2.default)(MobileLogger, [{
    key: "initializeEncryption",
    value: (function () {
      var _initializeEncryption = (0, _asyncToGenerator2.default)(function* () {
        try {
          var storedKey = yield Keychain.getGenericPassword({
            service: this.ENCRYPTION_KEY_STORAGE_KEY
          });
          var storedSalt = yield Keychain.getGenericPassword({
            service: this.ENCRYPTION_SALT_STORAGE_KEY
          });
          if (storedKey && storedSalt) {
            this.encryptionKey = storedKey.password;
            this.encryptionSalt = storedSalt.password;
          } else {
            var _key = yield this.generateSecureKey();
            var salt = yield this.generateSecureRandomBytes(this.ENCRYPTION_KEY_SIZE);
            yield Keychain.setGenericPassword(this.ENCRYPTION_KEY_STORAGE_KEY, _key, {
              service: this.ENCRYPTION_KEY_STORAGE_KEY
            });
            yield Keychain.setGenericPassword(this.ENCRYPTION_SALT_STORAGE_KEY, salt, {
              service: this.ENCRYPTION_SALT_STORAGE_KEY
            });
            this.encryptionKey = _key;
            this.encryptionSalt = salt;
          }
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to initialize encryption", {
            error: new Error(errorMessage),
            component: "Logger",
            action: "initializeEncryption"
          });
          this.encryptionKey = null;
          this.encryptionSalt = null;
        }
      });
      function initializeEncryption() {
        return _initializeEncryption.apply(this, arguments);
      }
      return initializeEncryption;
    }())
  }, {
    key: "setUserContext",
    value: function setUserContext(userId) {
      var properties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      this.userInfo = {
        id: userId
      };
      try {
        sentry.setUser(_objectSpread({
          id: userId
        }, properties));
      } catch (_unused) {}
    }
  }, {
    key: "clearUserContext",
    value: function clearUserContext() {
      this.userInfo = null;
      this.clearSentryContext();
    }
  }, {
    key: "generateSecureKey",
    value: (function () {
      var _generateSecureKey = (0, _asyncToGenerator2.default)(function* () {
        try {
          var _this$encryptionSalt;
          var randomBytes = yield this.generateSecureRandomBytes(this.ENCRYPTION_KEY_SIZE);
          return yield Aes.pbkdf2(randomBytes, (_this$encryptionSalt = this.encryptionSalt) != null ? _this$encryptionSalt : yield this.generateSecureRandomBytes(this.ENCRYPTION_KEY_SIZE), 10000, this.ENCRYPTION_KEY_SIZE, "sha256");
        } catch (error) {
          throw new Error("Failed to generate secure key: " + String(error));
        }
      });
      function generateSecureKey() {
        return _generateSecureKey.apply(this, arguments);
      }
      return generateSecureKey;
    }())
  }, {
    key: "generateSecureRandomBytes",
    value: (function () {
      var _generateSecureRandomBytes = (0, _asyncToGenerator2.default)(function* (size) {
        try {
          var _key2 = yield Aes.randomKey(size);
          return _key2;
        } catch (error) {
          throw new Error("Failed to generate random bytes: " + String(error));
        }
      });
      function generateSecureRandomBytes(_x) {
        return _generateSecureRandomBytes.apply(this, arguments);
      }
      return generateSecureRandomBytes;
    }())
  }, {
    key: "encryptData",
    value: (function () {
      var _encryptData = (0, _asyncToGenerator2.default)(function* (data) {
        try {
          if (!this.encryptionKey || !this.encryptionSalt) {
            throw new Error("Encryption not initialized");
          }
          var iv = yield this.generateSecureRandomBytes(this.ENCRYPTION_IV_SIZE);
          var ciphertext = yield Aes.encrypt(data, this.encryptionKey, iv, "aes-256-cbc");
          return {
            ciphertext: ciphertext,
            iv: iv
          };
        } catch (error) {
          throw new Error("Encryption failed: " + String(error));
        }
      });
      function encryptData(_x2) {
        return _encryptData.apply(this, arguments);
      }
      return encryptData;
    }())
  }, {
    key: "decryptData",
    value: (function () {
      var _decryptData = (0, _asyncToGenerator2.default)(function* (encryptedData) {
        try {
          if (!this.encryptionKey || !this.encryptionSalt) {
            throw new Error("Encryption not initialized");
          }
          var decrypted = yield Aes.decrypt(encryptedData.ciphertext, this.encryptionKey, encryptedData.iv, "aes-128-cbc");
          return decrypted;
        } catch (error) {
          throw new Error("Decryption failed: " + String(error));
        }
      });
      function decryptData(_x3) {
        return _decryptData.apply(this, arguments);
      }
      return decryptData;
    }())
  }, {
    key: "setupLogRotation",
    value: function setupLogRotation() {
      var _this = this;
      setInterval(function () {
        if (_this.logBuffer.length > 0) {
          void _this.rotateAndPersistLogs();
        }
      }, 60000);
    }
  }, {
    key: "rotateAndPersistLogs",
    value: (function () {
      var _rotateAndPersistLogs = (0, _asyncToGenerator2.default)(function* () {
        var _this2 = this;
        try {
          var logsToRotate = (0, _toConsumableArray2.default)(this.logBuffer);
          this.logBuffer = [];
          var encryptedLogs = yield Promise.all(logsToRotate.map(function () {
            var _ref = (0, _asyncToGenerator2.default)(function* (log) {
              return _this2.shouldEncryptLog(log) ? yield _this2.encryptLogEntry(log) : log;
            });
            return function (_x4) {
              return _ref.apply(this, arguments);
            };
          }()));
          this.logBuffer = encryptedLogs.slice(-this.MAX_LOG_BUFFER_SIZE);
        } catch (error) {
          console.error("Failed to rotate logs:", error instanceof Error ? error.message : String(error));
        }
      });
      function rotateAndPersistLogs() {
        return _rotateAndPersistLogs.apply(this, arguments);
      }
      return rotateAndPersistLogs;
    }())
  }, {
    key: "shouldEncryptLog",
    value: function shouldEncryptLog(log) {
      return log.level === LogLevel.SECURITY || log.metadata.userId !== undefined || log.metadata.sessionId !== undefined;
    }
  }, {
    key: "encryptLogEntry",
    value: (function () {
      var _encryptLogEntry = (0, _asyncToGenerator2.default)(function* (log) {
        try {
          if (!this.encryptionKey) {
            return _objectSpread(_objectSpread({}, log), {}, {
              message: "[REDACTED] Encryption unavailable",
              metadata: {
                timestamp: log.timestamp,
                level: log.level,
                isRedacted: true
              }
            });
          }
          var encryptedData = yield this.encryptData(JSON.stringify({
            message: log.message,
            metadata: this.sanitizeMetadata(log.metadata)
          }));
          return _objectSpread(_objectSpread({}, log), {}, {
            message: "[ENCRYPTED]",
            metadata: _objectSpread(_objectSpread({}, log.metadata), {}, {
              isEncrypted: true,
              encryptedAt: new Date().toISOString(),
              encryptedData: encryptedData,
              integrity: {
                hash: yield this.generateHMAC(log.message + JSON.stringify(log.metadata)),
                timestamp: new Date().toISOString()
              }
            })
          });
        } catch (error) {
          this.error("Log encryption failed", {
            error: error instanceof Error ? error : new Error(String(error)),
            component: "Logger",
            action: "encryptLogEntry"
          });
          return _objectSpread(_objectSpread({}, log), {}, {
            message: "[REDACTED] Log encryption failed",
            metadata: {
              timestamp: log.timestamp,
              level: log.level,
              isRedacted: true,
              error: new Error("Encryption failed")
            }
          });
        }
      });
      function encryptLogEntry(_x5) {
        return _encryptLogEntry.apply(this, arguments);
      }
      return encryptLogEntry;
    }())
  }, {
    key: "generateHMAC",
    value: (function () {
      var _generateHMAC = (0, _asyncToGenerator2.default)(function* (data) {
        try {
          if (!this.encryptionKey || !this.encryptionSalt) {
            throw new Error("Encryption not initialized");
          }
          var hmac = yield Aes.hmac256(data, this.encryptionKey);
          return hmac;
        } catch (error) {
          throw new Error("HMAC generation failed: " + String(error));
        }
      });
      function generateHMAC(_x6) {
        return _generateHMAC.apply(this, arguments);
      }
      return generateHMAC;
    }())
  }, {
    key: "generateSessionId",
    value: function generateSessionId() {
      var timestamp = Date.now();
      var randomValue = Math.random().toString(36).substring(2, 10);
      return `mobile_session_${timestamp.toString()}_${randomValue}`;
    }
  }, {
    key: "sanitizeMetadata",
    value: function sanitizeMetadata(data) {
      var _this3 = this;
      if (data === undefined) {
        return {};
      }
      var sanitized = {};
      var sensitiveFields = ["password", "token", "accessToken", "refreshToken", "secret", "apiKey", "authorization", "auth", "credentials", "credit", "card", "ccv", "cvv", "ssn", "social", "address", "phone", "birth", "zip", "postal", "payment"];
      var hashValue = function hashValue(value) {
        if (value === undefined || value === null || value === "") {
          return "empty";
        }
        var hash = 0;
        for (var i = 0; i < value.length; i++) {
          var char = value.charCodeAt(i);
          hash = (hash << 5) - hash + char;
          hash = hash & hash;
        }
        return hash.toString(16).substring(0, 8);
      };
      var _loop = function _loop() {
        var lowerKey = _key3.toLowerCase();
        if (sensitiveFields.some(function (field) {
          return lowerKey.includes(field);
        })) {
          if (typeof value === "string" && value !== "") {
            sanitized[_key3] = `[REDACTED:${hashValue(value)}]`;
          } else {
            sanitized[_key3] = "[REDACTED]";
          }
        } else if (value instanceof Error) {
          var _value$stack$split, _value$stack, _value$message, _value$name, _code;
          var stackLines = (_value$stack$split = (_value$stack = value.stack) == null ? void 0 : _value$stack.split("\n")) != null ? _value$stack$split : [];
          var sensitivePatterns = [/password=/i, /api_?key=/i, /secret=/i, /token=/i, /auth=/i, /bearer /i, /basic /i, /\/users\/\d+/i, /\b[\w.%+-]+@[\w.-]+\.[A-Za-z]{2,}\b/, /\b\d{4}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}\b/];
          var sanitizedStack = _this3.isDevelopment ? stackLines.filter(function (line) {
            return !sensitivePatterns.some(function (pattern) {
              return pattern.test(line);
            });
          }).join("\n") : undefined;
          sanitized[_key3] = {
            message: (_value$message = value.message) != null ? _value$message : "Unknown error",
            stack: sanitizedStack,
            name: (_value$name = value.name) != null ? _value$name : "Error",
            code: (_code = value.code) != null ? _code : "UNKNOWN"
          };
        } else if (value !== null && typeof value === "object") {
          sanitized[_key3] = _this3.sanitizeMetadata(value);
        } else {
          sanitized[_key3] = value;
        }
      };
      for (var _ref2 of Object.entries(data)) {
        var _ref3 = (0, _slicedToArray2.default)(_ref2, 2);
        var _key3 = _ref3[0];
        var value = _ref3[1];
        _loop();
      }
      return sanitized;
    }
  }, {
    key: "formatLogMessage",
    value: function formatLogMessage(level, message, metadata) {
      var timestamp = new Date().toISOString();
      var sanitized = this.sanitizeMetadata(metadata);
      var parts = [`[${timestamp}]`, `[${level.toUpperCase()}]`, message];
      if (Object.keys(sanitized).length > 0) {
        parts.push(JSON.stringify(sanitized, null, 2));
      }
      return parts.join(" ");
    }
  }, {
    key: "validateLogEntry",
    value: function validateLogEntry(message, metadata) {
      if (message.length === 0) {
        return false;
      }
      var totalSize = new TextEncoder().encode(JSON.stringify({
        message: message,
        metadata: metadata
      })).length;
      if (totalSize > this.MAX_LOG_SIZE) {
        this.warn("Log entry exceeded maximum size limit", {
          size: totalSize,
          limit: this.MAX_LOG_SIZE,
          truncated: true
        });
        return false;
      }
      return true;
    }
  }, {
    key: "checkRateLimit",
    value: function checkRateLimit(level) {
      if (this.isDevelopment) {
        return true;
      }
      var now = Date.now();
      var tracking = this.rateTracking[level];
      var limits = this.rateLimits[level];
      if (now - tracking.resetTime >= limits.interval) {
        tracking.count = 0;
        tracking.resetTime = now;
      }
      if (tracking.count >= limits.points) {
        return false;
      }
      tracking.count++;
      return true;
    }
  }, {
    key: "applyRateLimit",
    value: function applyRateLimit() {
      if (this.isDevelopment) {
        return true;
      }
      var now = Date.now();
      var timeSinceLastLog = now - this.lastLogTime;
      if (timeSinceLastLog < this.rateLimitBackoff) {
        this.rateLimitBackoff = Math.min(this.rateLimitBackoff * 2, 5000);
        return false;
      }
      if (timeSinceLastLog > 1000) {
        this.rateLimitBackoff = 100;
      }
      this.lastLogTime = now;
      return true;
    }
  }, {
    key: "bufferOfflineLog",
    value: (function () {
      var _bufferOfflineLog = (0, _asyncToGenerator2.default)(function* (entry) {
        if (entry.level === LogLevel.DEBUG || entry.level === LogLevel.INFO) {
          return;
        }
        try {
          this.offlineBuffer.push(entry);
          if (this.offlineBuffer.length > this.MAX_OFFLINE_BUFFER_SIZE) {
            this.offlineBuffer = this.offlineBuffer.slice(-this.MAX_OFFLINE_BUFFER_SIZE);
          }
          var storageKey = `offline_log_${entry.timestamp}_${this.hashIdentifier(entry.message)}`;
          var encryptedData = yield this.encryptData(JSON.stringify(entry));
          yield _reactNativeEncryptedStorage.default.setItem(storageKey, JSON.stringify({
            data: encryptedData,
            timestamp: entry.timestamp,
            level: entry.level,
            hash: yield this.generateHMAC(JSON.stringify(entry))
          }));
          yield this.cleanupOldOfflineLogs();
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to buffer offline log", {
            error: new Error(errorMessage),
            component: "Logger",
            action: "bufferOfflineLog"
          });
        }
      });
      function bufferOfflineLog(_x7) {
        return _bufferOfflineLog.apply(this, arguments);
      }
      return bufferOfflineLog;
    }())
  }, {
    key: "cleanupOldOfflineLogs",
    value: (function () {
      var _cleanupOldOfflineLogs = (0, _asyncToGenerator2.default)(function* () {
        try {
          var allKeys = Object.keys((yield _reactNativeEncryptedStorage.default.getItem("__keys__")) || {});
          var offlineLogKeys = allKeys.filter(function (key) {
            return key.startsWith("offline_log_");
          });
          offlineLogKeys.sort(function (a, b) {
            var _a$split = a.split("_"),
              _a$split2 = (0, _slicedToArray2.default)(_a$split, 3),
              _a$split2$ = _a$split2[2],
              timestampA = _a$split2$ === void 0 ? "0" : _a$split2$;
            var _b$split = b.split("_"),
              _b$split2 = (0, _slicedToArray2.default)(_b$split, 3),
              _b$split2$ = _b$split2[2],
              timestampB = _b$split2$ === void 0 ? "0" : _b$split2$;
            return timestampA.localeCompare(timestampB);
          });
          var logsToRemove = offlineLogKeys.slice(0, -this.MAX_OFFLINE_BUFFER_SIZE);
          yield Promise.all(logsToRemove.map(function (key) {
            return _reactNativeEncryptedStorage.default.removeItem(key);
          }));
          if (logsToRemove.length > 0) {
            this.info("Cleaned up old offline logs", {
              component: "Logger",
              action: "cleanupOldOfflineLogs",
              removedCount: logsToRemove.length
            });
          }
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to cleanup old offline logs", {
            error: new Error(errorMessage),
            component: "Logger",
            action: "cleanupOldOfflineLogs"
          });
        }
      });
      function cleanupOldOfflineLogs() {
        return _cleanupOldOfflineLogs.apply(this, arguments);
      }
      return cleanupOldOfflineLogs;
    }())
  }, {
    key: "loadOfflineLogs",
    value: (function () {
      var _loadOfflineLogs = (0, _asyncToGenerator2.default)(function* () {
        try {
          var allKeys = Object.keys((yield _reactNativeEncryptedStorage.default.getItem("__keys__")) || {});
          var offlineLogKeys = allKeys.filter(function (key) {
            return key.startsWith("offline_log_");
          });
          var encryptedLogs = yield Promise.all(offlineLogKeys.map(function () {
            var _ref4 = (0, _asyncToGenerator2.default)(function* (key) {
              try {
                var encrypted = yield _reactNativeEncryptedStorage.default.getItem(key);
                if (!encrypted) return null;
                var parsedItem = JSON.parse(encrypted);
                return _objectSpread({
                  key: key
                }, parsedItem);
              } catch (_error) {
                yield _reactNativeEncryptedStorage.default.removeItem(key);
                return null;
              }
            });
            return function (_x8) {
              return _ref4.apply(this, arguments);
            };
          }()));
          for (var log of encryptedLogs) {
            if (!log) continue;
            try {
              var decrypted = yield this.decryptData(log.data);
              var entry = JSON.parse(decrypted);
              var calculatedHash = yield this.generateHMAC(JSON.stringify(entry));
              if (calculatedHash !== log.hash) {
                this.error("Offline log integrity check failed", {
                  error: new Error("Log tampering detected"),
                  component: "Logger",
                  action: "loadOfflineLogs",
                  key: log.key
                });
                yield _reactNativeEncryptedStorage.default.removeItem(log.key);
                continue;
              }
              this.offlineBuffer.push(entry);
            } catch (decryptError) {
              yield _reactNativeEncryptedStorage.default.removeItem(log.key);
              var errorMessage = decryptError instanceof Error ? decryptError.message : String(decryptError);
              this.error("Failed to decrypt offline log", {
                error: new Error(errorMessage),
                component: "Logger",
                action: "loadOfflineLogs",
                key: log.key
              });
            }
          }
          this.offlineBuffer.sort(function (a, b) {
            return a.timestamp.localeCompare(b.timestamp);
          });
          if (this.offlineBuffer.length > this.MAX_OFFLINE_BUFFER_SIZE) {
            this.offlineBuffer = this.offlineBuffer.slice(-this.MAX_OFFLINE_BUFFER_SIZE);
          }
          this.info("Offline logs loaded successfully", {
            component: "Logger",
            action: "loadOfflineLogs",
            logsLoaded: this.offlineBuffer.length
          });
        } catch (error) {
          var _errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to load offline logs", {
            error: new Error(_errorMessage),
            component: "Logger",
            action: "loadOfflineLogs"
          });
        }
      });
      function loadOfflineLogs() {
        return _loadOfflineLogs.apply(this, arguments);
      }
      return loadOfflineLogs;
    }())
  }, {
    key: "getBufferMetrics",
    value: function getBufferMetrics() {
      var criticalEntries = this.offlineBuffer.filter(function (entry) {
        return entry.level === LogLevel.ERROR || entry.level === LogLevel.SECURITY;
      }).length;
      var oldestEntry = null;
      var latestEntry = null;
      if (this.offlineBuffer.length > 0) {
        var firstEntry = this.offlineBuffer[0];
        var lastEntry = this.offlineBuffer[this.offlineBuffer.length - 1];
        if (firstEntry && firstEntry.timestamp) {
          oldestEntry = new Date(firstEntry.timestamp);
        }
        if (lastEntry && lastEntry.timestamp) {
          latestEntry = new Date(lastEntry.timestamp);
        }
      }
      return {
        totalEntries: this.offlineBuffer.length,
        criticalEntries: criticalEntries,
        oldestEntry: oldestEntry,
        latestEntry: latestEntry
      };
    }
  }, {
    key: "log",
    value: function log(level, message, metadata) {
      var _this$userInfo, _enhancedMetadata$tim;
      if (!this.isDevelopment && level === LogLevel.DEBUG) {
        return;
      }
      if (!this.validateLogEntry(message, metadata)) {
        return;
      }
      if (!this.applyRateLimit() || !this.checkRateLimit(level)) {
        if (level === LogLevel.ERROR || level === LogLevel.SECURITY) {
          var timestamp = new Date().toISOString();
          void this.bufferOfflineLog({
            message: `[Rate Limited] ${message}`,
            level: level,
            timestamp: timestamp,
            metadata: _objectSpread(_objectSpread({}, metadata), {}, {
              rateLimited: true,
              originalTimestamp: timestamp
            })
          });
        }
        return;
      }
      var enhancedMetadata = _objectSpread(_objectSpread({
        timestamp: new Date().toISOString(),
        sessionId: this.sessionId,
        version: this.appVersion,
        userId: ((_this$userInfo = this.userInfo) == null ? void 0 : _this$userInfo.id) !== undefined ? this.userInfo.id : "anonymous"
      }, metadata), {}, {
        securityContext: {
          environment: this.isDevelopment ? "development" : "production",
          sessionHash: this.hashIdentifier(this.sessionId),
          logId: this.hashIdentifier(`${level}_${String(Date.now())}_${message}`)
        }
      });
      var formattedMessage = this.formatLogMessage(level, message, enhancedMetadata);
      var sanitized = this.sanitizeMetadata(enhancedMetadata);
      var logEntry = {
        message: message,
        level: level,
        timestamp: (_enhancedMetadata$tim = enhancedMetadata.timestamp) != null ? _enhancedMetadata$tim : new Date().toISOString(),
        metadata: sanitized
      };
      void this.bufferOfflineLog(logEntry);
      if (this.isDevelopment) {
        switch (level) {
          case LogLevel.DEBUG:
            console.warn(formattedMessage);
            break;
          case LogLevel.INFO:
            console.warn(formattedMessage);
            break;
          case LogLevel.WARN:
            console.warn(formattedMessage);
            break;
          case LogLevel.ERROR:
            console.error(formattedMessage);
            break;
          case LogLevel.SECURITY:
            console.warn(`🔒 ${formattedMessage}`);
            break;
          case LogLevel.PERFORMANCE:
            console.warn(`⚡ ${formattedMessage}`);
            break;
        }
      }
      if (level === LogLevel.ERROR || level === LogLevel.SECURITY) {
        try {
          var fingerprint = this.generateErrorFingerprint(message, metadata);
          if ((metadata == null ? void 0 : metadata.error) instanceof Error) {
            var _metadata$component, _metadata$action;
            sentry.captureException(metadata.error, _objectSpread({
              extra: sanitized,
              tags: _objectSpread({
                logLevel: level,
                errorType: metadata.error.name,
                errorCode: metadata.error.code
              }, metadata.tags !== undefined ? Object.fromEntries(metadata.tags.map(function (tag) {
                return [tag, true];
              })) : {}),
              fingerprint: fingerprint
            }, metadata.correlationId ? {
              transaction: `${(_metadata$component = metadata.component) != null ? _metadata$component : "unknown"}.${(_metadata$action = metadata.action) != null ? _metadata$action : "action"}`,
              transactionHash: this.hashIdentifier(metadata.correlationId)
            } : {}));
          } else {
            var sentryLevel = String(level) === "security" ? "warning" : "error";
            var secureContext = _objectSpread(_objectSpread({}, sanitized), {}, {
              timestamp: new Date().toISOString(),
              sessionHash: this.hashIdentifier(this.sessionId),
              environment: this.isDevelopment ? "development" : "production"
            });
            sentry.setContext("metadata", secureContext);
            sentry.captureMessage(message, sentryLevel);
          }
          this.clearSentryContext();
        } catch (error) {
          if (this.isDevelopment) {
            console.error("Failed to send to Sentry:", error instanceof Error ? error.message : String(error));
          }
        }
      }
    }
  }, {
    key: "debug",
    value: function debug(message, metadata) {
      this.log(LogLevel.DEBUG, message, metadata);
    }
  }, {
    key: "info",
    value: function info(message, metadata) {
      this.log(LogLevel.INFO, message, metadata);
    }
  }, {
    key: "warn",
    value: function warn(message, metadata) {
      this.log(LogLevel.WARN, message, metadata);
    }
  }, {
    key: "error",
    value: function error(message, metadata) {
      this.log(LogLevel.ERROR, message, metadata);
    }
  }, {
    key: "security",
    value: function security(message, metadata) {
      this.log(LogLevel.SECURITY, message, _objectSpread(_objectSpread({}, metadata), {}, {
        tags: [].concat((0, _toConsumableArray2.default)((metadata == null ? void 0 : metadata.tags) !== undefined && metadata.tags !== null ? metadata.tags : []), ["security"])
      }));
    }
  }, {
    key: "performance",
    value: function performance(operation, durationMs, metadata) {
      this.log(LogLevel.PERFORMANCE, `${operation} completed in ${String(durationMs)}ms`, _objectSpread(_objectSpread({}, metadata), {}, {
        duration: durationMs,
        operation: operation,
        tags: [].concat((0, _toConsumableArray2.default)((metadata == null ? void 0 : metadata.tags) !== undefined && metadata.tags !== null ? metadata.tags : []), ["performance"])
      }));
    }
  }, {
    key: "startTimer",
    value: function startTimer(operation) {
      var _this4 = this;
      var startTime = Date.now();
      return function (metadata) {
        var duration = Math.round(Date.now() - startTime);
        _this4.performance(operation, duration, metadata);
      };
    }
  }, {
    key: "setUser",
    value: function setUser(user) {
      if (user === undefined || user === null || user.id === undefined || user.id === null || user.id === "" || user.email === undefined || user.email === null || user.email === "" || user.username === undefined || user.username === null || user.username === "") {
        throw new Error("Invalid user data provided to logger");
      }
      this.userInfo = user;
      sentry.setUser({
        id: user.id,
        email: user.email,
        username: user.username
      });
      this.info("User context set", {
        userId: user.id,
        tags: ["user-context"],
        level: LogLevel.INFO
      });
    }
  }, {
    key: "addBreadcrumb",
    value: function addBreadcrumb(message, category, data) {
      var sanitizedData = this.sanitizeMetadata(data);
      try {
        var _data$component;
        var secureBreadcrumb = {
          message: this.truncateString(message, 1000),
          category: this.validateCategory(category),
          data: sanitizedData,
          level: "info",
          timestamp: Date.now() / 1000,
          sessionHash: this.hashIdentifier(this.sessionId),
          sourceComponent: (_data$component = data == null ? void 0 : data["component"]) != null ? _data$component : "unknown"
        };
        sentry.addBreadcrumb(secureBreadcrumb);
        if (this.isDevelopment) {
          this.debug(`Breadcrumb: ${message}`, _objectSpread(_objectSpread({
            category: category
          }, sanitizedData), {}, {
            securityHash: this.hashIdentifier(message)
          }));
        }
      } catch (error) {
        if (this.isDevelopment) {
          console.warn("Failed to add breadcrumb:", error instanceof Error ? error.message : String(error));
        }
      }
    }
  }, {
    key: "exportAuditLogs",
    value: function () {
      var _exportAuditLogs = (0, _asyncToGenerator2.default)(function* () {
        var _this5 = this;
        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        try {
          var startDate = options.startDate,
            _options$endDate = options.endDate,
            endDate = _options$endDate === void 0 ? new Date() : _options$endDate,
            _options$levels = options.levels,
            levels = _options$levels === void 0 ? Object.values(LogLevel) : _options$levels,
            _options$includeMetri = options.includeMetrics,
            includeMetrics = _options$includeMetri === void 0 ? false : _options$includeMetri;
          if (endDate < (startDate != null ? startDate : new Date(0))) {
            throw new Error("End date must be after start date");
          }
          var filteredLogs = [].concat((0, _toConsumableArray2.default)(this.logBuffer), (0, _toConsumableArray2.default)(this.offlineBuffer)).filter(function (entry) {
            if (!entry.timestamp) {
              return false;
            }
            var entryDate = new Date(entry.timestamp);
            if (isNaN(entryDate.getTime())) {
              return false;
            }
            var matchesDate = startDate ? entryDate >= startDate && entryDate <= endDate : true;
            var matchesLevel = levels.includes(entry.level);
            return matchesDate && matchesLevel;
          }).map(function (entry) {
            return _objectSpread(_objectSpread({}, entry), {}, {
              metadata: _this5.sanitizeMetadata(entry.metadata)
            });
          });
          var baseFilters = {
            startDate: (startDate != null ? startDate : new Date(0)).toISOString(),
            endDate: endDate.toISOString(),
            levels: levels,
            includeMetrics: includeMetrics,
            contentHash: "",
            totalEntries: 0
          };
          var exportData = _objectSpread(_objectSpread({
            logs: filteredLogs
          }, includeMetrics ? {
            metrics: this.getBufferMetrics()
          } : {}), {}, {
            exportMetadata: {
              timestamp: new Date().toISOString(),
              exportId: this.hashIdentifier(`audit_${Date.now()}`),
              filters: baseFilters
            }
          });
          var contentHash = this.hashIdentifier(JSON.stringify(exportData.logs));
          exportData.exportMetadata.filters.contentHash = contentHash;
          exportData.exportMetadata.filters.totalEntries = filteredLogs.length;
          this.security("Audit logs exported", {
            exportId: exportData.exportMetadata.exportId,
            entriesCount: filteredLogs.length,
            timeRange: {
              start: startDate == null ? void 0 : startDate.toISOString(),
              end: endDate.toISOString()
            },
            contentHash: contentHash
          });
          return exportData;
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to export audit logs", {
            error: new Error(errorMessage),
            options: options
          });
          throw new Error("Audit log export failed: " + errorMessage);
        }
      });
      function exportAuditLogs() {
        return _exportAuditLogs.apply(this, arguments);
      }
      return exportAuditLogs;
    }()
  }, {
    key: "generateErrorFingerprint",
    value: function generateErrorFingerprint(message, metadata) {
      var _metadata$component2, _metadata$action2;
      var components = [(_metadata$component2 = metadata == null ? void 0 : metadata.component) != null ? _metadata$component2 : "unknown", (_metadata$action2 = metadata == null ? void 0 : metadata.action) != null ? _metadata$action2 : "action", this.hashIdentifier(message)];
      if ((metadata == null ? void 0 : metadata.error) instanceof Error) {
        var _code2;
        components.push(metadata.error.name, (_code2 = metadata.error.code) != null ? _code2 : "UNKNOWN");
      }
      if ((metadata == null ? void 0 : metadata.tags) !== undefined) {
        components.push.apply(components, (0, _toConsumableArray2.default)(metadata.tags));
      }
      return components;
    }
  }, {
    key: "hashIdentifier",
    value: function hashIdentifier(value) {
      var hash = 0;
      for (var i = 0; i < value.length; i++) {
        var char = value.charCodeAt(i);
        hash = (hash << 5) - hash + char;
        hash = hash & hash;
      }
      return hash.toString(36).substring(0, 8);
    }
  }, {
    key: "clearSentryContext",
    value: function clearSentryContext() {
      try {
        sentry.setContext("metadata", {});
        sentry.setUser({});
      } catch (_unused2) {}
    }
  }, {
    key: "exportSecureAuditLogs",
    value: (function () {
      var _exportSecureAuditLogs = (0, _asyncToGenerator2.default)(function* () {
        var _this6 = this;
        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        try {
          var _startDate$toISOStrin, _startDate$toISOStrin2;
          var startDate = options.startDate,
            _options$endDate2 = options.endDate,
            endDate = _options$endDate2 === void 0 ? new Date() : _options$endDate2,
            _options$levels2 = options.levels,
            levels = _options$levels2 === void 0 ? Object.values(LogLevel) : _options$levels2,
            _options$includeMetri2 = options.includeMetrics,
            includeMetrics = _options$includeMetri2 === void 0 ? false : _options$includeMetri2;
          if (endDate < (startDate != null ? startDate : new Date(0))) {
            throw new Error("End date must be after start date");
          }
          var filteredLogs = [].concat((0, _toConsumableArray2.default)(this.logBuffer), (0, _toConsumableArray2.default)(this.offlineBuffer)).filter(function (entry) {
            if (!entry.timestamp) {
              return false;
            }
            var entryDate = new Date(entry.timestamp);
            if (isNaN(entryDate.getTime())) {
              return false;
            }
            var matchesDate = startDate ? entryDate >= startDate && entryDate <= endDate : true;
            var matchesLevel = levels.includes(entry.level);
            return matchesDate && matchesLevel;
          }).map(function (entry) {
            return _objectSpread(_objectSpread({}, entry), {}, {
              metadata: _this6.sanitizeMetadata(entry.metadata)
            });
          });
          var metrics = this.getBufferMetrics();
          var contentHash = this.hashIdentifier(JSON.stringify(filteredLogs));
          var exportData = {
            logs: filteredLogs,
            metrics: metrics,
            exportMetadata: {
              timestamp: new Date().toISOString(),
              exportId: this.hashIdentifier(`audit_${Date.now()}`),
              filters: {
                startDate: (_startDate$toISOStrin = startDate == null ? void 0 : startDate.toISOString()) != null ? _startDate$toISOStrin : undefined,
                endDate: endDate.toISOString(),
                levels: levels,
                includeMetrics: includeMetrics,
                contentHash: contentHash,
                totalEntries: filteredLogs.length
              }
            }
          };
          this.security("Audit logs exported", {
            exportId: exportData.exportMetadata.exportId,
            entriesCount: filteredLogs.length,
            timeRange: {
              start: (_startDate$toISOStrin2 = startDate == null ? void 0 : startDate.toISOString()) != null ? _startDate$toISOStrin2 : "beginning",
              end: endDate.toISOString()
            },
            contentHash: contentHash
          });
          return exportData;
        } catch (error) {
          var errorMessage = error instanceof Error ? error.message : String(error);
          this.error("Failed to export audit logs", {
            error: new Error(errorMessage),
            options: options
          });
          throw new Error("Audit log export failed: " + errorMessage);
        }
      });
      function exportSecureAuditLogs() {
        return _exportSecureAuditLogs.apply(this, arguments);
      }
      return exportSecureAuditLogs;
    }())
  }, {
    key: "validateCategory",
    value: function validateCategory(category) {
      return category.replace(/[^a-zA-Z0-9_.-]/g, "_").substring(0, 100);
    }
  }, {
    key: "truncateString",
    value: function truncateString(str, maxLength) {
      if (str.length <= maxLength) {
        return str;
      }
      return str.substring(0, maxLength - 3) + "...";
    }
  }, {
    key: "trackFeature",
    value: function trackFeature(feature, metadata) {
      var enhancedMetadata = _objectSpread(_objectSpread({}, metadata), {}, {
        feature: feature,
        tags: [].concat((0, _toConsumableArray2.default)((metadata == null ? void 0 : metadata.tags) !== undefined ? metadata.tags : []), ["feature-usage"]),
        trackingId: this.hashIdentifier(`${feature}_${Date.now()}`),
        featureHash: this.hashIdentifier(feature),
        timestamp: new Date().toISOString(),
        sessionHash: this.hashIdentifier(this.sessionId)
      });
      this.info(`Feature used: ${feature}`, enhancedMetadata);
    }
  }, {
    key: "logSecurityEvent",
    value: function logSecurityEvent(event, details) {
      var _details$component, _details$action;
      var safeEvent = this.validateCategory(event);
      var sanitizedDetails = this.sanitizeMetadata(details);
      var enhancedDetails = _objectSpread(_objectSpread({}, sanitizedDetails), {}, {
        eventType: safeEvent,
        timestamp: new Date().toISOString(),
        sessionHash: this.hashIdentifier(this.sessionId),
        securityLevel: "standard",
        contentHash: this.hashIdentifier(JSON.stringify(sanitizedDetails)),
        component: String((_details$component = details["component"]) != null ? _details$component : "unknown"),
        action: String((_details$action = details["action"]) != null ? _details$action : "unknown"),
        eventId: this.hashIdentifier(`${safeEvent}_${Date.now()}`),
        environmentHash: this.hashIdentifier(this.isDevelopment ? "development" : "production")
      });
      this.security(`Security Event: ${safeEvent}`, enhancedDetails);
      this.clearSentryContext();
    }
  }]);
}();
var logger = exports.logger = new MobileLogger();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJTZW50cnkiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJLZXljaGFpbiIsIkFlcyIsIl9yZWFjdE5hdGl2ZUVuY3J5cHRlZFN0b3JhZ2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJvd25LZXlzIiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsInNlbnRyeSIsIkxvZ0xldmVsIiwiZXhwb3J0cyIsIk1vYmlsZUxvZ2dlciIsIl9jbGFzc0NhbGxDaGVjazIiLCJpc0RldmVsb3BtZW50IiwiX19ERVZfXyIsInVzZXJJbmZvIiwibG9nQnVmZmVyIiwib2ZmbGluZUJ1ZmZlciIsImVuY3J5cHRpb25LZXkiLCJlbmNyeXB0aW9uU2FsdCIsIkVOQ1JZUFRJT05fS0VZX1NJWkUiLCJFTkNSWVBUSU9OX0lWX1NJWkUiLCJFTkNSWVBUSU9OX0tFWV9TVE9SQUdFX0tFWSIsIkVOQ1JZUFRJT05fU0FMVF9TVE9SQUdFX0tFWSIsIk1BWF9MT0dfQlVGRkVSX1NJWkUiLCJNQVhfTE9HX1NJWkUiLCJNQVhfT0ZGTElORV9CVUZGRVJfU0laRSIsInJhdGVMaW1pdEJhY2tvZmYiLCJyYXRlTGltaXRzIiwiREVCVUciLCJwb2ludHMiLCJpbnRlcnZhbCIsIklORk8iLCJXQVJOIiwiRVJST1IiLCJTRUNVUklUWSIsIlBFUkZPUk1BTkNFIiwicmF0ZVRyYWNraW5nIiwiY291bnQiLCJyZXNldFRpbWUiLCJEYXRlIiwibm93IiwibGFzdExvZ1RpbWUiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImFwcFZlcnNpb24iLCJzZXR1cExvZ1JvdGF0aW9uIiwiaW5pdGlhbGl6ZUVuY3J5cHRpb24iLCJfY3JlYXRlQ2xhc3MyIiwia2V5IiwidmFsdWUiLCJfaW5pdGlhbGl6ZUVuY3J5cHRpb24iLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJzdG9yZWRLZXkiLCJnZXRHZW5lcmljUGFzc3dvcmQiLCJzZXJ2aWNlIiwic3RvcmVkU2FsdCIsInBhc3N3b3JkIiwiZ2VuZXJhdGVTZWN1cmVLZXkiLCJzYWx0IiwiZ2VuZXJhdGVTZWN1cmVSYW5kb21CeXRlcyIsInNldEdlbmVyaWNQYXNzd29yZCIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwiU3RyaW5nIiwiY29tcG9uZW50IiwiYWN0aW9uIiwic2V0VXNlckNvbnRleHQiLCJ1c2VySWQiLCJwcm9wZXJ0aWVzIiwidW5kZWZpbmVkIiwiaWQiLCJzZXRVc2VyIiwiX3VudXNlZCIsImNsZWFyVXNlckNvbnRleHQiLCJjbGVhclNlbnRyeUNvbnRleHQiLCJfZ2VuZXJhdGVTZWN1cmVLZXkiLCJfdGhpcyRlbmNyeXB0aW9uU2FsdCIsInJhbmRvbUJ5dGVzIiwicGJrZGYyIiwiX2dlbmVyYXRlU2VjdXJlUmFuZG9tQnl0ZXMiLCJzaXplIiwicmFuZG9tS2V5IiwiX3giLCJfZW5jcnlwdERhdGEiLCJkYXRhIiwiaXYiLCJjaXBoZXJ0ZXh0IiwiZW5jcnlwdCIsImVuY3J5cHREYXRhIiwiX3gyIiwiX2RlY3J5cHREYXRhIiwiZW5jcnlwdGVkRGF0YSIsImRlY3J5cHRlZCIsImRlY3J5cHQiLCJkZWNyeXB0RGF0YSIsIl94MyIsIl90aGlzIiwic2V0SW50ZXJ2YWwiLCJyb3RhdGVBbmRQZXJzaXN0TG9ncyIsIl9yb3RhdGVBbmRQZXJzaXN0TG9ncyIsIl90aGlzMiIsImxvZ3NUb1JvdGF0ZSIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJlbmNyeXB0ZWRMb2dzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsIl9yZWYiLCJsb2ciLCJzaG91bGRFbmNyeXB0TG9nIiwiZW5jcnlwdExvZ0VudHJ5IiwiX3g0Iiwic2xpY2UiLCJjb25zb2xlIiwibGV2ZWwiLCJtZXRhZGF0YSIsIl9lbmNyeXB0TG9nRW50cnkiLCJ0aW1lc3RhbXAiLCJpc1JlZGFjdGVkIiwiSlNPTiIsInN0cmluZ2lmeSIsInNhbml0aXplTWV0YWRhdGEiLCJpc0VuY3J5cHRlZCIsImVuY3J5cHRlZEF0IiwidG9JU09TdHJpbmciLCJpbnRlZ3JpdHkiLCJoYXNoIiwiZ2VuZXJhdGVITUFDIiwiX3g1IiwiX2dlbmVyYXRlSE1BQyIsImhtYWMiLCJobWFjMjU2IiwiX3g2IiwicmFuZG9tVmFsdWUiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJfdGhpczMiLCJzYW5pdGl6ZWQiLCJzZW5zaXRpdmVGaWVsZHMiLCJoYXNoVmFsdWUiLCJjaGFyIiwiY2hhckNvZGVBdCIsIl9sb29wIiwibG93ZXJLZXkiLCJ0b0xvd2VyQ2FzZSIsInNvbWUiLCJmaWVsZCIsImluY2x1ZGVzIiwiX3ZhbHVlJHN0YWNrJHNwbGl0IiwiX3ZhbHVlJHN0YWNrIiwiX3ZhbHVlJG1lc3NhZ2UiLCJfdmFsdWUkbmFtZSIsIl9jb2RlIiwic3RhY2tMaW5lcyIsInN0YWNrIiwic3BsaXQiLCJzZW5zaXRpdmVQYXR0ZXJucyIsInNhbml0aXplZFN0YWNrIiwibGluZSIsInBhdHRlcm4iLCJ0ZXN0Iiwiam9pbiIsIm5hbWUiLCJjb2RlIiwiX3JlZjIiLCJlbnRyaWVzIiwiX3JlZjMiLCJfc2xpY2VkVG9BcnJheTIiLCJmb3JtYXRMb2dNZXNzYWdlIiwicGFydHMiLCJ0b1VwcGVyQ2FzZSIsInZhbGlkYXRlTG9nRW50cnkiLCJ0b3RhbFNpemUiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsIndhcm4iLCJsaW1pdCIsInRydW5jYXRlZCIsImNoZWNrUmF0ZUxpbWl0IiwidHJhY2tpbmciLCJsaW1pdHMiLCJhcHBseVJhdGVMaW1pdCIsInRpbWVTaW5jZUxhc3RMb2ciLCJtaW4iLCJfYnVmZmVyT2ZmbGluZUxvZyIsImVudHJ5Iiwic3RvcmFnZUtleSIsImhhc2hJZGVudGlmaWVyIiwiRW5jcnlwdGVkU3RvcmFnZSIsInNldEl0ZW0iLCJjbGVhbnVwT2xkT2ZmbGluZUxvZ3MiLCJidWZmZXJPZmZsaW5lTG9nIiwiX3g3IiwiX2NsZWFudXBPbGRPZmZsaW5lTG9ncyIsImFsbEtleXMiLCJnZXRJdGVtIiwib2ZmbGluZUxvZ0tleXMiLCJzdGFydHNXaXRoIiwic29ydCIsImEiLCJiIiwiX2Ekc3BsaXQiLCJfYSRzcGxpdDIiLCJfYSRzcGxpdDIkIiwidGltZXN0YW1wQSIsIl9iJHNwbGl0IiwiX2Ikc3BsaXQyIiwiX2Ikc3BsaXQyJCIsInRpbWVzdGFtcEIiLCJsb2NhbGVDb21wYXJlIiwibG9nc1RvUmVtb3ZlIiwicmVtb3ZlSXRlbSIsImluZm8iLCJyZW1vdmVkQ291bnQiLCJfbG9hZE9mZmxpbmVMb2dzIiwiX3JlZjQiLCJlbmNyeXB0ZWQiLCJwYXJzZWRJdGVtIiwicGFyc2UiLCJfZXJyb3IiLCJfeDgiLCJjYWxjdWxhdGVkSGFzaCIsImRlY3J5cHRFcnJvciIsImxvZ3NMb2FkZWQiLCJsb2FkT2ZmbGluZUxvZ3MiLCJnZXRCdWZmZXJNZXRyaWNzIiwiY3JpdGljYWxFbnRyaWVzIiwib2xkZXN0RW50cnkiLCJsYXRlc3RFbnRyeSIsImZpcnN0RW50cnkiLCJsYXN0RW50cnkiLCJ0b3RhbEVudHJpZXMiLCJfdGhpcyR1c2VySW5mbyIsIl9lbmhhbmNlZE1ldGFkYXRhJHRpbSIsInJhdGVMaW1pdGVkIiwib3JpZ2luYWxUaW1lc3RhbXAiLCJlbmhhbmNlZE1ldGFkYXRhIiwidmVyc2lvbiIsInNlY3VyaXR5Q29udGV4dCIsImVudmlyb25tZW50Iiwic2Vzc2lvbkhhc2giLCJsb2dJZCIsImZvcm1hdHRlZE1lc3NhZ2UiLCJsb2dFbnRyeSIsImZpbmdlcnByaW50IiwiZ2VuZXJhdGVFcnJvckZpbmdlcnByaW50IiwiX21ldGFkYXRhJGNvbXBvbmVudCIsIl9tZXRhZGF0YSRhY3Rpb24iLCJjYXB0dXJlRXhjZXB0aW9uIiwiZXh0cmEiLCJ0YWdzIiwibG9nTGV2ZWwiLCJlcnJvclR5cGUiLCJlcnJvckNvZGUiLCJmcm9tRW50cmllcyIsInRhZyIsImNvcnJlbGF0aW9uSWQiLCJ0cmFuc2FjdGlvbiIsInRyYW5zYWN0aW9uSGFzaCIsInNlbnRyeUxldmVsIiwic2VjdXJlQ29udGV4dCIsInNldENvbnRleHQiLCJjYXB0dXJlTWVzc2FnZSIsImRlYnVnIiwic2VjdXJpdHkiLCJjb25jYXQiLCJwZXJmb3JtYW5jZSIsIm9wZXJhdGlvbiIsImR1cmF0aW9uTXMiLCJkdXJhdGlvbiIsInN0YXJ0VGltZXIiLCJfdGhpczQiLCJzdGFydFRpbWUiLCJyb3VuZCIsInVzZXIiLCJlbWFpbCIsInVzZXJuYW1lIiwiYWRkQnJlYWRjcnVtYiIsImNhdGVnb3J5Iiwic2FuaXRpemVkRGF0YSIsIl9kYXRhJGNvbXBvbmVudCIsInNlY3VyZUJyZWFkY3J1bWIiLCJ0cnVuY2F0ZVN0cmluZyIsInZhbGlkYXRlQ2F0ZWdvcnkiLCJzb3VyY2VDb21wb25lbnQiLCJzZWN1cml0eUhhc2giLCJfZXhwb3J0QXVkaXRMb2dzIiwiX3RoaXM1Iiwib3B0aW9ucyIsInN0YXJ0RGF0ZSIsIl9vcHRpb25zJGVuZERhdGUiLCJlbmREYXRlIiwiX29wdGlvbnMkbGV2ZWxzIiwibGV2ZWxzIiwidmFsdWVzIiwiX29wdGlvbnMkaW5jbHVkZU1ldHJpIiwiaW5jbHVkZU1ldHJpY3MiLCJmaWx0ZXJlZExvZ3MiLCJlbnRyeURhdGUiLCJpc05hTiIsImdldFRpbWUiLCJtYXRjaGVzRGF0ZSIsIm1hdGNoZXNMZXZlbCIsImJhc2VGaWx0ZXJzIiwiY29udGVudEhhc2giLCJleHBvcnREYXRhIiwibG9ncyIsIm1ldHJpY3MiLCJleHBvcnRNZXRhZGF0YSIsImV4cG9ydElkIiwiZmlsdGVycyIsImVudHJpZXNDb3VudCIsInRpbWVSYW5nZSIsInN0YXJ0IiwiZW5kIiwiZXhwb3J0QXVkaXRMb2dzIiwiX21ldGFkYXRhJGNvbXBvbmVudDIiLCJfbWV0YWRhdGEkYWN0aW9uMiIsImNvbXBvbmVudHMiLCJfY29kZTIiLCJfdW51c2VkMiIsIl9leHBvcnRTZWN1cmVBdWRpdExvZ3MiLCJfdGhpczYiLCJfc3RhcnREYXRlJHRvSVNPU3RyaW4iLCJfc3RhcnREYXRlJHRvSVNPU3RyaW4yIiwiX29wdGlvbnMkZW5kRGF0ZTIiLCJfb3B0aW9ucyRsZXZlbHMyIiwiX29wdGlvbnMkaW5jbHVkZU1ldHJpMiIsImV4cG9ydFNlY3VyZUF1ZGl0TG9ncyIsInJlcGxhY2UiLCJzdHIiLCJtYXhMZW5ndGgiLCJ0cmFja0ZlYXR1cmUiLCJmZWF0dXJlIiwidHJhY2tpbmdJZCIsImZlYXR1cmVIYXNoIiwibG9nU2VjdXJpdHlFdmVudCIsImV2ZW50IiwiZGV0YWlscyIsIl9kZXRhaWxzJGNvbXBvbmVudCIsIl9kZXRhaWxzJGFjdGlvbiIsInNhZmVFdmVudCIsInNhbml0aXplZERldGFpbHMiLCJlbmhhbmNlZERldGFpbHMiLCJldmVudFR5cGUiLCJzZWN1cml0eUxldmVsIiwiZXZlbnRJZCIsImVudmlyb25tZW50SGFzaCIsImxvZ2dlciJdLCJzb3VyY2VzIjpbImxvZ2dlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE1vYmlsZSBMb2dnZXIgU2VydmljZVxuICogTGlnaHR3ZWlnaHQgbG9nZ2luZyBmb3IgUmVhY3QgTmF0aXZlIHdpdGggU2VudHJ5IGludGVncmF0aW9uXG4gKi9cblxuaW1wb3J0ICogYXMgU2VudHJ5IGZyb20gXCJAc2VudHJ5L3JlYWN0LW5hdGl2ZVwiO1xuaW1wb3J0ICogYXMgS2V5Y2hhaW4gZnJvbSBcInJlYWN0LW5hdGl2ZS1rZXljaGFpblwiO1xuaW1wb3J0ICogYXMgQWVzIGZyb20gXCJyZWFjdC1uYXRpdmUtYWVzLWNyeXB0b1wiO1xuaW1wb3J0IEVuY3J5cHRlZFN0b3JhZ2UgZnJvbSBcInJlYWN0LW5hdGl2ZS1lbmNyeXB0ZWQtc3RvcmFnZVwiO1xuXG4vLyBUeXBlIGFzc2VydGlvbiBmb3IgU2VudHJ5IHRvIGF2b2lkIHVuc2FmZSBjYWxsIGVycm9yc1xuY29uc3Qgc2VudHJ5ID0gU2VudHJ5IGFzIHtcbiAgY2FwdHVyZUV4Y2VwdGlvbjogKGVycm9yOiBFcnJvciwgY29udGV4dD86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB2b2lkO1xuICBjYXB0dXJlTWVzc2FnZTogKG1lc3NhZ2U6IHN0cmluZywgbGV2ZWw6IHN0cmluZykgPT4gdm9pZDtcbiAgc2V0Q29udGV4dDogKGtleTogc3RyaW5nLCBjb250ZXh0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gdm9pZDtcbiAgc2V0VXNlcjogKHVzZXI6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB2b2lkO1xuICBhZGRCcmVhZGNydW1iOiAoYnJlYWRjcnVtYjogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIERFQlVHID0gXCJkZWJ1Z1wiLFxuICBJTkZPID0gXCJpbmZvXCIsXG4gIFdBUk4gPSBcIndhcm5cIixcbiAgRVJST1IgPSBcImVycm9yXCIsXG4gIFNFQ1VSSVRZID0gXCJzZWN1cml0eVwiLFxuICBQRVJGT1JNQU5DRSA9IFwicGVyZm9ybWFuY2VcIixcbn1cblxuZXhwb3J0IHR5cGUgTG9nTGV2ZWxUeXBlID0gYCR7TG9nTGV2ZWx9YDtcblxuZXhwb3J0IGludGVyZmFjZSBFcnJvckRldGFpbHMge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHN0YWNrPzogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGNvZGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9nTWV0YWRhdGEge1xuICBba2V5OiBzdHJpbmddOiB1bmtub3duO1xuICBlcnJvcj86IEVycm9yO1xuICB1c2VySWQ/OiBzdHJpbmc7XG4gIHNlc3Npb25JZD86IHN0cmluZztcbiAgY29ycmVsYXRpb25JZD86IHN0cmluZztcbiAgcmVxdWVzdElkPzogc3RyaW5nO1xuICBjb21wb25lbnQ/OiBzdHJpbmc7XG4gIGFjdGlvbj86IHN0cmluZztcbiAgZHVyYXRpb24/OiBudW1iZXI7XG4gIHRhZ3M/OiBzdHJpbmdbXTtcbiAgdmVyc2lvbj86IHN0cmluZztcbiAgdGltZXN0YW1wPzogc3RyaW5nO1xuICBsZXZlbD86IExvZ0xldmVsO1xuICBlcnJvckRldGFpbHM/OiBFcnJvckRldGFpbHM7XG4gIGlzRW5jcnlwdGVkPzogYm9vbGVhbjtcbiAgZW5jcnlwdGVkQXQ/OiBzdHJpbmc7XG4gIGVuY3J5cHRlZERhdGE/OiBFbmNyeXB0ZWREYXRhO1xuICBpbnRlZ3JpdHk/OiB7XG4gICAgaGFzaDogc3RyaW5nO1xuICAgIHRpbWVzdGFtcDogc3RyaW5nO1xuICB9O1xuICBpc1JlZGFjdGVkPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEF1ZGl0TG9nUmVxdWVzdCB7XG4gIHN0YXJ0RGF0ZT86IERhdGU7XG4gIGVuZERhdGU/OiBEYXRlO1xuICBsZXZlbHM/OiBMb2dMZXZlbFtdO1xuICBpbmNsdWRlTWV0cmljcz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRMb2dGaWx0ZXJzIHtcbiAgc3RhcnREYXRlOiBzdHJpbmc7XG4gIGVuZERhdGU6IHN0cmluZztcbiAgbGV2ZWxzOiBMb2dMZXZlbFtdO1xuICBpbmNsdWRlTWV0cmljczogYm9vbGVhbjtcbiAgY29udGVudEhhc2g6IHN0cmluZztcbiAgdG90YWxFbnRyaWVzOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBFeHBvcnRNZXRhZGF0YSB7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBleHBvcnRJZDogc3RyaW5nO1xuICBmaWx0ZXJzOiBBdWRpdExvZ0ZpbHRlcnM7XG59XG5cbmludGVyZmFjZSBBdWRpdExvZ0V4cG9ydCB7XG4gIGxvZ3M6IFN0cnVjdHVyZWRMb2dFbnRyeVtdO1xuICBtZXRyaWNzPzogTG9nQnVmZmVyTWV0cmljcztcbiAgZXhwb3J0TWV0YWRhdGE6IEV4cG9ydE1ldGFkYXRhO1xufVxuXG4vKipcbiAqIFR5cGUgZm9yIHdvcmtpbmcgd2l0aCBzdG9yYWdlIGtleXNcbiAqIEBwcml2YXRlXG4gKi9cbnR5cGUgU3RvcmFnZUtleSA9IHN0cmluZyAmIHsgcmVhZG9ubHkgX19zdG9yYWdlS2V5OiB1bmlxdWUgc3ltYm9sIH07XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBlbmNyeXB0ZWQgbG9nIHN0b3JhZ2UgaXRlbVxuICogQHByaXZhdGVcbiAqL1xuaW50ZXJmYWNlIEVuY3J5cHRlZExvZ1N0b3JhZ2VJdGVtIHtcbiAgZGF0YTogRW5jcnlwdGVkRGF0YTtcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG4gIGxldmVsOiBMb2dMZXZlbDtcbiAgaGFzaDogc3RyaW5nO1xufVxuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgS2V5Y2hhaW4gb3B0aW9uc1xuICogQHByaXZhdGVcbiAqL1xuaW50ZXJmYWNlIF9LZXljaGFpbk9wdGlvbnMge1xuICBhY2Nlc3NpYmxlPzogS2V5Y2hhaW4uQUNDRVNTSUJMRTtcbiAgYWNjZXNzQ29udHJvbD86IEtleWNoYWluLkFDQ0VTU19DT05UUk9MO1xufVxuXG4vKipcbiAqIENvcmUgbG9nIGVudHJ5IHN0cnVjdHVyZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdHVyZWRMb2dFbnRyeSB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgbGV2ZWw6IExvZ0xldmVsO1xuICB0aW1lc3RhbXA6IHN0cmluZztcbiAgbWV0YWRhdGE6IExvZ01ldGFkYXRhO1xufVxuaW50ZXJmYWNlIFJhdGVMaW1pdENvbmZpZyB7XG4gIHBvaW50czogbnVtYmVyO1xuICBpbnRlcnZhbDogbnVtYmVyOyAvLyBpbiBtaWxsaXNlY29uZHNcbn1cblxuaW50ZXJmYWNlIEVuY3J5cHRlZERhdGEge1xuICBjaXBoZXJ0ZXh0OiBzdHJpbmc7XG4gIGl2OiBzdHJpbmc7XG4gIHRhZz86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIF9FbmNyeXB0aW9uS2V5cyB7XG4gIGtleTogc3RyaW5nO1xuICBzYWx0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBMb2dCdWZmZXJNZXRyaWNzIHtcbiAgdG90YWxFbnRyaWVzOiBudW1iZXI7XG4gIGNyaXRpY2FsRW50cmllczogbnVtYmVyO1xuICBvbGRlc3RFbnRyeTogRGF0ZSB8IG51bGw7XG4gIGxhdGVzdEVudHJ5OiBEYXRlIHwgbnVsbDtcbn1cblxuY2xhc3MgTW9iaWxlTG9nZ2VyIHtcbiAgcHJpdmF0ZSBpc0RldmVsb3BtZW50ID0gX19ERVZfXztcbiAgcHJpdmF0ZSBzZXNzaW9uSWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBhcHBWZXJzaW9uOiBzdHJpbmc7XG4gIHByaXZhdGUgdXNlckluZm86IHsgaWQ/OiBzdHJpbmc7IGVtYWlsPzogc3RyaW5nOyB1c2VybmFtZT86IHN0cmluZyB9IHwgbnVsbCA9XG4gICAgbnVsbDtcbiAgcHJpdmF0ZSBsb2dCdWZmZXI6IFN0cnVjdHVyZWRMb2dFbnRyeVtdID0gW107XG4gIHByaXZhdGUgb2ZmbGluZUJ1ZmZlcjogU3RydWN0dXJlZExvZ0VudHJ5W10gPSBbXTtcbiAgcHJpdmF0ZSBlbmNyeXB0aW9uS2V5OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBlbmNyeXB0aW9uU2FsdDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgLy8gRW5jcnlwdGlvbiBjb25zdGFudHNcbiAgcHJpdmF0ZSByZWFkb25seSBFTkNSWVBUSU9OX0tFWV9TSVpFID0gMzI7IC8vIDI1NiBiaXRzXG4gIHByaXZhdGUgcmVhZG9ubHkgRU5DUllQVElPTl9JVl9TSVpFID0gMTY7IC8vIDEyOCBiaXRzXG4gIHByaXZhdGUgcmVhZG9ubHkgRU5DUllQVElPTl9LRVlfU1RPUkFHRV9LRVkgPSBcImxvZ2dlcl9lbmNyeXB0aW9uX2tleVwiO1xuICBwcml2YXRlIHJlYWRvbmx5IEVOQ1JZUFRJT05fU0FMVF9TVE9SQUdFX0tFWSA9IFwibG9nZ2VyX2VuY3J5cHRpb25fc2FsdFwiO1xuXG4gIC8vIENvbnN0YW50c1xuICBwcml2YXRlIHJlYWRvbmx5IE1BWF9MT0dfQlVGRkVSX1NJWkUgPSAxMDAwO1xuICBwcml2YXRlIHJlYWRvbmx5IE1BWF9MT0dfU0laRSA9IDMyNzY4OyAvLyAzMktCIHBlciBsb2cgZW50cnlcbiAgcHJpdmF0ZSByZWFkb25seSBNQVhfT0ZGTElORV9CVUZGRVJfU0laRSA9IDUwMDtcbiAgcHJpdmF0ZSByYXRlTGltaXRCYWNrb2ZmID0gMTAwOyAvLyBJbml0aWFsIGJhY2tvZmYgaW4gbXNcblxuICAvLyBSYXRlIGxpbWl0aW5nIGNvbmZpZ3VyYXRpb24gcGVyIGxvZyBsZXZlbFxuICBwcml2YXRlIHJlYWRvbmx5IHJhdGVMaW1pdHM6IFJlY29yZDxMb2dMZXZlbCwgUmF0ZUxpbWl0Q29uZmlnPiA9IHtcbiAgICBbTG9nTGV2ZWwuREVCVUddOiB7IHBvaW50czogMTAwMCwgaW50ZXJ2YWw6IDYwMDAwIH0sIC8vIDEwMDAgcGVyIG1pbnV0ZVxuICAgIFtMb2dMZXZlbC5JTkZPXTogeyBwb2ludHM6IDUwMCwgaW50ZXJ2YWw6IDYwMDAwIH0sIC8vIDUwMCBwZXIgbWludXRlXG4gICAgW0xvZ0xldmVsLldBUk5dOiB7IHBvaW50czogMTAwLCBpbnRlcnZhbDogNjAwMDAgfSwgLy8gMTAwIHBlciBtaW51dGVcbiAgICBbTG9nTGV2ZWwuRVJST1JdOiB7IHBvaW50czogNTAsIGludGVydmFsOiA2MDAwMCB9LCAvLyA1MCBwZXIgbWludXRlXG4gICAgW0xvZ0xldmVsLlNFQ1VSSVRZXTogeyBwb2ludHM6IDIwLCBpbnRlcnZhbDogNjAwMDAgfSwgLy8gMjAgcGVyIG1pbnV0ZVxuICAgIFtMb2dMZXZlbC5QRVJGT1JNQU5DRV06IHsgcG9pbnRzOiAyMDAsIGludGVydmFsOiA2MDAwMCB9LCAvLyAyMDAgcGVyIG1pbnV0ZVxuICB9O1xuXG4gIC8vIFJhdGUgbGltaXRpbmcgc3RhdGVcbiAgcHJpdmF0ZSByYXRlVHJhY2tpbmc6IFJlY29yZDxMb2dMZXZlbCwgeyBjb3VudDogbnVtYmVyOyByZXNldFRpbWU6IG51bWJlciB9PiA9XG4gICAge1xuICAgICAgW0xvZ0xldmVsLkRFQlVHXTogeyBjb3VudDogMCwgcmVzZXRUaW1lOiBEYXRlLm5vdygpIH0sXG4gICAgICBbTG9nTGV2ZWwuSU5GT106IHsgY291bnQ6IDAsIHJlc2V0VGltZTogRGF0ZS5ub3coKSB9LFxuICAgICAgW0xvZ0xldmVsLldBUk5dOiB7IGNvdW50OiAwLCByZXNldFRpbWU6IERhdGUubm93KCkgfSxcbiAgICAgIFtMb2dMZXZlbC5FUlJPUl06IHsgY291bnQ6IDAsIHJlc2V0VGltZTogRGF0ZS5ub3coKSB9LFxuICAgICAgW0xvZ0xldmVsLlNFQ1VSSVRZXTogeyBjb3VudDogMCwgcmVzZXRUaW1lOiBEYXRlLm5vdygpIH0sXG4gICAgICBbTG9nTGV2ZWwuUEVSRk9STUFOQ0VdOiB7IGNvdW50OiAwLCByZXNldFRpbWU6IERhdGUubm93KCkgfSxcbiAgICB9O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xuICAgIHRoaXMuYXBwVmVyc2lvbiA9IFwiMS4wLjBcIjsgLy8gQ291bGQgYmUgZnJvbSBhcHAgY29uZmlnXG4gICAgdGhpcy5zZXR1cExvZ1JvdGF0aW9uKCk7XG4gICAgdm9pZCB0aGlzLmluaXRpYWxpemVFbmNyeXB0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBlbmNyeXB0aW9uIGtleXMgYW5kIHN0b3JhZ2VcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaW5pdGlhbGl6ZUVuY3J5cHRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRyeSB0byByZXRyaWV2ZSBleGlzdGluZyBlbmNyeXB0aW9uIGtleXNcbiAgICAgIGNvbnN0IHN0b3JlZEtleSA9IGF3YWl0IEtleWNoYWluLmdldEdlbmVyaWNQYXNzd29yZCh7XG4gICAgICAgIHNlcnZpY2U6IHRoaXMuRU5DUllQVElPTl9LRVlfU1RPUkFHRV9LRVksXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHN0b3JlZFNhbHQgPSBhd2FpdCBLZXljaGFpbi5nZXRHZW5lcmljUGFzc3dvcmQoe1xuICAgICAgICBzZXJ2aWNlOiB0aGlzLkVOQ1JZUFRJT05fU0FMVF9TVE9SQUdFX0tFWSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc3RvcmVkS2V5ICYmIHN0b3JlZFNhbHQpIHtcbiAgICAgICAgdGhpcy5lbmNyeXB0aW9uS2V5ID0gc3RvcmVkS2V5LnBhc3N3b3JkO1xuICAgICAgICB0aGlzLmVuY3J5cHRpb25TYWx0ID0gc3RvcmVkU2FsdC5wYXNzd29yZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdlbmVyYXRlIG5ldyBlbmNyeXB0aW9uIGtleXNcbiAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVNlY3VyZUtleSgpO1xuICAgICAgICBjb25zdCBzYWx0ID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVNlY3VyZVJhbmRvbUJ5dGVzKFxuICAgICAgICAgIHRoaXMuRU5DUllQVElPTl9LRVlfU0laRSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBTdG9yZSBrZXlzIHNlY3VyZWx5XG4gICAgICAgIGF3YWl0IEtleWNoYWluLnNldEdlbmVyaWNQYXNzd29yZChcbiAgICAgICAgICB0aGlzLkVOQ1JZUFRJT05fS0VZX1NUT1JBR0VfS0VZLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICB7IHNlcnZpY2U6IHRoaXMuRU5DUllQVElPTl9LRVlfU1RPUkFHRV9LRVkgfSxcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgS2V5Y2hhaW4uc2V0R2VuZXJpY1Bhc3N3b3JkKFxuICAgICAgICAgIHRoaXMuRU5DUllQVElPTl9TQUxUX1NUT1JBR0VfS0VZLFxuICAgICAgICAgIHNhbHQsXG4gICAgICAgICAgeyBzZXJ2aWNlOiB0aGlzLkVOQ1JZUFRJT05fU0FMVF9TVE9SQUdFX0tFWSB9LFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuZW5jcnlwdGlvbktleSA9IGtleTtcbiAgICAgICAgdGhpcy5lbmNyeXB0aW9uU2FsdCA9IHNhbHQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgIHRoaXMuZXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBlbmNyeXB0aW9uXCIsIHtcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgICAgICBjb21wb25lbnQ6IFwiTG9nZ2VyXCIsXG4gICAgICAgIGFjdGlvbjogXCJpbml0aWFsaXplRW5jcnlwdGlvblwiLFxuICAgICAgfSk7XG4gICAgICAvLyBGYWxsIGJhY2sgdG8gdW5lbmNyeXB0ZWQgbG9nZ2luZyBpZiBlbmNyeXB0aW9uIHNldHVwIGZhaWxzXG4gICAgICB0aGlzLmVuY3J5cHRpb25LZXkgPSBudWxsO1xuICAgICAgdGhpcy5lbmNyeXB0aW9uU2FsdCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbXBhdGliaWxpdHkgaGVscGVycyBmb3Igb2JzZXJ2YWJpbGl0eSBzZXJ2aWNlXG4gICAqL1xuICBzZXRVc2VyQ29udGV4dChcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBwcm9wZXJ0aWVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuICApOiB2b2lkIHtcbiAgICAvLyBVcGRhdGUgaW50ZXJuYWwgdXNlciBpbmZvIG1pbmltYWxseVxuICAgIHRoaXMudXNlckluZm8gPSB7IGlkOiB1c2VySWQgfTtcbiAgICB0cnkge1xuICAgICAgc2VudHJ5LnNldFVzZXIoeyBpZDogdXNlcklkLCAuLi5wcm9wZXJ0aWVzIH0pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gaWdub3JlXG4gICAgfVxuICB9XG5cbiAgY2xlYXJVc2VyQ29udGV4dCgpOiB2b2lkIHtcbiAgICB0aGlzLnVzZXJJbmZvID0gbnVsbDtcbiAgICB0aGlzLmNsZWFyU2VudHJ5Q29udGV4dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgc2VjdXJlIHJhbmRvbSBrZXkgZm9yIGVuY3J5cHRpb25cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVTZWN1cmVLZXkoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmFuZG9tQnl0ZXMgPSBhd2FpdCB0aGlzLmdlbmVyYXRlU2VjdXJlUmFuZG9tQnl0ZXMoXG4gICAgICAgIHRoaXMuRU5DUllQVElPTl9LRVlfU0laRSxcbiAgICAgICk7XG4gICAgICByZXR1cm4gYXdhaXQgQWVzLnBia2RmMihcbiAgICAgICAgcmFuZG9tQnl0ZXMsXG4gICAgICAgIHRoaXMuZW5jcnlwdGlvblNhbHQgPz9cbiAgICAgICAgICAoYXdhaXQgdGhpcy5nZW5lcmF0ZVNlY3VyZVJhbmRvbUJ5dGVzKHRoaXMuRU5DUllQVElPTl9LRVlfU0laRSkpLFxuICAgICAgICAxMDAwMCwgLy8gSXRlcmF0aW9uc1xuICAgICAgICB0aGlzLkVOQ1JZUFRJT05fS0VZX1NJWkUsXG4gICAgICAgIFwic2hhMjU2XCIsIC8vIEhhc2ggYWxnb3JpdGhtXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgc2VjdXJlIGtleTogXCIgKyBTdHJpbmcoZXJyb3IpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgc2VjdXJlIHJhbmRvbSBieXRlc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZVNlY3VyZVJhbmRvbUJ5dGVzKHNpemU6IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleSA9IGF3YWl0IEFlcy5yYW5kb21LZXkoc2l6ZSk7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgcmFuZG9tIGJ5dGVzOiBcIiArIFN0cmluZyhlcnJvcikpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmNyeXB0IHNlbnNpdGl2ZSBkYXRhXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGVuY3J5cHREYXRhKGRhdGE6IHN0cmluZyk6IFByb21pc2U8RW5jcnlwdGVkRGF0YT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuZW5jcnlwdGlvbktleSB8fCAhdGhpcy5lbmNyeXB0aW9uU2FsdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmNyeXB0aW9uIG5vdCBpbml0aWFsaXplZFwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXYgPSBhd2FpdCB0aGlzLmdlbmVyYXRlU2VjdXJlUmFuZG9tQnl0ZXModGhpcy5FTkNSWVBUSU9OX0lWX1NJWkUpO1xuICAgICAgY29uc3QgY2lwaGVydGV4dCA9IGF3YWl0IEFlcy5lbmNyeXB0KFxuICAgICAgICBkYXRhLFxuICAgICAgICB0aGlzLmVuY3J5cHRpb25LZXksXG4gICAgICAgIGl2LFxuICAgICAgICBcImFlcy0yNTYtY2JjXCIsXG4gICAgICApO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjaXBoZXJ0ZXh0LFxuICAgICAgICBpdixcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuY3J5cHRpb24gZmFpbGVkOiBcIiArIFN0cmluZyhlcnJvcikpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZWNyeXB0IGVuY3J5cHRlZCBkYXRhXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGRlY3J5cHREYXRhKGVuY3J5cHRlZERhdGE6IEVuY3J5cHRlZERhdGEpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuZW5jcnlwdGlvbktleSB8fCAhdGhpcy5lbmNyeXB0aW9uU2FsdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbmNyeXB0aW9uIG5vdCBpbml0aWFsaXplZFwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGVjcnlwdGVkID0gYXdhaXQgQWVzLmRlY3J5cHQoXG4gICAgICAgIGVuY3J5cHRlZERhdGEuY2lwaGVydGV4dCxcbiAgICAgICAgdGhpcy5lbmNyeXB0aW9uS2V5LFxuICAgICAgICBlbmNyeXB0ZWREYXRhLml2LFxuICAgICAgICBcImFlcy0xMjgtY2JjXCIsXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gZGVjcnlwdGVkO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZWNyeXB0aW9uIGZhaWxlZDogXCIgKyBTdHJpbmcoZXJyb3IpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIHBlcmlvZGljIGxvZyByb3RhdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cExvZ1JvdGF0aW9uKCk6IHZvaWQge1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmxvZ0J1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZvaWQgdGhpcy5yb3RhdGVBbmRQZXJzaXN0TG9ncygpO1xuICAgICAgfVxuICAgIH0sIDYwMDAwKTsgLy8gUm90YXRlIGV2ZXJ5IG1pbnV0ZSBpZiBuZWVkZWRcbiAgfVxuXG4gIC8qKlxuICAgKiBSb3RhdGUgYW5kIHBlcnNpc3QgbG9ncyBzZWN1cmVseVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyByb3RhdGVBbmRQZXJzaXN0TG9ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbG9nc1RvUm90YXRlID0gWy4uLnRoaXMubG9nQnVmZmVyXTtcbiAgICAgIHRoaXMubG9nQnVmZmVyID0gW107XG5cbiAgICAgIC8vIEVuY3J5cHQgc2Vuc2l0aXZlIGxvZ3MgYmVmb3JlIHBlcnNpc3RpbmdcbiAgICAgIGNvbnN0IGVuY3J5cHRlZExvZ3MgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgbG9nc1RvUm90YXRlLm1hcChhc3luYyAobG9nKSA9PlxuICAgICAgICAgIHRoaXMuc2hvdWxkRW5jcnlwdExvZyhsb2cpID8gYXdhaXQgdGhpcy5lbmNyeXB0TG9nRW50cnkobG9nKSA6IGxvZyxcbiAgICAgICAgKSxcbiAgICAgICk7XG5cbiAgICAgIC8vIEhlcmUgd2UgY291bGQgcGVyc2lzdCB0byBzZWN1cmUgc3RvcmFnZSBvciBzZW5kIHRvIHNlY3VyZSBsb2dnaW5nIHNlcnZpY2VcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIGp1c3Qga2VlcCBpbiBtZW1vcnkgd2l0aCBzaXplIGxpbWl0c1xuICAgICAgdGhpcy5sb2dCdWZmZXIgPSBlbmNyeXB0ZWRMb2dzLnNsaWNlKC10aGlzLk1BWF9MT0dfQlVGRkVSX1NJWkUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIkZhaWxlZCB0byByb3RhdGUgbG9nczpcIixcbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgbG9nIGVudHJ5IGNvbnRhaW5zIHNlbnNpdGl2ZSBkYXRhIHJlcXVpcmluZyBlbmNyeXB0aW9uXG4gICAqL1xuICBwcml2YXRlIHNob3VsZEVuY3J5cHRMb2cobG9nOiBTdHJ1Y3R1cmVkTG9nRW50cnkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgbG9nLmxldmVsID09PSBMb2dMZXZlbC5TRUNVUklUWSB8fFxuICAgICAgbG9nLm1ldGFkYXRhLnVzZXJJZCAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICBsb2cubWV0YWRhdGEuc2Vzc2lvbklkICE9PSB1bmRlZmluZWRcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhc2ljIGVuY3J5cHRpb24gZm9yIHNlbnNpdGl2ZSBsb2cgZW50cmllc1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBlbmNyeXB0TG9nRW50cnkoXG4gICAgbG9nOiBTdHJ1Y3R1cmVkTG9nRW50cnksXG4gICk6IFByb21pc2U8U3RydWN0dXJlZExvZ0VudHJ5PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5lbmNyeXB0aW9uS2V5KSB7XG4gICAgICAgIC8vIEZhbGwgYmFjayB0byByZWRhY3Rpb24gaWYgZW5jcnlwdGlvbiBpcyBub3QgYXZhaWxhYmxlXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubG9nLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiW1JFREFDVEVEXSBFbmNyeXB0aW9uIHVuYXZhaWxhYmxlXCIsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbG9nLnRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxldmVsOiBsb2cubGV2ZWwsXG4gICAgICAgICAgICBpc1JlZGFjdGVkOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIEVuY3J5cHQgdGhlIHNlbnNpdGl2ZSBwYXJ0c1xuICAgICAgY29uc3QgZW5jcnlwdGVkRGF0YSA9IGF3YWl0IHRoaXMuZW5jcnlwdERhdGEoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBtZXNzYWdlOiBsb2cubWVzc2FnZSxcbiAgICAgICAgICBtZXRhZGF0YTogdGhpcy5zYW5pdGl6ZU1ldGFkYXRhKGxvZy5tZXRhZGF0YSksXG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubG9nLFxuICAgICAgICBtZXNzYWdlOiBcIltFTkNSWVBURURdXCIsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgLi4ubG9nLm1ldGFkYXRhLFxuICAgICAgICAgIGlzRW5jcnlwdGVkOiB0cnVlLFxuICAgICAgICAgIGVuY3J5cHRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgZW5jcnlwdGVkRGF0YTogZW5jcnlwdGVkRGF0YSxcbiAgICAgICAgICBpbnRlZ3JpdHk6IHtcbiAgICAgICAgICAgIGhhc2g6IGF3YWl0IHRoaXMuZ2VuZXJhdGVITUFDKFxuICAgICAgICAgICAgICBsb2cubWVzc2FnZSArIEpTT04uc3RyaW5naWZ5KGxvZy5tZXRhZGF0YSksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIGVuY3J5cHRpb24gZmFpbHMsIHJlZGFjdCBzZW5zaXRpdmUgZGF0YVxuICAgICAgdGhpcy5lcnJvcihcIkxvZyBlbmNyeXB0aW9uIGZhaWxlZFwiLCB7XG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSksXG4gICAgICAgIGNvbXBvbmVudDogXCJMb2dnZXJcIixcbiAgICAgICAgYWN0aW9uOiBcImVuY3J5cHRMb2dFbnRyeVwiLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmxvZyxcbiAgICAgICAgbWVzc2FnZTogXCJbUkVEQUNURURdIExvZyBlbmNyeXB0aW9uIGZhaWxlZFwiLFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIHRpbWVzdGFtcDogbG9nLnRpbWVzdGFtcCxcbiAgICAgICAgICBsZXZlbDogbG9nLmxldmVsLFxuICAgICAgICAgIGlzUmVkYWN0ZWQ6IHRydWUsXG4gICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihcIkVuY3J5cHRpb24gZmFpbGVkXCIpLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgSE1BQyBmb3IgbG9nIGludGVncml0eVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBnZW5lcmF0ZUhNQUMoZGF0YTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLmVuY3J5cHRpb25LZXkgfHwgIXRoaXMuZW5jcnlwdGlvblNhbHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGlvbiBub3QgaW5pdGlhbGl6ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGhtYWMgPSBhd2FpdCBBZXMuaG1hYzI1NihkYXRhLCB0aGlzLmVuY3J5cHRpb25LZXkpO1xuICAgICAgcmV0dXJuIGhtYWM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkhNQUMgZ2VuZXJhdGlvbiBmYWlsZWQ6IFwiICsgU3RyaW5nKGVycm9yKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVNlc3Npb25JZCgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcmFuZG9tVmFsdWUgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTApO1xuICAgIHJldHVybiBgbW9iaWxlX3Nlc3Npb25fJHt0aW1lc3RhbXAudG9TdHJpbmcoKX1fJHtyYW5kb21WYWx1ZX1gO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhbml0aXplcyBsb2cgZGF0YSB0byBjb21wbHkgd2l0aCBwcml2YWN5IHJlZ3VsYXRpb25zXG4gICAqL1xuICBwcml2YXRlIHNhbml0aXplTWV0YWRhdGEoZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogTG9nTWV0YWRhdGEge1xuICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBjb25zdCBzYW5pdGl6ZWQ6IExvZ01ldGFkYXRhID0ge307XG4gICAgY29uc3Qgc2Vuc2l0aXZlRmllbGRzID0gW1xuICAgICAgXCJwYXNzd29yZFwiLFxuICAgICAgXCJ0b2tlblwiLFxuICAgICAgXCJhY2Nlc3NUb2tlblwiLFxuICAgICAgXCJyZWZyZXNoVG9rZW5cIixcbiAgICAgIFwic2VjcmV0XCIsXG4gICAgICBcImFwaUtleVwiLFxuICAgICAgXCJhdXRob3JpemF0aW9uXCIsXG4gICAgICBcImF1dGhcIixcbiAgICAgIFwiY3JlZGVudGlhbHNcIixcbiAgICAgIFwiY3JlZGl0XCIsXG4gICAgICBcImNhcmRcIixcbiAgICAgIFwiY2N2XCIsXG4gICAgICBcImN2dlwiLFxuICAgICAgXCJzc25cIixcbiAgICAgIFwic29jaWFsXCIsXG4gICAgICBcImFkZHJlc3NcIixcbiAgICAgIFwicGhvbmVcIixcbiAgICAgIFwiYmlydGhcIixcbiAgICAgIFwiemlwXCIsXG4gICAgICBcInBvc3RhbFwiLFxuICAgICAgXCJwYXltZW50XCIsXG4gICAgXTtcblxuICAgIGNvbnN0IGhhc2hWYWx1ZSA9ICh2YWx1ZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBcImVtcHR5XCI7XG4gICAgICB9XG4gICAgICBsZXQgaGFzaCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoYXIgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjtcbiAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc2gudG9TdHJpbmcoMTYpLnN1YnN0cmluZygwLCA4KTtcbiAgICB9O1xuXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgIGNvbnN0IGxvd2VyS2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgIGlmIChzZW5zaXRpdmVGaWVsZHMuc29tZSgoZmllbGQpID0+IGxvd2VyS2V5LmluY2x1ZGVzKGZpZWxkKSkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgIHNhbml0aXplZFtrZXldID0gYFtSRURBQ1RFRDoke2hhc2hWYWx1ZSh2YWx1ZSl9XWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2FuaXRpemVkW2tleV0gPSBcIltSRURBQ1RFRF1cIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIC8vIFByb2Nlc3MgZXJyb3Igc2FmZWx5XG4gICAgICAgIGNvbnN0IHN0YWNrTGluZXMgPSB2YWx1ZS5zdGFjaz8uc3BsaXQoXCJcXG5cIikgPz8gW107XG4gICAgICAgIGNvbnN0IHNlbnNpdGl2ZVBhdHRlcm5zID0gW1xuICAgICAgICAgIC9wYXNzd29yZD0vaSxcbiAgICAgICAgICAvYXBpXz9rZXk9L2ksXG4gICAgICAgICAgL3NlY3JldD0vaSxcbiAgICAgICAgICAvdG9rZW49L2ksXG4gICAgICAgICAgL2F1dGg9L2ksXG4gICAgICAgICAgL2JlYXJlciAvaSxcbiAgICAgICAgICAvYmFzaWMgL2ksXG4gICAgICAgICAgL1xcL3VzZXJzXFwvXFxkKy9pLFxuICAgICAgICAgIC9cXGJbXFx3LiUrLV0rQFtcXHcuLV0rXFwuW0EtWmEtel17Mix9XFxiLyxcbiAgICAgICAgICAvXFxiXFxkezR9Wy0gXT9cXGR7NH1bLSBdP1xcZHs0fVstIF0/XFxkezR9XFxiLyxcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBGaWx0ZXIgc2Vuc2l0aXZlIGluZm8gZnJvbSBzdGFjayBpZiBpbiBkZXZlbG9wbWVudFxuICAgICAgICBjb25zdCBzYW5pdGl6ZWRTdGFjayA9IHRoaXMuaXNEZXZlbG9wbWVudFxuICAgICAgICAgID8gc3RhY2tMaW5lc1xuICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgIChsaW5lKSA9PlxuICAgICAgICAgICAgICAgICAgIXNlbnNpdGl2ZVBhdHRlcm5zLnNvbWUoKHBhdHRlcm4pID0+IHBhdHRlcm4udGVzdChsaW5lKSksXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLmpvaW4oXCJcXG5cIilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBzYW5pdGl6ZWRba2V5XSA9IHtcbiAgICAgICAgICBtZXNzYWdlOiB2YWx1ZS5tZXNzYWdlID8/IFwiVW5rbm93biBlcnJvclwiLFxuICAgICAgICAgIHN0YWNrOiBzYW5pdGl6ZWRTdGFjayxcbiAgICAgICAgICBuYW1lOiB2YWx1ZS5uYW1lID8/IFwiRXJyb3JcIixcbiAgICAgICAgICBjb2RlOiAodmFsdWUgYXMgRXJyb3IgJiB7IGNvZGU/OiBzdHJpbmcgfSkuY29kZSA/PyBcIlVOS05PV05cIixcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHNhbml0aXplZFtrZXldID0gdGhpcy5zYW5pdGl6ZU1ldGFkYXRhKFxuICAgICAgICAgIHZhbHVlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2FuaXRpemVkW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2FuaXRpemVkO1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JtYXRMb2dNZXNzYWdlKFxuICAgIGxldmVsOiBMb2dMZXZlbCxcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgbWV0YWRhdGE/OiBMb2dNZXRhZGF0YSxcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3Qgc2FuaXRpemVkID0gdGhpcy5zYW5pdGl6ZU1ldGFkYXRhKG1ldGFkYXRhKTtcblxuICAgIGNvbnN0IHBhcnRzID0gW2BbJHt0aW1lc3RhbXB9XWAsIGBbJHtsZXZlbC50b1VwcGVyQ2FzZSgpfV1gLCBtZXNzYWdlXTtcblxuICAgIGlmIChPYmplY3Qua2V5cyhzYW5pdGl6ZWQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHBhcnRzLnB1c2goSlNPTi5zdHJpbmdpZnkoc2FuaXRpemVkLCBudWxsLCAyKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oXCIgXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvcmUgbG9nZ2luZyBmdW5jdGlvblxuICAgKi9cbiAgcHJpdmF0ZSB2YWxpZGF0ZUxvZ0VudHJ5KG1lc3NhZ2U6IHN0cmluZywgbWV0YWRhdGE/OiBMb2dNZXRhZGF0YSk6IGJvb2xlYW4ge1xuICAgIGlmIChtZXNzYWdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHRvdGFsIGxvZyBzaXplXG4gICAgY29uc3QgdG90YWxTaXplID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkoeyBtZXNzYWdlLCBtZXRhZGF0YSB9KSxcbiAgICApLmxlbmd0aDtcblxuICAgIGlmICh0b3RhbFNpemUgPiB0aGlzLk1BWF9MT0dfU0laRSkge1xuICAgICAgdGhpcy53YXJuKFwiTG9nIGVudHJ5IGV4Y2VlZGVkIG1heGltdW0gc2l6ZSBsaW1pdFwiLCB7XG4gICAgICAgIHNpemU6IHRvdGFsU2l6ZSxcbiAgICAgICAgbGltaXQ6IHRoaXMuTUFYX0xPR19TSVpFLFxuICAgICAgICB0cnVuY2F0ZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBhbmQgdXBkYXRlIHJhdGUgbGltaXRzIGZvciBhIHNwZWNpZmljIGxvZyBsZXZlbFxuICAgKi9cbiAgcHJpdmF0ZSBjaGVja1JhdGVMaW1pdChsZXZlbDogTG9nTGV2ZWwpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pc0RldmVsb3BtZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gTm8gcmF0ZSBsaW1pdGluZyBpbiBkZXZlbG9wbWVudFxuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgdHJhY2tpbmcgPSB0aGlzLnJhdGVUcmFja2luZ1tsZXZlbF07XG4gICAgY29uc3QgbGltaXRzID0gdGhpcy5yYXRlTGltaXRzW2xldmVsXTtcblxuICAgIC8vIFJlc2V0IGlmIGludGVydmFsIGhhcyBwYXNzZWRcbiAgICBpZiAobm93IC0gdHJhY2tpbmcucmVzZXRUaW1lID49IGxpbWl0cy5pbnRlcnZhbCkge1xuICAgICAgdHJhY2tpbmcuY291bnQgPSAwO1xuICAgICAgdHJhY2tpbmcucmVzZXRUaW1lID0gbm93O1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHdpdGhpbiBsaW1pdHNcbiAgICBpZiAodHJhY2tpbmcuY291bnQgPj0gbGltaXRzLnBvaW50cykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyYWNraW5nLmNvdW50Kys7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgZ2VuZXJhbCByYXRlIGxpbWl0aW5nIHdpdGggYmFja29mZlxuICAgKi9cbiAgcHJpdmF0ZSBhcHBseVJhdGVMaW1pdCgpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pc0RldmVsb3BtZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RMb2cgPSBub3cgLSB0aGlzLmxhc3RMb2dUaW1lO1xuXG4gICAgaWYgKHRpbWVTaW5jZUxhc3RMb2cgPCB0aGlzLnJhdGVMaW1pdEJhY2tvZmYpIHtcbiAgICAgIC8vIEluY3JlYXNlIGJhY2tvZmYgZm9yIGZyZXF1ZW50IGxvZ2dpbmdcbiAgICAgIHRoaXMucmF0ZUxpbWl0QmFja29mZiA9IE1hdGgubWluKHRoaXMucmF0ZUxpbWl0QmFja29mZiAqIDIsIDUwMDApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IGJhY2tvZmYgaWYgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZFxuICAgIGlmICh0aW1lU2luY2VMYXN0TG9nID4gMTAwMCkge1xuICAgICAgdGhpcy5yYXRlTGltaXRCYWNrb2ZmID0gMTAwO1xuICAgIH1cblxuICAgIHRoaXMubGFzdExvZ1RpbWUgPSBub3c7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGVudHJ5IHRvIG9mZmxpbmUgYnVmZmVyXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGJ1ZmZlck9mZmxpbmVMb2coZW50cnk6IFN0cnVjdHVyZWRMb2dFbnRyeSk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIE9ubHkgYnVmZmVyIGltcG9ydGFudCBsb2dzXG4gICAgaWYgKGVudHJ5LmxldmVsID09PSBMb2dMZXZlbC5ERUJVRyB8fCBlbnRyeS5sZXZlbCA9PT0gTG9nTGV2ZWwuSU5GTykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBBZGQgdG8gbWVtb3J5IGJ1ZmZlclxuICAgICAgdGhpcy5vZmZsaW5lQnVmZmVyLnB1c2goZW50cnkpO1xuXG4gICAgICAvLyBUcmltIGJ1ZmZlciBpZiBpdCBleGNlZWRzIHNpemUgbGltaXRcbiAgICAgIGlmICh0aGlzLm9mZmxpbmVCdWZmZXIubGVuZ3RoID4gdGhpcy5NQVhfT0ZGTElORV9CVUZGRVJfU0laRSkge1xuICAgICAgICAvLyBLZWVwIG1vc3QgcmVjZW50IGxvZ3MsIHJlbW92aW5nIG9sZGVzdFxuICAgICAgICB0aGlzLm9mZmxpbmVCdWZmZXIgPSB0aGlzLm9mZmxpbmVCdWZmZXIuc2xpY2UoXG4gICAgICAgICAgLXRoaXMuTUFYX09GRkxJTkVfQlVGRkVSX1NJWkUsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFBlcnNpc3QgdG8gc2VjdXJlIHN0b3JhZ2VcbiAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgb2ZmbGluZV9sb2dfJHtlbnRyeS50aW1lc3RhbXB9XyR7dGhpcy5oYXNoSWRlbnRpZmllcihlbnRyeS5tZXNzYWdlKX1gO1xuICAgICAgY29uc3QgZW5jcnlwdGVkRGF0YSA9IGF3YWl0IHRoaXMuZW5jcnlwdERhdGEoSlNPTi5zdHJpbmdpZnkoZW50cnkpKTtcblxuICAgICAgYXdhaXQgRW5jcnlwdGVkU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICBzdG9yYWdlS2V5LFxuICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZGF0YTogZW5jcnlwdGVkRGF0YSxcbiAgICAgICAgICB0aW1lc3RhbXA6IGVudHJ5LnRpbWVzdGFtcCxcbiAgICAgICAgICBsZXZlbDogZW50cnkubGV2ZWwsXG4gICAgICAgICAgaGFzaDogYXdhaXQgdGhpcy5nZW5lcmF0ZUhNQUMoSlNPTi5zdHJpbmdpZnkoZW50cnkpKSxcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICAvLyBDbGVhbiB1cCBvbGQgZW50cmllcyBmcm9tIHN0b3JhZ2VcbiAgICAgIGF3YWl0IHRoaXMuY2xlYW51cE9sZE9mZmxpbmVMb2dzKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgIHRoaXMuZXJyb3IoXCJGYWlsZWQgdG8gYnVmZmVyIG9mZmxpbmUgbG9nXCIsIHtcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgICAgICBjb21wb25lbnQ6IFwiTG9nZ2VyXCIsXG4gICAgICAgIGFjdGlvbjogXCJidWZmZXJPZmZsaW5lTG9nXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAgb2xkIG9mZmxpbmUgbG9ncyBmcm9tIHNlY3VyZSBzdG9yYWdlXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGNsZWFudXBPbGRPZmZsaW5lTG9ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGFsbCBzdG9yYWdlIGtleXNcbiAgICAgIGNvbnN0IGFsbEtleXMgPSBPYmplY3Qua2V5cyhcbiAgICAgICAgKGF3YWl0IEVuY3J5cHRlZFN0b3JhZ2UuZ2V0SXRlbShcIl9fa2V5c19fXCIpKSB8fCB7fSxcbiAgICAgICk7XG4gICAgICBjb25zdCBvZmZsaW5lTG9nS2V5cyA9IGFsbEtleXMuZmlsdGVyKChrZXkpOiBrZXkgaXMgc3RyaW5nID0+XG4gICAgICAgIGtleS5zdGFydHNXaXRoKFwib2ZmbGluZV9sb2dfXCIpLFxuICAgICAgKTtcblxuICAgICAgLy8gU29ydCBieSB0aW1lc3RhbXAgKGVtYmVkZGVkIGluIGtleSlcbiAgICAgIG9mZmxpbmVMb2dLZXlzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3QgWywgLCB0aW1lc3RhbXBBID0gXCIwXCJdID0gYS5zcGxpdChcIl9cIik7XG4gICAgICAgIGNvbnN0IFssICwgdGltZXN0YW1wQiA9IFwiMFwiXSA9IGIuc3BsaXQoXCJfXCIpO1xuICAgICAgICByZXR1cm4gdGltZXN0YW1wQS5sb2NhbGVDb21wYXJlKHRpbWVzdGFtcEIpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlbW92ZSBvbGRlc3QgZW50cmllcyBpZiB3ZSBleGNlZWQgdGhlIGxpbWl0XG4gICAgICBjb25zdCBsb2dzVG9SZW1vdmUgPSBvZmZsaW5lTG9nS2V5cy5zbGljZShcbiAgICAgICAgMCxcbiAgICAgICAgLXRoaXMuTUFYX09GRkxJTkVfQlVGRkVSX1NJWkUsXG4gICAgICApO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIGxvZ3NUb1JlbW92ZS5tYXAoKGtleSkgPT4gRW5jcnlwdGVkU3RvcmFnZS5yZW1vdmVJdGVtKGtleSkpLFxuICAgICAgKTtcblxuICAgICAgLy8gTG9nIGNsZWFudXBcbiAgICAgIGlmIChsb2dzVG9SZW1vdmUubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmluZm8oXCJDbGVhbmVkIHVwIG9sZCBvZmZsaW5lIGxvZ3NcIiwge1xuICAgICAgICAgIGNvbXBvbmVudDogXCJMb2dnZXJcIixcbiAgICAgICAgICBhY3Rpb246IFwiY2xlYW51cE9sZE9mZmxpbmVMb2dzXCIsXG4gICAgICAgICAgcmVtb3ZlZENvdW50OiBsb2dzVG9SZW1vdmUubGVuZ3RoLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgdGhpcy5lcnJvcihcIkZhaWxlZCB0byBjbGVhbnVwIG9sZCBvZmZsaW5lIGxvZ3NcIiwge1xuICAgICAgICBlcnJvcjogbmV3IEVycm9yKGVycm9yTWVzc2FnZSksXG4gICAgICAgIGNvbXBvbmVudDogXCJMb2dnZXJcIixcbiAgICAgICAgYWN0aW9uOiBcImNsZWFudXBPbGRPZmZsaW5lTG9nc1wiLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgcGVyc2lzdGVkIG9mZmxpbmUgbG9ncyBmcm9tIHNlY3VyZSBzdG9yYWdlXG4gICAqL1xuICAvKipcbiAgICogTG9hZCBwZXJzaXN0ZWQgbG9ncyBmcm9tIHNlY3VyZSBzdG9yYWdlIG9uIGluaXRpYWxpemF0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGxvYWRPZmZsaW5lTG9ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGFsbCBzdG9yZWQga2V5c1xuICAgICAgY29uc3QgYWxsS2V5cyA9IE9iamVjdC5rZXlzKFxuICAgICAgICAoYXdhaXQgRW5jcnlwdGVkU3RvcmFnZS5nZXRJdGVtKFwiX19rZXlzX19cIikpIHx8IHt9LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IG9mZmxpbmVMb2dLZXlzID0gYWxsS2V5cy5maWx0ZXIoKGtleTogc3RyaW5nKToga2V5IGlzIFN0b3JhZ2VLZXkgPT5cbiAgICAgICAga2V5LnN0YXJ0c1dpdGgoXCJvZmZsaW5lX2xvZ19cIiksXG4gICAgICApO1xuXG4gICAgICAvLyBMb2FkIGFuZCBkZWNyeXB0IGFsbCBsb2dzXG4gICAgICBjb25zdCBlbmNyeXB0ZWRMb2dzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIG9mZmxpbmVMb2dLZXlzLm1hcChhc3luYyAoa2V5OiBTdG9yYWdlS2V5KSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGVuY3J5cHRlZCA9IGF3YWl0IEVuY3J5cHRlZFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICAgICAgaWYgKCFlbmNyeXB0ZWQpIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgICBjb25zdCBwYXJzZWRJdGVtID0gSlNPTi5wYXJzZShlbmNyeXB0ZWQpIGFzIEVuY3J5cHRlZExvZ1N0b3JhZ2VJdGVtO1xuICAgICAgICAgICAgcmV0dXJuIHsga2V5LCAuLi5wYXJzZWRJdGVtIH07XG4gICAgICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBjb3JydXB0ZWQgZW50cmllc1xuICAgICAgICAgICAgYXdhaXQgRW5jcnlwdGVkU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgLy8gUHJvY2VzcyB2YWxpZCBsb2dzXG4gICAgICBmb3IgKGNvbnN0IGxvZyBvZiBlbmNyeXB0ZWRMb2dzKSB7XG4gICAgICAgIGlmICghbG9nKSBjb250aW51ZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRlY3J5cHRlZCA9IGF3YWl0IHRoaXMuZGVjcnlwdERhdGEobG9nLmRhdGEpO1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gSlNPTi5wYXJzZShkZWNyeXB0ZWQpIGFzIFN0cnVjdHVyZWRMb2dFbnRyeTtcblxuICAgICAgICAgIC8vIFZlcmlmeSBpbnRlZ3JpdHlcbiAgICAgICAgICBjb25zdCBjYWxjdWxhdGVkSGFzaCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVITUFDKEpTT04uc3RyaW5naWZ5KGVudHJ5KSk7XG4gICAgICAgICAgaWYgKGNhbGN1bGF0ZWRIYXNoICE9PSBsb2cuaGFzaCkge1xuICAgICAgICAgICAgdGhpcy5lcnJvcihcIk9mZmxpbmUgbG9nIGludGVncml0eSBjaGVjayBmYWlsZWRcIiwge1xuICAgICAgICAgICAgICBlcnJvcjogbmV3IEVycm9yKFwiTG9nIHRhbXBlcmluZyBkZXRlY3RlZFwiKSxcbiAgICAgICAgICAgICAgY29tcG9uZW50OiBcIkxvZ2dlclwiLFxuICAgICAgICAgICAgICBhY3Rpb246IFwibG9hZE9mZmxpbmVMb2dzXCIsXG4gICAgICAgICAgICAgIGtleTogbG9nLmtleSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgRW5jcnlwdGVkU3RvcmFnZS5yZW1vdmVJdGVtKGxvZy5rZXkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5vZmZsaW5lQnVmZmVyLnB1c2goZW50cnkpO1xuICAgICAgICB9IGNhdGNoIChkZWNyeXB0RXJyb3IpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgY29ycnVwdGVkIGxvZ1xuICAgICAgICAgIGF3YWl0IEVuY3J5cHRlZFN0b3JhZ2UucmVtb3ZlSXRlbShsb2cua2V5KTtcbiAgICAgICAgICAvLyBMb2cgZXJyb3IgZGV0YWlsc1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgICAgICBkZWNyeXB0RXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgICA/IGRlY3J5cHRFcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgIDogU3RyaW5nKGRlY3J5cHRFcnJvcik7XG4gICAgICAgICAgdGhpcy5lcnJvcihcIkZhaWxlZCB0byBkZWNyeXB0IG9mZmxpbmUgbG9nXCIsIHtcbiAgICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSxcbiAgICAgICAgICAgIGNvbXBvbmVudDogXCJMb2dnZXJcIixcbiAgICAgICAgICAgIGFjdGlvbjogXCJsb2FkT2ZmbGluZUxvZ3NcIixcbiAgICAgICAgICAgIGtleTogbG9nLmtleSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBTb3J0IGFuZCB0cmltIGJ1ZmZlclxuICAgICAgdGhpcy5vZmZsaW5lQnVmZmVyLnNvcnQoKGEsIGIpID0+IGEudGltZXN0YW1wLmxvY2FsZUNvbXBhcmUoYi50aW1lc3RhbXApKTtcbiAgICAgIGlmICh0aGlzLm9mZmxpbmVCdWZmZXIubGVuZ3RoID4gdGhpcy5NQVhfT0ZGTElORV9CVUZGRVJfU0laRSkge1xuICAgICAgICB0aGlzLm9mZmxpbmVCdWZmZXIgPSB0aGlzLm9mZmxpbmVCdWZmZXIuc2xpY2UoXG4gICAgICAgICAgLXRoaXMuTUFYX09GRkxJTkVfQlVGRkVSX1NJWkUsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvZyBzdWNjZXNzXG4gICAgICB0aGlzLmluZm8oXCJPZmZsaW5lIGxvZ3MgbG9hZGVkIHN1Y2Nlc3NmdWxseVwiLCB7XG4gICAgICAgIGNvbXBvbmVudDogXCJMb2dnZXJcIixcbiAgICAgICAgYWN0aW9uOiBcImxvYWRPZmZsaW5lTG9nc1wiLFxuICAgICAgICBsb2dzTG9hZGVkOiB0aGlzLm9mZmxpbmVCdWZmZXIubGVuZ3RoLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgIHRoaXMuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBvZmZsaW5lIGxvZ3NcIiwge1xuICAgICAgICBlcnJvcjogbmV3IEVycm9yKGVycm9yTWVzc2FnZSksXG4gICAgICAgIGNvbXBvbmVudDogXCJMb2dnZXJcIixcbiAgICAgICAgYWN0aW9uOiBcImxvYWRPZmZsaW5lTG9nc1wiLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBidWZmZXIgbWV0cmljcyBmb3IgbW9uaXRvcmluZ1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRCdWZmZXJNZXRyaWNzKCk6IExvZ0J1ZmZlck1ldHJpY3Mge1xuICAgIGNvbnN0IGNyaXRpY2FsRW50cmllcyA9IHRoaXMub2ZmbGluZUJ1ZmZlci5maWx0ZXIoXG4gICAgICAoZW50cnkpID0+XG4gICAgICAgIGVudHJ5LmxldmVsID09PSBMb2dMZXZlbC5FUlJPUiB8fCBlbnRyeS5sZXZlbCA9PT0gTG9nTGV2ZWwuU0VDVVJJVFksXG4gICAgKS5sZW5ndGg7XG5cbiAgICBsZXQgb2xkZXN0RW50cnk6IERhdGUgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgbGF0ZXN0RW50cnk6IERhdGUgfCBudWxsID0gbnVsbDtcblxuICAgIGlmICh0aGlzLm9mZmxpbmVCdWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZmlyc3RFbnRyeSA9IHRoaXMub2ZmbGluZUJ1ZmZlclswXTtcbiAgICAgIGNvbnN0IGxhc3RFbnRyeSA9IHRoaXMub2ZmbGluZUJ1ZmZlclt0aGlzLm9mZmxpbmVCdWZmZXIubGVuZ3RoIC0gMV07XG5cbiAgICAgIGlmIChmaXJzdEVudHJ5ICYmIGZpcnN0RW50cnkudGltZXN0YW1wKSB7XG4gICAgICAgIG9sZGVzdEVudHJ5ID0gbmV3IERhdGUoZmlyc3RFbnRyeS50aW1lc3RhbXApO1xuICAgICAgfVxuXG4gICAgICBpZiAobGFzdEVudHJ5ICYmIGxhc3RFbnRyeS50aW1lc3RhbXApIHtcbiAgICAgICAgbGF0ZXN0RW50cnkgPSBuZXcgRGF0ZShsYXN0RW50cnkudGltZXN0YW1wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxFbnRyaWVzOiB0aGlzLm9mZmxpbmVCdWZmZXIubGVuZ3RoLFxuICAgICAgY3JpdGljYWxFbnRyaWVzLFxuICAgICAgb2xkZXN0RW50cnksXG4gICAgICBsYXRlc3RFbnRyeSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBsb2cobGV2ZWw6IExvZ0xldmVsLCBtZXNzYWdlOiBzdHJpbmcsIG1ldGFkYXRhPzogTG9nTWV0YWRhdGEpOiB2b2lkIHtcbiAgICAvLyBTa2lwIGRlYnVnIGxvZ3MgaW4gcHJvZHVjdGlvblxuICAgIGlmICghdGhpcy5pc0RldmVsb3BtZW50ICYmIGxldmVsID09PSBMb2dMZXZlbC5ERUJVRykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGxvZyBlbnRyeVxuICAgIGlmICghdGhpcy52YWxpZGF0ZUxvZ0VudHJ5KG1lc3NhZ2UsIG1ldGFkYXRhKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IGJvdGggZ2VuZXJhbCBhbmQgbGV2ZWwtc3BlY2lmaWMgcmF0ZSBsaW1pdGluZ1xuICAgIGlmICghdGhpcy5hcHBseVJhdGVMaW1pdCgpIHx8ICF0aGlzLmNoZWNrUmF0ZUxpbWl0KGxldmVsKSkge1xuICAgICAgLy8gQnVmZmVyIGltcG9ydGFudCBsb2dzIHRoYXQgd2VyZSByYXRlIGxpbWl0ZWRcbiAgICAgIGlmIChsZXZlbCA9PT0gTG9nTGV2ZWwuRVJST1IgfHwgbGV2ZWwgPT09IExvZ0xldmVsLlNFQ1VSSVRZKSB7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgdm9pZCB0aGlzLmJ1ZmZlck9mZmxpbmVMb2coe1xuICAgICAgICAgIG1lc3NhZ2U6IGBbUmF0ZSBMaW1pdGVkXSAke21lc3NhZ2V9YCxcbiAgICAgICAgICBsZXZlbCxcbiAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIC4uLm1ldGFkYXRhLFxuICAgICAgICAgICAgcmF0ZUxpbWl0ZWQ6IHRydWUsXG4gICAgICAgICAgICBvcmlnaW5hbFRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFkZCBzdGFuZGFyZCBtZXRhZGF0YVxuICAgIGNvbnN0IGVuaGFuY2VkTWV0YWRhdGE6IExvZ01ldGFkYXRhID0ge1xuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgdmVyc2lvbjogdGhpcy5hcHBWZXJzaW9uLFxuICAgICAgdXNlcklkOiB0aGlzLnVzZXJJbmZvPy5pZCAhPT0gdW5kZWZpbmVkID8gdGhpcy51c2VySW5mby5pZCA6IFwiYW5vbnltb3VzXCIsXG4gICAgICAuLi5tZXRhZGF0YSxcbiAgICAgIC8vIEFkZCBzZWN1cml0eSBjb250ZXh0XG4gICAgICBzZWN1cml0eUNvbnRleHQ6IHtcbiAgICAgICAgZW52aXJvbm1lbnQ6IHRoaXMuaXNEZXZlbG9wbWVudCA/IFwiZGV2ZWxvcG1lbnRcIiA6IFwicHJvZHVjdGlvblwiLFxuICAgICAgICBzZXNzaW9uSGFzaDogdGhpcy5oYXNoSWRlbnRpZmllcih0aGlzLnNlc3Npb25JZCksXG4gICAgICAgIGxvZ0lkOiB0aGlzLmhhc2hJZGVudGlmaWVyKGAke2xldmVsfV8ke1N0cmluZyhEYXRlLm5vdygpKX1fJHttZXNzYWdlfWApLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybWF0dGVkTWVzc2FnZSA9IHRoaXMuZm9ybWF0TG9nTWVzc2FnZShcbiAgICAgIGxldmVsLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGVuaGFuY2VkTWV0YWRhdGEsXG4gICAgKTtcbiAgICBjb25zdCBzYW5pdGl6ZWQgPSB0aGlzLnNhbml0aXplTWV0YWRhdGEoZW5oYW5jZWRNZXRhZGF0YSk7XG5cbiAgICAvLyBDcmVhdGUgc3RydWN0dXJlZCBsb2cgZW50cnlcbiAgICBjb25zdCBsb2dFbnRyeTogU3RydWN0dXJlZExvZ0VudHJ5ID0ge1xuICAgICAgbWVzc2FnZSxcbiAgICAgIGxldmVsLFxuICAgICAgdGltZXN0YW1wOiBlbmhhbmNlZE1ldGFkYXRhLnRpbWVzdGFtcCA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBtZXRhZGF0YTogc2FuaXRpemVkLFxuICAgIH07XG5cbiAgICAvLyBBZGQgdG8gYnVmZmVyIGZvciBwb3RlbnRpYWwgb2ZmbGluZSBwZXJzaXN0ZW5jZVxuICAgIHZvaWQgdGhpcy5idWZmZXJPZmZsaW5lTG9nKGxvZ0VudHJ5KTtcblxuICAgIC8vIENvbnNvbGUgbG9nZ2luZyAob25seSBpbiBkZXZlbG9wbWVudCkgLSB1c2luZyBsb2dnZXIgbWV0aG9kcyBpbnN0ZWFkIG9mIGNvbnNvbGVcbiAgICBpZiAodGhpcy5pc0RldmVsb3BtZW50KSB7XG4gICAgICBzd2l0Y2ggKGxldmVsKSB7XG4gICAgICAgIGNhc2UgTG9nTGV2ZWwuREVCVUc6XG4gICAgICAgICAgLy8gVXNlIGNvbnNvbGUud2FybiBmb3IgZGVidWcgaW4gZGV2ZWxvcG1lbnRcbiAgICAgICAgICBjb25zb2xlLndhcm4oZm9ybWF0dGVkTWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTG9nTGV2ZWwuSU5GTzpcbiAgICAgICAgICAvLyBVc2UgY29uc29sZS53YXJuIGZvciBpbmZvIGluIGRldmVsb3BtZW50XG4gICAgICAgICAgY29uc29sZS53YXJuKGZvcm1hdHRlZE1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIExvZ0xldmVsLldBUk46XG4gICAgICAgICAgY29uc29sZS53YXJuKGZvcm1hdHRlZE1lc3NhZ2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIExvZ0xldmVsLkVSUk9SOlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZm9ybWF0dGVkTWVzc2FnZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTG9nTGV2ZWwuU0VDVVJJVFk6XG4gICAgICAgICAgY29uc29sZS53YXJuKGDwn5SSICR7Zm9ybWF0dGVkTWVzc2FnZX1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBMb2dMZXZlbC5QRVJGT1JNQU5DRTpcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoSAke2Zvcm1hdHRlZE1lc3NhZ2V9YCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0byBTZW50cnkgZm9yIGVycm9ycyBhbmQgc2VjdXJpdHkgZXZlbnRzIHdpdGggZW5oYW5jZWQgY29udGV4dFxuICAgIGlmIChsZXZlbCA9PT0gTG9nTGV2ZWwuRVJST1IgfHwgbGV2ZWwgPT09IExvZ0xldmVsLlNFQ1VSSVRZKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBDcmVhdGUgc2VjdXJlIGZpbmdlcnByaW50IGZvciBlcnJvciBncm91cGluZ1xuICAgICAgICBjb25zdCBmaW5nZXJwcmludCA9IHRoaXMuZ2VuZXJhdGVFcnJvckZpbmdlcnByaW50KG1lc3NhZ2UsIG1ldGFkYXRhKTtcblxuICAgICAgICBpZiAobWV0YWRhdGE/LmVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAvLyBFbmhhbmNlZCBlcnJvciBjYXB0dXJlIHdpdGggc2VjdXJlIGNvbnRleHRcbiAgICAgICAgICBzZW50cnkuY2FwdHVyZUV4Y2VwdGlvbihtZXRhZGF0YS5lcnJvciwge1xuICAgICAgICAgICAgZXh0cmE6IHNhbml0aXplZCxcbiAgICAgICAgICAgIHRhZ3M6IHtcbiAgICAgICAgICAgICAgbG9nTGV2ZWw6IGxldmVsLFxuICAgICAgICAgICAgICBlcnJvclR5cGU6IG1ldGFkYXRhLmVycm9yLm5hbWUsXG4gICAgICAgICAgICAgIGVycm9yQ29kZTogKG1ldGFkYXRhLmVycm9yIGFzIEVycm9yICYgeyBjb2RlPzogc3RyaW5nIH0pLmNvZGUsXG4gICAgICAgICAgICAgIC4uLihtZXRhZGF0YS50YWdzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5mcm9tRW50cmllcyhtZXRhZGF0YS50YWdzLm1hcCgodGFnKSA9PiBbdGFnLCB0cnVlXSkpXG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluZ2VycHJpbnQsXG4gICAgICAgICAgICAvLyBBZGQgc2VjdXJlIHRyYW5zYWN0aW9uIGRhdGEgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAuLi4obWV0YWRhdGEuY29ycmVsYXRpb25JZFxuICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uOiBgJHttZXRhZGF0YS5jb21wb25lbnQgPz8gXCJ1bmtub3duXCJ9LiR7bWV0YWRhdGEuYWN0aW9uID8/IFwiYWN0aW9uXCJ9YCxcbiAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uSGFzaDogdGhpcy5oYXNoSWRlbnRpZmllcihtZXRhZGF0YS5jb3JyZWxhdGlvbklkKSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHNlbnRyeUxldmVsID1cbiAgICAgICAgICAgIFN0cmluZyhsZXZlbCkgPT09IFwic2VjdXJpdHlcIiA/IFwid2FybmluZ1wiIDogXCJlcnJvclwiO1xuXG4gICAgICAgICAgLy8gU2V0IHNlY3VyZSBjb250ZXh0IGJlZm9yZSBjYXB0dXJpbmcgbWVzc2FnZVxuICAgICAgICAgIGNvbnN0IHNlY3VyZUNvbnRleHQgPSB7XG4gICAgICAgICAgICAuLi5zYW5pdGl6ZWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHNlc3Npb25IYXNoOiB0aGlzLmhhc2hJZGVudGlmaWVyKHRoaXMuc2Vzc2lvbklkKSxcbiAgICAgICAgICAgIGVudmlyb25tZW50OiB0aGlzLmlzRGV2ZWxvcG1lbnQgPyBcImRldmVsb3BtZW50XCIgOiBcInByb2R1Y3Rpb25cIixcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2VudHJ5LnNldENvbnRleHQoXCJtZXRhZGF0YVwiLCBzZWN1cmVDb250ZXh0KTtcbiAgICAgICAgICBzZW50cnkuY2FwdHVyZU1lc3NhZ2UobWVzc2FnZSwgc2VudHJ5TGV2ZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2xlYW4gdXAgc2Vuc2l0aXZlIGNvbnRleHQgYWZ0ZXIgc2VuZGluZ1xuICAgICAgICB0aGlzLmNsZWFyU2VudHJ5Q29udGV4dCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gY29uc29sZSBpZiBTZW50cnkgZmFpbHNcbiAgICAgICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkZhaWxlZCB0byBzZW5kIHRvIFNlbnRyeTpcIixcbiAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGVidWcobWVzc2FnZTogc3RyaW5nLCBtZXRhZGF0YT86IExvZ01ldGFkYXRhKTogdm9pZCB7XG4gICAgdGhpcy5sb2coTG9nTGV2ZWwuREVCVUcsIG1lc3NhZ2UsIG1ldGFkYXRhKTtcbiAgfVxuXG4gIGluZm8obWVzc2FnZTogc3RyaW5nLCBtZXRhZGF0YT86IExvZ01ldGFkYXRhKTogdm9pZCB7XG4gICAgdGhpcy5sb2coTG9nTGV2ZWwuSU5GTywgbWVzc2FnZSwgbWV0YWRhdGEpO1xuICB9XG5cbiAgd2FybihtZXNzYWdlOiBzdHJpbmcsIG1ldGFkYXRhPzogTG9nTWV0YWRhdGEpOiB2b2lkIHtcbiAgICB0aGlzLmxvZyhMb2dMZXZlbC5XQVJOLCBtZXNzYWdlLCBtZXRhZGF0YSk7XG4gIH1cblxuICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIG1ldGFkYXRhPzogTG9nTWV0YWRhdGEpOiB2b2lkIHtcbiAgICB0aGlzLmxvZyhMb2dMZXZlbC5FUlJPUiwgbWVzc2FnZSwgbWV0YWRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZyBzZWN1cml0eS1yZWxhdGVkIGV2ZW50c1xuICAgKi9cbiAgc2VjdXJpdHkobWVzc2FnZTogc3RyaW5nLCBtZXRhZGF0YT86IExvZ01ldGFkYXRhKTogdm9pZCB7XG4gICAgdGhpcy5sb2coTG9nTGV2ZWwuU0VDVVJJVFksIG1lc3NhZ2UsIHtcbiAgICAgIC4uLm1ldGFkYXRhLFxuICAgICAgdGFnczogW1xuICAgICAgICAuLi4obWV0YWRhdGE/LnRhZ3MgIT09IHVuZGVmaW5lZCAmJiBtZXRhZGF0YS50YWdzICE9PSBudWxsXG4gICAgICAgICAgPyBtZXRhZGF0YS50YWdzXG4gICAgICAgICAgOiBbXSksXG4gICAgICAgIFwic2VjdXJpdHlcIixcbiAgICAgIF0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIHBlcmZvcm1hbmNlIG1ldHJpY3NcbiAgICovXG4gIHBlcmZvcm1hbmNlKFxuICAgIG9wZXJhdGlvbjogc3RyaW5nLFxuICAgIGR1cmF0aW9uTXM6IG51bWJlcixcbiAgICBtZXRhZGF0YT86IExvZ01ldGFkYXRhLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLmxvZyhcbiAgICAgIExvZ0xldmVsLlBFUkZPUk1BTkNFLFxuICAgICAgYCR7b3BlcmF0aW9ufSBjb21wbGV0ZWQgaW4gJHtTdHJpbmcoZHVyYXRpb25Ncyl9bXNgLFxuICAgICAge1xuICAgICAgICAuLi5tZXRhZGF0YSxcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uTXMsXG4gICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgdGFnczogW1xuICAgICAgICAgIC4uLihtZXRhZGF0YT8udGFncyAhPT0gdW5kZWZpbmVkICYmIG1ldGFkYXRhLnRhZ3MgIT09IG51bGxcbiAgICAgICAgICAgID8gbWV0YWRhdGEudGFnc1xuICAgICAgICAgICAgOiBbXSksXG4gICAgICAgICAgXCJwZXJmb3JtYW5jZVwiLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHBlcmZvcm1hbmNlIHRpbWVyIHRoYXQgbG9ncyB3aGVuIHN0b3BwZWRcbiAgICovXG4gIHN0YXJ0VGltZXIob3BlcmF0aW9uOiBzdHJpbmcpOiAoKSA9PiB2b2lkIHtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHJldHVybiAobWV0YWRhdGE/OiBMb2dNZXRhZGF0YSkgPT4ge1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKERhdGUubm93KCkgLSBzdGFydFRpbWUpO1xuICAgICAgdGhpcy5wZXJmb3JtYW5jZShvcGVyYXRpb24sIGR1cmF0aW9uLCBtZXRhZGF0YSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXNlciBjb250ZXh0IGZvciBsb2dnaW5nIHN5c3RlbXNcbiAgICovXG4gIHNldFVzZXIodXNlcjogeyBpZDogc3RyaW5nOyBlbWFpbDogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICB1c2VyID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHVzZXIgPT09IG51bGwgfHxcbiAgICAgIHVzZXIuaWQgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdXNlci5pZCA9PT0gbnVsbCB8fFxuICAgICAgdXNlci5pZCA9PT0gXCJcIiB8fFxuICAgICAgdXNlci5lbWFpbCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB1c2VyLmVtYWlsID09PSBudWxsIHx8XG4gICAgICB1c2VyLmVtYWlsID09PSBcIlwiIHx8XG4gICAgICB1c2VyLnVzZXJuYW1lID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHVzZXIudXNlcm5hbWUgPT09IG51bGwgfHxcbiAgICAgIHVzZXIudXNlcm5hbWUgPT09IFwiXCJcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXNlciBkYXRhIHByb3ZpZGVkIHRvIGxvZ2dlclwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnVzZXJJbmZvID0gdXNlcjtcblxuICAgIC8vIFVwZGF0ZSBTZW50cnkgdXNlciBjb250ZXh0XG4gICAgc2VudHJ5LnNldFVzZXIoe1xuICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgIH0pO1xuXG4gICAgdGhpcy5pbmZvKFwiVXNlciBjb250ZXh0IHNldFwiLCB7XG4gICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICB0YWdzOiBbXCJ1c2VyLWNvbnRleHRcIl0sXG4gICAgICBsZXZlbDogTG9nTGV2ZWwuSU5GTyxcbiAgICB9IGFzIExvZ01ldGFkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYnJlYWRjcnVtYiBmb3IgdHJhY2luZyBhbmQgZGVidWdnaW5nXG4gICAqL1xuICBhZGRCcmVhZGNydW1iKFxuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICBjYXRlZ29yeTogc3RyaW5nLFxuICAgIGRhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc2FuaXRpemVkRGF0YSA9IHRoaXMuc2FuaXRpemVNZXRhZGF0YShkYXRhKTtcblxuICAgIC8vIEFkZCBzZWN1cmUgYnJlYWRjcnVtYiB3aXRoIGVuaGFuY2VkIGNvbnRleHRcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VjdXJlQnJlYWRjcnVtYiA9IHtcbiAgICAgICAgbWVzc2FnZTogdGhpcy50cnVuY2F0ZVN0cmluZyhtZXNzYWdlLCAxMDAwKSwgLy8gTGltaXQgbWVzc2FnZSBzaXplXG4gICAgICAgIGNhdGVnb3J5OiB0aGlzLnZhbGlkYXRlQ2F0ZWdvcnkoY2F0ZWdvcnkpLFxuICAgICAgICBkYXRhOiBzYW5pdGl6ZWREYXRhLFxuICAgICAgICBsZXZlbDogXCJpbmZvXCIsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSAvIDEwMDAsXG4gICAgICAgIC8vIEFkZCBzZWN1cml0eSBjb250ZXh0XG4gICAgICAgIHNlc3Npb25IYXNoOiB0aGlzLmhhc2hJZGVudGlmaWVyKHRoaXMuc2Vzc2lvbklkKSxcbiAgICAgICAgc291cmNlQ29tcG9uZW50OiBkYXRhPy5bXCJjb21wb25lbnRcIl0gPz8gXCJ1bmtub3duXCIsXG4gICAgICB9O1xuXG4gICAgICBzZW50cnkuYWRkQnJlYWRjcnVtYihzZWN1cmVCcmVhZGNydW1iKTtcblxuICAgICAgLy8gRGVidWcgbG9nIHRoZSBicmVhZGNydW1iIGluIGRldmVsb3BtZW50XG4gICAgICBpZiAodGhpcy5pc0RldmVsb3BtZW50KSB7XG4gICAgICAgIHRoaXMuZGVidWcoYEJyZWFkY3J1bWI6ICR7bWVzc2FnZX1gLCB7XG4gICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgLi4uc2FuaXRpemVkRGF0YSxcbiAgICAgICAgICBzZWN1cml0eUhhc2g6IHRoaXMuaGFzaElkZW50aWZpZXIobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBGYWlsIHNpbGVudGx5IGJ1dCBsb2cgbG9jYWxseVxuICAgICAgaWYgKHRoaXMuaXNEZXZlbG9wbWVudCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJGYWlsZWQgdG8gYWRkIGJyZWFkY3J1bWI6XCIsXG4gICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vID09PT09IFNFQ1VSSVRZIENPTlRST0xTID09PT09XG5cbiAgYXN5bmMgZXhwb3J0QXVkaXRMb2dzKFxuICAgIG9wdGlvbnM6IEF1ZGl0TG9nUmVxdWVzdCA9IHt9LFxuICApOiBQcm9taXNlPEF1ZGl0TG9nRXhwb3J0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc3RhcnREYXRlLFxuICAgICAgICBlbmREYXRlID0gbmV3IERhdGUoKSxcbiAgICAgICAgbGV2ZWxzID0gT2JqZWN0LnZhbHVlcyhMb2dMZXZlbCksXG4gICAgICAgIGluY2x1ZGVNZXRyaWNzID0gZmFsc2UsXG4gICAgICB9ID0gb3B0aW9ucztcblxuICAgICAgLy8gVmFsaWRhdGUgaW5wdXRzXG4gICAgICBpZiAoZW5kRGF0ZSA8IChzdGFydERhdGUgPz8gbmV3IERhdGUoMCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgc3RhcnQgZGF0ZVwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gRmlsdGVyIGFuZCBzYW5pdGl6ZSBsb2dzIHdpdGggcHJvcGVyIHR5cGUgaGFuZGxpbmdcbiAgICAgIGNvbnN0IGZpbHRlcmVkTG9ncyA9IFsuLi50aGlzLmxvZ0J1ZmZlciwgLi4udGhpcy5vZmZsaW5lQnVmZmVyXVxuICAgICAgICAuZmlsdGVyKChlbnRyeSkgPT4ge1xuICAgICAgICAgIGlmICghZW50cnkudGltZXN0YW1wKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGVudHJ5RGF0ZSA9IG5ldyBEYXRlKGVudHJ5LnRpbWVzdGFtcCk7XG4gICAgICAgICAgaWYgKGlzTmFOKGVudHJ5RGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG1hdGNoZXNEYXRlID0gc3RhcnREYXRlXG4gICAgICAgICAgICA/IGVudHJ5RGF0ZSA+PSBzdGFydERhdGUgJiYgZW50cnlEYXRlIDw9IGVuZERhdGVcbiAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAgICAgICBjb25zdCBtYXRjaGVzTGV2ZWwgPSBsZXZlbHMuaW5jbHVkZXMoZW50cnkubGV2ZWwpO1xuICAgICAgICAgIHJldHVybiBtYXRjaGVzRGF0ZSAmJiBtYXRjaGVzTGV2ZWw7XG4gICAgICAgIH0pXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgIG1ldGFkYXRhOiB0aGlzLnNhbml0aXplTWV0YWRhdGEoZW50cnkubWV0YWRhdGEpLFxuICAgICAgICB9KSk7XG5cbiAgICAgIGNvbnN0IGJhc2VGaWx0ZXJzOiBBdWRpdExvZ0ZpbHRlcnMgPSB7XG4gICAgICAgIHN0YXJ0RGF0ZTogKHN0YXJ0RGF0ZSA/PyBuZXcgRGF0ZSgwKSkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICBsZXZlbHMsXG4gICAgICAgIGluY2x1ZGVNZXRyaWNzLFxuICAgICAgICBjb250ZW50SGFzaDogXCJcIixcbiAgICAgICAgdG90YWxFbnRyaWVzOiAwLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZXhwb3J0RGF0YTogQXVkaXRMb2dFeHBvcnQgPSB7XG4gICAgICAgIGxvZ3M6IGZpbHRlcmVkTG9ncyxcbiAgICAgICAgLi4uKGluY2x1ZGVNZXRyaWNzID8geyBtZXRyaWNzOiB0aGlzLmdldEJ1ZmZlck1ldHJpY3MoKSB9IDoge30pLFxuICAgICAgICBleHBvcnRNZXRhZGF0YToge1xuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGV4cG9ydElkOiB0aGlzLmhhc2hJZGVudGlmaWVyKGBhdWRpdF8ke0RhdGUubm93KCl9YCksXG4gICAgICAgICAgZmlsdGVyczogYmFzZUZpbHRlcnMsXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICAvLyBBZGQgaW50ZWdyaXR5IHZlcmlmaWNhdGlvblxuICAgICAgY29uc3QgY29udGVudEhhc2ggPSB0aGlzLmhhc2hJZGVudGlmaWVyKEpTT04uc3RyaW5naWZ5KGV4cG9ydERhdGEubG9ncykpO1xuICAgICAgZXhwb3J0RGF0YS5leHBvcnRNZXRhZGF0YS5maWx0ZXJzLmNvbnRlbnRIYXNoID0gY29udGVudEhhc2g7XG4gICAgICBleHBvcnREYXRhLmV4cG9ydE1ldGFkYXRhLmZpbHRlcnMudG90YWxFbnRyaWVzID0gZmlsdGVyZWRMb2dzLmxlbmd0aDtcblxuICAgICAgLy8gTG9nIGV4cG9ydCBhdHRlbXB0IGZvciBzZWN1cml0eSBhdWRpdFxuICAgICAgdGhpcy5zZWN1cml0eShcIkF1ZGl0IGxvZ3MgZXhwb3J0ZWRcIiwge1xuICAgICAgICBleHBvcnRJZDogZXhwb3J0RGF0YS5leHBvcnRNZXRhZGF0YS5leHBvcnRJZCxcbiAgICAgICAgZW50cmllc0NvdW50OiBmaWx0ZXJlZExvZ3MubGVuZ3RoLFxuICAgICAgICB0aW1lUmFuZ2U6IHtcbiAgICAgICAgICBzdGFydDogc3RhcnREYXRlPy50b0lTT1N0cmluZygpLFxuICAgICAgICAgIGVuZDogZW5kRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50SGFzaCxcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZXhwb3J0RGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgdGhpcy5lcnJvcihcIkZhaWxlZCB0byBleHBvcnQgYXVkaXQgbG9nc1wiLCB7XG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXVkaXQgbG9nIGV4cG9ydCBmYWlsZWQ6IFwiICsgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBzZWN1cmUgZmluZ2VycHJpbnQgZm9yIGVycm9yIGdyb3VwaW5nXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlRXJyb3JGaW5nZXJwcmludChcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgbWV0YWRhdGE/OiBMb2dNZXRhZGF0YSxcbiAgKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IGNvbXBvbmVudHMgPSBbXG4gICAgICBtZXRhZGF0YT8uY29tcG9uZW50ID8/IFwidW5rbm93blwiLFxuICAgICAgbWV0YWRhdGE/LmFjdGlvbiA/PyBcImFjdGlvblwiLFxuICAgICAgLy8gSGFzaCBtZXNzYWdlIHRvIG5vcm1hbGl6ZSBpdCBmb3IgZ3JvdXBpbmdcbiAgICAgIHRoaXMuaGFzaElkZW50aWZpZXIobWVzc2FnZSksXG4gICAgXTtcblxuICAgIGlmIChtZXRhZGF0YT8uZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgY29tcG9uZW50cy5wdXNoKFxuICAgICAgICBtZXRhZGF0YS5lcnJvci5uYW1lLFxuICAgICAgICAobWV0YWRhdGEuZXJyb3IgYXMgRXJyb3IgJiB7IGNvZGU/OiBzdHJpbmcgfSkuY29kZSA/PyBcIlVOS05PV05cIixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKG1ldGFkYXRhPy50YWdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbXBvbmVudHMucHVzaCguLi5tZXRhZGF0YS50YWdzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29tcG9uZW50cztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzZWN1cmUgaGFzaCBmb3IgaWRlbnRpZmllcnNcbiAgICovXG4gIHByaXZhdGUgaGFzaElkZW50aWZpZXIodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgLy8gU2ltcGxlIGJ1dCBjb25zaXN0ZW50IGhhc2hpbmcgZm9yIGdyb3VwaW5nXG4gICAgbGV0IGhhc2ggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNoYXI7XG4gICAgICBoYXNoID0gaGFzaCAmIGhhc2g7XG4gICAgfVxuICAgIHJldHVybiBoYXNoLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMCwgOCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgc2Vuc2l0aXZlIGNvbnRleHQgZGF0YSBmcm9tIFNlbnRyeVxuICAgKi9cbiAgcHJpdmF0ZSBjbGVhclNlbnRyeUNvbnRleHQoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIHNlbnRyeS5zZXRDb250ZXh0KFwibWV0YWRhdGFcIiwge30pO1xuICAgICAgc2VudHJ5LnNldFVzZXIoe30pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gSWdub3JlIGNsZWFudXAgZXJyb3JzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9ydCBsb2dzIHNlY3VyZWx5IGZvciBhdWRpdCBwdXJwb3NlcyB3aXRoIGVuaGFuY2VkIHNlY3VyaXR5IGFuZCB2YWxpZGF0aW9uXG4gICAqL1xuICBhc3luYyBleHBvcnRTZWN1cmVBdWRpdExvZ3MoXG4gICAgb3B0aW9uczoge1xuICAgICAgc3RhcnREYXRlPzogRGF0ZSB8IHVuZGVmaW5lZDtcbiAgICAgIGVuZERhdGU/OiBEYXRlIHwgdW5kZWZpbmVkO1xuICAgICAgbGV2ZWxzPzogTG9nTGV2ZWxbXSB8IHVuZGVmaW5lZDtcbiAgICAgIGluY2x1ZGVNZXRyaWNzPzogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgICB9ID0ge30sXG4gICk6IFByb21pc2U8e1xuICAgIGxvZ3M6IFN0cnVjdHVyZWRMb2dFbnRyeVtdO1xuICAgIG1ldHJpY3M6IExvZ0J1ZmZlck1ldHJpY3M7XG4gICAgZXhwb3J0TWV0YWRhdGE6IHtcbiAgICAgIHRpbWVzdGFtcDogc3RyaW5nO1xuICAgICAgZXhwb3J0SWQ6IHN0cmluZztcbiAgICAgIGZpbHRlcnM6IEF1ZGl0TG9nRmlsdGVycztcbiAgICB9O1xuICB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc3RhcnREYXRlLFxuICAgICAgICBlbmREYXRlID0gbmV3IERhdGUoKSxcbiAgICAgICAgbGV2ZWxzID0gT2JqZWN0LnZhbHVlcyhMb2dMZXZlbCksXG4gICAgICAgIGluY2x1ZGVNZXRyaWNzID0gZmFsc2UsXG4gICAgICB9ID0gb3B0aW9ucztcblxuICAgICAgLy8gVmFsaWRhdGUgaW5wdXQgZGF0ZXNcbiAgICAgIGlmIChlbmREYXRlIDwgKHN0YXJ0RGF0ZSA/PyBuZXcgRGF0ZSgwKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRW5kIGRhdGUgbXVzdCBiZSBhZnRlciBzdGFydCBkYXRlXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBzZWN1cmUgY29weSBvZiBsb2dzIHdpdGggZmlsdGVyaW5nXG4gICAgICBjb25zdCBmaWx0ZXJlZExvZ3MgPSBbLi4udGhpcy5sb2dCdWZmZXIsIC4uLnRoaXMub2ZmbGluZUJ1ZmZlcl1cbiAgICAgICAgLmZpbHRlcigoZW50cnkpID0+IHtcbiAgICAgICAgICBpZiAoIWVudHJ5LnRpbWVzdGFtcCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBlbnRyeURhdGUgPSBuZXcgRGF0ZShlbnRyeS50aW1lc3RhbXApO1xuICAgICAgICAgIGlmIChpc05hTihlbnRyeURhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBtYXRjaGVzRGF0ZSA9IHN0YXJ0RGF0ZVxuICAgICAgICAgICAgPyBlbnRyeURhdGUgPj0gc3RhcnREYXRlICYmIGVudHJ5RGF0ZSA8PSBlbmREYXRlXG4gICAgICAgICAgICA6IHRydWU7XG4gICAgICAgICAgY29uc3QgbWF0Y2hlc0xldmVsID0gbGV2ZWxzLmluY2x1ZGVzKGVudHJ5LmxldmVsKTtcbiAgICAgICAgICByZXR1cm4gbWF0Y2hlc0RhdGUgJiYgbWF0Y2hlc0xldmVsO1xuICAgICAgICB9KVxuICAgICAgICAubWFwKChlbnRyeSkgPT4gKHtcbiAgICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgICBtZXRhZGF0YTogdGhpcy5zYW5pdGl6ZU1ldGFkYXRhKGVudHJ5Lm1ldGFkYXRhKSxcbiAgICAgICAgfSkpO1xuXG4gICAgICAvLyBHZXQgY3VycmVudCBtZXRyaWNzXG4gICAgICBjb25zdCBtZXRyaWNzID0gdGhpcy5nZXRCdWZmZXJNZXRyaWNzKCk7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBpbnRlZ3JpdHkgaGFzaFxuICAgICAgY29uc3QgY29udGVudEhhc2ggPSB0aGlzLmhhc2hJZGVudGlmaWVyKEpTT04uc3RyaW5naWZ5KGZpbHRlcmVkTG9ncykpO1xuXG4gICAgICBjb25zdCBleHBvcnREYXRhID0ge1xuICAgICAgICBsb2dzOiBmaWx0ZXJlZExvZ3MsXG4gICAgICAgIG1ldHJpY3MsXG4gICAgICAgIGV4cG9ydE1ldGFkYXRhOiB7XG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgZXhwb3J0SWQ6IHRoaXMuaGFzaElkZW50aWZpZXIoYGF1ZGl0XyR7RGF0ZS5ub3coKX1gKSxcbiAgICAgICAgICBmaWx0ZXJzOiB7XG4gICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZT8udG9JU09TdHJpbmcoKSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmREYXRlOiBlbmREYXRlLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBsZXZlbHMsXG4gICAgICAgICAgICBpbmNsdWRlTWV0cmljcyxcbiAgICAgICAgICAgIGNvbnRlbnRIYXNoLFxuICAgICAgICAgICAgdG90YWxFbnRyaWVzOiBmaWx0ZXJlZExvZ3MubGVuZ3RoLFxuICAgICAgICAgIH0gYXMgQXVkaXRMb2dGaWx0ZXJzLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgLy8gTG9nIGV4cG9ydCBhdHRlbXB0IGZvciBzZWN1cml0eSBhdWRpdFxuICAgICAgdGhpcy5zZWN1cml0eShcIkF1ZGl0IGxvZ3MgZXhwb3J0ZWRcIiwge1xuICAgICAgICBleHBvcnRJZDogZXhwb3J0RGF0YS5leHBvcnRNZXRhZGF0YS5leHBvcnRJZCxcbiAgICAgICAgZW50cmllc0NvdW50OiBmaWx0ZXJlZExvZ3MubGVuZ3RoLFxuICAgICAgICB0aW1lUmFuZ2U6IHtcbiAgICAgICAgICBzdGFydDogc3RhcnREYXRlPy50b0lTT1N0cmluZygpID8/IFwiYmVnaW5uaW5nXCIsXG4gICAgICAgICAgZW5kOiBlbmREYXRlLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnRIYXNoLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBleHBvcnREYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICB0aGlzLmVycm9yKFwiRmFpbGVkIHRvIGV4cG9ydCBhdWRpdCBsb2dzXCIsIHtcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgICAgICBvcHRpb25zLFxuICAgICAgfSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdWRpdCBsb2cgZXhwb3J0IGZhaWxlZDogXCIgKyBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhbmQgc2FuaXRpemUgY2F0ZWdvcnkgc3RyaW5nc1xuICAgKi9cbiAgcHJpdmF0ZSB2YWxpZGF0ZUNhdGVnb3J5KGNhdGVnb3J5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIE9ubHkgYWxsb3cgYWxwaGFudW1lcmljIGFuZCBiYXNpYyBwdW5jdHVhdGlvblxuICAgIHJldHVybiBjYXRlZ29yeS5yZXBsYWNlKC9bXmEtekEtWjAtOV8uLV0vZywgXCJfXCIpLnN1YnN0cmluZygwLCAxMDApOyAvLyBMaW1pdCBsZW5ndGhcbiAgfVxuXG4gIC8qKlxuICAgKiBTYWZlbHkgdHJ1bmNhdGUgc3RyaW5ncyB0byBwcmV2ZW50IG92ZXJzaXplZCBsb2dzXG4gICAqL1xuICBwcml2YXRlIHRydW5jYXRlU3RyaW5nKHN0cjogc3RyaW5nLCBtYXhMZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKHN0ci5sZW5ndGggPD0gbWF4TGVuZ3RoKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBtYXhMZW5ndGggLSAzKSArIFwiLi4uXCI7XG4gIH1cblxuICAvKipcbiAgICogVHJhY2sgZmVhdHVyZSB1c2FnZVxuICAgKi9cbiAgLyoqXG4gICAqIFRyYWNrIGZlYXR1cmUgdXNhZ2Ugd2l0aCBzZWN1cml0eSBjb250ZXh0XG4gICAqL1xuICB0cmFja0ZlYXR1cmUoZmVhdHVyZTogc3RyaW5nLCBtZXRhZGF0YT86IExvZ01ldGFkYXRhKTogdm9pZCB7XG4gICAgY29uc3QgZW5oYW5jZWRNZXRhZGF0YSA9IHtcbiAgICAgIC4uLm1ldGFkYXRhLFxuICAgICAgZmVhdHVyZSxcbiAgICAgIHRhZ3M6IFtcbiAgICAgICAgLi4uKG1ldGFkYXRhPy50YWdzICE9PSB1bmRlZmluZWQgPyBtZXRhZGF0YS50YWdzIDogW10pLFxuICAgICAgICBcImZlYXR1cmUtdXNhZ2VcIixcbiAgICAgIF0sXG4gICAgICAvLyBBZGQgc2VjdXJpdHkgdHJhY2tpbmdcbiAgICAgIHRyYWNraW5nSWQ6IHRoaXMuaGFzaElkZW50aWZpZXIoYCR7ZmVhdHVyZX1fJHtEYXRlLm5vdygpfWApLFxuICAgICAgZmVhdHVyZUhhc2g6IHRoaXMuaGFzaElkZW50aWZpZXIoZmVhdHVyZSksXG4gICAgICAvLyBBZGQgZXhlY3V0aW9uIGNvbnRleHRcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc2Vzc2lvbkhhc2g6IHRoaXMuaGFzaElkZW50aWZpZXIodGhpcy5zZXNzaW9uSWQpLFxuICAgIH07XG5cbiAgICB0aGlzLmluZm8oYEZlYXR1cmUgdXNlZDogJHtmZWF0dXJlfWAsIGVuaGFuY2VkTWV0YWRhdGEpO1xuICB9XG5cbiAgLy8gPT09PT0gU0VDVVJJVFkgQ09OVFJPTFMgPT09PT1cblxuICAvKipcbiAgICogUmF0ZSBsaW1pdGluZyBmb3IgbG9nIG1lc3NhZ2VzXG4gICAqL1xuICBwcml2YXRlIGxhc3RMb2dUaW1lOiBudW1iZXIgPSAwO1xuICAvLyBSYXRlIGxpbWl0aW5nIG5vdyB1c2VzIGR5bmFtaWMgYmFja29mZiB2aWEgcmF0ZUxpbWl0QmFja29mZlxuXG4gIC8qKlxuICAgKiBTdHJ1Y3R1cmVkIGxvZ2dpbmcgZm9yIHNlY3VyaXR5IGV2ZW50c1xuICAgKi9cbiAgLyoqXG4gICAqIFN0cnVjdHVyZWQgbG9nZ2luZyBmb3Igc2VjdXJpdHkgZXZlbnRzIHdpdGggZW5oYW5jZWQgY29udGV4dCBhbmQgdmFsaWRhdGlvblxuICAgKi9cbiAgbG9nU2VjdXJpdHlFdmVudChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IHZvaWQge1xuICAgIC8vIFZhbGlkYXRlIGV2ZW50IG5hbWVcbiAgICBjb25zdCBzYWZlRXZlbnQgPSB0aGlzLnZhbGlkYXRlQ2F0ZWdvcnkoZXZlbnQpO1xuICAgIGNvbnN0IHNhbml0aXplZERldGFpbHMgPSB0aGlzLnNhbml0aXplTWV0YWRhdGEoZGV0YWlscyk7XG5cbiAgICAvLyBBZGQgc2VjdXJpdHktc3BlY2lmaWMgY29udGV4dFxuICAgIGNvbnN0IGVuaGFuY2VkRGV0YWlscyA9IHtcbiAgICAgIC4uLnNhbml0aXplZERldGFpbHMsXG4gICAgICBldmVudFR5cGU6IHNhZmVFdmVudCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgc2Vzc2lvbkhhc2g6IHRoaXMuaGFzaElkZW50aWZpZXIodGhpcy5zZXNzaW9uSWQpLFxuICAgICAgc2VjdXJpdHlMZXZlbDogXCJzdGFuZGFyZFwiLFxuICAgICAgLy8gQWRkIHNlY3VyaXR5IHNjYW5uaW5nIG1hcmtlcnNcbiAgICAgIGNvbnRlbnRIYXNoOiB0aGlzLmhhc2hJZGVudGlmaWVyKEpTT04uc3RyaW5naWZ5KHNhbml0aXplZERldGFpbHMpKSxcbiAgICAgIC8vIEFkZCBleGVjdXRpb24gY29udGV4dFxuICAgICAgY29tcG9uZW50OiBTdHJpbmcoZGV0YWlsc1tcImNvbXBvbmVudFwiXSA/PyBcInVua25vd25cIiksXG4gICAgICBhY3Rpb246IFN0cmluZyhkZXRhaWxzW1wiYWN0aW9uXCJdID8/IFwidW5rbm93blwiKSxcbiAgICAgIC8vIEFkZCB0cmFja2luZ1xuICAgICAgZXZlbnRJZDogdGhpcy5oYXNoSWRlbnRpZmllcihgJHtzYWZlRXZlbnR9XyR7RGF0ZS5ub3coKX1gKSxcbiAgICAgIGVudmlyb25tZW50SGFzaDogdGhpcy5oYXNoSWRlbnRpZmllcihcbiAgICAgICAgdGhpcy5pc0RldmVsb3BtZW50ID8gXCJkZXZlbG9wbWVudFwiIDogXCJwcm9kdWN0aW9uXCIsXG4gICAgICApLFxuICAgIH07XG5cbiAgICB0aGlzLnNlY3VyaXR5KGBTZWN1cml0eSBFdmVudDogJHtzYWZlRXZlbnR9YCwgZW5oYW5jZWREZXRhaWxzKTtcblxuICAgIC8vIENsZWFyIHNlbnNpdGl2ZSBjb250ZXh0IGFmdGVyIGxvZ2dpbmdcbiAgICB0aGlzLmNsZWFyU2VudHJ5Q29udGV4dCgpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBuZXcgTW9iaWxlTG9nZ2VyKCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFLQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxRQUFBLEdBQUFGLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyw0QkFBQSxHQUFBQyxzQkFBQSxDQUFBSixPQUFBO0FBQThELFNBQUFELHdCQUFBTSxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBUix1QkFBQSxZQUFBQSx3QkFBQU0sQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxLQUFBQyxTQUFBLFFBQUFDLE9BQUEsRUFBQVYsQ0FBQSxpQkFBQUEsQ0FBQSx1QkFBQUEs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