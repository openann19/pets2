ab119cea54058642c16ac89bd68ce211
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SuperRes = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var ImageManipulator = _interopRequireWildcard(require("expo-image-manipulator"));
var _TiledUpscaler = require("./TiledUpscaler");
var _Unsharp = require("./Unsharp");
var _logger4 = require("../services/logger");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
var BicubicAdapter = {
  name: "bicubic",
  available: function () {
    var _available = (0, _asyncToGenerator2.default)(function* () {
      return true;
    });
    function available() {
      return _available.apply(this, arguments);
    }
    return available;
  }(),
  upscale: function () {
    var _upscale = (0, _asyncToGenerator2.default)(function* (uri, targetW, targetH) {
      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      var _opts$sharpen = opts.sharpen,
        sharpen = _opts$sharpen === void 0 ? true : _opts$sharpen,
        useTiles = opts.useTiles,
        _opts$pickBest = opts.pickBest,
        pickBest = _opts$pickBest === void 0 ? false : _opts$pickBest;
      var shouldUseTiles = useTiles != null ? useTiles : targetW >= 1920 || targetH >= 1920;
      var result;
      if (shouldUseTiles) {
        result = yield (0, _TiledUpscaler.tileUpscaleAuto)(uri, {
          targetW: Math.round(targetW),
          targetH: Math.round(targetH),
          tile: 1024,
          overlap: 12,
          quality: 1,
          format: "jpg"
        });
      } else {
        var manipResult = yield ImageManipulator.manipulateAsync(uri, [{
          resize: {
            width: Math.round(targetW),
            height: Math.round(targetH)
          }
        }], {
          compress: 1,
          format: ImageManipulator.SaveFormat.JPEG
        });
        result = manipResult.uri;
      }
      if (sharpen) {
        try {
          result = yield (0, _Unsharp.unsharpMask)(result, {
            amount: 0.6,
            radius: 1.2,
            threshold: 0.02,
            quality: 1,
            format: "jpg"
          });
        } catch (error) {
          var err = error instanceof Error ? error : new Error(String(error));
          var _yield$import = yield Promise.resolve().then(function () {
              return _interopRequireWildcard(require("../services/logger"));
            }),
            _logger = _yield$import.logger;
          _logger.warn('SuperRes: Unsharp mask failed', {
            error: err
          });
        }
      }
      return result;
    });
    function upscale(_x, _x2, _x3) {
      return _upscale.apply(this, arguments);
    }
    return upscale;
  }()
};
var ServerAdapter = {
  name: "server-esrgan",
  available: function () {
    var _available2 = (0, _asyncToGenerator2.default)(function* () {
      if (__DEV__) {
        return false;
      }
      return false;
    });
    function available() {
      return _available2.apply(this, arguments);
    }
    return available;
  }(),
  upscale: function () {
    var _upscale2 = (0, _asyncToGenerator2.default)(function* (uri, targetW, targetH) {
      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      return uri;
    });
    function upscale(_x4, _x5, _x6) {
      return _upscale2.apply(this, arguments);
    }
    return upscale;
  }()
};
var LocalTFLiteAdapter = {
  name: "tflite-esrgan",
  available: function () {
    var _available3 = (0, _asyncToGenerator2.default)(function* () {
      try {
        return false;
      } catch (_unused) {
        return false;
      }
    });
    function available() {
      return _available3.apply(this, arguments);
    }
    return available;
  }(),
  upscale: function () {
    var _upscale3 = (0, _asyncToGenerator2.default)(function* (uri, targetW, targetH) {
      var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      return uri;
    });
    function upscale(_x7, _x8, _x9) {
      return _upscale3.apply(this, arguments);
    }
    return upscale;
  }()
};
var ADAPTERS = [LocalTFLiteAdapter, ServerAdapter, BicubicAdapter];
var SuperRes = exports.SuperRes = {
  upscale: function () {
    var _upscale4 = (0, _asyncToGenerator2.default)(function* (uri, targetW, targetH, opts) {
      for (var adapter of ADAPTERS) {
        if (yield adapter.available()) {
          try {
            var _yield$import2 = yield Promise.resolve().then(function () {
                return _interopRequireWildcard(require("../services/logger"));
              }),
              _logger2 = _yield$import2.logger;
            _logger2.info('SuperRes: Using adapter for upscaling', {
              adapter: adapter.name,
              dimensions: `${targetW}x${targetH}`
            });
            var result = yield adapter.upscale(uri, targetW, targetH, opts);
            return result;
          } catch (error) {
            var err = error instanceof Error ? error : new Error(String(error));
            var _yield$import3 = yield Promise.resolve().then(function () {
                return _interopRequireWildcard(require("../services/logger"));
              }),
              _logger3 = _yield$import3.logger;
            _logger3.warn(`SuperRes: ${adapter.name} failed, trying fallback`, {
              error: err
            });
          }
        }
      }
      _logger4.logger.error("[SuperRes] All adapters failed, returning original URI");
      return uri;
    });
    function upscale(_x0, _x1, _x10, _x11) {
      return _upscale4.apply(this, arguments);
    }
    return upscale;
  }(),
  adapters: ADAPTERS,
  getActiveAdapter: function () {
    var _getActiveAdapter = (0, _asyncToGenerator2.default)(function* () {
      for (var adapter of ADAPTERS) {
        if (yield adapter.available()) {
          return adapter.name;
        }
      }
      return "none";
    });
    function getActiveAdapter() {
      return _getActiveAdapter.apply(this, arguments);
    }
    return getActiveAdapter;
  }()
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbWFnZU1hbmlwdWxhdG9yIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlIiwiX1RpbGVkVXBzY2FsZXIiLCJfVW5zaGFycCIsIl9sb2dnZXI0IiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90MiIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiQmljdWJpY0FkYXB0ZXIiLCJuYW1lIiwiYXZhaWxhYmxlIiwiX2F2YWlsYWJsZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImFwcGx5IiwiYXJndW1lbnRzIiwidXBzY2FsZSIsIl91cHNjYWxlIiwidXJpIiwidGFyZ2V0VyIsInRhcmdldEgiLCJvcHRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX29wdHMkc2hhcnBlbiIsInNoYXJwZW4iLCJ1c2VUaWxlcyIsIl9vcHRzJHBpY2tCZXN0IiwicGlja0Jlc3QiLCJzaG91bGRVc2VUaWxlcyIsInJlc3VsdCIsInRpbGVVcHNjYWxlQXV0byIsIk1hdGgiLCJyb3VuZCIsInRpbGUiLCJvdmVybGFwIiwicXVhbGl0eSIsImZvcm1hdCIsIm1hbmlwUmVzdWx0IiwibWFuaXB1bGF0ZUFzeW5jIiwicmVzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJjb21wcmVzcyIsIlNhdmVGb3JtYXQiLCJKUEVHIiwidW5zaGFycE1hc2siLCJhbW91bnQiLCJyYWRpdXMiLCJ0aHJlc2hvbGQiLCJlcnJvciIsImVyciIsIkVycm9yIiwiU3RyaW5nIiwiX3lpZWxkJGltcG9ydCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsImxvZ2dlciIsIndhcm4iLCJfeCIsIl94MiIsIl94MyIsIlNlcnZlckFkYXB0ZXIiLCJfYXZhaWxhYmxlMiIsIl9fREVWX18iLCJfdXBzY2FsZTIiLCJfeDQiLCJfeDUiLCJfeDYiLCJMb2NhbFRGTGl0ZUFkYXB0ZXIiLCJfYXZhaWxhYmxlMyIsIl91bnVzZWQiLCJfdXBzY2FsZTMiLCJfeDciLCJfeDgiLCJfeDkiLCJBREFQVEVSUyIsIlN1cGVyUmVzIiwiZXhwb3J0cyIsIl91cHNjYWxlNCIsImFkYXB0ZXIiLCJfeWllbGQkaW1wb3J0MiIsImluZm8iLCJkaW1lbnNpb25zIiwiX3lpZWxkJGltcG9ydDMiLCJfeDAiLCJfeDEiLCJfeDEwIiwiX3gxMSIsImFkYXB0ZXJzIiwiZ2V0QWN0aXZlQWRhcHRlciIsIl9nZXRBY3RpdmVBZGFwdGVyIl0sInNvdXJjZXMiOlsiU3VwZXJSZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTdXBlci1SZXNvbHV0aW9uIFBpcGVsaW5lIHdpdGggUGx1Z2dhYmxlIEFkYXB0ZXJzXG4gKiBTdXBwb3J0cyBtdWx0aXBsZSBiYWNrZW5kcyB3aXRoIGdyYWNlZnVsIGZhbGxiYWNrIHRvIGJpY3ViaWNcbiAqL1xuXG5pbXBvcnQgKiBhcyBJbWFnZU1hbmlwdWxhdG9yIGZyb20gXCJleHBvLWltYWdlLW1hbmlwdWxhdG9yXCI7XG5pbXBvcnQgeyBQbGF0Zm9ybSB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcbmltcG9ydCB7IHRpbGVVcHNjYWxlQXV0byB9IGZyb20gXCIuL1RpbGVkVXBzY2FsZXJcIjtcbmltcG9ydCB7IHVuc2hhcnBNYXNrIH0gZnJvbSBcIi4vVW5zaGFycFwiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2xvZ2dlclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN1cGVyUmVzQWRhcHRlciB7XG4gIG5hbWU6IHN0cmluZztcbiAgYXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj47XG4gIHVwc2NhbGUodXJpOiBzdHJpbmcsIHRhcmdldFc6IG51bWJlciwgdGFyZ2V0SDogbnVtYmVyLCBvcHRzPzogU3VwZXJSZXNPcHRpb25zKTogUHJvbWlzZTxzdHJpbmc+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1cGVyUmVzT3B0aW9ucyB7XG4gIC8qKiBBcHBseSB1bnNoYXJwIG1hc2sgYWZ0ZXIgdXBzY2FsZSAoZGVmYXVsdDogdHJ1ZSkgKi9cbiAgc2hhcnBlbj86IGJvb2xlYW47XG4gIC8qKiBVc2UgdGlsZS1iYXNlZCB1cHNjYWxpbmcgZm9yIGxhcmdlIGltYWdlcyAoZGVmYXVsdDogdHJ1ZSBmb3IgNEsrKSAqL1xuICB1c2VUaWxlcz86IGJvb2xlYW47XG4gIC8qKiBBcHBseSBxdWFsaXR5IHNjb3JpbmcgdG8gcGljayBzaGFycGVzdCByZXN1bHQgKi9cbiAgcGlja0Jlc3Q/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEZhbGxiYWNrIGJpY3ViaWMgdXBzY2FsZXIgKGFsd2F5cyBhdmFpbGFibGUgdmlhIEltYWdlTWFuaXB1bGF0b3IpXG4gKiBUaGlzIHVzZXMgZXhwby1pbWFnZS1tYW5pcHVsYXRvcidzIHJlc2l6ZSB3aGljaCBpbXBsZW1lbnRzIGRlY2VudCBiaWN1YmljIGludGVycG9sYXRpb25cbiAqL1xuY29uc3QgQmljdWJpY0FkYXB0ZXI6IFN1cGVyUmVzQWRhcHRlciA9IHtcbiAgbmFtZTogXCJiaWN1YmljXCIsXG4gIGFzeW5jIGF2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgYXN5bmMgdXBzY2FsZSh1cmksIHRhcmdldFcsIHRhcmdldEgsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHsgc2hhcnBlbiA9IHRydWUsIHVzZVRpbGVzLCBwaWNrQmVzdCA9IGZhbHNlIH0gPSBvcHRzO1xuICAgIFxuICAgIC8vIFVzZSB0aWxlLWJhc2VkIHVwc2NhbGluZyBmb3IgbGFyZ2UgaW1hZ2VzICg0SyspXG4gICAgY29uc3Qgc2hvdWxkVXNlVGlsZXMgPSB1c2VUaWxlcyA/PyAodGFyZ2V0VyA+PSAxOTIwIHx8IHRhcmdldEggPj0gMTkyMCk7XG4gICAgXG4gICAgbGV0IHJlc3VsdDogc3RyaW5nO1xuICAgIGlmIChzaG91bGRVc2VUaWxlcykge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgdGlsZVVwc2NhbGVBdXRvKHVyaSwge1xuICAgICAgICB0YXJnZXRXOiBNYXRoLnJvdW5kKHRhcmdldFcpLFxuICAgICAgICB0YXJnZXRIOiBNYXRoLnJvdW5kKHRhcmdldEgpLFxuICAgICAgICB0aWxlOiAxMDI0LFxuICAgICAgICBvdmVybGFwOiAxMixcbiAgICAgICAgcXVhbGl0eTogMSxcbiAgICAgICAgZm9ybWF0OiBcImpwZ1wiLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1hbmlwUmVzdWx0ID0gYXdhaXQgSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmMoXG4gICAgICAgIHVyaSxcbiAgICAgICAgW3sgcmVzaXplOiB7IHdpZHRoOiBNYXRoLnJvdW5kKHRhcmdldFcpLCBoZWlnaHQ6IE1hdGgucm91bmQodGFyZ2V0SCkgfSB9XSxcbiAgICAgICAgeyBjb21wcmVzczogMSwgZm9ybWF0OiBJbWFnZU1hbmlwdWxhdG9yLlNhdmVGb3JtYXQuSlBFRyB9XG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gbWFuaXBSZXN1bHQudXJpO1xuICAgIH1cbiAgICBcbiAgICAvLyBBcHBseSB1bnNoYXJwIG1hc2sgaWYgcmVxdWVzdGVkXG4gICAgaWYgKHNoYXJwZW4pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IHVuc2hhcnBNYXNrKHJlc3VsdCwge1xuICAgICAgICAgIGFtb3VudDogMC42LFxuICAgICAgICAgIHJhZGl1czogMS4yLFxuICAgICAgICAgIHRocmVzaG9sZDogMC4wMixcbiAgICAgICAgICBxdWFsaXR5OiAxLFxuICAgICAgICAgIGZvcm1hdDogXCJqcGdcIixcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgICBjb25zdCBlcnIgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSk7XG4gICAgICAgIGNvbnN0IHsgbG9nZ2VyIH0gPSBhd2FpdCBpbXBvcnQoJy4uL3NlcnZpY2VzL2xvZ2dlcicpO1xuICAgICAgICBsb2dnZXIud2FybignU3VwZXJSZXM6IFVuc2hhcnAgbWFzayBmYWlsZWQnLCB7IGVycm9yOiBlcnIgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG59O1xuXG4vKipcbiAqIE9wdGlvbmFsOiBTZXJ2ZXIgRVNSR0FOIC8gUmVhbC1FU1JHQU4gKEhUVFApXG4gKiBUaGlzIGFkYXB0ZXIgY2FsbHMgeW91ciBiYWNrZW5kIEFQSSBmb3IgQUktcG93ZXJlZCB1cHNjYWxpbmdcbiAqIFRvZ2dsZSBhdmFpbGFibGUoKSByZXR1cm4gdmFsdWUgd2hlbiBiYWNrZW5kIGlzIHJlYWR5XG4gKi9cbmNvbnN0IFNlcnZlckFkYXB0ZXI6IFN1cGVyUmVzQWRhcHRlciA9IHtcbiAgbmFtZTogXCJzZXJ2ZXItZXNyZ2FuXCIsXG4gIGFzeW5jIGF2YWlsYWJsZSgpIHtcbiAgICAvLyBGbGlwIHRvIHRydWUgd2hlbiB5b3VyIGJhY2tlbmQgdXBzY2FsZXIgZW5kcG9pbnQgaXMgcmVhZHlcbiAgICAvLyBZb3UgY2FuIGFsc28gY2hlY2sgZW52aXJvbm1lbnQgdmFyaWFibGVzLCBmZWF0dXJlIGZsYWdzLCBldGMuXG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gRGlzYWJsZSBpbiBkZXYgdW50aWwgYmFja2VuZCBpcyByZWFkeVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7IC8vIFNldCB0byB0cnVlIHdoZW4gcHJvZHVjdGlvbiBlbmRwb2ludCBpcyByZWFkeVxuICB9LFxuICBhc3luYyB1cHNjYWxlKHVyaSwgdGFyZ2V0VywgdGFyZ2V0SCwgb3B0cyA9IHt9KSB7XG4gICAgLy8gVE9ETzogUmVwbGFjZSB3aXRoIHlvdXIgYWN0dWFsIGJhY2tlbmQgZW5kcG9pbnRcbiAgICAvLyBFeGFtcGxlIGltcGxlbWVudGF0aW9uOlxuICAgIC8vIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgLy8gZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsIHsgdXJpLCBuYW1lOiAnaW1hZ2UuanBnJywgdHlwZTogJ2ltYWdlL2pwZWcnIH0pO1xuICAgIC8vIGZvcm1EYXRhLmFwcGVuZCgndGFyZ2V0VycsIHRhcmdldFcudG9TdHJpbmcoKSk7XG4gICAgLy8gZm9ybURhdGEuYXBwZW5kKCd0YXJnZXRIJywgdGFyZ2V0SC50b1N0cmluZygpKTtcbiAgICAvL1xuICAgIC8vIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL3lvdXItYmFja2VuZC5jb20vYXBpL3Vwc2NhbGUnLCB7XG4gICAgLy8gICBtZXRob2Q6ICdQT1NUJyxcbiAgICAvLyAgIGhlYWRlcnM6IHtcbiAgICAvLyAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7YXdhaXQgZ2V0QXV0aFRva2VuKCl9YCxcbiAgICAvLyAgIH0sXG4gICAgLy8gICBib2R5OiBmb3JtRGF0YSxcbiAgICAvLyB9KTtcbiAgICAvL1xuICAgIC8vIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYFVwc2NhbGUgZmFpbGVkOiAke3Jlcy5zdGF0dXNUZXh0fWApO1xuICAgIC8vIGNvbnN0IHsgdXBzY2FsZWRVcmwgfSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgLy8gcmV0dXJuIHVwc2NhbGVkVXJsO1xuXG4gICAgLy8gRmFsbGJhY2sgKHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaWYgYXZhaWxhYmxlPWZhbHNlKVxuICAgIHJldHVybiB1cmk7XG4gIH0sXG59O1xuXG4vKipcbiAqIE9wdGlvbmFsOiBPbi1kZXZpY2UgVEZMaXRlIGFkYXB0ZXJcbiAqIFRoaXMgd291bGQgdXNlIFRlbnNvckZsb3cgTGl0ZSBtb2JpbGUgbW9kZWxzIGZvciBBSSB1cHNjYWxpbmcgb24gZGV2aWNlXG4gKiBSZXF1aXJlcyByZWFjdC1uYXRpdmUtdGZsaXRlIG9yIHNpbWlsYXIgYnJpZGdlXG4gKi9cbmNvbnN0IExvY2FsVEZMaXRlQWRhcHRlcjogU3VwZXJSZXNBZGFwdGVyID0ge1xuICBuYW1lOiBcInRmbGl0ZS1lc3JnYW5cIixcbiAgYXN5bmMgYXZhaWxhYmxlKCkge1xuICAgIC8vIFNldCB0byB0cnVlIHdoZW4gVEZMaXRlIGJyaWRnZSBpcyBpbnRlZ3JhdGVkXG4gICAgdHJ5IHtcbiAgICAgIC8vIEV4YW1wbGUgY2hlY2s6XG4gICAgICAvLyBjb25zdCBURk1vZHVsZSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZS10ZmxpdGUnKTtcbiAgICAgIC8vIHJldHVybiBURk1vZHVsZS5pc1JlYWR5KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBhc3luYyB1cHNjYWxlKHVyaSwgdGFyZ2V0VywgdGFyZ2V0SCwgb3B0cyA9IHt9KSB7XG4gICAgLy8gRXhhbXBsZSBpbXBsZW1lbnRhdGlvbjpcbiAgICAvLyBjb25zdCBURk1vZHVsZSA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZS10ZmxpdGUnKTtcbiAgICAvLyBjb25zdCBpbnB1dCA9IGF3YWl0IEltYWdlTWFuaXB1bGF0b3IubWFuaXB1bGF0ZUFzeW5jKHVyaSwgW10sIHsgZm9ybWF0OiBJbWFnZU1hbmlwdWxhdG9yLlNhdmVGb3JtYXQuUE5HIH0pO1xuICAgIC8vIGNvbnN0IG91dHB1dCA9IGF3YWl0IFRGTW9kdWxlLnVwc2NhbGUoaW5wdXQudXJpLCB0YXJnZXRXLCB0YXJnZXRIKTtcbiAgICAvLyByZXR1cm4gb3V0cHV0LnVyaTtcblxuICAgIC8vIEZhbGxiYWNrXG4gICAgcmV0dXJuIHVyaTtcbiAgfSxcbn07XG5cbi8vIFByaW9yaXR5IG9yZGVyOiB0cnkgVEZMaXRlIGZpcnN0IChmYXN0ZXN0KSwgdGhlbiBzZXJ2ZXIgKGhpZ2hlc3QgcXVhbGl0eSksIHRoZW4gYmljdWJpYyAoYWx3YXlzIHdvcmtzKVxuY29uc3QgQURBUFRFUlM6IFN1cGVyUmVzQWRhcHRlcltdID0gW0xvY2FsVEZMaXRlQWRhcHRlciwgU2VydmVyQWRhcHRlciwgQmljdWJpY0FkYXB0ZXJdO1xuXG5leHBvcnQgY29uc3QgU3VwZXJSZXMgPSB7XG4gIC8qKlxuICAgKiBVcHNjYWxlIGltYWdlIHRvIHRhcmdldCBkaW1lbnNpb25zIHVzaW5nIHRoZSBiZXN0IGF2YWlsYWJsZSBiYWNrZW5kXG4gICAqIEFsd2F5cyByZXNvbHZlcyAoQmljdWJpYyBhZGFwdGVyIGlzIGFsd2F5cyBhdmFpbGFibGUgYXMgZmFsbGJhY2spXG4gICAqIEBwYXJhbSB1cmkgLSBTb3VyY2UgaW1hZ2UgVVJJXG4gICAqIEBwYXJhbSB0YXJnZXRXIC0gVGFyZ2V0IHdpZHRoIGluIHBpeGVsc1xuICAgKiBAcGFyYW0gdGFyZ2V0SCAtIFRhcmdldCBoZWlnaHQgaW4gcGl4ZWxzXG4gICAqIEBwYXJhbSBvcHRzIC0gU3VwZXItcmVzb2x1dGlvbiBvcHRpb25zXG4gICAqIEByZXR1cm5zIFVSSSBvZiB1cHNjYWxlZCBpbWFnZVxuICAgKi9cbiAgYXN5bmMgdXBzY2FsZSh1cmk6IHN0cmluZywgdGFyZ2V0VzogbnVtYmVyLCB0YXJnZXRIOiBudW1iZXIsIG9wdHM/OiBTdXBlclJlc09wdGlvbnMpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGZvciAoY29uc3QgYWRhcHRlciBvZiBBREFQVEVSUykge1xuICAgICAgaWYgKGF3YWl0IGFkYXB0ZXIuYXZhaWxhYmxlKCkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IGxvZ2dlciB9ID0gYXdhaXQgaW1wb3J0KCcuLi9zZXJ2aWNlcy9sb2dnZXInKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ1N1cGVyUmVzOiBVc2luZyBhZGFwdGVyIGZvciB1cHNjYWxpbmcnLCB7IGFkYXB0ZXI6IGFkYXB0ZXIubmFtZSwgZGltZW5zaW9uczogYCR7dGFyZ2V0V314JHt0YXJnZXRIfWAgfSk7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYWRhcHRlci51cHNjYWxlKHVyaSwgdGFyZ2V0VywgdGFyZ2V0SCwgb3B0cyk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgICAgICBjb25zdCBlcnIgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSk7XG4gICAgICAgICAgY29uc3QgeyBsb2dnZXIgfSA9IGF3YWl0IGltcG9ydCgnLi4vc2VydmljZXMvbG9nZ2VyJyk7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oYFN1cGVyUmVzOiAke2FkYXB0ZXIubmFtZX0gZmFpbGVkLCB0cnlpbmcgZmFsbGJhY2tgLCB7IGVycm9yOiBlcnIgfSk7XG4gICAgICAgICAgLy8gQ29udGludWUgdG8gbmV4dCBhZGFwdGVyIG9uIGVycm9yXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gVGhpcyBzaG91bGQgbmV2ZXIgYmUgcmVhY2hlZCBzaW5jZSBCaWN1YmljQWRhcHRlciBpcyBhbHdheXMgYXZhaWxhYmxlXG4gICAgbG9nZ2VyLmVycm9yKFwiW1N1cGVyUmVzXSBBbGwgYWRhcHRlcnMgZmFpbGVkLCByZXR1cm5pbmcgb3JpZ2luYWwgVVJJXCIpO1xuICAgIHJldHVybiB1cmk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBsaXN0IG9mIGFsbCBhZGFwdGVycyAoZm9yIGRlYnVnZ2luZy9tb25pdG9yaW5nKVxuICAgKi9cbiAgYWRhcHRlcnM6IEFEQVBURVJTLFxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGljaCBhZGFwdGVyIHdvdWxkIGJlIHVzZWQgZm9yIG5leHQgdXBzY2FsZVxuICAgKiBVc2VmdWwgZm9yIFVJIGluZGljYXRvcnNcbiAgICovXG4gIGFzeW5jIGdldEFjdGl2ZUFkYXB0ZXIoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBmb3IgKGNvbnN0IGFkYXB0ZXIgb2YgQURBUFRFUlMpIHtcbiAgICAgIGlmIChhd2FpdCBhZGFwdGVyLmF2YWlsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybiBhZGFwdGVyLm5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBcIm5vbmVcIjtcbiAgfSxcbn07XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFLQSxJQUFBQSxnQkFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUMsY0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsUUFBQSxHQUFBSCxPQUFBO0FBQTRDLFNBQUFELHdCQUFBSyxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBUCx1QkFBQSxZQUFBQSx3QkFBQUssQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxLQUFBQyxTQUFBLFFBQUFDLE9BQUEsRUFBQVYsQ0FBQSxpQkFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxTQUFBUSxDQUFBLE1BQUFGLENBQUEsR0FBQUwsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsUUFBQUcsQ0FBQSxDQUFBSyxHQUFBLENBQUFYLENBQUEsVUFBQU0sQ0FBQSxDQUFBTSxHQUFBLENBQUFaLENBQUEsR0FBQU0sQ0FBQSxDQUFBTyxHQUFBLENBQUFiLENBQUEsRUFBQVEsQ0FBQSxjQUFBTSxHQUFBLElBQUFkLENBQUEsZ0JBQUFjLEdBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLEdBQUEsT0FBQVAsQ0FBQSxJQUFBRCxDQUFBLEdBQUFXLE1BQUEsQ0FBQUMsY0FBQSxLQUFBRCxNQUFBLENBQUFFLHdCQUFBLENBQUFuQixDQUFBLEVBQUFjLEdBQUEsT0FBQVAsQ0FBQSxD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