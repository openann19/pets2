68145fc19793a01719ca2ab1ba53c07b
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createNativeWorkletsModule = createNativeWorkletsModule;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _classPrivateFieldLooseBase2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseBase"));
var _classPrivateFieldLooseKey2 = _interopRequireDefault(require("@babel/runtime/helpers/classPrivateFieldLooseKey"));
var _errors = require("../../errors");
var _specs = require("../../specs");
var _valueUnpacker = require("../valueUnpacker");
function createNativeWorkletsModule() {
  return new NativeWorklets();
}
var _workletsModuleProxy = (0, _classPrivateFieldLooseKey2.default)("workletsModuleProxy");
var NativeWorklets = function () {
  function NativeWorklets() {
    (0, _classCallCheck2.default)(this, NativeWorklets);
    Object.defineProperty(this, _workletsModuleProxy, {
      writable: true,
      value: void 0
    });
    if (global.__workletsModuleProxy === undefined) {
      var valueUnpackerCode = (0, _valueUnpacker.getValueUnpackerCode)();
      _specs.WorkletsTurboModule == null ? void 0 : _specs.WorkletsTurboModule.installTurboModule(valueUnpackerCode);
    }
    if (global.__workletsModuleProxy === undefined) {
      throw new _errors.ReanimatedError(`Native part of Reanimated doesn't seem to be initialized (Worklets).
See https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#native-part-of-reanimated-doesnt-seem-to-be-initialized for more details.`);
    }
    (0, _classPrivateFieldLooseBase2.default)(this, _workletsModuleProxy)[_workletsModuleProxy] = global.__workletsModuleProxy;
  }
  return (0, _createClass2.default)(NativeWorklets, [{
    key: "makeShareableClone",
    value: function makeShareableClone(value, shouldPersistRemote, nativeStateSource) {
      return (0, _classPrivateFieldLooseBase2.default)(this, _workletsModuleProxy)[_workletsModuleProxy].makeShareableClone(value, shouldPersistRemote, nativeStateSource);
    }
  }]);
}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY3JlYXRlTmF0aXZlV29ya2xldHNNb2R1bGUiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NyZWF0ZUNsYXNzMiIsIl9jbGFzc1ByaXZhdGVGaWVsZExvb3NlQmFzZTIiLCJfY2xhc3NQcml2YXRlRmllbGRMb29zZUtleTIiLCJfZXJyb3JzIiwiX3NwZWNzIiwiX3ZhbHVlVW5wYWNrZXIiLCJOYXRpdmVXb3JrbGV0cyIsIl93b3JrbGV0c01vZHVsZVByb3h5IiwiZGVmYXVsdCIsIndyaXRhYmxlIiwiZ2xvYmFsIiwiX193b3JrbGV0c01vZHVsZVByb3h5IiwidW5kZWZpbmVkIiwidmFsdWVVbnBhY2tlckNvZGUiLCJnZXRWYWx1ZVVucGFja2VyQ29kZSIsIldvcmtsZXRzVHVyYm9Nb2R1bGUiLCJpbnN0YWxsVHVyYm9Nb2R1bGUiLCJSZWFuaW1hdGVkRXJyb3IiLCJrZXkiLCJtYWtlU2hhcmVhYmxlQ2xvbmUiLCJzaG91bGRQZXJzaXN0UmVtb3RlIiwibmF0aXZlU3RhdGVTb3VyY2UiXSwic291cmNlcyI6WyJOYXRpdmVXb3JrbGV0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgdHlwZSB7IElXb3JrbGV0c01vZHVsZSB9IGZyb20gJy4uLy4uL2NvbW1vblR5cGVzJztcbmltcG9ydCB7IFJlYW5pbWF0ZWRFcnJvciB9IGZyb20gJy4uLy4uL2Vycm9ycyc7XG5pbXBvcnQgeyBXb3JrbGV0c1R1cmJvTW9kdWxlIH0gZnJvbSAnLi4vLi4vc3BlY3MnO1xuaW1wb3J0IHsgZ2V0VmFsdWVVbnBhY2tlckNvZGUgfSBmcm9tICcuLi92YWx1ZVVucGFja2VyJztcbmltcG9ydCB0eXBlIHsgV29ya2xldHNNb2R1bGVQcm94eSB9IGZyb20gJy4vd29ya2xldHNNb2R1bGVQcm94eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOYXRpdmVXb3JrbGV0c01vZHVsZSgpOiBJV29ya2xldHNNb2R1bGUge1xuICByZXR1cm4gbmV3IE5hdGl2ZVdvcmtsZXRzKCk7XG59XG5cbmNsYXNzIE5hdGl2ZVdvcmtsZXRzIHtcbiAgI3dvcmtsZXRzTW9kdWxlUHJveHk6IFdvcmtsZXRzTW9kdWxlUHJveHk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKGdsb2JhbC5fX3dvcmtsZXRzTW9kdWxlUHJveHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgdmFsdWVVbnBhY2tlckNvZGUgPSBnZXRWYWx1ZVVucGFja2VyQ29kZSgpO1xuICAgICAgV29ya2xldHNUdXJib01vZHVsZT8uaW5zdGFsbFR1cmJvTW9kdWxlKHZhbHVlVW5wYWNrZXJDb2RlKTtcbiAgICB9XG4gICAgaWYgKGdsb2JhbC5fX3dvcmtsZXRzTW9kdWxlUHJveHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IFJlYW5pbWF0ZWRFcnJvcihcbiAgICAgICAgYE5hdGl2ZSBwYXJ0IG9mIFJlYW5pbWF0ZWQgZG9lc24ndCBzZWVtIHRvIGJlIGluaXRpYWxpemVkIChXb3JrbGV0cykuXG5TZWUgaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy9ndWlkZXMvdHJvdWJsZXNob290aW5nI25hdGl2ZS1wYXJ0LW9mLXJlYW5pbWF0ZWQtZG9lc250LXNlZW0tdG8tYmUtaW5pdGlhbGl6ZWQgZm9yIG1vcmUgZGV0YWlscy5gXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLiN3b3JrbGV0c01vZHVsZVByb3h5ID0gZ2xvYmFsLl9fd29ya2xldHNNb2R1bGVQcm94eTtcbiAgfVxuXG4gIG1ha2VTaGFyZWFibGVDbG9uZTxUPihcbiAgICB2YWx1ZTogVCxcbiAgICBzaG91bGRQZXJzaXN0UmVtb3RlOiBib29sZWFuLFxuICAgIG5hdGl2ZVN0YXRlU291cmNlPzogb2JqZWN0XG4gICkge1xuICAgIHJldHVybiB0aGlzLiN3b3JrbGV0c01vZHVsZVByb3h5Lm1ha2VTaGFyZWFibGVDbG9uZShcbiAgICAgIHZhbHVlLFxuICAgICAgc2hvdWxkUGVyc2lzdFJlbW90ZSxcbiAgICAgIG5hdGl2ZVN0YXRlU291cmNlXG4gICAgKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsMEJBQUEsR0FBQUEsMEJBQUE7QUFBQSxJQUFBQyxnQkFBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQU8sYUFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVEsNEJBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFTLDJCQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFFYixJQUFBVSxPQUFBLEdBQUFWLE9BQUE7QUFDQSxJQUFBVyxNQUFBLEdBQUFYLE9BQUE7QUFDQSxJQUFBWSxjQUFBLEdBQUFaLE9BQUE7QUFHTyxTQUFTSywwQkFBMEJBLENBQUEsRUFBb0I7RUFDNUQsT0FBTyxJQUFJUSxjQUFjLENBQUMsQ0FBQztBQUM3QjtBQUFDLElBQUFDLG9CQUFBLE9BQUFMLDJCQUFBLENBQUFNLE9BQUE7QUFBQSxJQUVLRixjQUFjO0VBR2xCLFNBQUFBLGVBQUEsRUFBYztJQUFBLElBQUFQLGdCQUFBLENBQUFTLE9BQUEsUUFBQUYsY0FBQTtJQUFBWixNQUFBLENBQUFDLGNBQUEsT0FBQVksb0JBQUE7TUFBQUUsUUFBQTtNQUFBWixLQUFBO0lBQUE7SUFDWixJQUFJYSxNQUFNLENBQUNDLHFCQUFxQixLQUFLQyxTQUFTLEVBQUU7TUFDOUMsSUFBTUMsaUJBQWlCLEdBQUcsSUFBQUMsbUNBQW9CLEVBQUMsQ0FBQztNQUNoREMsMEJBQW1CLG9CQUFuQkEsMEJBQW1CLENBQUVDLGtCQUFrQixDQUFDSCxpQkFBaUIsQ0FBQztJQUM1RDtJQUNBLElBQUlILE1BQU0sQ0FBQ0MscUJBQXFCLEtBQUtDLFNBQVMsRUFBRTtNQUM5QyxNQUFNLElBQUlLLHVCQUFlLENBQ3ZCO0FBQ1IsNkpBQ00sQ0FBQztJQUNIO0lBQ0EsSUFBQWhCLDRCQUFBLENBQUFPLE9BQUEsTUFBSSxFQUFBRCxvQkFBQSxFQUFBQSxvQkFBQSxJQUF3QkcsTUFBTSxDQUFDQyxxQkFBcUI7RUFDMUQ7RUFBQyxXQUFBWCxhQUFBLENBQUFRLE9BQUEsRUFBQUYsY0FBQTtJQUFBWSxHQUFBO0lBQUFyQixLQUFBLEVBRUQsU0FBQXNCLGtCQUFrQkEsQ0FDaEJ0QixLQUFRLEVBQ1J1QixtQkFBNEIsRUFDNUJDLGlCQUEwQixFQUMxQjtNQUNBLE9BQU8sSUFBQXBCLDRCQUFBLENBQUFPLE9BQUEsTUFBSSxFQUFBRCxvQkFBQSxFQUFBQSxvQkFBQSxFQUFzQlksa0JBQWtCLENBQ2pEdEIsS0FBSyxFQUNMdUIsbUJBQW1CLEVBQ25CQyxpQkFDRixDQUFDO0lBQ0g7RUFBQztBQUFBIiwiaWdub3JlTGlzdCI6W119