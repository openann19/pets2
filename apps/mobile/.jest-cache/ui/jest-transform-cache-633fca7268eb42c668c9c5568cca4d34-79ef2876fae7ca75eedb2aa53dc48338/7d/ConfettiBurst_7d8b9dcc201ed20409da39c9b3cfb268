222fb7f6187820d4ecfd74aef7bcd2ca
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ConfettiBurst = ConfettiBurst;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireWildcard(require("react"));
var _reactNative = require("react-native");
var _reactNativeReanimated = _interopRequireWildcard(require("react-native-reanimated"));
var Haptics = _interopRequireWildcard(require("expo-haptics"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
var _Dimensions$get = _reactNative.Dimensions.get('window'),
  SCREEN_WIDTH = _Dimensions$get.width,
  SCREEN_HEIGHT = _Dimensions$get.height;
var _worklet_8268852054980_init_data = {
  code: "function anonymous() {\n  const {\n    particle\n  } = this._closure;\n  return {\n    left: particle.left.value,\n    top: particle.top.value,\n    opacity: particle.opacity.value,\n    transform: [{\n      rotate: particle.rotation.value + \"deg\"\n    }, {\n      scale: particle.scale.value\n    }]\n  };\n}",
  location: "/home/ben/Downloads/pets-fresh/apps/mobile/src/components/swipe/ConfettiBurst.tsx",
  sourceMap: "{\"version\":3,\"names\":[\"anonymous\",\"particle\",\"_closure\",\"left\",\"value\",\"top\",\"opacity\",\"transform\",\"rotate\",\"rotation\",\"scale\"],\"sources\":[\"/home/ben/Downloads/pets-fresh/apps/mobile/src/components/swipe/ConfettiBurst.tsx\"],\"mappings\":\"AA+ByC,SAAAA,UAAA;EAAA;IAAAC;EAAA,SAAAC,QAAA;EAAA,OAAO;IAC5CC,IAAI,EAAEF,QAAQ,CAACE,IAAI,CAACC,KAAK;IACzBC,GAAG,EAAEJ,QAAQ,CAACI,GAAG,CAACD,KAAK;IACvBE,OAAO,EAAEL,QAAQ,CAACK,OAAO,CAACF,KAAK;IAC/BG,SAAS,EAAE,CACT;MAAEC,MAAM,EAAKP,QAAQ,CAACQ,QAAQ,CAACL,KAAK;IAAM,CAAC,EAC3C;MAAEM,KAAK,EAAET,QAAQ,CAACS,KAAK,CAACN;IAAM,CAAC;EAEnC,CAAC;AAAA\",\"ignoreList\":[]}"
};
function AnimatedParticle(_ref) {
  var particle = _ref.particle;
  var animatedStyle = (0, _reactNativeReanimated.useAnimatedStyle)(function () {
    var _e = [new global.Error(), -2, -27];
    var _f = function _f() {
      return {
        left: particle.left.value,
        top: particle.top.value,
        opacity: particle.opacity.value,
        transform: [{
          rotate: `${particle.rotation.value}deg`
        }, {
          scale: particle.scale.value
        }]
      };
    };
    _f._closure = {
      particle: particle
    };
    _f.__initData = _worklet_8268852054980_init_data;
    _f.__workletHash = 8268852054980;
    _f.__stackDetails = _e;
    _f.__version = "3.3.0";
    return _f;
  }());
  return (0, _jsxRuntime.jsx)(_reactNativeReanimated.default.View, {
    style: [styles.particle, {
      width: particle.size,
      height: particle.size,
      backgroundColor: particle.color
    }, animatedStyle]
  });
}
function ConfettiBurst(_ref2) {
  var _ref2$show = _ref2.show,
    show = _ref2$show === void 0 ? false : _ref2$show,
    onComplete = _ref2.onComplete,
    _ref2$intensity = _ref2.intensity,
    intensity = _ref2$intensity === void 0 ? 'medium' : _ref2$intensity,
    _ref2$duration = _ref2.duration,
    duration = _ref2$duration === void 0 ? 3000 : _ref2$duration,
    _ref2$colors = _ref2.colors,
    colors = _ref2$colors === void 0 ? ['#FF6B6B', '#4ECDC4', '#FFD700', '#9C27B0', '#3A86FF', '#06FFA5'] : _ref2$colors;
  var _useState = (0, _react.useState)([]),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    particles = _useState2[0],
    setParticles = _useState2[1];
  var animationRef = (0, _react.useRef)(null);
  var isPlayingRef = (0, _react.useRef)(false);
  var config = {
    light: {
      count: 40,
      particleSize: 6
    },
    medium: {
      count: 80,
      particleSize: 8
    },
    heavy: {
      count: 150,
      particleSize: 10
    }
  };
  var currentConfig = config[intensity];
  var particleCount = currentConfig.count;
  var particleSize = currentConfig.particleSize;
  (0, _react.useEffect)(function () {
    if (show) {
      Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Heavy);
      setTimeout(function () {
        Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Medium);
      }, 200);
    }
  }, [show]);
  (0, _react.useEffect)(function () {
    if (show && !isPlayingRef.current) {
      isPlayingRef.current = true;
      var newParticles = [];
      for (var i = 0; i < particleCount; i++) {
        var _ref3, _colors$Math$floor;
        var startX = Math.random() * SCREEN_WIDTH;
        var startY = SCREEN_HEIGHT * 0.5;
        var endX = startX + (Math.random() - 0.5) * 400;
        var endY = startY + Math.random() * SCREEN_HEIGHT;
        var leftSV = {
          value: startX
        };
        var topSV = {
          value: startY
        };
        var rotationSV = {
          value: 0
        };
        var scaleSV = {
          value: 1
        };
        var opacitySV = {
          value: 1
        };
        var animationDelay = i / particleCount * 100;
        var rotationTarget = (Math.random() * 720 - 360) * 2;
        leftSV.value = (0, _reactNativeReanimated.withDelay)(animationDelay, (0, _reactNativeReanimated.withTiming)(endX, {
          duration: duration + Math.random() * 1000
        }));
        topSV.value = (0, _reactNativeReanimated.withDelay)(animationDelay, (0, _reactNativeReanimated.withTiming)(SCREEN_HEIGHT + 200, {
          duration: duration + Math.random() * 1000
        }));
        rotationSV.value = (0, _reactNativeReanimated.withDelay)(animationDelay, (0, _reactNativeReanimated.withTiming)(rotationTarget, {
          duration: duration + Math.random() * 1000
        }));
        opacitySV.value = (0, _reactNativeReanimated.withDelay)(animationDelay + duration * 0.7, (0, _reactNativeReanimated.withTiming)(0, {
          duration: duration + Math.random() * 500
        }));
        newParticles.push({
          id: i,
          left: leftSV,
          top: topSV,
          rotation: rotationSV,
          scale: scaleSV,
          opacity: opacitySV,
          color: (_ref3 = (_colors$Math$floor = colors[Math.floor(Math.random() * colors.length)]) != null ? _colors$Math$floor : colors[0]) != null ? _ref3 : '#FF6B6B',
          size: particleSize + Math.random() * 4,
          startX: startX,
          startY: startY,
          endX: endX,
          endY: endY
        });
      }
      setParticles(newParticles);
      animationRef.current = setInterval(function () {
        var extraParticles = Math.floor(currentConfig.count * 0.2);
        var burstParticles = [];
        for (var _i = 0; _i < extraParticles; _i++) {
          var _ref4, _colors$Math$floor2;
          var _startX = Math.random() * SCREEN_WIDTH;
          var _startY = SCREEN_HEIGHT * 0.3;
          var _endX = _startX + (Math.random() - 0.5) * 300;
          var _leftSV = {
            value: _startX
          };
          var _topSV = {
            value: _startY
          };
          var _rotationSV = {
            value: 0
          };
          var _scaleSV = {
            value: 0
          };
          var _opacitySV = {
            value: 1
          };
          _leftSV.value = (0, _reactNativeReanimated.withTiming)(_endX, {
            duration: 2000
          });
          _topSV.value = (0, _reactNativeReanimated.withTiming)(SCREEN_HEIGHT + 200, {
            duration: 2000
          });
          _opacitySV.value = (0, _reactNativeReanimated.withTiming)(0, {
            duration: 1800
          });
          burstParticles.push({
            id: Date.now() + _i,
            left: _leftSV,
            top: _topSV,
            rotation: _rotationSV,
            scale: _scaleSV,
            opacity: _opacitySV,
            color: (_ref4 = (_colors$Math$floor2 = colors[Math.floor(Math.random() * colors.length)]) != null ? _colors$Math$floor2 : colors[0]) != null ? _ref4 : '#FF6B6B',
            size: particleSize + Math.random() * 4,
            startX: _startX,
            startY: _startY,
            endX: _endX,
            endY: SCREEN_HEIGHT + 200
          });
        }
        setParticles(function (prev) {
          return [].concat((0, _toConsumableArray2.default)(prev), burstParticles);
        });
      }, 350);
      return function () {
        if (animationRef.current) {
          clearInterval(animationRef.current);
        }
      };
    }
    if (!show) {
      isPlayingRef.current = false;
      setParticles([]);
    }
  }, [show, particleCount, duration, colors, particleSize, currentConfig.count, onComplete]);
  if (!show) return (0, _jsxRuntime.jsx)(_reactNative.View, {});
  return (0, _jsxRuntime.jsx)(_reactNative.View, {
    style: styles.container,
    pointerEvents: "none",
    testID: "confetti-container",
    children: particles.map(function (particle) {
      return (0, _jsxRuntime.jsx)(AnimatedParticle, {
        particle: particle
      }, particle.id);
    })
  });
}
var styles = _reactNative.StyleSheet.create({
  container: {
    position: 'absolute',
    top: 0,
    left: 0,
    right: 0,
    bottom: 0,
    zIndex: 9999
  },
  particle: {
    position: 'absolute',
    borderRadius: 2
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmVSZWFuaW1hdGVkIiwiSGFwdGljcyIsIl9qc3hSdW50aW1lIiwiZSIsInQiLCJXZWFrTWFwIiwiciIsIm4iLCJfX2VzTW9kdWxlIiwibyIsImkiLCJmIiwiX19wcm90b19fIiwiZGVmYXVsdCIsImhhcyIsImdldCIsInNldCIsIl90IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfRGltZW5zaW9ucyRnZXQiLCJEaW1lbnNpb25zIiwiU0NSRUVOX1dJRFRIIiwid2lkdGgiLCJTQ1JFRU5fSEVJR0hUIiwiaGVpZ2h0IiwiX3dvcmtsZXRfODI2ODg1MjA1NDk4MF9pbml0X2RhdGEiLCJjb2RlIiwibG9jYXRpb24iLCJzb3VyY2VNYXAiLCJBbmltYXRlZFBhcnRpY2xlIiwiX3JlZiIsInBhcnRpY2xlIiwiYW5pbWF0ZWRTdHlsZSIsInVzZUFuaW1hdGVkU3R5bGUiLCJfZSIsImdsb2JhbCIsIkVycm9yIiwiX2YiLCJsZWZ0IiwidmFsdWUiLCJ0b3AiLCJvcGFjaXR5IiwidHJhbnNmb3JtIiwicm90YXRlIiwicm90YXRpb24iLCJzY2FsZSIsIl9jbG9zdXJlIiwiX19pbml0RGF0YSIsIl9fd29ya2xldEhhc2giLCJfX3N0YWNrRGV0YWlscyIsIl9fdmVyc2lvbiIsImpzeCIsIlZpZXciLCJzdHlsZSIsInN0eWxlcyIsInNpemUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsIkNvbmZldHRpQnVyc3QiLCJfcmVmMiIsIl9yZWYyJHNob3ciLCJzaG93Iiwib25Db21wbGV0ZSIsIl9yZWYyJGludGVuc2l0eSIsImludGVuc2l0eSIsIl9yZWYyJGR1cmF0aW9uIiwiZHVyYXRpb24iLCJfcmVmMiRjb2xvcnMiLCJjb2xvcnMiLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJwYXJ0aWNsZXMiLCJzZXRQYXJ0aWNsZXMiLCJhbmltYXRpb25SZWYiLCJ1c2VSZWYiLCJpc1BsYXlpbmdSZWYiLCJjb25maWciLCJsaWdodCIsImNvdW50IiwicGFydGljbGVTaXplIiwibWVkaXVtIiwiaGVhdnkiLCJjdXJyZW50Q29uZmlnIiwicGFydGljbGVDb3VudCIsInVzZUVmZmVjdCIsImltcGFjdEFzeW5jIiwiSW1wYWN0RmVlZGJhY2tTdHlsZSIsIkhlYXZ5Iiwic2V0VGltZW91dCIsIk1lZGl1bSIsImN1cnJlbnQiLCJuZXdQYXJ0aWNsZXMiLCJfcmVmMyIsIl9jb2xvcnMkTWF0aCRmbG9vciIsInN0YXJ0WCIsIk1hdGgiLCJyYW5kb20iLCJzdGFydFkiLCJlbmRYIiwiZW5kWSIsImxlZnRTViIsInRvcFNWIiwicm90YXRpb25TViIsInNjYWxlU1YiLCJvcGFjaXR5U1YiLCJhbmltYXRpb25EZWxheSIsInJvdGF0aW9uVGFyZ2V0Iiwid2l0aERlbGF5Iiwid2l0aFRpbWluZyIsInB1c2giLCJpZCIsImZsb29yIiwibGVuZ3RoIiwic2V0SW50ZXJ2YWwiLCJleHRyYVBhcnRpY2xlcyIsImJ1cnN0UGFydGljbGVzIiwiX3JlZjQiLCJfY29sb3JzJE1hdGgkZmxvb3IyIiwiRGF0ZSIsIm5vdyIsInByZXYiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiY2xlYXJJbnRlcnZhbCIsImNvbnRhaW5lciIsInBvaW50ZXJFdmVudHMiLCJ0ZXN0SUQiLCJjaGlsZHJlbiIsIm1hcCIsIlN0eWxlU2hlZXQiLCJjcmVhdGUiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwiekluZGV4IiwiYm9yZGVyUmFkaXVzIl0sInNvdXJjZXMiOlsiQ29uZmV0dGlCdXJzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb25mZXR0aUJ1cnN0IC0gTWF0Y2ggY2VsZWJyYXRpb24gZWZmZWN0XG4gKiBQcm9kdWN0aW9uLWdyYWRlIGNvbmZldHRpIGFuaW1hdGlvbiBmb3IgbWF0Y2hlc1xuICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBWaWV3LCBTdHlsZVNoZWV0LCBEaW1lbnNpb25zIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB0eXBlIHsgVmlld1N0eWxlIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBBbmltYXRlZCwgeyB1c2VBbmltYXRlZFN0eWxlLCB3aXRoVGltaW5nLCB3aXRoU2VxdWVuY2UsIHdpdGhSZXBlYXQsIHdpdGhEZWxheSwgdXNlU2hhcmVkVmFsdWUgfSBmcm9tICdyZWFjdC1uYXRpdmUtcmVhbmltYXRlZCc7XG5pbXBvcnQgKiBhcyBIYXB0aWNzIGZyb20gJ2V4cG8taGFwdGljcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAcGF3ZmVjdG1hdGNoL2NvcmUnO1xuXG5jb25zdCB7IHdpZHRoOiBTQ1JFRU5fV0lEVEgsIGhlaWdodDogU0NSRUVOX0hFSUdIVCB9ID0gRGltZW5zaW9ucy5nZXQoJ3dpbmRvdycpO1xuXG5pbnRlcmZhY2UgUGFydGljbGUge1xuICBpZDogbnVtYmVyO1xuICBsZWZ0OiBBbmltYXRlZC5TaGFyZWRWYWx1ZTxudW1iZXI+O1xuICB0b3A6IEFuaW1hdGVkLlNoYXJlZFZhbHVlPG51bWJlcj47XG4gIHJvdGF0aW9uOiBBbmltYXRlZC5TaGFyZWRWYWx1ZTxudW1iZXI+O1xuICBzY2FsZTogQW5pbWF0ZWQuU2hhcmVkVmFsdWU8bnVtYmVyPjtcbiAgb3BhY2l0eTogQW5pbWF0ZWQuU2hhcmVkVmFsdWU8bnVtYmVyPjtcbiAgY29sb3I6IHN0cmluZztcbiAgc2l6ZTogbnVtYmVyO1xuICBzdGFydFg6IG51bWJlcjtcbiAgc3RhcnRZOiBudW1iZXI7XG4gIGVuZFg6IG51bWJlcjtcbiAgZW5kWTogbnVtYmVyO1xufVxuXG4vLyBQYXJ0aWNsZSBjb21wb25lbnQgdG8gcHJvcGVybHkgdXNlIHVzZUFuaW1hdGVkU3R5bGVcbmZ1bmN0aW9uIEFuaW1hdGVkUGFydGljbGUoeyBwYXJ0aWNsZSB9OiB7IHBhcnRpY2xlOiBQYXJ0aWNsZSB9KSB7XG4gIGNvbnN0IGFuaW1hdGVkU3R5bGUgPSB1c2VBbmltYXRlZFN0eWxlKCgpID0+ICh7XG4gICAgbGVmdDogcGFydGljbGUubGVmdC52YWx1ZSxcbiAgICB0b3A6IHBhcnRpY2xlLnRvcC52YWx1ZSxcbiAgICBvcGFjaXR5OiBwYXJ0aWNsZS5vcGFjaXR5LnZhbHVlLFxuICAgIHRyYW5zZm9ybTogW1xuICAgICAgeyByb3RhdGU6IGAke3BhcnRpY2xlLnJvdGF0aW9uLnZhbHVlfWRlZ2AgfSxcbiAgICAgIHsgc2NhbGU6IHBhcnRpY2xlLnNjYWxlLnZhbHVlIH0sXG4gICAgXSxcbiAgfSkpO1xuXG4gIHJldHVybiAoXG4gICAgPEFuaW1hdGVkLlZpZXdcbiAgICAgIHN0eWxlPXtbXG4gICAgICAgIHN0eWxlcy5wYXJ0aWNsZSxcbiAgICAgICAge1xuICAgICAgICAgIHdpZHRoOiBwYXJ0aWNsZS5zaXplLFxuICAgICAgICAgIGhlaWdodDogcGFydGljbGUuc2l6ZSxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHBhcnRpY2xlLmNvbG9yLFxuICAgICAgICB9LFxuICAgICAgICBhbmltYXRlZFN0eWxlLFxuICAgICAgXX1cbiAgICAvPlxuICApO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZldHRpQnVyc3RQcm9wcyB7XG4gIHNob3c/OiBib29sZWFuO1xuICBvbkNvbXBsZXRlPzogKCkgPT4gdm9pZDtcbiAgaW50ZW5zaXR5PzogJ2xpZ2h0JyB8ICdtZWRpdW0nIHwgJ2hlYXZ5JztcbiAgZHVyYXRpb24/OiBudW1iZXI7XG4gIGNvbG9ycz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29uZmV0dGlCdXJzdCh7XG4gIHNob3cgPSBmYWxzZSxcbiAgb25Db21wbGV0ZSxcbiAgaW50ZW5zaXR5ID0gJ21lZGl1bScsXG4gIGR1cmF0aW9uID0gMzAwMCxcbiAgY29sb3JzID0gWycjRkY2QjZCJywgJyM0RUNEQzQnLCAnI0ZGRDcwMCcsICcjOUMyN0IwJywgJyMzQTg2RkYnLCAnIzA2RkZBNSddLFxufTogQ29uZmV0dGlCdXJzdFByb3BzKTogUmVhY3QuSlNYLkVsZW1lbnQge1xuICBjb25zdCBbcGFydGljbGVzLCBzZXRQYXJ0aWNsZXNdID0gdXNlU3RhdGU8UGFydGljbGVbXT4oW10pO1xuICBjb25zdCBhbmltYXRpb25SZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgaXNQbGF5aW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcblxuICAvLyBDb25maWd1cmF0aW9uIGJhc2VkIG9uIGludGVuc2l0eVxuICBjb25zdCBjb25maWcgPSB7XG4gICAgbGlnaHQ6IHsgY291bnQ6IDQwLCBwYXJ0aWNsZVNpemU6IDYgfSxcbiAgICBtZWRpdW06IHsgY291bnQ6IDgwLCBwYXJ0aWNsZVNpemU6IDggfSxcbiAgICBoZWF2eTogeyBjb3VudDogMTUwLCBwYXJ0aWNsZVNpemU6IDEwIH0sXG4gIH07XG5cbiAgY29uc3QgY3VycmVudENvbmZpZyA9IGNvbmZpZ1tpbnRlbnNpdHldO1xuICBjb25zdCBwYXJ0aWNsZUNvdW50ID0gY3VycmVudENvbmZpZy5jb3VudDtcbiAgY29uc3QgcGFydGljbGVTaXplID0gY3VycmVudENvbmZpZy5wYXJ0aWNsZVNpemU7XG5cbiAgLy8gSGFwdGljIGZlZWRiYWNrIG9uIG1hdGNoXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3cpIHtcbiAgICAgIEhhcHRpY3MuaW1wYWN0QXN5bmMoSGFwdGljcy5JbXBhY3RGZWVkYmFja1N0eWxlLkhlYXZ5KTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBIYXB0aWNzLmltcGFjdEFzeW5jKEhhcHRpY3MuSW1wYWN0RmVlZGJhY2tTdHlsZS5NZWRpdW0pO1xuICAgICAgfSwgMjAwKTtcbiAgICB9XG4gIH0sIFtzaG93XSk7XG5cbiAgLy8gQ3JlYXRlIGFuZCBhbmltYXRlIHBhcnRpY2xlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaG93ICYmICFpc1BsYXlpbmdSZWYuY3VycmVudCkge1xuICAgICAgaXNQbGF5aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgY29uc3QgbmV3UGFydGljbGVzOiBQYXJ0aWNsZVtdID0gW107XG5cbiAgICAgIC8vIENyZWF0ZSBwYXJ0aWNsZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydGljbGVDb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IE1hdGgucmFuZG9tKCkgKiBTQ1JFRU5fV0lEVEg7XG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IFNDUkVFTl9IRUlHSFQgKiAwLjU7XG4gICAgICAgIGNvbnN0IGVuZFggPSBzdGFydFggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA0MDA7XG4gICAgICAgIGNvbnN0IGVuZFkgPSBzdGFydFkgKyBNYXRoLnJhbmRvbSgpICogU0NSRUVOX0hFSUdIVDtcblxuICAgICAgICAvLyBDcmVhdGUgc2hhcmVkIHZhbHVlcyBwcm9wZXJseSAtIG5vdCB1c2luZyBob29rcyBpbnNpZGUgbG9vcFxuICAgICAgICBjb25zdCBsZWZ0U1Y6IEFuaW1hdGVkLlNoYXJlZFZhbHVlPG51bWJlcj4gPSB7IHZhbHVlOiBzdGFydFggfSBhcyBBbmltYXRlZC5TaGFyZWRWYWx1ZTxudW1iZXI+O1xuICAgICAgICBjb25zdCB0b3BTVjogQW5pbWF0ZWQuU2hhcmVkVmFsdWU8bnVtYmVyPiA9IHsgdmFsdWU6IHN0YXJ0WSB9IGFzIEFuaW1hdGVkLlNoYXJlZFZhbHVlPG51bWJlcj47XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uU1Y6IEFuaW1hdGVkLlNoYXJlZFZhbHVlPG51bWJlcj4gPSB7IHZhbHVlOiAwIH0gYXMgQW5pbWF0ZWQuU2hhcmVkVmFsdWU8bnVtYmVyPjtcbiAgICAgICAgY29uc3Qgc2NhbGVTVjogQW5pbWF0ZWQuU2hhcmVkVmFsdWU8bnVtYmVyPiA9IHsgdmFsdWU6IDEgfSBhcyBBbmltYXRlZC5TaGFyZWRWYWx1ZTxudW1iZXI+O1xuICAgICAgICBjb25zdCBvcGFjaXR5U1Y6IEFuaW1hdGVkLlNoYXJlZFZhbHVlPG51bWJlcj4gPSB7IHZhbHVlOiAxIH0gYXMgQW5pbWF0ZWQuU2hhcmVkVmFsdWU8bnVtYmVyPjtcblxuICAgICAgICBjb25zdCBhbmltYXRpb25EZWxheSA9IChpIC8gcGFydGljbGVDb3VudCkgKiAxMDA7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uVGFyZ2V0ID0gKE1hdGgucmFuZG9tKCkgKiA3MjAgLSAzNjApICogMjtcblxuICAgICAgICAvLyBBbmltYXRlIGxlZnRcbiAgICAgICAgbGVmdFNWLnZhbHVlID0gd2l0aERlbGF5KFxuICAgICAgICAgIGFuaW1hdGlvbkRlbGF5LFxuICAgICAgICAgIHdpdGhUaW1pbmcoXG4gICAgICAgICAgICBlbmRYLFxuICAgICAgICAgICAgeyBkdXJhdGlvbjogZHVyYXRpb24gKyBNYXRoLnJhbmRvbSgpICogMTAwMCB9XG4gICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFuaW1hdGUgdG9wXG4gICAgICAgIHRvcFNWLnZhbHVlID0gd2l0aERlbGF5KFxuICAgICAgICAgIGFuaW1hdGlvbkRlbGF5LFxuICAgICAgICAgIHdpdGhUaW1pbmcoXG4gICAgICAgICAgICBTQ1JFRU5fSEVJR0hUICsgMjAwLFxuICAgICAgICAgICAgeyBkdXJhdGlvbjogZHVyYXRpb24gKyBNYXRoLnJhbmRvbSgpICogMTAwMCB9XG4gICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEFuaW1hdGUgcm90YXRpb25cbiAgICAgICAgcm90YXRpb25TVi52YWx1ZSA9IHdpdGhEZWxheShcbiAgICAgICAgICBhbmltYXRpb25EZWxheSxcbiAgICAgICAgICB3aXRoVGltaW5nKFxuICAgICAgICAgICAgcm90YXRpb25UYXJnZXQsXG4gICAgICAgICAgICB7IGR1cmF0aW9uOiBkdXJhdGlvbiArIE1hdGgucmFuZG9tKCkgKiAxMDAwIH1cbiAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQW5pbWF0ZSBvcGFjaXR5XG4gICAgICAgIG9wYWNpdHlTVi52YWx1ZSA9IHdpdGhEZWxheShcbiAgICAgICAgICBhbmltYXRpb25EZWxheSArIGR1cmF0aW9uICogMC43LFxuICAgICAgICAgIHdpdGhUaW1pbmcoMCwgeyBkdXJhdGlvbjogZHVyYXRpb24gKyBNYXRoLnJhbmRvbSgpICogNTAwIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgbmV3UGFydGljbGVzLnB1c2goe1xuICAgICAgICAgIGlkOiBpLFxuICAgICAgICAgIGxlZnQ6IGxlZnRTVixcbiAgICAgICAgICB0b3A6IHRvcFNWLFxuICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvblNWLFxuICAgICAgICAgIHNjYWxlOiBzY2FsZVNWLFxuICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHlTVixcbiAgICAgICAgICBjb2xvcjogKGNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb2xvcnMubGVuZ3RoKV0gPz8gY29sb3JzWzBdID8/ICcjRkY2QjZCJyksXG4gICAgICAgICAgc2l6ZTogcGFydGljbGVTaXplICsgTWF0aC5yYW5kb20oKSAqIDQsXG4gICAgICAgICAgc3RhcnRYLFxuICAgICAgICAgIHN0YXJ0WSxcbiAgICAgICAgICBlbmRYLFxuICAgICAgICAgIGVuZFksXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzZXRQYXJ0aWNsZXMobmV3UGFydGljbGVzKTtcblxuICAgICAgLy8gUGVyaW9kaWMgYWRkaXRpb25hbCBidXJzdHNcbiAgICAgIGFuaW1hdGlvblJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBjb25zdCBleHRyYVBhcnRpY2xlcyA9IE1hdGguZmxvb3IoY3VycmVudENvbmZpZy5jb3VudCAqIDAuMik7XG4gICAgICAgIGNvbnN0IGJ1cnN0UGFydGljbGVzOiBQYXJ0aWNsZVtdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHRyYVBhcnRpY2xlczsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgc3RhcnRYID0gTWF0aC5yYW5kb20oKSAqIFNDUkVFTl9XSURUSDtcbiAgICAgICAgICBjb25zdCBzdGFydFkgPSBTQ1JFRU5fSEVJR0hUICogMC4zO1xuICAgICAgICAgIGNvbnN0IGVuZFggPSBzdGFydFggKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAzMDA7XG5cbiAgICAgICAgICBjb25zdCBsZWZ0U1Y6IEFuaW1hdGVkLlNoYXJlZFZhbHVlPG51bWJlcj4gPSB7IHZhbHVlOiBzdGFydFggfSBhcyBBbmltYXRlZC5TaGFyZWRWYWx1ZTxudW1iZXI+O1xuICAgICAgICAgIGNvbnN0IHRvcFNWOiBBbmltYXRlZC5TaGFyZWRWYWx1ZTxudW1iZXI+ID0geyB2YWx1ZTogc3RhcnRZIH0gYXMgQW5pbWF0ZWQuU2hhcmVkVmFsdWU8bnVtYmVyPjtcbiAgICAgICAgICBjb25zdCByb3RhdGlvblNWOiBBbmltYXRlZC5TaGFyZWRWYWx1ZTxudW1iZXI+ID0geyB2YWx1ZTogMCB9IGFzIEFuaW1hdGVkLlNoYXJlZFZhbHVlPG51bWJlcj47XG4gICAgICAgICAgY29uc3Qgc2NhbGVTVjogQW5pbWF0ZWQuU2hhcmVkVmFsdWU8bnVtYmVyPiA9IHsgdmFsdWU6IDAgfSBhcyBBbmltYXRlZC5TaGFyZWRWYWx1ZTxudW1iZXI+O1xuICAgICAgICAgIGNvbnN0IG9wYWNpdHlTVjogQW5pbWF0ZWQuU2hhcmVkVmFsdWU8bnVtYmVyPiA9IHsgdmFsdWU6IDEgfSBhcyBBbmltYXRlZC5TaGFyZWRWYWx1ZTxudW1iZXI+O1xuXG4gICAgICAgICAgbGVmdFNWLnZhbHVlID0gd2l0aFRpbWluZyhlbmRYLCB7IGR1cmF0aW9uOiAyMDAwIH0pO1xuICAgICAgICAgIHRvcFNWLnZhbHVlID0gd2l0aFRpbWluZyhTQ1JFRU5fSEVJR0hUICsgMjAwLCB7IGR1cmF0aW9uOiAyMDAwIH0pO1xuICAgICAgICAgIG9wYWNpdHlTVi52YWx1ZSA9IHdpdGhUaW1pbmcoMCwgeyBkdXJhdGlvbjogMTgwMCB9KTtcblxuICAgICAgICAgIGJ1cnN0UGFydGljbGVzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCkgKyBpLFxuICAgICAgICAgICAgbGVmdDogbGVmdFNWLFxuICAgICAgICAgICAgdG9wOiB0b3BTVixcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvblNWLFxuICAgICAgICAgICAgc2NhbGU6IHNjYWxlU1YsXG4gICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5U1YsXG4gICAgICAgICAgICBjb2xvcjogKGNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb2xvcnMubGVuZ3RoKV0gPz8gY29sb3JzWzBdID8/ICcjRkY2QjZCJyksXG4gICAgICAgICAgICBzaXplOiBwYXJ0aWNsZVNpemUgKyBNYXRoLnJhbmRvbSgpICogNCxcbiAgICAgICAgICAgIHN0YXJ0WCxcbiAgICAgICAgICAgIHN0YXJ0WSxcbiAgICAgICAgICAgIGVuZFgsXG4gICAgICAgICAgICBlbmRZOiBTQ1JFRU5fSEVJR0hUICsgMjAwLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0UGFydGljbGVzKHByZXYgPT4gWy4uLnByZXYsIC4uLmJ1cnN0UGFydGljbGVzXSk7XG4gICAgICB9LCAzNTApO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoYW5pbWF0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGFuaW1hdGlvblJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIXNob3cpIHtcbiAgICAgIGlzUGxheWluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICBzZXRQYXJ0aWNsZXMoW10pO1xuICAgIH1cbiAgfSwgW3Nob3csIHBhcnRpY2xlQ291bnQsIGR1cmF0aW9uLCBjb2xvcnMsIHBhcnRpY2xlU2l6ZSwgY3VycmVudENvbmZpZy5jb3VudCwgb25Db21wbGV0ZV0pO1xuXG4gIGlmICghc2hvdykgcmV0dXJuIDxWaWV3IC8+O1xuXG4gIHJldHVybiAoXG4gICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5jb250YWluZXJ9IHBvaW50ZXJFdmVudHM9XCJub25lXCIgdGVzdElEPVwiY29uZmV0dGktY29udGFpbmVyXCI+XG4gICAgICB7cGFydGljbGVzLm1hcChwYXJ0aWNsZSA9PiAoXG4gICAgICAgIDxBbmltYXRlZFBhcnRpY2xlIGtleT17cGFydGljbGUuaWR9IHBhcnRpY2xlPXtwYXJ0aWNsZX0gLz5cbiAgICAgICkpfVxuICAgIDwvVmlldz5cbiAgKTtcbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBjb250YWluZXI6IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6IDAsXG4gICAgbGVmdDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgekluZGV4OiA5OTk5LFxuICB9LFxuICBwYXJ0aWNsZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIGJvcmRlclJhZGl1czogMixcbiAgfSxcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFLQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFFQSxJQUFBRSxzQkFBQSxHQUFBSCx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSix1QkFBQSxDQUFBQyxPQUFBO0FBQXdDLElBQUFJLFdBQUEsR0FBQUosT0FBQTtBQUFBLFNBQUFELHdCQUFBTSxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFB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