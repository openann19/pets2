23f460d39b4c0bd3d6692158019ba88a
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _flattenStyle = _interopRequireDefault(require("../StyleSheet/flattenStyle"));
var _StyleSheet = _interopRequireDefault(require("../StyleSheet/StyleSheet"));
var _ImageAnalyticsTagContext = _interopRequireDefault(require("./ImageAnalyticsTagContext"));
var _ImageInjection = _interopRequireDefault(require("./ImageInjection"));
var _ImageSourceUtils = require("./ImageSourceUtils");
var _ImageUtils = require("./ImageUtils");
var _ImageViewNativeComponent = _interopRequireDefault(require("./ImageViewNativeComponent"));
var _NativeImageLoaderIOS = _interopRequireDefault(require("./NativeImageLoaderIOS"));
var _resolveAssetSource = _interopRequireDefault(require("./resolveAssetSource"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["aria-busy", "aria-checked", "aria-disabled", "aria-expanded", "aria-selected", "height", "src", "width"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function getSize(uri, success, failure) {
  _NativeImageLoaderIOS.default.getSize(uri).then(function (_ref) {
    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
      width = _ref2[0],
      height = _ref2[1];
    return success(width, height);
  }).catch(failure || function () {
    console.warn('Failed to get size for image ' + uri);
  });
}
function getSizeWithHeaders(uri, headers, success, failure) {
  return _NativeImageLoaderIOS.default.getSizeWithHeaders(uri, headers).then(function (sizes) {
    success(sizes.width, sizes.height);
  }).catch(failure || function () {
    console.warn('Failed to get size for image: ' + uri);
  });
}
function prefetchWithMetadata(url, queryRootName, rootTag) {
  if (_NativeImageLoaderIOS.default.prefetchImageWithMetadata) {
    return _NativeImageLoaderIOS.default.prefetchImageWithMetadata(url, queryRootName, rootTag ? rootTag : 0);
  } else {
    return _NativeImageLoaderIOS.default.prefetchImage(url);
  }
}
function prefetch(url) {
  return _NativeImageLoaderIOS.default.prefetchImage(url);
}
function queryCache(_x) {
  return _queryCache.apply(this, arguments);
}
function _queryCache() {
  _queryCache = (0, _asyncToGenerator2.default)(function* (urls) {
    return yield _NativeImageLoaderIOS.default.queryCache(urls);
  });
  return _queryCache.apply(this, arguments);
}
var BaseImage = function BaseImage(props, forwardedRef) {
  var _props$accessibilityS, _props$accessibilityS2, _props$accessibilityS3, _props$accessibilityS4, _props$accessibilityS5, _props$ariaLabel;
  var source = (0, _ImageSourceUtils.getImageSourcesFromImageProps)(props) || {
    uri: undefined,
    width: undefined,
    height: undefined
  };
  var sources;
  var style;
  if (Array.isArray(source)) {
    style = (0, _flattenStyle.default)([styles.base, props.style]) || {};
    sources = source;
  } else {
    var _source$width = source.width,
      _width = _source$width === void 0 ? props.width : _source$width,
      _source$height = source.height,
      _height = _source$height === void 0 ? props.height : _source$height,
      uri = source.uri;
    style = (0, _flattenStyle.default)([{
      width: _width,
      height: _height
    }, styles.base, props.style]) || {};
    sources = [source];
    if (uri === '') {
      console.warn('source.uri should not be an empty string');
    }
  }
  var objectFit = style && style.objectFit ? (0, _ImageUtils.convertObjectFitToResizeMode)(style.objectFit) : null;
  var resizeMode = objectFit || props.resizeMode || style && style.resizeMode || 'cover';
  var tintColor = props.tintColor || style.tintColor;
  if (props.children != null) {
    throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');
  }
  var ariaBusy = props['aria-busy'],
    ariaChecked = props['aria-checked'],
    ariaDisabled = props['aria-disabled'],
    ariaExpanded = props['aria-expanded'],
    ariaSelected = props['aria-selected'],
    height = props.height,
    src = props.src,
    width = props.width,
    restProps = (0, _objectWithoutProperties2.default)(props, _excluded);
  var _accessibilityState = {
    busy: ariaBusy != null ? ariaBusy : (_props$accessibilityS = props.accessibilityState) == null ? void 0 : _props$accessibilityS.busy,
    checked: ariaChecked != null ? ariaChecked : (_props$accessibilityS2 = props.accessibilityState) == null ? void 0 : _props$accessibilityS2.checked,
    disabled: ariaDisabled != null ? ariaDisabled : (_props$accessibilityS3 = props.accessibilityState) == null ? void 0 : _props$accessibilityS3.disabled,
    expanded: ariaExpanded != null ? ariaExpanded : (_props$accessibilityS4 = props.accessibilityState) == null ? void 0 : _props$accessibilityS4.expanded,
    selected: ariaSelected != null ? ariaSelected : (_props$accessibilityS5 = props.accessibilityState) == null ? void 0 : _props$accessibilityS5.selected
  };
  var accessibilityLabel = (_props$ariaLabel = props['aria-label']) != null ? _props$ariaLabel : props.accessibilityLabel;
  return (0, _jsxRuntime.jsx)(_ImageAnalyticsTagContext.default.Consumer, {
    children: function children(analyticTag) {
      return (0, _jsxRuntime.jsx)(_ImageViewNativeComponent.default, _objectSpread(_objectSpread({
        accessibilityState: _accessibilityState
      }, restProps), {}, {
        accessible: props.alt !== undefined ? true : props.accessible,
        accessibilityLabel: accessibilityLabel != null ? accessibilityLabel : props.alt,
        ref: forwardedRef,
        style: style,
        resizeMode: resizeMode,
        tintColor: tintColor,
        source: sources,
        internal_analyticTag: analyticTag
      }));
    }
  });
};
var ImageForwardRef = React.forwardRef(BaseImage);
var Image = ImageForwardRef;
if (_ImageInjection.default.unstable_createImageComponent != null) {
  Image = _ImageInjection.default.unstable_createImageComponent(Image);
}
Image.displayName = 'Image';
Image.getSize = getSize;
Image.getSizeWithHeaders = getSizeWithHeaders;
Image.prefetch = prefetch;
Image.prefetchWithMetadata = prefetchWithMetadata;
Image.queryCache = queryCache;
Image.resolveAssetSource = _resolveAssetSource.default;
Image.propTypes = require('deprecated-react-native-prop-types').ImagePropTypes;
var styles = _StyleSheet.default.create({
  base: {
    overflow: 'hidden'
  }
});
module.exports = Image;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZmxhdHRlblN0eWxlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfU3R5bGVTaGVldCIsIl9JbWFnZUFuYWx5dGljc1RhZ0NvbnRleHQiLCJfSW1hZ2VJbmplY3Rpb24iLCJfSW1hZ2VTb3VyY2VVdGlscyIsIl9JbWFnZVV0aWxzIiwiX0ltYWdlVmlld05hdGl2ZUNvbXBvbmVudCIsIl9OYXRpdmVJbWFnZUxvYWRlcklPUyIsIl9yZXNvbHZlQXNzZXRTb3VyY2UiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2pzeFJ1bnRpbWUiLCJfZXhjbHVkZWQiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZ2V0U2l6ZSIsInVyaSIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiTmF0aXZlSW1hZ2VMb2FkZXJJT1MiLCJ0aGVuIiwiX3JlZiIsIl9yZWYyIiwiX3NsaWNlZFRvQXJyYXkyIiwid2lkdGgiLCJoZWlnaHQiLCJjYXRjaCIsImNvbnNvbGUiLCJ3YXJuIiwiZ2V0U2l6ZVdpdGhIZWFkZXJzIiwiaGVhZGVycyIsInNpemVzIiwicHJlZmV0Y2hXaXRoTWV0YWRhdGEiLCJ1cmwiLCJxdWVyeVJvb3ROYW1lIiwicm9vdFRhZyIsInByZWZldGNoSW1hZ2VXaXRoTWV0YWRhdGEiLCJwcmVmZXRjaEltYWdlIiwicHJlZmV0Y2giLCJxdWVyeUNhY2hlIiwiX3giLCJfcXVlcnlDYWNoZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsInVybHMiLCJCYXNlSW1hZ2UiLCJwcm9wcyIsImZvcndhcmRlZFJlZiIsIl9wcm9wcyRhY2Nlc3NpYmlsaXR5UyIsIl9wcm9wcyRhY2Nlc3NpYmlsaXR5UzIiLCJfcHJvcHMkYWNjZXNzaWJpbGl0eVMzIiwiX3Byb3BzJGFjY2Vzc2liaWxpdHlTNCIsIl9wcm9wcyRhY2Nlc3NpYmlsaXR5UzUiLCJfcHJvcHMkYXJpYUxhYmVsIiwic291cmNlIiwiZ2V0SW1hZ2VTb3VyY2VzRnJvbUltYWdlUHJvcHMiLCJ1bmRlZmluZWQiLCJzb3VyY2VzIiwic3R5bGUiLCJBcnJheSIsImlzQXJyYXkiLCJmbGF0dGVuU3R5bGUiLCJzdHlsZXMiLCJiYXNlIiwiX3NvdXJjZSR3aWR0aCIsIl9zb3VyY2UkaGVpZ2h0Iiwib2JqZWN0Rml0IiwiY29udmVydE9iamVjdEZpdFRvUmVzaXplTW9kZSIsInJlc2l6ZU1vZGUiLCJ0aW50Q29sb3IiLCJjaGlsZHJlbiIsIkVycm9yIiwiYXJpYUJ1c3kiLCJhcmlhQ2hlY2tlZCIsImFyaWFEaXNhYmxlZCIsImFyaWFFeHBhbmRlZCIsImFyaWFTZWxlY3RlZCIsInNyYyIsInJlc3RQcm9wcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfYWNjZXNzaWJpbGl0eVN0YXRlIiwiYnVzeSIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsImNoZWNrZWQiLCJkaXNhYmxlZCIsImV4cGFuZGVkIiwic2VsZWN0ZWQiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJqc3giLCJDb25zdW1lciIsImFuYWx5dGljVGFnIiwiYWNjZXNzaWJsZSIsImFsdCIsInJlZiIsImludGVybmFsX2FuYWx5dGljVGFnIiwiSW1hZ2VGb3J3YXJkUmVmIiwiZm9yd2FyZFJlZiIsIkltYWdlIiwiSW1hZ2VJbmplY3Rpb24iLCJ1bnN0YWJsZV9jcmVhdGVJbWFnZUNvbXBvbmVudCIsImRpc3BsYXlOYW1lIiwicmVzb2x2ZUFzc2V0U291cmNlIiwicHJvcFR5cGVzIiwiSW1hZ2VQcm9wVHlwZXMiLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwib3ZlcmZsb3ciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiSW1hZ2UuaW9zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtJbWFnZVN0eWxlUHJvcH0gZnJvbSAnLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCB0eXBlIHtSb290VGFnfSBmcm9tICcuLi9UeXBlcy9Sb290VGFnVHlwZXMnO1xuaW1wb3J0IHR5cGUge0ltYWdlSU9TfSBmcm9tICcuL0ltYWdlLmZsb3cnO1xuaW1wb3J0IHR5cGUge0ltYWdlUHJvcHMgYXMgSW1hZ2VQcm9wc1R5cGV9IGZyb20gJy4vSW1hZ2VQcm9wcyc7XG5cbmltcG9ydCBmbGF0dGVuU3R5bGUgZnJvbSAnLi4vU3R5bGVTaGVldC9mbGF0dGVuU3R5bGUnO1xuaW1wb3J0IFN0eWxlU2hlZXQgZnJvbSAnLi4vU3R5bGVTaGVldC9TdHlsZVNoZWV0JztcbmltcG9ydCBJbWFnZUFuYWx5dGljc1RhZ0NvbnRleHQgZnJvbSAnLi9JbWFnZUFuYWx5dGljc1RhZ0NvbnRleHQnO1xuaW1wb3J0IEltYWdlSW5qZWN0aW9uIGZyb20gJy4vSW1hZ2VJbmplY3Rpb24nO1xuaW1wb3J0IHtnZXRJbWFnZVNvdXJjZXNGcm9tSW1hZ2VQcm9wc30gZnJvbSAnLi9JbWFnZVNvdXJjZVV0aWxzJztcbmltcG9ydCB7Y29udmVydE9iamVjdEZpdFRvUmVzaXplTW9kZX0gZnJvbSAnLi9JbWFnZVV0aWxzJztcbmltcG9ydCBJbWFnZVZpZXdOYXRpdmVDb21wb25lbnQgZnJvbSAnLi9JbWFnZVZpZXdOYXRpdmVDb21wb25lbnQnO1xuaW1wb3J0IE5hdGl2ZUltYWdlTG9hZGVySU9TIGZyb20gJy4vTmF0aXZlSW1hZ2VMb2FkZXJJT1MnO1xuaW1wb3J0IHJlc29sdmVBc3NldFNvdXJjZSBmcm9tICcuL3Jlc29sdmVBc3NldFNvdXJjZSc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIGdldFNpemUoXG4gIHVyaTogc3RyaW5nLFxuICBzdWNjZXNzOiAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIGZhaWx1cmU/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCxcbikge1xuICBOYXRpdmVJbWFnZUxvYWRlcklPUy5nZXRTaXplKHVyaSlcbiAgICAudGhlbigoW3dpZHRoLCBoZWlnaHRdKSA9PiBzdWNjZXNzKHdpZHRoLCBoZWlnaHQpKVxuICAgIC5jYXRjaChcbiAgICAgIGZhaWx1cmUgfHxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGdldCBzaXplIGZvciBpbWFnZSAnICsgdXJpKTtcbiAgICAgICAgfSxcbiAgICApO1xufVxuXG5mdW5jdGlvbiBnZXRTaXplV2l0aEhlYWRlcnMoXG4gIHVyaTogc3RyaW5nLFxuICBoZWFkZXJzOiB7W3N0cmluZ106IHN0cmluZywgLi4ufSxcbiAgc3VjY2VzczogKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICBmYWlsdXJlPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4pOiBhbnkge1xuICByZXR1cm4gTmF0aXZlSW1hZ2VMb2FkZXJJT1MuZ2V0U2l6ZVdpdGhIZWFkZXJzKHVyaSwgaGVhZGVycylcbiAgICAudGhlbihmdW5jdGlvbiAoc2l6ZXMpIHtcbiAgICAgIHN1Y2Nlc3Moc2l6ZXMud2lkdGgsIHNpemVzLmhlaWdodCk7XG4gICAgfSlcbiAgICAuY2F0Y2goXG4gICAgICBmYWlsdXJlIHx8XG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBnZXQgc2l6ZSBmb3IgaW1hZ2U6ICcgKyB1cmkpO1xuICAgICAgICB9LFxuICAgICk7XG59XG5cbmZ1bmN0aW9uIHByZWZldGNoV2l0aE1ldGFkYXRhKFxuICB1cmw6IHN0cmluZyxcbiAgcXVlcnlSb290TmFtZTogc3RyaW5nLFxuICByb290VGFnPzogP1Jvb3RUYWcsXG4pOiBhbnkge1xuICBpZiAoTmF0aXZlSW1hZ2VMb2FkZXJJT1MucHJlZmV0Y2hJbWFnZVdpdGhNZXRhZGF0YSkge1xuICAgIC8vIG51bWJlciBwYXJhbXMgbGlrZSByb290VGFnIGNhbm5vdCBiZSBudWxsYWJsZSBiZWZvcmUgVHVyYm9Nb2R1bGVzIGlzIGF2YWlsYWJsZVxuICAgIHJldHVybiBOYXRpdmVJbWFnZUxvYWRlcklPUy5wcmVmZXRjaEltYWdlV2l0aE1ldGFkYXRhKFxuICAgICAgdXJsLFxuICAgICAgcXVlcnlSb290TmFtZSxcbiAgICAgIC8vIE5PVEU6IFJvb3RUYWcgdHlwZVxuICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtY2FsbF0gUm9vdFRhZzogbnVtYmVyIGlzIGluY29tcGF0aWJsZSB3aXRoIFJvb3RUYWdcbiAgICAgIHJvb3RUYWcgPyByb290VGFnIDogMCxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBOYXRpdmVJbWFnZUxvYWRlcklPUy5wcmVmZXRjaEltYWdlKHVybCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlZmV0Y2godXJsOiBzdHJpbmcpOiBhbnkge1xuICByZXR1cm4gTmF0aXZlSW1hZ2VMb2FkZXJJT1MucHJlZmV0Y2hJbWFnZSh1cmwpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBxdWVyeUNhY2hlKFxuICB1cmxzOiBBcnJheTxzdHJpbmc+LFxuKTogUHJvbWlzZTx7W3N0cmluZ106ICdtZW1vcnknIHwgJ2Rpc2snIHwgJ2Rpc2svbWVtb3J5JywgLi4ufT4ge1xuICByZXR1cm4gYXdhaXQgTmF0aXZlSW1hZ2VMb2FkZXJJT1MucXVlcnlDYWNoZSh1cmxzKTtcbn1cblxuZXhwb3J0IHR5cGUgSW1hZ2VDb21wb25lbnRTdGF0aWNzID0gJFJlYWRPbmx5PHt8XG4gIGdldFNpemU6IHR5cGVvZiBnZXRTaXplLFxuICBnZXRTaXplV2l0aEhlYWRlcnM6IHR5cGVvZiBnZXRTaXplV2l0aEhlYWRlcnMsXG4gIHByZWZldGNoOiB0eXBlb2YgcHJlZmV0Y2gsXG4gIHByZWZldGNoV2l0aE1ldGFkYXRhOiB0eXBlb2YgcHJlZmV0Y2hXaXRoTWV0YWRhdGEsXG4gIHF1ZXJ5Q2FjaGU6IHR5cGVvZiBxdWVyeUNhY2hlLFxuICByZXNvbHZlQXNzZXRTb3VyY2U6IHR5cGVvZiByZXNvbHZlQXNzZXRTb3VyY2UsXG58fT47XG5cbi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgZm9yIGRpc3BsYXlpbmcgZGlmZmVyZW50IHR5cGVzIG9mIGltYWdlcyxcbiAqIGluY2x1ZGluZyBuZXR3b3JrIGltYWdlcywgc3RhdGljIHJlc291cmNlcywgdGVtcG9yYXJ5IGxvY2FsIGltYWdlcywgYW5kXG4gKiBpbWFnZXMgZnJvbSBsb2NhbCBkaXNrLCBzdWNoIGFzIHRoZSBjYW1lcmEgcm9sbC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9pbWFnZVxuICovXG4vKiAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdIFRoZSB0eXBlIGFubm90YXRpb24ocykgcmVxdWlyZWQgYnkgRmxvdydzXG4gKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuY29uc3QgQmFzZUltYWdlID0gKHByb3BzOiBJbWFnZVByb3BzVHlwZSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHNvdXJjZSA9IGdldEltYWdlU291cmNlc0Zyb21JbWFnZVByb3BzKHByb3BzKSB8fCB7XG4gICAgdXJpOiB1bmRlZmluZWQsXG4gICAgd2lkdGg6IHVuZGVmaW5lZCxcbiAgICBoZWlnaHQ6IHVuZGVmaW5lZCxcbiAgfTtcblxuICBsZXQgc291cmNlcztcbiAgbGV0IHN0eWxlOiBJbWFnZVN0eWxlUHJvcDtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgIC8vICRGbG93Rml4TWVbdW5kZXJjb25zdHJhaW5lZC1pbXBsaWNpdC1pbnN0YW50aWF0aW9uXVxuICAgIHN0eWxlID0gZmxhdHRlblN0eWxlKFtzdHlsZXMuYmFzZSwgcHJvcHMuc3R5bGVdKSB8fCB7fTtcbiAgICBzb3VyY2VzID0gc291cmNlO1xuICB9IGVsc2Uge1xuICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG4gICAgY29uc3Qge3dpZHRoID0gcHJvcHMud2lkdGgsIGhlaWdodCA9IHByb3BzLmhlaWdodCwgdXJpfSA9IHNvdXJjZTtcbiAgICAvLyAkRmxvd0ZpeE1lW3VuZGVyY29uc3RyYWluZWQtaW1wbGljaXQtaW5zdGFudGlhdGlvbl1cbiAgICBzdHlsZSA9IGZsYXR0ZW5TdHlsZShbe3dpZHRoLCBoZWlnaHR9LCBzdHlsZXMuYmFzZSwgcHJvcHMuc3R5bGVdKSB8fCB7fTtcbiAgICBzb3VyY2VzID0gW3NvdXJjZV07XG5cbiAgICBpZiAodXJpID09PSAnJykge1xuICAgICAgY29uc29sZS53YXJuKCdzb3VyY2UudXJpIHNob3VsZCBub3QgYmUgYW4gZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgb2JqZWN0Rml0ID1cbiAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICBzdHlsZSAmJiBzdHlsZS5vYmplY3RGaXRcbiAgICAgID8gY29udmVydE9iamVjdEZpdFRvUmVzaXplTW9kZShzdHlsZS5vYmplY3RGaXQpXG4gICAgICA6IG51bGw7XG4gIGNvbnN0IHJlc2l6ZU1vZGUgPVxuICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgIG9iamVjdEZpdCB8fCBwcm9wcy5yZXNpemVNb2RlIHx8IChzdHlsZSAmJiBzdHlsZS5yZXNpemVNb2RlKSB8fCAnY292ZXInO1xuICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgY29uc3QgdGludENvbG9yID0gcHJvcHMudGludENvbG9yIHx8IHN0eWxlLnRpbnRDb2xvcjtcblxuICBpZiAocHJvcHMuY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdUaGUgPEltYWdlPiBjb21wb25lbnQgY2Fubm90IGNvbnRhaW4gY2hpbGRyZW4uIElmIHlvdSB3YW50IHRvIHJlbmRlciBjb250ZW50IG9uIHRvcCBvZiB0aGUgaW1hZ2UsIGNvbnNpZGVyIHVzaW5nIHRoZSA8SW1hZ2VCYWNrZ3JvdW5kPiBjb21wb25lbnQgb3IgYWJzb2x1dGUgcG9zaXRpb25pbmcuJyxcbiAgICApO1xuICB9XG4gIGNvbnN0IHtcbiAgICAnYXJpYS1idXN5JzogYXJpYUJ1c3ksXG4gICAgJ2FyaWEtY2hlY2tlZCc6IGFyaWFDaGVja2VkLFxuICAgICdhcmlhLWRpc2FibGVkJzogYXJpYURpc2FibGVkLFxuICAgICdhcmlhLWV4cGFuZGVkJzogYXJpYUV4cGFuZGVkLFxuICAgICdhcmlhLXNlbGVjdGVkJzogYXJpYVNlbGVjdGVkLFxuICAgIGhlaWdodCxcbiAgICBzcmMsXG4gICAgd2lkdGgsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBfYWNjZXNzaWJpbGl0eVN0YXRlID0ge1xuICAgIGJ1c3k6IGFyaWFCdXN5ID8/IHByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZT8uYnVzeSxcbiAgICBjaGVja2VkOiBhcmlhQ2hlY2tlZCA/PyBwcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGU/LmNoZWNrZWQsXG4gICAgZGlzYWJsZWQ6IGFyaWFEaXNhYmxlZCA/PyBwcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGU/LmRpc2FibGVkLFxuICAgIGV4cGFuZGVkOiBhcmlhRXhwYW5kZWQgPz8gcHJvcHMuYWNjZXNzaWJpbGl0eVN0YXRlPy5leHBhbmRlZCxcbiAgICBzZWxlY3RlZDogYXJpYVNlbGVjdGVkID8/IHByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZT8uc2VsZWN0ZWQsXG4gIH07XG4gIGNvbnN0IGFjY2Vzc2liaWxpdHlMYWJlbCA9IHByb3BzWydhcmlhLWxhYmVsJ10gPz8gcHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsO1xuXG4gIHJldHVybiAoXG4gICAgPEltYWdlQW5hbHl0aWNzVGFnQ29udGV4dC5Db25zdW1lcj5cbiAgICAgIHthbmFseXRpY1RhZyA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEltYWdlVmlld05hdGl2ZUNvbXBvbmVudFxuICAgICAgICAgICAgYWNjZXNzaWJpbGl0eVN0YXRlPXtfYWNjZXNzaWJpbGl0eVN0YXRlfVxuICAgICAgICAgICAgey4uLnJlc3RQcm9wc31cbiAgICAgICAgICAgIGFjY2Vzc2libGU9e3Byb3BzLmFsdCAhPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHByb3BzLmFjY2Vzc2libGV9XG4gICAgICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw9e2FjY2Vzc2liaWxpdHlMYWJlbCA/PyBwcm9wcy5hbHR9XG4gICAgICAgICAgICByZWY9e2ZvcndhcmRlZFJlZn1cbiAgICAgICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgICAgIHJlc2l6ZU1vZGU9e3Jlc2l6ZU1vZGV9XG4gICAgICAgICAgICB0aW50Q29sb3I9e3RpbnRDb2xvcn1cbiAgICAgICAgICAgIHNvdXJjZT17c291cmNlc31cbiAgICAgICAgICAgIGludGVybmFsX2FuYWx5dGljVGFnPXthbmFseXRpY1RhZ31cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfX1cbiAgICA8L0ltYWdlQW5hbHl0aWNzVGFnQ29udGV4dC5Db25zdW1lcj5cbiAgKTtcbn07XG5cbmNvbnN0IEltYWdlRm9yd2FyZFJlZiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIEltYWdlUHJvcHNUeXBlLFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBJbWFnZVZpZXdOYXRpdmVDb21wb25lbnQ+LFxuPihCYXNlSW1hZ2UpO1xuXG5sZXQgSW1hZ2UgPSBJbWFnZUZvcndhcmRSZWY7XG5pZiAoSW1hZ2VJbmplY3Rpb24udW5zdGFibGVfY3JlYXRlSW1hZ2VDb21wb25lbnQgIT0gbnVsbCkge1xuICBJbWFnZSA9IEltYWdlSW5qZWN0aW9uLnVuc3RhYmxlX2NyZWF0ZUltYWdlQ29tcG9uZW50KEltYWdlKTtcbn1cblxuSW1hZ2UuZGlzcGxheU5hbWUgPSAnSW1hZ2UnO1xuXG4vKipcbiAqIFJldHJpZXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IChpbiBwaXhlbHMpIG9mIGFuIGltYWdlIHByaW9yIHRvIGRpc3BsYXlpbmcgaXQuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvaW1hZ2UjZ2V0c2l6ZVxuICovXG4vKiAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gKD49MC44OS4wIHNpdGU9cmVhY3RfbmF0aXZlX2lvc19mYikgVGhpcyBjb21tZW50XG4gKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsXG4gKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbkltYWdlLmdldFNpemUgPSBnZXRTaXplO1xuXG4vKipcbiAqIFJldHJpZXZlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IChpbiBwaXhlbHMpIG9mIGFuIGltYWdlIHByaW9yIHRvIGRpc3BsYXlpbmcgaXRcbiAqIHdpdGggdGhlIGFiaWxpdHkgdG8gcHJvdmlkZSB0aGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3QuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvaW1hZ2UjZ2V0c2l6ZXdpdGhoZWFkZXJzXG4gKi9cbi8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfaW9zX2ZiKSBUaGlzIGNvbW1lbnRcbiAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvcixcbiAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuSW1hZ2UuZ2V0U2l6ZVdpdGhIZWFkZXJzID0gZ2V0U2l6ZVdpdGhIZWFkZXJzO1xuXG4vKipcbiAqIFByZWZldGNoZXMgYSByZW1vdGUgaW1hZ2UgZm9yIGxhdGVyIHVzZSBieSBkb3dubG9hZGluZyBpdCB0byB0aGUgZGlza1xuICogY2FjaGUuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvaW1hZ2UjcHJlZmV0Y2hcbiAqL1xuLyogJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddICg+PTAuODkuMCBzaXRlPXJlYWN0X25hdGl2ZV9pb3NfZmIpIFRoaXMgY29tbWVudFxuICogc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuODkgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLFxuICogZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG5JbWFnZS5wcmVmZXRjaCA9IHByZWZldGNoO1xuXG4vKipcbiAqIFByZWZldGNoZXMgYSByZW1vdGUgaW1hZ2UgZm9yIGxhdGVyIHVzZSBieSBkb3dubG9hZGluZyBpdCB0byB0aGUgZGlza1xuICogY2FjaGUsIGFuZCBhZGRzIG1ldGFkYXRhIGZvciBxdWVyeVJvb3ROYW1lIGFuZCByb290VGFnLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ltYWdlI3ByZWZldGNoXG4gKi9cbi8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfaW9zX2ZiKSBUaGlzIGNvbW1lbnRcbiAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvcixcbiAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuSW1hZ2UucHJlZmV0Y2hXaXRoTWV0YWRhdGEgPSBwcmVmZXRjaFdpdGhNZXRhZGF0YTtcblxuLyoqXG4gKiBQZXJmb3JtcyBjYWNoZSBpbnRlcnJvZ2F0aW9uLlxuICpcbiAqICBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9pbWFnZSNxdWVyeWNhY2hlXG4gKi9cbi8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjg5LjAgc2l0ZT1yZWFjdF9uYXRpdmVfaW9zX2ZiKSBUaGlzIGNvbW1lbnRcbiAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjg5IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvcixcbiAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuSW1hZ2UucXVlcnlDYWNoZSA9IHF1ZXJ5Q2FjaGU7XG5cbi8qKlxuICogUmVzb2x2ZXMgYW4gYXNzZXQgcmVmZXJlbmNlIGludG8gYW4gb2JqZWN0LlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ltYWdlI3Jlc29sdmVhc3NldHNvdXJjZVxuICovXG4vKiAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gKD49MC44OS4wIHNpdGU9cmVhY3RfbmF0aXZlX2lvc19mYikgVGhpcyBjb21tZW50XG4gKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC44OSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsXG4gKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbkltYWdlLnJlc29sdmVBc3NldFNvdXJjZSA9IHJlc29sdmVBc3NldFNvdXJjZTtcblxuLyoqXG4gKiBTd2l0Y2ggdG8gYGRlcHJlY2F0ZWQtcmVhY3QtbmF0aXZlLXByb3AtdHlwZXNgIGZvciBjb21wYXRpYmlsaXR5IHdpdGggZnV0dXJlXG4gKiByZWxlYXNlcy4gVGhpcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS5cbiAqL1xuSW1hZ2UucHJvcFR5cGVzID0gcmVxdWlyZSgnZGVwcmVjYXRlZC1yZWFjdC1uYXRpdmUtcHJvcC10eXBlcycpLkltYWdlUHJvcFR5cGVzO1xuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGJhc2U6IHtcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSAoKEltYWdlOiBhbnkpOiBJbWFnZUlPUyk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFlQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSx5QkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksaUJBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFdBQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLHlCQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTyxxQkFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsbUJBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLEtBQUEsR0FBQUMsdUJBQUEsQ0FBQVYsT0FBQTtBQUErQixJQUFBVyxXQUFBLEdBQUFYLE9BQUE7QUFBQSxJQUFBWSxTQUFBO0FBQUEsU0FBQUYsd0JBQUFHLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMs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LE9BQ0UsSUFBQTlHLFdBQUEsQ0FBQTRHLEdBQUEsRUFBQ2pILHlCQUFBLENBQUFpQixPQUF3QixFQUFBaUIsYUFBQSxDQUFBQSxhQUFBO1FBQ3ZCeUUsa0JBQWtCLEVBQUVGO01BQW9CLEdBQ3BDRixTQUFTO1FBQ2JhLFVBQVUsRUFBRTdDLEtBQUssQ0FBQzhDLEdBQUcsS0FBS3BDLFNBQVMsR0FBRyxJQUFJLEdBQUdWLEtBQUssQ0FBQzZDLFVBQVc7UUFDOURKLGtCQUFrQixFQUFFQSxrQkFBa0IsV0FBbEJBLGtCQUFrQixHQUFJekMsS0FBSyxDQUFDOEMsR0FBSTtRQUNwREMsR0FBRyxFQUFFOUMsWUFBYTtRQUNsQlcsS0FBSyxFQUFFQSxLQUFNO1FBQ2JVLFVBQVUsRUFBRUEsVUFBVztRQUN2QkMsU0FBUyxFQUFFQSxTQUFVO1FBQ3JCZixNQUFNLEVBQUVHLE9BQVE7UUFDaEJxQyxvQkFBb0IsRUFBRUo7TUFBWSxFQUNuQyxDQUFDO0lBRU47RUFBQyxDQUNnQyxDQUFDO0FBRXhDLENBQUM7QUFFRCxJQUFNSyxlQUFlLEdBQUdySCxLQUFLLENBQUNzSCxVQUFVLENBR3RDbkQsU0FBUyxDQUFDO0FBRVosSUFBSW9ELEtBQUssR0FBR0YsZUFBZTtBQUMzQixJQUFJRyx1QkFBYyxDQUFDQyw2QkFBNkIsSUFBSSxJQUFJLEVBQUU7RUFDeERGLEtBQUssR0FBR0MsdUJBQWMsQ0FBQ0MsNkJBQTZCLENBQUNGLEtBQUssQ0FBQztBQUM3RDtBQUVBQSxLQUFLLENBQUNHLFdBQVcsR0FBRyxPQUFPO0FBVTNCSCxLQUFLLENBQUNqRixPQUFPLEdBQUdBLE9BQU87QUFXdkJpRixLQUFLLENBQUNuRSxrQkFBa0IsR0FBR0Esa0JBQWtCO0FBVzdDbUUsS0FBSyxDQUFDMUQsUUFBUSxHQUFHQSxRQUFRO0FBV3pCMEQsS0FBSyxDQUFDaEUsb0JBQW9CLEdBQUdBLG9CQUFvQjtBQVVqRGdFLEtBQUssQ0FBQ3pELFVBQVUsR0FBR0EsVUFBVTtBQVU3QnlELEtBQUssQ0FBQ0ksa0JBQWtCLEdBQUdBLDJCQUFrQjtBQU03Q0osS0FBSyxDQUFDSyxTQUFTLEdBQUdySSxPQUFPLENBQUMsb0NBQW9DLENBQUMsQ0FBQ3NJLGNBQWM7QUFFOUUsSUFBTXpDLE1BQU0sR0FBRzBDLG1CQUFVLENBQUNDLE1BQU0sQ0FBQztFQUMvQjFDLElBQUksRUFBRTtJQUNKMkMsUUFBUSxFQUFFO0VBQ1o7QUFDRixDQUFDLENBQUM7QUFFRkMsTUFBTSxDQUFDQyxPQUFPLEdBQUtYLEtBQXNCIiwiaWdub3JlTGlzdCI6W119