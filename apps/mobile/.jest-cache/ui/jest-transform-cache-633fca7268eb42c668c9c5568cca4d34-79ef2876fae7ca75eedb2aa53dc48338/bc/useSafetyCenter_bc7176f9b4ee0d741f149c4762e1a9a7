285f914a51db87a40d3d46ad71270b93
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useSafetyCenter = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = require("react");
var Haptics = _interopRequireWildcard(require("expo-haptics"));
var _reactNative = require("react-native");
var _core = require("@pawfectmatch/core");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
var useSafetyCenter = exports.useSafetyCenter = function useSafetyCenter() {
  var _useState = (0, _react.useState)(false),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    emergencyMode = _useState2[0],
    setEmergencyMode = _useState2[1];
  var _useState3 = (0, _react.useState)(false),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    isReporting = _useState4[0],
    setIsReporting = _useState4[1];
  var toggleEmergencyMode = (0, _react.useCallback)((0, _asyncToGenerator2.default)(function* () {
    Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Heavy).catch(function () {});
    var newMode = !emergencyMode;
    _reactNative.Alert.alert(newMode ? "Enable Emergency Mode" : "Disable Emergency Mode", newMode ? "Emergency mode will limit interactions and enhance safety features." : "This will restore normal app functionality.", [{
      text: "Cancel",
      style: "cancel"
    }, {
      text: newMode ? "Enable" : "Disable",
      style: newMode ? "destructive" : "default",
      onPress: function onPress() {
        setEmergencyMode(newMode);
        _reactNative.Alert.alert("Emergency Mode", newMode ? "Emergency mode enabled. Stay safe!" : "Emergency mode disabled");
      }
    }]);
  }), [emergencyMode]);
  var reportUser = (0, _react.useCallback)(function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* (userId, reason) {
      setIsReporting(true);
      try {
        _core.logger.info("Reporting user", {
          userId: userId,
          reason: reason
        });
        yield new Promise(function (resolve) {
          return setTimeout(resolve, 1000);
        });
        _reactNative.Alert.alert("Report Submitted", "Thank you for your report. We will review it shortly.");
        return true;
      } catch (error) {
        _core.logger.error("Failed to report user", {
          error: error,
          userId: userId
        });
        _reactNative.Alert.alert("Error", "Failed to submit report. Please try again.");
        return false;
      } finally {
        setIsReporting(false);
      }
    });
    return function (_x, _x2) {
      return _ref2.apply(this, arguments);
    };
  }(), []);
  var contactSupport = (0, _react.useCallback)(function () {
    _reactNative.Alert.alert("Contact Support", "Support contact options coming soon!");
  }, []);
  var viewSafetyGuidelines = (0, _react.useCallback)(function () {
    _reactNative.Alert.alert("Safety Guidelines", "Safety guidelines will be available soon!");
  }, []);
  var navigateToPrivacySettings = (0, _react.useCallback)(function () {
    _reactNative.Alert.alert("Privacy Settings", "Navigate to Privacy Settings screen (coming soon)");
  }, []);
  var setupEmergencyContacts = (0, _react.useCallback)(function () {
    _reactNative.Alert.alert("Emergency Contacts", "Emergency contact setup coming soon");
  }, []);
  var viewSafetyTips = (0, _react.useCallback)(function () {
    _reactNative.Alert.alert("Safety Tips", "Safety tips and guidelines will be available soon");
  }, []);
  var handleSafetyOption = (0, _react.useCallback)(function (option) {
    Haptics.selectionAsync().catch(function () {});
    option.action();
  }, []);
  var safetyOptions = [{
    id: "report",
    title: "Report User",
    description: "Report inappropriate behavior or content",
    icon: "flag-outline",
    color: "#EF4444",
    action: function action() {
      _reactNative.Alert.alert("Report User", "This feature is coming soon. Please contact support for urgent issues.");
    }
  }, {
    id: "block",
    title: "Block & Report",
    description: "Block a user and report their behavior",
    icon: "person-remove-outline",
    color: "#F59E0B",
    action: function action() {
      _core.logger.info("Navigate back to profile for blocking");
    }
  }, {
    id: "privacy",
    title: "Privacy Settings",
    description: "Control who can see your profile and contact you",
    icon: "lock-closed-outline",
    color: "#10B981",
    action: navigateToPrivacySettings
  }, {
    id: "emergency",
    title: "Emergency Contacts",
    description: "Set up emergency contacts for safety",
    icon: "call-outline",
    color: "#8B5CF6",
    action: setupEmergencyContacts
  }, {
    id: "safety-tips",
    title: "Safety Tips",
    description: "Learn about online safety and best practices",
    icon: "shield-checkmark-outline",
    color: "#06B6D4",
    action: viewSafetyTips
  }];
  return {
    emergencyMode: emergencyMode,
    setEmergencyMode: setEmergencyMode,
    toggleEmergencyMode: toggleEmergencyMode,
    safetyOptions: safetyOptions,
    handleSafetyOption: handleSafetyOption,
    reportUser: reportUser,
    contactSupport: contactSupport,
    viewSafetyGuidelines: viewSafetyGuidelines,
    navigateToPrivacySettings: navigateToPrivacySettings,
    setupEmergencyContacts: setupEmergencyContacts,
    viewSafetyTips: viewSafetyTips,
    isReporting: isReporting
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJyZXF1aXJlIiwiSGFwdGljcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX3JlYWN0TmF0aXZlIiwiX2NvcmUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QyIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1c2VTYWZldHlDZW50ZXIiLCJleHBvcnRzIiwiX3VzZVN0YXRlIiwidXNlU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiZW1lcmdlbmN5TW9kZSIsInNldEVtZXJnZW5jeU1vZGUiLCJfdXNlU3RhdGUzIiwiX3VzZVN0YXRlNCIsImlzUmVwb3J0aW5nIiwic2V0SXNSZXBvcnRpbmciLCJ0b2dnbGVFbWVyZ2VuY3lNb2RlIiwidXNlQ2FsbGJhY2siLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJpbXBhY3RBc3luYyIsIkltcGFjdEZlZWRiYWNrU3R5bGUiLCJIZWF2eSIsImNhdGNoIiwibmV3TW9kZSIsIkFsZXJ0IiwiYWxlcnQiLCJ0ZXh0Iiwic3R5bGUiLCJvblByZXNzIiwicmVwb3J0VXNlciIsIl9yZWYyIiwidXNlcklkIiwicmVhc29uIiwibG9nZ2VyIiwiaW5mbyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImVycm9yIiwiX3giLCJfeDIiLCJhcHBseSIsImFyZ3VtZW50cyIsImNvbnRhY3RTdXBwb3J0Iiwidmlld1NhZmV0eUd1aWRlbGluZXMiLCJuYXZpZ2F0ZVRvUHJpdmFjeVNldHRpbmdzIiwic2V0dXBFbWVyZ2VuY3lDb250YWN0cyIsInZpZXdTYWZldHlUaXBzIiwiaGFuZGxlU2FmZXR5T3B0aW9uIiwib3B0aW9uIiwic2VsZWN0aW9uQXN5bmMiLCJhY3Rpb24iLCJzYWZldHlPcHRpb25zIiwiaWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaWNvbiIsImNvbG9yIl0sInNvdXJjZXMiOlsidXNlU2FmZXR5Q2VudGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogdXNlU2FmZXR5Q2VudGVyIEhvb2tcbiAqIE1hbmFnZXMgc2FmZXR5IGNlbnRlciBvcGVyYXRpb25zIGluY2x1ZGluZyBlbWVyZ2VuY3kgbW9kZSwgcmVwb3J0aW5nLCBhbmQgc2FmZXR5IHRvb2xzXG4gKi9cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgSGFwdGljcyBmcm9tIFwiZXhwby1oYXB0aWNzXCI7XG5pbXBvcnQgeyBBbGVydCB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCJAcGF3ZmVjdG1hdGNoL2NvcmVcIjtcblxuaW50ZXJmYWNlIFNhZmV0eU9wdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGljb246IHN0cmluZztcbiAgY29sb3I6IHN0cmluZztcbiAgYWN0aW9uOiAoKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgVXNlU2FmZXR5Q2VudGVyUmV0dXJuIHtcbiAgLy8gRW1lcmdlbmN5IG1vZGVcbiAgZW1lcmdlbmN5TW9kZTogYm9vbGVhbjtcbiAgc2V0RW1lcmdlbmN5TW9kZTogKG1vZGU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHRvZ2dsZUVtZXJnZW5jeU1vZGU6ICgpID0+IFByb21pc2U8dm9pZD47XG5cbiAgLy8gU2FmZXR5IG9wdGlvbnNcbiAgc2FmZXR5T3B0aW9uczogU2FmZXR5T3B0aW9uW107XG4gIGhhbmRsZVNhZmV0eU9wdGlvbjogKG9wdGlvbjogU2FmZXR5T3B0aW9uKSA9PiB2b2lkO1xuXG4gIC8vIEFjdGlvbnNcbiAgcmVwb3J0VXNlcjogKHVzZXJJZDogc3RyaW5nLCByZWFzb246IHN0cmluZykgPT4gUHJvbWlzZTxib29sZWFuPjtcbiAgY29udGFjdFN1cHBvcnQ6ICgpID0+IHZvaWQ7XG4gIHZpZXdTYWZldHlHdWlkZWxpbmVzOiAoKSA9PiB2b2lkO1xuICBuYXZpZ2F0ZVRvUHJpdmFjeVNldHRpbmdzOiAoKSA9PiB2b2lkO1xuICBzZXR1cEVtZXJnZW5jeUNvbnRhY3RzOiAoKSA9PiB2b2lkO1xuICB2aWV3U2FmZXR5VGlwczogKCkgPT4gdm9pZDtcblxuICAvLyBTdGF0ZVxuICBpc1JlcG9ydGluZzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVNhZmV0eUNlbnRlciA9ICgpOiBVc2VTYWZldHlDZW50ZXJSZXR1cm4gPT4ge1xuICBjb25zdCBbZW1lcmdlbmN5TW9kZSwgc2V0RW1lcmdlbmN5TW9kZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1JlcG9ydGluZywgc2V0SXNSZXBvcnRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IHRvZ2dsZUVtZXJnZW5jeU1vZGUgPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgSGFwdGljcy5pbXBhY3RBc3luYyhIYXB0aWNzLkltcGFjdEZlZWRiYWNrU3R5bGUuSGVhdnkpLmNhdGNoKCgpID0+IHt9KTtcblxuICAgIGNvbnN0IG5ld01vZGUgPSAhZW1lcmdlbmN5TW9kZTtcblxuICAgIEFsZXJ0LmFsZXJ0KFxuICAgICAgbmV3TW9kZSA/IFwiRW5hYmxlIEVtZXJnZW5jeSBNb2RlXCIgOiBcIkRpc2FibGUgRW1lcmdlbmN5IE1vZGVcIixcbiAgICAgIG5ld01vZGVcbiAgICAgICAgPyBcIkVtZXJnZW5jeSBtb2RlIHdpbGwgbGltaXQgaW50ZXJhY3Rpb25zIGFuZCBlbmhhbmNlIHNhZmV0eSBmZWF0dXJlcy5cIlxuICAgICAgICA6IFwiVGhpcyB3aWxsIHJlc3RvcmUgbm9ybWFsIGFwcCBmdW5jdGlvbmFsaXR5LlwiLFxuICAgICAgW1xuICAgICAgICB7IHRleHQ6IFwiQ2FuY2VsXCIsIHN0eWxlOiBcImNhbmNlbFwiIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiBuZXdNb2RlID8gXCJFbmFibGVcIiA6IFwiRGlzYWJsZVwiLFxuICAgICAgICAgIHN0eWxlOiBuZXdNb2RlID8gXCJkZXN0cnVjdGl2ZVwiIDogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgb25QcmVzczogKCkgPT4ge1xuICAgICAgICAgICAgc2V0RW1lcmdlbmN5TW9kZShuZXdNb2RlKTtcbiAgICAgICAgICAgIEFsZXJ0LmFsZXJ0KFxuICAgICAgICAgICAgICBcIkVtZXJnZW5jeSBNb2RlXCIsXG4gICAgICAgICAgICAgIG5ld01vZGVcbiAgICAgICAgICAgICAgICA/IFwiRW1lcmdlbmN5IG1vZGUgZW5hYmxlZC4gU3RheSBzYWZlIVwiXG4gICAgICAgICAgICAgICAgOiBcIkVtZXJnZW5jeSBtb2RlIGRpc2FibGVkXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICk7XG4gIH0sIFtlbWVyZ2VuY3lNb2RlXSk7XG5cbiAgY29uc3QgcmVwb3J0VXNlciA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh1c2VySWQ6IHN0cmluZywgcmVhc29uOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICAgIHNldElzUmVwb3J0aW5nKHRydWUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gSW4gYSByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGNhbGwgdGhlIEFQSVxuICAgICAgICBsb2dnZXIuaW5mbyhcIlJlcG9ydGluZyB1c2VyXCIsIHsgdXNlcklkLCByZWFzb24gfSk7XG5cbiAgICAgICAgLy8gU2ltdWxhdGUgQVBJIGNhbGxcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuXG4gICAgICAgIEFsZXJ0LmFsZXJ0KFxuICAgICAgICAgIFwiUmVwb3J0IFN1Ym1pdHRlZFwiLFxuICAgICAgICAgIFwiVGhhbmsgeW91IGZvciB5b3VyIHJlcG9ydC4gV2Ugd2lsbCByZXZpZXcgaXQgc2hvcnRseS5cIixcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gcmVwb3J0IHVzZXJcIiwgeyBlcnJvciwgdXNlcklkIH0pO1xuICAgICAgICBBbGVydC5hbGVydChcIkVycm9yXCIsIFwiRmFpbGVkIHRvIHN1Ym1pdCByZXBvcnQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc1JlcG9ydGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXSxcbiAgKTtcblxuICBjb25zdCBjb250YWN0U3VwcG9ydCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBBbGVydC5hbGVydChcIkNvbnRhY3QgU3VwcG9ydFwiLCBcIlN1cHBvcnQgY29udGFjdCBvcHRpb25zIGNvbWluZyBzb29uIVwiKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHZpZXdTYWZldHlHdWlkZWxpbmVzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIEFsZXJ0LmFsZXJ0KFxuICAgICAgXCJTYWZldHkgR3VpZGVsaW5lc1wiLFxuICAgICAgXCJTYWZldHkgZ3VpZGVsaW5lcyB3aWxsIGJlIGF2YWlsYWJsZSBzb29uIVwiLFxuICAgICk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBuYXZpZ2F0ZVRvUHJpdmFjeVNldHRpbmdzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIEFsZXJ0LmFsZXJ0KFxuICAgICAgXCJQcml2YWN5IFNldHRpbmdzXCIsXG4gICAgICBcIk5hdmlnYXRlIHRvIFByaXZhY3kgU2V0dGluZ3Mgc2NyZWVuIChjb21pbmcgc29vbilcIixcbiAgICApO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgc2V0dXBFbWVyZ2VuY3lDb250YWN0cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBBbGVydC5hbGVydChcIkVtZXJnZW5jeSBDb250YWN0c1wiLCBcIkVtZXJnZW5jeSBjb250YWN0IHNldHVwIGNvbWluZyBzb29uXCIpO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgdmlld1NhZmV0eVRpcHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgQWxlcnQuYWxlcnQoXG4gICAgICBcIlNhZmV0eSBUaXBzXCIsXG4gICAgICBcIlNhZmV0eSB0aXBzIGFuZCBndWlkZWxpbmVzIHdpbGwgYmUgYXZhaWxhYmxlIHNvb25cIixcbiAgICApO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlU2FmZXR5T3B0aW9uID0gdXNlQ2FsbGJhY2soKG9wdGlvbjogU2FmZXR5T3B0aW9uKSA9PiB7XG4gICAgSGFwdGljcy5zZWxlY3Rpb25Bc3luYygpLmNhdGNoKCgpID0+IHt9KTtcbiAgICBvcHRpb24uYWN0aW9uKCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBzYWZldHlPcHRpb25zOiBTYWZldHlPcHRpb25bXSA9IFtcbiAgICB7XG4gICAgICBpZDogXCJyZXBvcnRcIixcbiAgICAgIHRpdGxlOiBcIlJlcG9ydCBVc2VyXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJSZXBvcnQgaW5hcHByb3ByaWF0ZSBiZWhhdmlvciBvciBjb250ZW50XCIsXG4gICAgICBpY29uOiBcImZsYWctb3V0bGluZVwiLFxuICAgICAgY29sb3I6IFwiI0VGNDQ0NFwiLFxuICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgIEFsZXJ0LmFsZXJ0KFxuICAgICAgICAgIFwiUmVwb3J0IFVzZXJcIixcbiAgICAgICAgICBcIlRoaXMgZmVhdHVyZSBpcyBjb21pbmcgc29vbi4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydCBmb3IgdXJnZW50IGlzc3Vlcy5cIixcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJibG9ja1wiLFxuICAgICAgdGl0bGU6IFwiQmxvY2sgJiBSZXBvcnRcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkJsb2NrIGEgdXNlciBhbmQgcmVwb3J0IHRoZWlyIGJlaGF2aW9yXCIsXG4gICAgICBpY29uOiBcInBlcnNvbi1yZW1vdmUtb3V0bGluZVwiLFxuICAgICAgY29sb3I6IFwiI0Y1OUUwQlwiLFxuICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgd291bGQgbmF2aWdhdGUgYmFjayB0byBwcm9maWxlIHdoZXJlIGJsb2NraW5nIGlzIGhhbmRsZWRcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJOYXZpZ2F0ZSBiYWNrIHRvIHByb2ZpbGUgZm9yIGJsb2NraW5nXCIpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInByaXZhY3lcIixcbiAgICAgIHRpdGxlOiBcIlByaXZhY3kgU2V0dGluZ3NcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbnRyb2wgd2hvIGNhbiBzZWUgeW91ciBwcm9maWxlIGFuZCBjb250YWN0IHlvdVwiLFxuICAgICAgaWNvbjogXCJsb2NrLWNsb3NlZC1vdXRsaW5lXCIsXG4gICAgICBjb2xvcjogXCIjMTBCOTgxXCIsXG4gICAgICBhY3Rpb246IG5hdmlnYXRlVG9Qcml2YWN5U2V0dGluZ3MsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJlbWVyZ2VuY3lcIixcbiAgICAgIHRpdGxlOiBcIkVtZXJnZW5jeSBDb250YWN0c1wiLFxuICAgICAgZGVzY3JpcHRpb246IFwiU2V0IHVwIGVtZXJnZW5jeSBjb250YWN0cyBmb3Igc2FmZXR5XCIsXG4gICAgICBpY29uOiBcImNhbGwtb3V0bGluZVwiLFxuICAgICAgY29sb3I6IFwiIzhCNUNGNlwiLFxuICAgICAgYWN0aW9uOiBzZXR1cEVtZXJnZW5jeUNvbnRhY3RzLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwic2FmZXR5LXRpcHNcIixcbiAgICAgIHRpdGxlOiBcIlNhZmV0eSBUaXBzXCIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJMZWFybiBhYm91dCBvbmxpbmUgc2FmZXR5IGFuZCBiZXN0IHByYWN0aWNlc1wiLFxuICAgICAgaWNvbjogXCJzaGllbGQtY2hlY2ttYXJrLW91dGxpbmVcIixcbiAgICAgIGNvbG9yOiBcIiMwNkI2RDRcIixcbiAgICAgIGFjdGlvbjogdmlld1NhZmV0eVRpcHMsXG4gICAgfSxcbiAgXTtcblxuICByZXR1cm4ge1xuICAgIC8vIEVtZXJnZW5jeSBtb2RlXG4gICAgZW1lcmdlbmN5TW9kZSxcbiAgICBzZXRFbWVyZ2VuY3lNb2RlLFxuICAgIHRvZ2dsZUVtZXJnZW5jeU1vZGUsXG5cbiAgICAvLyBTYWZldHkgb3B0aW9uc1xuICAgIHNhZmV0eU9wdGlvbnMsXG4gICAgaGFuZGxlU2FmZXR5T3B0aW9uLFxuXG4gICAgLy8gQWN0aW9uc1xuICAgIHJlcG9ydFVzZXIsXG4gICAgY29udGFjdFN1cHBvcnQsXG4gICAgdmlld1NhZmV0eUd1aWRlbGluZXMsXG4gICAgbmF2aWdhdGVUb1ByaXZhY3lTZXR0aW5ncyxcbiAgICBzZXR1cEVtZXJnZW5jeUNvbnRhY3RzLFxuICAgIHZpZXdTYWZldHlUaXBzLFxuXG4gICAgLy8gU3RhdGVcbiAgICBpc1JlcG9ydGluZyxcbiAgfTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUlBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUMsdUJBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFlBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLEtBQUEsR0FBQUosT0FBQTtBQUE0QyxTQUFBRSx3QkFBQUcsQ0FBQSxFQUFBQyxDQUFBLDZCQUFBQyxPQUFBLE1BQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUwsdUJBQUEsWUFBQUEsd0JBQUFHLENBQUEsRUFBQUMsQ0FBQSxT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