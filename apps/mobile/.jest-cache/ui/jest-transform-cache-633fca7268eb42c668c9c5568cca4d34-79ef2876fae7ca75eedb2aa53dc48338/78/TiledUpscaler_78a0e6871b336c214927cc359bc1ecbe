a5020bea34bd207c2bf44a04294ae5e5
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tileUpscale = tileUpscale;
exports.tileUpscaleAuto = tileUpscaleAuto;
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var ImageManipulator = _interopRequireWildcard(require("expo-image-manipulator"));
var FileSystem = _interopRequireWildcard(require("expo-file-system"));
var _excluded = ["tile", "overlap", "quality", "format"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
function loadSkia() {
  return _loadSkia.apply(this, arguments);
}
function _loadSkia() {
  _loadSkia = (0, _asyncToGenerator2.default)(function* () {
    try {
      return require("@shopify/react-native-skia");
    } catch (_unused) {
      return null;
    }
  });
  return _loadSkia.apply(this, arguments);
}
function computeTargetDimensions(srcW, srcH, opts) {
  var scale = opts.scale,
    targetW = opts.targetW,
    targetH = opts.targetH;
  if (targetW && targetH) {
    return {
      outW: targetW,
      outH: targetH
    };
  }
  if (scale !== undefined && !targetW && !targetH) {
    return {
      outW: Math.round(srcW * scale),
      outH: Math.round(srcH * scale)
    };
  }
  if (targetW && !targetH) {
    var r = targetW / srcW;
    return {
      outW: targetW,
      outH: Math.round(srcH * r)
    };
  }
  if (!targetW && targetH) {
    var _r = targetH / srcH;
    return {
      outW: Math.round(srcW * _r),
      outH: targetH
    };
  }
  return {
    outW: srcW,
    outH: srcH
  };
}
function tileUpscale(_x, _x2, _x3) {
  return _tileUpscale.apply(this, arguments);
}
function _tileUpscale() {
  _tileUpscale = (0, _asyncToGenerator2.default)(function* (uri, srcW, srcH) {
    var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    var Skia = yield loadSkia();
    var _opts$tile = opts.tile,
      tile = _opts$tile === void 0 ? 1024 : _opts$tile,
      _opts$overlap = opts.overlap,
      overlap = _opts$overlap === void 0 ? 12 : _opts$overlap,
      _opts$quality = opts.quality,
      quality = _opts$quality === void 0 ? 1 : _opts$quality,
      _opts$format = opts.format,
      format = _opts$format === void 0 ? "jpg" : _opts$format,
      rest = (0, _objectWithoutProperties2.default)(opts, _excluded);
    var _computeTargetDimensi = computeTargetDimensions(srcW, srcH, rest),
      outW = _computeTargetDimensi.outW,
      outH = _computeTargetDimensi.outH;
    if (!Skia) {
      var result = yield ImageManipulator.manipulateAsync(uri, [{
        resize: {
          width: Math.round(outW),
          height: Math.round(outH)
        }
      }], {
        compress: quality,
        format: format === "png" ? ImageManipulator.SaveFormat.PNG : ImageManipulator.SaveFormat.JPEG
      });
      return result.uri;
    }
    var S = Skia.Skia;
    var data = yield S.Data.fromURI(uri);
    var img = S.Image.MakeImageFromEncoded(data);
    if (!img) {
      var _result = yield ImageManipulator.manipulateAsync(uri, [{
        resize: {
          width: Math.round(outW),
          height: Math.round(outH)
        }
      }], {
        compress: quality,
        format: ImageManipulator.SaveFormat.JPEG
      });
      return _result.uri;
    }
    var surface = S.Surface.MakeSurface(Math.round(outW), Math.round(outH));
    if (!surface) {
      var _result2 = yield ImageManipulator.manipulateAsync(uri, [{
        resize: {
          width: Math.round(outW),
          height: Math.round(outH)
        }
      }], {
        compress: quality,
        format: ImageManipulator.SaveFormat.JPEG
      });
      return _result2.uri;
    }
    var canvas = surface.getCanvas();
    var paint = S.Paint();
    paint.setFilterQuality("high");
    var sxStep = tile - overlap;
    var syStep = tile - overlap;
    for (var sy = 0; sy < srcH; sy += syStep) {
      for (var sx = 0; sx < srcW; sx += sxStep) {
        var sw = Math.min(tile, srcW - sx);
        var sh = Math.min(tile, srcH - sy);
        var dx = Math.round(sx / srcW * outW);
        var dy = Math.round(sy / srcH * outH);
        var dw = Math.round(sw / srcW * outW);
        var dh = Math.round(sh / srcH * outH);
        var srcRect = S.XYWHRect(sx, sy, sw, sh);
        var dstRect = S.XYWHRect(dx, dy, dw, dh);
        canvas.drawImageRect(img, srcRect, dstRect, paint);
      }
    }
    var snapshot = surface.makeImageSnapshot();
    var base64 = format === "png" ? snapshot.encodeToBase64() : snapshot.encodeToBase64(S.ImageFormat.JPEG, Math.round(quality * 100));
    var outPath = `${FileSystem.cacheDirectory}up_${Date.now()}.${format}`;
    yield FileSystem.writeAsStringAsync(outPath, base64, {
      encoding: FileSystem.EncodingType.Base64
    });
    return outPath;
  });
  return _tileUpscale.apply(this, arguments);
}
function tileUpscaleAuto(_x4) {
  return _tileUpscaleAuto.apply(this, arguments);
}
function _tileUpscaleAuto() {
  _tileUpscaleAuto = (0, _asyncToGenerator2.default)(function* (uri) {
    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var _yield$import = yield Promise.resolve().then(function () {
        return _interopRequireWildcard(require("react-native"));
      }),
      Image = _yield$import.Image;
    return new Promise(function (resolve, reject) {
      Image.getSize(uri, function (width, height) {
        tileUpscale(uri, width, height, opts).then(resolve).catch(reject);
      }, function (error) {
        reject(error);
      });
    });
  });
  return _tileUpscaleAuto.apply(this, arguments);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJJbWFnZU1hbmlwdWxhdG9yIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJyZXF1aXJlIiwiRmlsZVN5c3RlbSIsIl9leGNsdWRlZCIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdDIiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImxvYWRTa2lhIiwiX2xvYWRTa2lhIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfdW51c2VkIiwiY29tcHV0ZVRhcmdldERpbWVuc2lvbnMiLCJzcmNXIiwic3JjSCIsIm9wdHMiLCJzY2FsZSIsInRhcmdldFciLCJ0YXJnZXRIIiwib3V0VyIsIm91dEgiLCJ1bmRlZmluZWQiLCJNYXRoIiwicm91bmQiLCJ0aWxlVXBzY2FsZSIsIl94IiwiX3gyIiwiX3gzIiwiX3RpbGVVcHNjYWxlIiwidXJpIiwibGVuZ3RoIiwiU2tpYSIsIl9vcHRzJHRpbGUiLCJ0aWxlIiwiX29wdHMkb3ZlcmxhcCIsIm92ZXJsYXAiLCJfb3B0cyRxdWFsaXR5IiwicXVhbGl0eSIsIl9vcHRzJGZvcm1hdCIsImZvcm1hdCIsInJlc3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiX2NvbXB1dGVUYXJnZXREaW1lbnNpIiwicmVzdWx0IiwibWFuaXB1bGF0ZUFzeW5jIiwicmVzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJjb21wcmVzcyIsIlNhdmVGb3JtYXQiLCJQTkciLCJKUEVHIiwiUyIsImRhdGEiLCJEYXRhIiwiZnJvbVVSSSIsImltZyIsIkltYWdlIiwiTWFrZUltYWdlRnJvbUVuY29kZWQiLCJzdXJmYWNlIiwiU3VyZmFjZSIsIk1ha2VTdXJmYWNlIiwiY2FudmFzIiwiZ2V0Q2FudmFzIiwicGFpbnQiLCJQYWludCIsInNldEZpbHRlclF1YWxpdHkiLCJzeFN0ZXAiLCJzeVN0ZXAiLCJzeSIsInN4Iiwic3ciLCJtaW4iLCJzaCIsImR4IiwiZHkiLCJkdyIsImRoIiwic3JjUmVjdCIsIlhZV0hSZWN0IiwiZHN0UmVjdCIsImRyYXdJbWFnZVJlY3QiLCJzbmFwc2hvdCIsIm1ha2VJbWFnZVNuYXBzaG90IiwiYmFzZTY0IiwiZW5jb2RlVG9CYXNlNjQiLCJJbWFnZUZvcm1hdCIsIm91dFBhdGgiLCJjYWNoZURpcmVjdG9yeSIsIkRhdGUiLCJub3ciLCJ3cml0ZUFzU3RyaW5nQXN5bmMiLCJlbmNvZGluZyIsIkVuY29kaW5nVHlwZSIsIkJhc2U2NCIsInRpbGVVcHNjYWxlQXV0byIsIl94NCIsIl90aWxlVXBzY2FsZUF1dG8iLCJfeWllbGQkaW1wb3J0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwicmVqZWN0IiwiZ2V0U2l6ZSIsImNhdGNoIiwiZXJyb3IiXSwic291cmNlcyI6WyJUaWxlZFVwc2NhbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGlsZWQgVXBzY2FsZXJcbiAqIE1lbW9yeS1zYWZlIHVwc2NhbGVyIHRoYXQgZHJhd3MgaW4gdGlsZXMgdG8gYXZvaWQgT09NIG9uIGxhcmdlIGltYWdlcyAoNEsrKS5cbiAqIFVzZXMgQHNob3BpZnkvcmVhY3QtbmF0aXZlLXNraWEgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbHMgYmFjayB0byBJbWFnZU1hbmlwdWxhdG9yLlxuICovXG5cbmltcG9ydCAqIGFzIEltYWdlTWFuaXB1bGF0b3IgZnJvbSBcImV4cG8taW1hZ2UtbWFuaXB1bGF0b3JcIjtcbmltcG9ydCAqIGFzIEZpbGVTeXN0ZW0gZnJvbSBcImV4cG8tZmlsZS1zeXN0ZW1cIjtcblxuLyoqXG4gKiBMYXp5IGxvYWQgU2tpYSB0byBhdm9pZCBidW5kbGluZyBpZiBub3QgaW5zdGFsbGVkXG4gKiBAc2hvcGlmeS9yZWFjdC1uYXRpdmUtc2tpYSBpcyBvcHRpb25hbCAtIG1vZHVsZSBtYXkgbm90IGJlIHByZXNlbnRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmFzeW5jIGZ1bmN0aW9uIGxvYWRTa2lhKCk6IFByb21pc2U8YW55PiB7XG4gIHRyeSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gcmVxdWlyZShcIkBzaG9waWZ5L3JlYWN0LW5hdGl2ZS1za2lhXCIpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbGVVcHNjYWxlT3B0cyB7XG4gIC8qKiBTY2FsZSBmYWN0b3Igb3IgZXhhY3Qgd2lkdGgvaGVpZ2h0OyBhdCBsZWFzdCBvbmUgbXVzdCBiZSBwcm92aWRlZCAqL1xuICBzY2FsZT86IG51bWJlcjtcbiAgdGFyZ2V0Vz86IG51bWJlcjtcbiAgdGFyZ2V0SD86IG51bWJlcjtcbiAgLyoqIFRpbGUgc2l6ZSAoc291cmNlIHBpeGVscykgKi9cbiAgdGlsZT86IG51bWJlcjtcbiAgLyoqIE92ZXJsYXAgdG8gcHJldmVudCBzZWFtcyB3aGVuIHNhbXBsaW5nICovXG4gIG92ZXJsYXA/OiBudW1iZXI7XG4gIC8qKiBPdXRwdXQgSlBFRyBxdWFsaXR5IDAuLjEgKi9cbiAgcXVhbGl0eT86IG51bWJlcjtcbiAgLyoqIE91dHB1dCBmb3JtYXQgKi9cbiAgZm9ybWF0PzogXCJqcGdcIiB8IFwicG5nXCIgfCBcIndlYnBcIjtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRhcmdldCBkaW1lbnNpb25zIGZyb20gdmFyaW91cyBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVUYXJnZXREaW1lbnNpb25zKFxuICBzcmNXOiBudW1iZXIsXG4gIHNyY0g6IG51bWJlcixcbiAgb3B0czogVGlsZVVwc2NhbGVPcHRzXG4pOiB7IG91dFc6IG51bWJlcjsgb3V0SDogbnVtYmVyIH0ge1xuICBjb25zdCB7IHNjYWxlLCB0YXJnZXRXLCB0YXJnZXRIIH0gPSBvcHRzO1xuXG4gIGlmICh0YXJnZXRXICYmIHRhcmdldEgpIHtcbiAgICByZXR1cm4geyBvdXRXOiB0YXJnZXRXLCBvdXRIOiB0YXJnZXRIIH07XG4gIH1cblxuICBpZiAoc2NhbGUgIT09IHVuZGVmaW5lZCAmJiAhdGFyZ2V0VyAmJiAhdGFyZ2V0SCkge1xuICAgIHJldHVybiB7XG4gICAgICBvdXRXOiBNYXRoLnJvdW5kKHNyY1cgKiBzY2FsZSksXG4gICAgICBvdXRIOiBNYXRoLnJvdW5kKHNyY0ggKiBzY2FsZSksXG4gICAgfTtcbiAgfVxuXG4gIGlmICh0YXJnZXRXICYmICF0YXJnZXRIKSB7XG4gICAgY29uc3QgciA9IHRhcmdldFcgLyBzcmNXO1xuICAgIHJldHVybiB7XG4gICAgICBvdXRXOiB0YXJnZXRXLFxuICAgICAgb3V0SDogTWF0aC5yb3VuZChzcmNIICogciksXG4gICAgfTtcbiAgfVxuXG4gIGlmICghdGFyZ2V0VyAmJiB0YXJnZXRIKSB7XG4gICAgY29uc3QgciA9IHRhcmdldEggLyBzcmNIO1xuICAgIHJldHVybiB7XG4gICAgICBvdXRXOiBNYXRoLnJvdW5kKHNyY1cgKiByKSxcbiAgICAgIG91dEg6IHRhcmdldEgsXG4gICAgfTtcbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIG9yaWdpbmFsIHNpemVcbiAgcmV0dXJuIHsgb3V0Vzogc3JjVywgb3V0SDogc3JjSCB9O1xufVxuXG4vKipcbiAqIFRpbGUtYmFzZWQgdXBzY2FsZXIgZm9yIGxhcmdlIGltYWdlc1xuICogUHJvY2Vzc2VzIHRoZSBpbWFnZSBpbiBjaHVua3MgdG8gYXZvaWQgbWVtb3J5IGlzc3Vlc1xuICogXG4gKiBAcGFyYW0gdXJpIC0gU291cmNlIGltYWdlIFVSSVxuICogQHBhcmFtIHNyY1cgLSBTb3VyY2UgaW1hZ2Ugd2lkdGhcbiAqIEBwYXJhbSBzcmNIIC0gU291cmNlIGltYWdlIGhlaWdodFxuICogQHBhcmFtIG9wdHMgLSBVcHNjYWxpbmcgb3B0aW9uc1xuICogQHJldHVybnMgVVJJIG9mIHVwc2NhbGVkIGltYWdlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0aWxlVXBzY2FsZShcbiAgdXJpOiBzdHJpbmcsXG4gIHNyY1c6IG51bWJlcixcbiAgc3JjSDogbnVtYmVyLFxuICBvcHRzOiBUaWxlVXBzY2FsZU9wdHMgPSB7fVxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgU2tpYSA9IGF3YWl0IGxvYWRTa2lhKCk7XG4gIGNvbnN0IHsgdGlsZSA9IDEwMjQsIG92ZXJsYXAgPSAxMiwgcXVhbGl0eSA9IDEsIGZvcm1hdCA9IFwianBnXCIsIC4uLnJlc3QgfSA9IG9wdHM7XG5cbiAgY29uc3QgeyBvdXRXLCBvdXRIIH0gPSBjb21wdXRlVGFyZ2V0RGltZW5zaW9ucyhzcmNXLCBzcmNILCByZXN0KTtcblxuICAvLyBGYWxsYmFjayBpZiBTa2lhIGlzIG5vdCBhdmFpbGFibGVcbiAgaWYgKCFTa2lhKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmMoXG4gICAgICB1cmksXG4gICAgICBbeyByZXNpemU6IHsgd2lkdGg6IE1hdGgucm91bmQob3V0VyksIGhlaWdodDogTWF0aC5yb3VuZChvdXRIKSB9IH1dLFxuICAgICAge1xuICAgICAgICBjb21wcmVzczogcXVhbGl0eSxcbiAgICAgICAgZm9ybWF0OlxuICAgICAgICAgIGZvcm1hdCA9PT0gXCJwbmdcIlxuICAgICAgICAgICAgPyBJbWFnZU1hbmlwdWxhdG9yLlNhdmVGb3JtYXQuUE5HXG4gICAgICAgICAgICA6IEltYWdlTWFuaXB1bGF0b3IuU2F2ZUZvcm1hdC5KUEVHLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdC51cmk7XG4gIH1cblxuICBjb25zdCB7IFNraWE6IFMgfSA9IFNraWE7XG5cbiAgLy8gTG9hZCBpbWFnZSBieXRlc1xuICBjb25zdCBkYXRhID0gYXdhaXQgUy5EYXRhLmZyb21VUkkodXJpKTtcbiAgY29uc3QgaW1nID0gUy5JbWFnZS5NYWtlSW1hZ2VGcm9tRW5jb2RlZChkYXRhKTtcbiAgXG4gIGlmICghaW1nKSB7XG4gICAgLy8gRmFsbGJhY2sgb24gbG9hZCBmYWlsdXJlXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgSW1hZ2VNYW5pcHVsYXRvci5tYW5pcHVsYXRlQXN5bmMoXG4gICAgICB1cmksXG4gICAgICBbeyByZXNpemU6IHsgd2lkdGg6IE1hdGgucm91bmQob3V0VyksIGhlaWdodDogTWF0aC5yb3VuZChvdXRIKSB9IH1dLFxuICAgICAge1xuICAgICAgICBjb21wcmVzczogcXVhbGl0eSxcbiAgICAgICAgZm9ybWF0OiBJbWFnZU1hbmlwdWxhdG9yLlNhdmVGb3JtYXQuSlBFRyxcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiByZXN1bHQudXJpO1xuICB9XG5cbiAgLy8gQ3JlYXRlIG91dHB1dCBzdXJmYWNlXG4gIGNvbnN0IHN1cmZhY2UgPSBTLlN1cmZhY2UuTWFrZVN1cmZhY2UoTWF0aC5yb3VuZChvdXRXKSwgTWF0aC5yb3VuZChvdXRIKSk7XG4gIFxuICBpZiAoIXN1cmZhY2UpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBJbWFnZU1hbmlwdWxhdG9yLm1hbmlwdWxhdGVBc3luYyhcbiAgICAgIHVyaSxcbiAgICAgIFt7IHJlc2l6ZTogeyB3aWR0aDogTWF0aC5yb3VuZChvdXRXKSwgaGVpZ2h0OiBNYXRoLnJvdW5kKG91dEgpIH0gfV0sXG4gICAgICB7XG4gICAgICAgIGNvbXByZXNzOiBxdWFsaXR5LFxuICAgICAgICBmb3JtYXQ6IEltYWdlTWFuaXB1bGF0b3IuU2F2ZUZvcm1hdC5KUEVHLFxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdC51cmk7XG4gIH1cblxuICBjb25zdCBjYW52YXMgPSBzdXJmYWNlLmdldENhbnZhcygpO1xuICBjb25zdCBwYWludCA9IFMuUGFpbnQoKTtcbiAgcGFpbnQuc2V0RmlsdGVyUXVhbGl0eShcImhpZ2hcIik7XG5cbiAgLy8gRHJhdyB0aWxlcyB3aXRoIG92ZXJsYXAgdG8gcHJldmVudCBzZWFtc1xuICBjb25zdCBzeFN0ZXAgPSB0aWxlIC0gb3ZlcmxhcDtcbiAgY29uc3Qgc3lTdGVwID0gdGlsZSAtIG92ZXJsYXA7XG5cbiAgZm9yIChsZXQgc3kgPSAwOyBzeSA8IHNyY0g7IHN5ICs9IHN5U3RlcCkge1xuICAgIGZvciAobGV0IHN4ID0gMDsgc3ggPCBzcmNXOyBzeCArPSBzeFN0ZXApIHtcbiAgICAgIGNvbnN0IHN3ID0gTWF0aC5taW4odGlsZSwgc3JjVyAtIHN4KTtcbiAgICAgIGNvbnN0IHNoID0gTWF0aC5taW4odGlsZSwgc3JjSCAtIHN5KTtcblxuICAgICAgY29uc3QgZHggPSBNYXRoLnJvdW5kKChzeCAvIHNyY1cpICogb3V0Vyk7XG4gICAgICBjb25zdCBkeSA9IE1hdGgucm91bmQoKHN5IC8gc3JjSCkgKiBvdXRIKTtcbiAgICAgIGNvbnN0IGR3ID0gTWF0aC5yb3VuZCgoc3cgLyBzcmNXKSAqIG91dFcpO1xuICAgICAgY29uc3QgZGggPSBNYXRoLnJvdW5kKChzaCAvIHNyY0gpICogb3V0SCk7XG5cbiAgICAgIGNvbnN0IHNyY1JlY3QgPSBTLlhZV0hSZWN0KHN4LCBzeSwgc3csIHNoKTtcbiAgICAgIGNvbnN0IGRzdFJlY3QgPSBTLlhZV0hSZWN0KGR4LCBkeSwgZHcsIGRoKTtcbiAgICAgIGNhbnZhcy5kcmF3SW1hZ2VSZWN0KGltZywgc3JjUmVjdCwgZHN0UmVjdCwgcGFpbnQpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNuYXBzaG90ID0gc3VyZmFjZS5tYWtlSW1hZ2VTbmFwc2hvdCgpO1xuICBjb25zdCBiYXNlNjQgPVxuICAgIGZvcm1hdCA9PT0gXCJwbmdcIlxuICAgICAgPyBzbmFwc2hvdC5lbmNvZGVUb0Jhc2U2NCgpXG4gICAgICA6IHNuYXBzaG90LmVuY29kZVRvQmFzZTY0KFxuICAgICAgICAgIFMuSW1hZ2VGb3JtYXQuSlBFRyxcbiAgICAgICAgICBNYXRoLnJvdW5kKHF1YWxpdHkgKiAxMDApXG4gICAgICAgICk7XG5cbiAgY29uc3Qgb3V0UGF0aCA9IGAke0ZpbGVTeXN0ZW0uY2FjaGVEaXJlY3Rvcnl9dXBfJHtEYXRlLm5vdygpfS4ke2Zvcm1hdH1gO1xuICBhd2FpdCBGaWxlU3lzdGVtLndyaXRlQXNTdHJpbmdBc3luYyhvdXRQYXRoLCBiYXNlNjQsIHtcbiAgICBlbmNvZGluZzogRmlsZVN5c3RlbS5FbmNvZGluZ1R5cGUuQmFzZTY0LFxuICB9KTtcblxuICByZXR1cm4gb3V0UGF0aDtcbn1cblxuLyoqXG4gKiBTaW1wbGlmaWVkIHVwc2NhbGUgd2l0aG91dCByZXF1aXJpbmcgc291cmNlIGRpbWVuc2lvbnNcbiAqIEF1dG9tYXRpY2FsbHkgZGV0ZWN0cyBzb3VyY2Ugc2l6ZSB1c2luZyBSTkltYWdlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0aWxlVXBzY2FsZUF1dG8oXG4gIHVyaTogc3RyaW5nLFxuICBvcHRzOiBUaWxlVXBzY2FsZU9wdHMgPSB7fVxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgLy8gR2V0IHNvdXJjZSBkaW1lbnNpb25zXG4gIGNvbnN0IHsgSW1hZ2UgfSA9IGF3YWl0IGltcG9ydChcInJlYWN0LW5hdGl2ZVwiKTtcbiAgXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgSW1hZ2UuZ2V0U2l6ZShcbiAgICAgIHVyaSxcbiAgICAgICh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICAgIHRpbGVVcHNjYWxlKHVyaSwgd2lkdGgsIGhlaWdodCwgb3B0cylcbiAgICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgfSxcbiAgICAgIChlcnJvcikgPT4geyByZWplY3QoZXJyb3IpOyB9XG4gICAgKTtc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