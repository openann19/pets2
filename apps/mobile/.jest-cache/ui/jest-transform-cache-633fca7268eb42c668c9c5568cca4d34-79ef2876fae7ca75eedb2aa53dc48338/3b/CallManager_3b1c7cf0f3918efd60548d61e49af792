65fa0c68624e5b5a3741eb688c82e0ae
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = CallManager;
exports.useCallManager = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireWildcard(require("react"));
var _core = require("@pawfectmatch/core");
var _reactNative = require("react-native");
var _useSocket = require("../../hooks/useSocket");
var _ActiveCallScreen = _interopRequireDefault(require("../../screens/calling/ActiveCallScreen"));
var _IncomingCallScreen = _interopRequireDefault(require("../../screens/calling/IncomingCallScreen"));
var _WebRTCService = _interopRequireDefault(require("../../services/WebRTCService"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function CallManager(_ref) {
  var children = _ref.children;
  var _useState = (0, _react.useState)(_WebRTCService.default.getCallState()),
    _useState2 = (0, _slicedToArray2.default)(_useState, 2),
    callState = _useState2[0],
    setCallState = _useState2[1];
  var _useState3 = (0, _react.useState)(false),
    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),
    showIncomingCall = _useState4[0],
    setShowIncomingCall = _useState4[1];
  var _useState5 = (0, _react.useState)(false),
    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),
    showActiveCall = _useState6[0],
    setShowActiveCall = _useState6[1];
  var socket = (0, _useSocket.useSocket)();
  (0, _react.useEffect)(function () {
    if (socket) {
      _WebRTCService.default.initialize(socket);
    }
    var handleCallStateChange = function handleCallStateChange(newState) {
      setCallState(newState);
      if (newState.isActive && newState.isIncoming && !newState.isConnected) {
        setShowIncomingCall(true);
        setShowActiveCall(false);
      } else if (newState.isActive && !newState.isIncoming) {
        setShowIncomingCall(false);
        setShowActiveCall(true);
      } else if (!newState.isActive) {
        setShowIncomingCall(false);
        setShowActiveCall(false);
      }
    };
    var handleCallError = function handleCallError(error) {
      _reactNative.Alert.alert("Call Error", "There was an issue with the call. Please try again.", [{
        text: "OK"
      }]);
      _core.logger.error("Call error:", {
        error: error
      });
    };
    _WebRTCService.default.on("callStateChanged", handleCallStateChange);
    _WebRTCService.default.on("callError", handleCallError);
    var handleAppStateChange = function handleAppStateChange(nextAppState) {
      if (nextAppState === "background" && callState.isActive) {
        _core.logger.info("Call moved to background");
      } else if (nextAppState === "active" && callState.isActive) {
        _core.logger.info("Call returned to foreground");
      }
    };
    var appStateSubscription = _reactNative.AppState.addEventListener("change", handleAppStateChange);
    return function () {
      _WebRTCService.default.off("callStateChanged", handleCallStateChange);
      _WebRTCService.default.off("callError", handleCallError);
      appStateSubscription == null ? void 0 : appStateSubscription.remove();
    };
  }, [socket]);
  var handleAnswerCall = function () {
    var _ref2 = (0, _asyncToGenerator2.default)(function* () {
      try {
        var success = yield _WebRTCService.default.answerCall();
        if (success) {
          setShowIncomingCall(false);
          setShowActiveCall(true);
        }
      } catch (error) {
        _reactNative.Alert.alert("Error", "Failed to answer call");
      }
    });
    return function handleAnswerCall() {
      return _ref2.apply(this, arguments);
    };
  }();
  var handleRejectCall = function handleRejectCall() {
    _WebRTCService.default.rejectCall();
    setShowIncomingCall(false);
  };
  var handleEndCall = function handleEndCall() {
    _reactNative.Alert.alert("End Call", "Are you sure you want to end this call?", [{
      text: "Cancel",
      style: "cancel"
    }, {
      text: "End Call",
      style: "destructive",
      onPress: function onPress() {
        _WebRTCService.default.endCall();
        setShowActiveCall(false);
      }
    }]);
  };
  var handleToggleMute = function handleToggleMute() {
    _WebRTCService.default.toggleMute();
  };
  var handleToggleVideo = function handleToggleVideo() {
    _WebRTCService.default.toggleVideo();
  };
  var handleSwitchCamera = function handleSwitchCamera() {
    _WebRTCService.default.switchCamera();
  };
  var handleToggleSpeaker = function handleToggleSpeaker() {
    _WebRTCService.default.toggleSpeaker();
  };
  return (0, _jsxRuntime.jsxs)(_jsxRuntime.Fragment, {
    children: [children, (0, _jsxRuntime.jsx)(_reactNative.Modal, {
      visible: showIncomingCall,
      animationType: "slide",
      presentationStyle: "fullScreen",
      onRequestClose: handleRejectCall,
      children: callState.callData && (0, _jsxRuntime.jsx)(_IncomingCallScreen.default, {
        callData: callState.callData,
        onAnswer: handleAnswerCall,
        onReject: handleRejectCall
      })
    }), (0, _jsxRuntime.jsx)(_reactNative.Modal, {
      visible: showActiveCall,
      animationType: "slide",
      presentationStyle: "fullScreen",
      onRequestClose: handleEndCall,
      children: (0, _jsxRuntime.jsx)(_ActiveCallScreen.default, {
        callState: callState,
        onEndCall: handleEndCall,
        onToggleMute: handleToggleMute,
        onToggleVideo: handleToggleVideo,
        onSwitchCamera: handleSwitchCamera,
        onToggleSpeaker: handleToggleSpeaker
      })
    })]
  });
}
var useCallManager = exports.useCallManager = function useCallManager() {
  var startCall = function () {
    var _ref3 = (0, _asyncToGenerator2.default)(function* (matchId, callType) {
      try {
        var success = yield _WebRTCService.default.startCall(matchId, callType);
        if (!success) {
          _reactNative.Alert.alert("Error", "Failed to start call. Please check your permissions and try again.");
        }
        return success;
      } catch (error) {
        _reactNative.Alert.alert("Error", "Failed to start call");
        return false;
      }
    });
    return function startCall(_x, _x2) {
      return _ref3.apply(this, arguments);
    };
  }();
  var endCall = function endCall() {
    _WebRTCService.default.endCall();
  };
  var isCallActive = function isCallActive() {
    return _WebRTCService.default.isCallActive();
  };
  var getCallState = function getCallState() {
    return _WebRTCService.default.getCallState();
  };
  return {
    startCall: startCall,
    endCall: endCall,
    isCallActive: isCallActive,
    getCallState: getCallState
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfY29yZSIsIl9yZWFjdE5hdGl2ZSIsIl91c2VTb2NrZXQiLCJfQWN0aXZlQ2FsbFNjcmVlbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfSW5jb21pbmdDYWxsU2NyZWVuIiwiX1dlYlJUQ1NlcnZpY2UiLCJfanN4UnVudGltZSIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiQ2FsbE1hbmFnZXIiLCJfcmVmIiwiY2hpbGRyZW4iLCJfdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsIldlYlJUQ1NlcnZpY2UiLCJnZXRDYWxsU3RhdGUiLCJfdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkyIiwiY2FsbFN0YXRlIiwic2V0Q2FsbFN0YXRlIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJzaG93SW5jb21pbmdDYWxsIiwic2V0U2hvd0luY29taW5nQ2FsbCIsIl91c2VTdGF0ZTUiLCJfdXNlU3RhdGU2Iiwic2hvd0FjdGl2ZUNhbGwiLCJzZXRTaG93QWN0aXZlQ2FsbCIsInNvY2tldCIsInVzZVNvY2tldCIsInVzZUVmZmVjdCIsImluaXRpYWxpemUiLCJoYW5kbGVDYWxsU3RhdGVDaGFuZ2UiLCJuZXdTdGF0ZSIsImlzQWN0aXZlIiwiaXNJbmNvbWluZyIsImlzQ29ubmVjdGVkIiwiaGFuZGxlQ2FsbEVycm9yIiwiZXJyb3IiLCJBbGVydCIsImFsZXJ0IiwidGV4dCIsImxvZ2dlciIsIm9uIiwiaGFuZGxlQXBwU3RhdGVDaGFuZ2UiLCJuZXh0QXBwU3RhdGUiLCJpbmZvIiwiYXBwU3RhdGVTdWJzY3JpcHRpb24iLCJBcHBTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJvZmYiLCJyZW1vdmUiLCJoYW5kbGVBbnN3ZXJDYWxsIiwiX3JlZjIiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJzdWNjZXNzIiwiYW5zd2VyQ2FsbCIsImFwcGx5IiwiYXJndW1lbnRzIiwiaGFuZGxlUmVqZWN0Q2FsbCIsInJlamVjdENhbGwiLCJoYW5kbGVFbmRDYWxsIiwic3R5bGUiLCJvblByZXNzIiwiZW5kQ2FsbCIsImhhbmRsZVRvZ2dsZU11dGUiLCJ0b2dnbGVNdXRlIiwiaGFuZGxlVG9nZ2xlVmlkZW8iLCJ0b2dnbGVWaWRlbyIsImhhbmRsZVN3aXRjaENhbWVyYSIsInN3aXRjaENhbWVyYSIsImhhbmRsZVRvZ2dsZVNwZWFrZXIiLCJ0b2dnbGVTcGVha2VyIiwianN4cyIsIkZyYWdtZW50IiwianN4IiwiTW9kYWwiLCJ2aXNpYmxlIiwiYW5pbWF0aW9uVHlwZSIsInByZXNlbnRhdGlvblN0eWxlIiwib25SZXF1ZXN0Q2xvc2UiLCJjYWxsRGF0YSIsIm9uQW5zd2VyIiwib25SZWplY3QiLCJvbkVuZENhbGwiLCJvblRvZ2dsZU11dGUiLCJvblRvZ2dsZVZpZGVvIiwib25Td2l0Y2hDYW1lcmEiLCJvblRvZ2dsZVNwZWFrZXIiLCJ1c2VDYWxsTWFuYWdlciIsImV4cG9ydHMiLCJzdGFydENhbGwiLCJfcmVmMyIsIm1hdGNoSWQiLCJjYWxsVHlwZSIsIl94IiwiX3gyIiwiaXNDYWxsQWN0aXZlIl0sInNvdXJjZXMiOlsiQ2FsbE1hbmFnZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiQHBhd2ZlY3RtYXRjaC9jb3JlXCI7XG5pbXBvcnQgdHlwZSB7IEFwcFN0YXRlU3RhdHVzIH0gZnJvbSBcInJlYWN0LW5hdGl2ZVwiO1xuaW1wb3J0IHsgTW9kYWwsIEFsZXJ0LCBBcHBTdGF0ZSB9IGZyb20gXCJyZWFjdC1uYXRpdmVcIjtcblxuaW1wb3J0IHsgdXNlU29ja2V0IH0gZnJvbSBcIi4uLy4uL2hvb2tzL3VzZVNvY2tldFwiO1xuaW1wb3J0IEFjdGl2ZUNhbGxTY3JlZW4gZnJvbSBcIi4uLy4uL3NjcmVlbnMvY2FsbGluZy9BY3RpdmVDYWxsU2NyZWVuXCI7XG5pbXBvcnQgSW5jb21pbmdDYWxsU2NyZWVuIGZyb20gXCIuLi8uLi9zY3JlZW5zL2NhbGxpbmcvSW5jb21pbmdDYWxsU2NyZWVuXCI7XG5pbXBvcnQgdHlwZSB7IENhbGxTdGF0ZSB9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9XZWJSVENTZXJ2aWNlXCI7XG5pbXBvcnQgV2ViUlRDU2VydmljZSBmcm9tIFwiLi4vLi4vc2VydmljZXMvV2ViUlRDU2VydmljZVwiO1xuaW1wb3J0IHR5cGUgeyBDYWxsRGF0YSB9IGZyb20gXCIuLi8uLi9zZXJ2aWNlcy9XZWJSVENTZXJ2aWNlXCI7XG5cbmludGVyZmFjZSBDYWxsTWFuYWdlclByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FsbE1hbmFnZXIoeyBjaGlsZHJlbiB9OiBDYWxsTWFuYWdlclByb3BzKSB7XG4gIGNvbnN0IFtjYWxsU3RhdGUsIHNldENhbGxTdGF0ZV0gPSB1c2VTdGF0ZTxDYWxsU3RhdGU+KFxuICAgIFdlYlJUQ1NlcnZpY2UuZ2V0Q2FsbFN0YXRlKCksXG4gICk7XG4gIGNvbnN0IFtzaG93SW5jb21pbmdDYWxsLCBzZXRTaG93SW5jb21pbmdDYWxsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dBY3RpdmVDYWxsLCBzZXRTaG93QWN0aXZlQ2FsbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNvY2tldCA9IHVzZVNvY2tldCgpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBXZWJSVEMgc2VydmljZSB3aXRoIHNvY2tldFxuICAgIGlmIChzb2NrZXQpIHtcbiAgICAgIFdlYlJUQ1NlcnZpY2UuaW5pdGlhbGl6ZShzb2NrZXQpO1xuICAgIH1cblxuICAgIC8vIExpc3RlbiBmb3IgY2FsbCBzdGF0ZSBjaGFuZ2VzXG4gICAgY29uc3QgaGFuZGxlQ2FsbFN0YXRlQ2hhbmdlID0gKG5ld1N0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgICAgIHNldENhbGxTdGF0ZShuZXdTdGF0ZSk7XG5cbiAgICAgIGlmIChuZXdTdGF0ZS5pc0FjdGl2ZSAmJiBuZXdTdGF0ZS5pc0luY29taW5nICYmICFuZXdTdGF0ZS5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAvLyBTaG93IGluY29taW5nIGNhbGwgc2NyZWVuXG4gICAgICAgIHNldFNob3dJbmNvbWluZ0NhbGwodHJ1ZSk7XG4gICAgICAgIHNldFNob3dBY3RpdmVDYWxsKGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAobmV3U3RhdGUuaXNBY3RpdmUgJiYgIW5ld1N0YXRlLmlzSW5jb21pbmcpIHtcbiAgICAgICAgLy8gU2hvdyBhY3RpdmUgY2FsbCBzY3JlZW5cbiAgICAgICAgc2V0U2hvd0luY29taW5nQ2FsbChmYWxzZSk7XG4gICAgICAgIHNldFNob3dBY3RpdmVDYWxsKHRydWUpO1xuICAgICAgfSBlbHNlIGlmICghbmV3U3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgICAgLy8gSGlkZSBhbGwgY2FsbCBzY3JlZW5zXG4gICAgICAgIHNldFNob3dJbmNvbWluZ0NhbGwoZmFsc2UpO1xuICAgICAgICBzZXRTaG93QWN0aXZlQ2FsbChmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUNhbGxFcnJvciA9IChlcnJvcjogdW5rbm93bikgPT4ge1xuICAgICAgQWxlcnQuYWxlcnQoXG4gICAgICAgIFwiQ2FsbCBFcnJvclwiLFxuICAgICAgICBcIlRoZXJlIHdhcyBhbiBpc3N1ZSB3aXRoIHRoZSBjYWxsLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgICBbeyB0ZXh0OiBcIk9LXCIgfV0sXG4gICAgICApO1xuICAgICAgbG9nZ2VyLmVycm9yKFwiQ2FsbCBlcnJvcjpcIiwgeyBlcnJvciB9KTtcbiAgICB9O1xuXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgIFdlYlJUQ1NlcnZpY2Uub24oXCJjYWxsU3RhdGVDaGFuZ2VkXCIsIGhhbmRsZUNhbGxTdGF0ZUNoYW5nZSk7XG4gICAgV2ViUlRDU2VydmljZS5vbihcImNhbGxFcnJvclwiLCBoYW5kbGVDYWxsRXJyb3IpO1xuXG4gICAgLy8gSGFuZGxlIGFwcCBzdGF0ZSBjaGFuZ2VzIChmb3IgYmFja2dyb3VuZC9mb3JlZ3JvdW5kKVxuICAgIGNvbnN0IGhhbmRsZUFwcFN0YXRlQ2hhbmdlID0gKG5leHRBcHBTdGF0ZTogQXBwU3RhdGVTdGF0dXMpID0+IHtcbiAgICAgIGlmIChuZXh0QXBwU3RhdGUgPT09IFwiYmFja2dyb3VuZFwiICYmIGNhbGxTdGF0ZS5pc0FjdGl2ZSkge1xuICAgICAgICAvLyBIYW5kbGUgY2FsbCBpbiBiYWNrZ3JvdW5kIC0gY291bGQgaW1wbGVtZW50IHBpY3R1cmUtaW4tcGljdHVyZVxuICAgICAgICBsb2dnZXIuaW5mbyhcIkNhbGwgbW92ZWQgdG8gYmFja2dyb3VuZFwiKTtcbiAgICAgIH0gZWxzZSBpZiAobmV4dEFwcFN0YXRlID09PSBcImFjdGl2ZVwiICYmIGNhbGxTdGF0ZS5pc0FjdGl2ZSkge1xuICAgICAgICAvLyBDYWxsIHJldHVybmVkIHRvIGZvcmVncm91bmRcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJDYWxsIHJldHVybmVkIHRvIGZvcmVncm91bmRcIik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGFwcFN0YXRlU3Vic2NyaXB0aW9uID0gQXBwU3RhdGUuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiY2hhbmdlXCIsXG4gICAgICBoYW5kbGVBcHBTdGF0ZUNoYW5nZSxcbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIFdlYlJUQ1NlcnZpY2Uub2ZmKFwiY2FsbFN0YXRlQ2hhbmdlZFwiLCBoYW5kbGVDYWxsU3RhdGVDaGFuZ2UpO1xuICAgICAgV2ViUlRDU2VydmljZS5vZmYoXCJjYWxsRXJyb3JcIiwgaGFuZGxlQ2FsbEVycm9yKTtcbiAgICAgIGFwcFN0YXRlU3Vic2NyaXB0aW9uPy5yZW1vdmUoKTtcbiAgICB9O1xuICB9LCBbc29ja2V0XSk7XG5cbiAgLy8gQ2FsbCBhY3Rpb24gaGFuZGxlcnNcbiAgY29uc3QgaGFuZGxlQW5zd2VyQ2FsbCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IFdlYlJUQ1NlcnZpY2UuYW5zd2VyQ2FsbCgpO1xuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0U2hvd0luY29taW5nQ2FsbChmYWxzZSk7XG4gICAgICAgIHNldFNob3dBY3RpdmVDYWxsKHRydWUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBBbGVydC5hbGVydChcIkVycm9yXCIsIFwiRmFpbGVkIHRvIGFuc3dlciBjYWxsXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZWplY3RDYWxsID0gKCkgPT4ge1xuICAgIFdlYlJUQ1NlcnZpY2UucmVqZWN0Q2FsbCgpO1xuICAgIHNldFNob3dJbmNvbWluZ0NhbGwoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUVuZENhbGwgPSAoKSA9PiB7XG4gICAgQWxlcnQuYWxlcnQoXCJFbmQgQ2FsbFwiLCBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBlbmQgdGhpcyBjYWxsP1wiLCBbXG4gICAgICB7IHRleHQ6IFwiQ2FuY2VsXCIsIHN0eWxlOiBcImNhbmNlbFwiIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6IFwiRW5kIENhbGxcIixcbiAgICAgICAgc3R5bGU6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgICAgb25QcmVzczogKCkgPT4ge1xuICAgICAgICAgIFdlYlJUQ1NlcnZpY2UuZW5kQ2FsbCgpO1xuICAgICAgICAgIHNldFNob3dBY3RpdmVDYWxsKGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlTXV0ZSA9ICgpID0+IHtcbiAgICBXZWJSVENTZXJ2aWNlLnRvZ2dsZU11dGUoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVUb2dnbGVWaWRlbyA9ICgpID0+IHtcbiAgICBXZWJSVENTZXJ2aWNlLnRvZ2dsZVZpZGVvKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3dpdGNoQ2FtZXJhID0gKCkgPT4ge1xuICAgIFdlYlJUQ1NlcnZpY2Uuc3dpdGNoQ2FtZXJhKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVG9nZ2xlU3BlYWtlciA9ICgpID0+IHtcbiAgICBXZWJSVENTZXJ2aWNlLnRvZ2dsZVNwZWFrZXIoKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7Y2hpbGRyZW59XG5cbiAgICAgIHsvKiBJbmNvbWluZyBDYWxsIE1vZGFsICovfVxuICAgICAgPE1vZGFsXG4gICAgICAgIHZpc2libGU9e3Nob3dJbmNvbWluZ0NhbGx9XG4gICAgICAgIGFuaW1hdGlvblR5cGU9XCJzbGlkZVwiXG4gICAgICAgIHByZXNlbnRhdGlvblN0eWxlPVwiZnVsbFNjcmVlblwiXG4gICAgICAgIG9uUmVxdWVzdENsb3NlPXtoYW5kbGVSZWplY3RDYWxsfVxuICAgICAgPlxuICAgICAgICB7Y2FsbFN0YXRlLmNhbGxEYXRhICYmIChcbiAgICAgICAgICA8SW5jb21pbmdDYWxsU2NyZWVuXG4gICAgICAgICAgICBjYWxsRGF0YT17Y2FsbFN0YXRlLmNhbGxEYXRhfVxuICAgICAgICAgICAgb25BbnN3ZXI9e2hhbmRsZUFuc3dlckNhbGx9XG4gICAgICAgICAgICBvblJlamVjdD17aGFuZGxlUmVqZWN0Q2FsbH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9Nb2RhbD5cblxuICAgICAgey8qIEFjdGl2ZSBDYWxsIE1vZGFsICovfVxuICAgICAgPE1vZGFsXG4gICAgICAgIHZpc2libGU9e3Nob3dBY3RpdmVDYWxsfVxuICAgICAgICBhbmltYXRpb25UeXBlPVwic2xpZGVcIlxuICAgICAgICBwcmVzZW50YXRpb25TdHlsZT1cImZ1bGxTY3JlZW5cIlxuICAgICAgICBvblJlcXVlc3RDbG9zZT17aGFuZGxlRW5kQ2FsbH1cbiAgICAgID5cbiAgICAgICAgPEFjdGl2ZUNhbGxTY3JlZW5cbiAgICAgICAgICBjYWxsU3RhdGU9e2NhbGxTdGF0ZX1cbiAgICAgICAgICBvbkVuZENhbGw9e2hhbmRsZUVuZENhbGx9XG4gICAgICAgICAgb25Ub2dnbGVNdXRlPXtoYW5kbGVUb2dnbGVNdXRlfVxuICAgICAgICAgIG9uVG9nZ2xlVmlkZW89e2hhbmRsZVRvZ2dsZVZpZGVvfVxuICAgICAgICAgIG9uU3dpdGNoQ2FtZXJhPXtoYW5kbGVTd2l0Y2hDYW1lcmF9XG4gICAgICAgICAgb25Ub2dnbGVTcGVha2VyPXtoYW5kbGVUb2dnbGVTcGVha2VyfVxuICAgICAgICAvPlxuICAgICAgPC9Nb2RhbD5cbiAgICA8Lz5cbiAgKTtcbn1cblxuLy8gRXhwb3J0IGhvb2sgZm9yIGVhc3kgYWNjZXNzIHRvIGNhbGwgZnVuY3Rpb25hbGl0eVxuZXhwb3J0IGNvbnN0IHVzZUNhbGxNYW5hZ2VyID0gKCkgPT4ge1xuICBjb25zdCBzdGFydENhbGwgPSBhc3luYyAobWF0Y2hJZDogc3RyaW5nLCBjYWxsVHlwZTogXCJ2b2ljZVwiIHwgXCJ2aWRlb1wiKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBXZWJSVENTZXJ2aWNlLnN0YXJ0Q2FsbChtYXRjaElkLCBjYWxsVHlwZSk7XG4gICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgQWxlcnQuYWxlcnQoXG4gICAgICAgICAgXCJFcnJvclwiLFxuICAgICAgICAgIFwiRmFpbGVkIHRvIHN0YXJ0IGNhbGwuIFBsZWFzZSBjaGVjayB5b3VyIHBlcm1pc3Npb25zIGFuZCB0cnkgYWdhaW4uXCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3VjY2VzcztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgQWxlcnQuYWxlcnQoXCJFcnJvclwiLCBcIkZhaWxlZCB0byBzdGFydCBjYWxsXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBlbmRDYWxsID0gKCkgPT4ge1xuICAgIFdlYlJUQ1NlcnZpY2UuZW5kQ2FsbCgpO1xuICB9O1xuXG4gIGNvbnN0IGlzQ2FsbEFjdGl2ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gV2ViUlRDU2VydmljZS5pc0NhbGxBY3RpdmUoKTtcbiAgfTtcblxuICBjb25zdCBnZXRDYWxsU3RhdGUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIFdlYlJUQ1NlcnZpY2UuZ2V0Q2FsbFN0YXRlKCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydENhbGwsXG4gICAgZW5kQ2FsbCxcbiAgICBpc0NhbGxBY3RpdmUsXG4gICAgZ2V0Q2FsbFN0YXRlLFxuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUQsT0FBQTtBQUVBLElBQUFFLFlBQUEsR0FBQUYsT0FBQTtBQUVBLElBQUFHLFVBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLGlCQUFBLEdBQUFDLHNCQUFBLENBQUFMLE9BQUE7QUFDQSxJQUFBTSxtQkFBQSxHQUFBRCxzQkFBQSxDQUFBTCxPQUFBO0FBRUEsSUFBQU8sY0FBQSxHQUFBRixzQkFBQSxDQUFBTCxPQUFBO0FBQXlELElBQUFRLFdBQUEsR0FBQVIsT0FBQTtBQUFBLFNBQUFELHdCQUFBVSxDQUFBLEVBQUFDLENBQUEsNkJBQUFDLE9BQUEsTUFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBWix1QkFBQSxZQUFBQSx3QkFBQVUsQ0FBQSxFQUFBQyxDQUFBLFNBQUFBLENBQUEsSUFBQUQsQ0FBQSxJQUFBQSxDQUFBLENBQUFLLFVBQUEsU0FBQUwsQ0FBQSxNQUFBTSxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxLQUFBQyxTQUFBLFFBQUFDLE9BQUEsRUFBQVYsQ0FBQSxpQkFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxTQUFBUSxDQUFBLE1BQUFGLENBQUEsR0FBQUwsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsUUFBQUcsQ0FBQSxDQUFBSyxHQUFBLENBQUFYLENBQUEsVUFBQU0sQ0FBQSxDQUFBTSxHQUFBLENBQUFaLENBQUEsR0FBQU0sQ0FBQSxDQUFBTyxHQUFBLENBQUFiLENBQUEsRUFBQVEsQ0FBQSxjQUFBTSxFQUFBLElBQUFkLENBQUEsZ0JBQUFjLEVBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLEVBQUEsT0FBQVAsQ0FBQSxJQUFBRCxDQUFBLEdBQUFXLE1BQUEsQ0FBQUMsY0FBQSxLQUFBRCxNQUFBLENBQUFFLHdCQUFBLENBQUFuQixDQUFBLEVBQUFjLEVBQUEsT0FBQVAsQ0FBQSxDQUFBSyxHQUFBLElBQUFMLENBQUEsQ0FBQU0sR0FBQSxJQUFBUCxDQUFBLENBQUFFLENBQUEsRUFBQU0sRUFBQSxFQUFBUCxDQUFBLElBQUFDLENBQUEsQ0FBQU0sRUFBQSxJQUFBZCxDQUFBLENBQUFjLEVBQUEsV0FBQU4sQ0FBQSxLQUFBUixDQUFBLEVBQUFDLENBQUE7QUFPMUMsU0FBU21CLFdBQVdBLENBQUFDLElBQUEsRUFBaUM7RUFBQSxJQUE5QkMsUUFBUSxHQUFBRCxJQUFBLENBQVJDLFFBQVE7RUFDNUMsSUFBQUMsU0FBQSxHQUFrQyxJQUFBQyxlQUFRLEVBQ3hDQyxzQkFBYSxDQUFDQyxZQUFZLENBQUMsQ0FDN0IsQ0FBQztJQUFBQyxVQUFBLE9BQUFDLGVBQUEsQ0FBQWxCLE9BQUEsRUFBQWEsU0FBQTtJQUZNTSxTQUFTLEdBQUFGLFVBQUE7SUFBRUcsWUFBWSxHQUFBSCxVQUFBO0VBRzlCLElBQUFJLFVBQUEsR0FBZ0QsSUFBQVAsZUFBUSxFQUFDLEtBQUssQ0FBQztJQUFBUSxVQUFBLE9BQUFKLGVBQUEsQ0FBQWxCLE9BQUEsRUFBQXFCLFVBQUE7SUFBeERFLGdCQUFnQixHQUFBRCxVQUFBO0lBQUVFLG1CQUFtQixHQUFBRixVQUFBO0VBQzVDLElBQUFHLFVBQUEsR0FBNEMsSUFBQVgsZUFBUSxFQUFDLEtBQUssQ0FBQztJQUFBWSxVQUFBLE9BQUFSLGVBQUEsQ0FBQWxCLE9BQUEsRUFBQXlCLFVBQUE7SUFBcERFLGNBQWMsR0FBQUQsVUFBQTtJQUFFRSxpQkFBaUIsR0FBQUYsVUFBQTtFQUN4QyxJQUFNRyxNQUFNLEdBQUcsSUFBQUMsb0JBQVMsRUFBQyxDQUFDO0VBRTFCLElBQUFDLGdCQUFTLEVBQUMsWUFBTTtJQUVkLElBQUlGLE1BQU0sRUFBRTtNQUNWZCxzQkFBYSxDQUFDaUIsVUFBVSxDQUFDSCxNQUFNLENBQUM7SUFDbEM7SUFHQSxJQUFNSSxxQkFBcUIsR0FBRyxTQUF4QkEscUJBQXFCQSxDQUFJQyxRQUFtQixFQUFLO01BQ3JEZCxZQUFZLENBQUNjLFFBQVEsQ0FBQztNQUV0QixJQUFJQSxRQUFRLENBQUNDLFFBQVEsSUFBSUQsUUFBUSxDQUFDRSxVQUFVLElBQUksQ0FBQ0YsUUFBUSxDQUFDRyxXQUFXLEVBQUU7UUFFckViLG1CQUFtQixDQUFDLElBQUksQ0FBQztRQUN6QkksaUJBQWlCLENBQUMsS0FBSyxDQUFDO01BQzFCLENBQUMsTUFBTSxJQUFJTSxRQUFRLENBQUNDLFFBQVEsSUFBSSxDQUFDRCxRQUFRLENBQUNFLFVBQVUsRUFBRTtRQUVwRFosbUJBQW1CLENBQUMsS0FBSyxDQUFDO1FBQzFCSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7TUFDekIsQ0FBQyxNQUFNLElBQUksQ0FBQ00sUUFBUSxDQUFDQyxRQUFRLEVBQUU7UUFFN0JYLG1CQUFtQixDQUFDLEtBQUssQ0FBQztRQUMxQkksaUJBQWlCLENBQUMsS0FBSyxDQUFDO01BQzFCO0lBQ0YsQ0FBQztJQUVELElBQU1VLGVBQWUsR0FBRyxTQUFsQkEsZUFBZUEsQ0FBSUMsS0FBYyxFQUFLO01BQzFDQyxrQkFBSyxDQUFDQyxLQUFLLENBQ1QsWUFBWSxFQUNaLHFEQUFxRCxFQUNyRCxDQUFDO1FBQUVDLElBQUksRUFBRTtNQUFLLENBQUMsQ0FDakIsQ0FBQztNQUNEQyxZQUFNLENBQUNKLEtBQUssQ0FBQyxhQUFhLEVBQUU7UUFBRUEsS0FBSyxFQUFMQTtNQUFNLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBR0R4QixzQkFBYSxDQUFDNkIsRUFBRSxDQUFDLGtCQUFrQixFQUFFWCxxQkFBcUIsQ0FBQztJQUMzRGxCLHNCQUFhLENBQUM2QixFQUFFLENBQUMsV0FBVyxFQUFFTixlQUFlLENBQUM7SUFHOUMsSUFBTU8sb0JBQW9CLEdBQUcsU0FBdkJBLG9CQUFvQkEsQ0FBSUMsWUFBNEIsRUFBSztNQUM3RCxJQUFJQSxZQUFZLEtBQUssWUFBWSxJQUFJM0IsU0FBUyxDQUFDZ0IsUUFBUSxFQUFFO1FBRXZEUSxZQUFNLENBQUNJLElBQUksQ0FBQywwQkFBMEIsQ0FBQztNQUN6QyxDQUFDLE1BQU0sSUFBSUQsWUFBWSxLQUFLLFFBQVEsSUFBSTNCLFNBQVMsQ0FBQ2dCLFFBQVEsRUFBRTtRQUUxRFEsWUFBTSxDQUFDSSxJQUFJLENBQUMsNkJBQTZCLENBQUM7TUFDNUM7SUFDRixDQUFDO0lBRUQsSUFBTUMsb0JBQW9CLEdBQUdDLHFCQUFRLENBQUNDLGdCQUFnQixDQUNwRCxRQUFRLEVBQ1JMLG9CQUNGLENBQUM7SUFFRCxPQUFPLFlBQU07TUFDWDlCLHNCQUFhLENBQUNvQyxHQUFHLENBQUMsa0JBQWtCLEVBQUVsQixxQkFBcUIsQ0FBQztNQUM1RGxCLHNCQUFhLENBQUNvQyxHQUFHLENBQUMsV0FBVyxFQUFFYixlQUFlLENBQUM7TUFDL0NVLG9CQUFvQixvQkFBcEJBLG9CQUFvQixDQUFFSSxNQUFNLENBQUMsQ0FBQztJQUNoQyxDQUFDO0VBQ0gsQ0FBQyxFQUFFLENBQUN2QixNQUFNLENBQUMsQ0FBQztFQUdaLElBQU13QixnQkFBZ0I7SUFBQSxJQUFBQyxLQUFBLE9BQUFDLGtCQUFBLENBQUF2RCxPQUFBLEVBQUcsYUFBWTtNQUNuQyxJQUFJO1FBQ0YsSUFBTXdELE9BQU8sU0FBU3pDLHNCQUFhLENBQUMwQyxVQUFVLENBQUMsQ0FBQztRQUNoRCxJQUFJRCxPQUFPLEVBQUU7VUFDWGhDLG1CQUFtQixDQUFDLEtBQUssQ0FBQztVQUMxQkksaUJBQWlCLENBQUMsSUFBSSxDQUFDO1FBQ3pCO01BQ0YsQ0FBQyxDQUFDLE9BQU9XLEtBQUssRUFBRTtRQUNkQyxrQkFBSyxDQUFDQyxLQUFLLENBQUMsT0FBTyxFQUFFLHVCQUF1QixDQUFDO01BQy9DO0lBQ0YsQ0FBQztJQUFBLGdCQVZLWSxnQkFBZ0JBLENBQUE7TUFBQSxPQUFBQyxLQUFBLENBQUFJLEtBQUEsT0FBQUMsU0FBQTtJQUFBO0VBQUEsR0FVckI7RUFFRCxJQUFNQyxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUFBLEVBQVM7SUFDN0I3QyxzQkFBYSxDQUFDOEMsVUFBVSxDQUFDLENBQUM7SUFDMUJyQyxtQkFBbUIsQ0FBQyxLQUFLLENBQUM7RUFDNUIsQ0FBQztFQUVELElBQU1zQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWFBLENBQUEsRUFBUztJQUMxQnRCLGtCQUFLLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUUseUNBQXlDLEVBQUUsQ0FDakU7TUFBRUMsSUFBSSxFQUFFLFFBQVE7TUFBRXFCLEtBQUssRUFBRTtJQUFTLENBQUMsRUFDbkM7TUFDRXJCLElBQUksRUFBRSxVQUFVO01BQ2hCcUIsS0FBSyxFQUFFLGFBQWE7TUFDcEJDLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBLEVBQVE7UUFDYmpELHNCQUFhLENBQUNrRCxPQUFPLENBQUMsQ0FBQztRQUN2QnJDLGlCQUFpQixDQUFDLEtBQUssQ0FBQztNQUMxQjtJQUNGLENBQUMsQ0FDRixDQUFDO0VBQ0osQ0FBQztFQUVELElBQU1zQyxnQkFBZ0IsR0FBRyxTQUFuQkEsZ0JBQWdCQSxDQUFBLEVBQVM7SUFDN0JuRCxzQkFBYSxDQUFDb0QsVUFBVSxDQUFDLENBQUM7RUFDNUIsQ0FBQztFQUVELElBQU1DLGlCQUFpQixHQUFHLFNBQXBCQSxpQkFBaUJBLENBQUEsRUFBUztJQUM5QnJELHNCQUFhLENBQUNzRCxXQUFXLENBQUMsQ0FBQztFQUM3QixDQUFDO0VBRUQsSUFBTUMsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFrQkEsQ0FBQSxFQUFTO0lBQy9CdkQsc0JBQWEsQ0FBQ3dELFlBQVksQ0FBQyxDQUFDO0VBQzlCLENBQUM7RUFFRCxJQUFNQyxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQW1CQSxDQUFBLEVBQVM7SUFDaEN6RCxzQkFBYSxDQUFDMEQsYUFBYSxDQUFDLENBQUM7RUFDL0IsQ0FBQztFQUVELE9BQ0UsSUFBQXBGLFdBQUEsQ0FBQXFGLElBQUEsRUFBQXJGLFdBQUEsQ0FBQXNGLFFBQUE7SUFBQS9ELFFBQUEsR0FDR0EsUUFBUSxFQUdULElBQUF2QixXQUFBLENBQUF1RixHQUFBLEVBQUM3RixZQUFBLENBQUE4RixLQUFLO01BQ0pDLE9BQU8sRUFBRXZELGdCQUFpQjtNQUMxQndELGFBQWEsRUFBQyxPQUFPO01BQ3JCQyxpQkFBaUIsRUFBQyxZQUFZO01BQzlCQyxjQUFjLEVBQUVyQixnQkFBaUI7TUFBQWhELFFBQUEsRUFFaENPLFNBQVMsQ0FBQytELFFBQVEsSUFDakIsSUFBQTdGLFdBQUEsQ0FBQXVGLEdBQUEsRUFBQ3pGLG1CQUFBLENBQUFhLE9BQWtCO1FBQ2pCa0YsUUFBUSxFQUFFL0QsU0FBUyxDQUFDK0QsUUFBUztRQUM3QkMsUUFBUSxFQUFFOUIsZ0JBQWlCO1FBQzNCK0IsUUFBUSxFQUFFeEI7TUFBaUIsQ0FDNUI7SUFDRixDQUNJLENBQUMsRUFHUixJQUFBdkUsV0FBQSxDQUFBdUYsR0FBQSxFQUFDN0YsWUFBQSxDQUFBOEYsS0FBSztNQUNKQyxPQUFPLEVBQUVuRCxjQUFlO01BQ3hCb0QsYUFBYSxFQUFDLE9BQU87TUFDckJDLGlCQUFpQixFQUFDLFlBQVk7TUFDOUJDLGNBQWMsRUFBRW5CLGFBQWM7TUFBQWxELFFBQUEsRUFFOUIsSUFBQXZCLFdBQUEsQ0FBQXVGLEdBQUEsRUFBQzNGLGlCQUFBLENBQUFlLE9BQWdCO1FBQ2ZtQixTQUFTLEVBQUVBLFNBQVU7UUFDckJrRSxTQUFTLEVBQUV2QixhQUFjO1FBQ3pCd0IsWUFBWSxFQUFFcEIsZ0JBQWlCO1FBQy9CcUIsYUFBYSxFQUFFbkIsaUJBQWtCO1FBQ2pDb0IsY0FBYyxFQUFFbEIsa0JBQW1CO1FBQ25DbUIsZUFBZSxFQUFFakI7TUFBb0IsQ0FDdEM7SUFBQyxDQUNHLENBQUM7RUFBQSxDQUNSLENBQUM7QUFFUDtBQUdPLElBQU1rQixjQUFjLEdBQUFDLE9BQUEsQ0FBQUQsY0FBQSxHQUFHLFNBQWpCQSxjQUFjQSxDQUFBLEVBQVM7RUFDbEMsSUFBTUUsU0FBUztJQUFBLElBQUFDLEtBQUEsT0FBQXRDLGtCQUFBLENBQUF2RCxPQUFBLEVBQUcsV0FBTzhGLE9BQWUsRUFBRUMsUUFBMkIsRUFBSztNQUN4RSxJQUFJO1FBQ0YsSUFBTXZDLE9BQU8sU0FBU3pDLHNCQUFhLENBQUM2RSxTQUFTLENBQUNFLE9BQU8sRUFBRUMsUUFBUSxDQUFDO1FBQ2hFLElBQUksQ0FBQ3ZDLE9BQU8sRUFBRTtVQUNaaEIsa0JBQUssQ0FBQ0MsS0FBSyxDQUNULE9BQU8sRUFDUCxvRUFDRixDQUFDO1FBQ0g7UUFDQSxPQUFPZSxPQUFPO01BQ2hCLENBQUMsQ0FBQyxPQUFPakIsS0FBSyxFQUFFO1FBQ2RDLGtCQUFLLENBQUNDLEtBQUssQ0FBQyxPQUFPLEVBQUUsc0JBQXNCLENBQUM7UUFDNUMsT0FBTyxLQUFLO01BQ2Q7SUFDRixDQUFDO0lBQUEsZ0JBZEttRCxTQUFTQSxDQUFBSSxFQUFBLEVBQUFDLEdBQUE7TUFBQSxPQUFBSixLQUFBLENBQUFuQyxLQUFBLE9BQUFDLFNBQUE7SUFBQTtFQUFBLEdBY2Q7RUFFRCxJQUFNTSxPQUFPLEdBQUcsU0FBVkEsT0FBT0EsQ0FBQSxFQUFTO0lBQ3BCbEQsc0JBQWEsQ0FBQ2tELE9BQU8sQ0FBQyxDQUFDO0VBQ3pCLENBQUM7RUFFRCxJQUFNaUMsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUEsRUFBUztJQUN6QixPQUFPbkYsc0JBQWEsQ0FBQ21GLFlBQVksQ0FBQyxDQUFDO0VBQ3JDLENBQUM7RUFFRCxJQUFNbEYsWUFBWSxHQUFHLFNBQWZBLFlBQVlBLENBQUEsRUFBUztJQUN6QixPQUFPRCxzQkFBYSxDQUFDQyxZQUFZLENBQUMsQ0FBQztFQUNyQyxDQUFDO0VBRUQsT0FBTztJQUNMNEUsU0FBUyxFQUFUQSxTQUFTO0lBQ1QzQixPQUFPLEVBQVBBLE9BQU87SUFDUGlDLFlBQVksRUFBWkEsWUFBWTtJQUNabEYsWUFBWSxFQUFaQTtFQUNGLENBQUM7QUFDSCxDQUFDIiwiaWdub3JlTGlzdCI6W119