3f93d4d9be7d0e7d05623395ad4057e6
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _reactNative = require("react-native");
var _Batchinator = _interopRequireDefault(require("../Interaction/Batchinator"));
var _clamp = _interopRequireDefault(require("../Utilities/clamp"));
var _infoLog = _interopRequireDefault(require("../Utilities/infoLog"));
var _CellRenderMask = require("./CellRenderMask");
var _ChildListCollection = _interopRequireDefault(require("./ChildListCollection"));
var _FillRateHelper = _interopRequireDefault(require("./FillRateHelper"));
var _StateSafePureComponent = _interopRequireDefault(require("./StateSafePureComponent"));
var _ViewabilityHelper = _interopRequireDefault(require("./ViewabilityHelper"));
var _VirtualizedListCellRenderer = _interopRequireDefault(require("./VirtualizedListCellRenderer"));
var _VirtualizedListContext = require("./VirtualizedListContext.js");
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var _nullthrows = _interopRequireDefault(require("nullthrows"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var ON_EDGE_REACHED_EPSILON = 0.001;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
function horizontalOrDefault(horizontal) {
  return horizontal != null ? horizontal : false;
}
function initialNumToRenderOrDefault(initialNumToRender) {
  return initialNumToRender != null ? initialNumToRender : 10;
}
function maxToRenderPerBatchOrDefault(maxToRenderPerBatch) {
  return maxToRenderPerBatch != null ? maxToRenderPerBatch : 10;
}
function onStartReachedThresholdOrDefault(onStartReachedThreshold) {
  return onStartReachedThreshold != null ? onStartReachedThreshold : 2;
}
function onEndReachedThresholdOrDefault(onEndReachedThreshold) {
  return onEndReachedThreshold != null ? onEndReachedThreshold : 2;
}
function getScrollingThreshold(threshold, visibleLength) {
  return threshold * visibleLength / 2;
}
function scrollEventThrottleOrDefault(scrollEventThrottle) {
  return scrollEventThrottle != null ? scrollEventThrottle : 50;
}
function windowSizeOrDefault(windowSize) {
  return windowSize != null ? windowSize : 21;
}
function findLastWhere(arr, predicate) {
  for (var i = arr.length - 1; i >= 0; i--) {
    if (predicate(arr[i])) {
      return arr[i];
    }
  }
  return null;
}
var VirtualizedList = function (_StateSafePureCompone) {
  function VirtualizedList(_props) {
    var _this$props$updateCel, _this$props$maintainV, _this$props$maintainV2;
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _callSuper(this, VirtualizedList, [_props]);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return _this;
      }
    };
    _this._registerAsNestedChild = function (childList) {
      _this._nestedChildLists.add(childList.ref, childList.cellKey);
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.remove(childList.ref);
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };
    _this._averageCellLength = 0;
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasTriggeredInitialScrollToIndex = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._lastFocusedCellKey = null;
    _this._nestedChildLists = new _ChildListCollection.default();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0,
      zoomScale: 1
    };
    _this._scrollRef = null;
    _this._sentStartForContentLength = 0;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        return (0, _jsxRuntime.jsx)(_reactNative.View, _objectSpread({}, props));
      } else if (onRefresh) {
        var _props$refreshing;
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return ((0, _jsxRuntime.jsx)(_reactNative.ScrollView, _objectSpread(_objectSpread({}, props), {}, {
            refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(_reactNative.RefreshControl, {
              refreshing: props.refreshing,
              onRefresh: onRefresh,
              progressViewOffset: props.progressViewOffset
            }) : props.refreshControl
          }))
        );
      } else {
        return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, _objectSpread({}, props));
      }
    };
    _this._onCellLayout = function (e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: _this._selectOffset(layout),
        length: _this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = _this._frames[cellKey];
      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        _this._totalCellLength += next.length - (curr ? curr.length : 0);
        _this._totalCellsMeasured += curr ? 0 : 1;
        _this._averageCellLength = _this._totalCellLength / _this._totalCellsMeasured;
        _this._frames[cellKey] = next;
        _this._highestMeasuredFrameIndex = Math.max(_this._highestMeasuredFrameIndex, index);
        _this._scheduleCellsToRenderUpdate();
      } else {
        _this._frames[cellKey].inLayout = true;
      }
      _this._triggerRemeasureForChildListsInCell(cellKey);
      _this._computeBlankness();
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
    };
    _this._onCellUnmount = function (cellKey) {
      delete _this._cellRefs[cellKey];
      var curr = _this._frames[cellKey];
      if (curr) {
        _this._frames[cellKey] = _objectSpread(_objectSpread({}, curr), {}, {
          inLayout: false
        });
      }
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasTriggeredInitialScrollToIndex) {
        if (_this.props.contentOffset == null) {
          if (_this.props.initialScrollIndex < _this.props.getItemCount(_this.props.data)) {
            _this.scrollToIndex({
              animated: false,
              index: (0, _nullthrows.default)(_this.props.initialScrollIndex)
            });
          } else {
            _this.scrollToEnd({
              animated: false
            });
          }
        }
        _this._hasTriggeredInitialScrollToIndex = true;
      }
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEdgeReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._selectOffset(e.nativeEvent.contentOffset);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;
      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength,
        zoomScale: zoomScale
      };
      if (_this.state.pendingScrollUpdateCount > 0) {
        _this.setState(function (state) {
          return {
            pendingScrollUpdateCount: state.pendingScrollUpdateCount - 1
          };
        });
      }
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEdgeReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      _this.setState(function (state, props) {
        var cellsAroundViewport = _this._adjustCellsAroundViewport(props, state.cellsAroundViewport, state.pendingScrollUpdateCount);
        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, _this._getNonViewportRenderRegions(props));
        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {
          return null;
        }
        return {
          cellsAroundViewport: cellsAroundViewport,
          renderMask: renderMask
        };
      });
    };
    _this._createViewToken = function (index, isViewable, props) {
      var data = props.data,
        getItem = props.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: VirtualizedList._keyExtractor(item, index, props),
        isViewable: isViewable
      };
    };
    _this._getOffsetApprox = function (index, props) {
      if (Number.isInteger(index)) {
        return _this.__getFrameMetricsApprox(index, props).offset;
      } else {
        var frameMetrics = _this.__getFrameMetricsApprox(Math.floor(index), props);
        var remainder = index - Math.floor(index);
        return frameMetrics.offset + remainder * frameMetrics.length;
      }
    };
    _this.__getFrameMetricsApprox = function (index, props) {
      var frame = _this._getFrameMetrics(index, props);
      if (frame && frame.index === index) {
        return frame;
      } else {
        var data = props.data,
          getItemCount = props.getItemCount,
          getItemLayout = props.getItemLayout;
        (0, _invariant.default)(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);
        (0, _invariant.default)(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };
    _this._getFrameMetrics = function (index, props) {
      var data = props.data,
        getItemCount = props.getItemCount,
        getItemLayout = props.getItemLayout;
      (0, _invariant.default)(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);
      var frame = _this._frames[VirtualizedList._getItemKey(props, index)];
      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          return getItemLayout(data, index);
        }
      }
      return frame;
    };
    _this._getNonViewportRenderRegions = function (props) {
      if (!(_this._lastFocusedCellKey && _this._cellRefs[_this._lastFocusedCellKey])) {
        return [];
      }
      var lastFocusedCellRenderer = _this._cellRefs[_this._lastFocusedCellKey];
      var focusedCellIndex = lastFocusedCellRenderer.props.index;
      var itemCount = props.getItemCount(props.data);
      if (focusedCellIndex >= itemCount || VirtualizedList._getItemKey(props, focusedCellIndex) !== _this._lastFocusedCellKey) {
        return [];
      }
      var first = focusedCellIndex;
      var heightOfCellsBeforeFocused = 0;
      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < _this._scrollMetrics.visibleLength; i--) {
        first--;
        heightOfCellsBeforeFocused += _this.__getFrameMetricsApprox(i, props).length;
      }
      var last = focusedCellIndex;
      var heightOfCellsAfterFocused = 0;
      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < _this._scrollMetrics.visibleLength; _i++) {
        last++;
        heightOfCellsAfterFocused += _this.__getFrameMetricsApprox(_i, props).length;
      }
      return [{
        first: first,
        last: last
      }];
    };
    _this._checkProps(_props);
    _this._fillRateHelper = new _FillRateHelper.default(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, (_this$props$updateCel = _this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props = _this.props,
        onViewableItemsChanged = _this$props.onViewableItemsChanged,
        viewabilityConfig = _this$props.viewabilityConfig;
      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new _ViewabilityHelper.default(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }
    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);
    var minIndexForVisible = (_this$props$maintainV = (_this$props$maintainV2 = _this.props.maintainVisibleContentPosition) == null ? void 0 : _this$props$maintainV2.minIndexForVisible) != null ? _this$props$maintainV : 0;
    _this.state = {
      cellsAroundViewport: initialRenderRegion,
      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion),
      firstVisibleItemKey: _this.props.getItemCount(_this.props.data) > minIndexForVisible ? VirtualizedList._getItemKey(_this.props, minIndexForVisible) : null,
      pendingScrollUpdateCount: _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 ? 1 : 0
    };
    return _this;
  }
  (0, _inherits2.default)(VirtualizedList, _StateSafePureCompone);
  return (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      if (veryLast < 0) {
        return;
      }
      var frame = this.__getFrameMetricsApprox(veryLast, this.props);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props2 = this.props,
        data = _this$props2.data,
        horizontal = _this$props2.horizontal,
        getItemCount = _this$props2.getItemCount,
        getItemLayout = _this$props2.getItemLayout,
        onScrollToIndexFailed = _this$props2.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      (0, _invariant.default)(index >= 0, `scrollToIndex out of range: requested index ${index} but minimum is 0`);
      (0, _invariant.default)(getItemCount(data) >= 1, `scrollToIndex out of range: item length ${getItemCount(data)} but minimum is 1`);
      (0, _invariant.default)(index < getItemCount(data), `scrollToIndex out of range: requested index ${index} is out of 0 to ${getItemCount(data) - 1}`);
      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }
      var frame = this.__getFrameMetricsApprox(Math.floor(index), this.props);
      var offset = Math.max(0, this._getOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props3 = this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount;
      var itemCount = getItemCount(data);
      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex(_objectSpread(_objectSpread({}, params), {}, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props, this.state.cellsAroundViewport);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return (0, _reactNative.findNodeHandle)(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;
      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "_checkProps",
    value: function _checkProps(props) {
      var onScroll = props.onScroll,
        windowSize = props.windowSize,
        getItemCount = props.getItemCount,
        data = props.data,
        initialScrollIndex = props.initialScrollIndex;
      (0, _invariant.default)(!onScroll || !onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
      (0, _invariant.default)(windowSizeOrDefault(windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
      (0, _invariant.default)(getItemCount, 'VirtualizedList: The "getItemCount" prop must be provided');
      var itemCount = getItemCount(data);
      if (initialScrollIndex != null && !this._hasTriggeredInitialScrollToIndex && (initialScrollIndex < 0 || itemCount > 0 && initialScrollIndex >= itemCount) && !this._hasWarned.initialScrollIndex) {
        console.warn(`initialScrollIndex "${initialScrollIndex}" is not valid (list has ${itemCount} items)`);
        this._hasWarned.initialScrollIndex = true;
      }
      if (__DEV__ && !this._hasWarned.flexWrap) {
        var flatStyles = _reactNative.StyleSheet.flatten(this.props.contentContainerStyle);
        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
          this._hasWarned.flexWrap = true;
        }
      }
    }
  }, {
    key: "_adjustCellsAroundViewport",
    value: function _adjustCellsAroundViewport(props, cellsAroundViewport, pendingScrollUpdateCount) {
      var data = props.data,
        getItemCount = props.getItemCount;
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(props.onEndReachedThreshold);
      var _this$_scrollMetrics = this._scrollMetrics,
        contentLength = _this$_scrollMetrics.contentLength,
        offset = _this$_scrollMetrics.offset,
        visibleLength = _this$_scrollMetrics.visibleLength;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (visibleLength <= 0 || contentLength <= 0) {
        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
      }
      var newCellsAroundViewport;
      if (props.disableVirtualization) {
        var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch) : 0;
        newCellsAroundViewport = {
          first: 0,
          last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)
        };
      } else {
        if (pendingScrollUpdateCount > 0) {
          return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
        }
        newCellsAroundViewport = (0, _VirtualizeUtils.computeWindowedRenderLimits)(props, maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch), windowSizeOrDefault(props.windowSize), cellsAroundViewport, this.__getFrameMetricsApprox, this._scrollMetrics);
        (0, _invariant.default)(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');
      }
      if (this._nestedChildLists.size() > 0) {
        var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);
        newCellsAroundViewport.last = childIdx != null ? childIdx : newCellsAroundViewport.last;
      }
      return newCellsAroundViewport;
    }
  }, {
    key: "_findFirstChildWithMore",
    value: function _findFirstChildWithMore(first, last) {
      for (var ii = first; ii <= last; ii++) {
        var cellKeyForIndex = this._indicesToKeys.get(ii);
        if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, function (childList) {
          return childList.hasMore();
        })) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          ref: this,
          cellKey: this.context.cellKey
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          ref: this
        });
      }
      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props4 = this.props,
        CellRendererComponent = _this$props4.CellRendererComponent,
        ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,
        ListHeaderComponent = _this$props4.ListHeaderComponent,
        ListItemComponent = _this$props4.ListItemComponent,
        data = _this$props4.data,
        debug = _this$props4.debug,
        getItem = _this$props4.getItem,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        horizontal = _this$props4.horizontal,
        renderItem = _this$props4.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop() {
        var item = getItem(data, ii);
        var key = VirtualizedList._keyExtractor(item, ii, _this2.props);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        var shouldListenForLayout = getItemLayout == null || debug || _this2._fillRateHelper.enabled();
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListCellRenderer.default, _objectSpread({
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onCellFocusCapture: function onCellFocusCapture(e) {
            return _this2._onCellFocusCapture(key);
          },
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }, shouldListenForLayout && {
          onCellLayout: _this2._onCellLayout
        }), key));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop();
      }
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === horizontalOrDefault(this.props.horizontal));
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      this._checkProps(this.props);
      var _this$props5 = this.props,
        ListEmptyComponent = _this$props5.ListEmptyComponent,
        ListFooterComponent = _this$props5.ListFooterComponent,
        ListHeaderComponent = _this$props5.ListHeaderComponent;
      var _this$props6 = this.props,
        data = _this$props6.data,
        horizontal = _this$props6.horizontal;
      var inversionStyle = this.props.inverted ? horizontalOrDefault(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var _element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            collapsable: false,
            onLayout: this._onLayoutHeader,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: _element
          })
        }, "$header"));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount === 0 && ListEmptyComponent) {
        var _element2 = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-empty',
          children: React.cloneElement(_element2, {
            onLayout: function onLayout(event) {
              _this3._onLayoutEmpty(event);
              if (_element2.props.onLayout) {
                _element2.props.onLayout(event);
              }
            },
            style: _reactNative.StyleSheet.compose(inversionStyle, _element2.props.style)
          })
        }, "$empty"));
      }
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = this._getSpacerKey(!horizontal);
        var renderRegions = this.state.renderMask.enumerateRegions();
        var lastSpacer = findLastWhere(renderRegions, function (r) {
          return r.isSpacer;
        });
        for (var section of renderRegions) {
          if (section.isSpacer) {
            if (this.props.disableVirtualization) {
              continue;
            }
            var isLastSpacer = section === lastSpacer;
            var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;
            var last = constrainToMeasured ? (0, _clamp.default)(section.first - 1, section.last, this._highestMeasuredFrameIndex) : section.last;
            var firstMetrics = this.__getFrameMetricsApprox(section.first, this.props);
            var lastMetrics = this.__getFrameMetricsApprox(last, this.props);
            var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;
            cells.push((0, _jsxRuntime.jsx)(_reactNative.View, {
              style: (0, _defineProperty2.default)({}, spacerKey, spacerSize)
            }, `$spacer-${section.first}`));
          } else {
            this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);
          }
        }
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
      }
      if (ListFooterComponent) {
        var _element3 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(_reactNative.View, {
            onLayout: this._onLayoutFooter,
            style: _reactNative.StyleSheet.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element3
          })
        }, "$footer"));
      }
      var scrollProps = _objectSpread(_objectSpread({}, this.props), {}, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: scrollEventThrottleOrDefault(this.props.scrollEventThrottle),
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style,
        isInvertedVirtualizedList: this.props.inverted,
        maintainVisibleContentPosition: this.props.maintainVisibleContentPosition != null ? _objectSpread(_objectSpread({}, this.props.maintainVisibleContentPosition), {}, {
          minIndexForVisible: this.props.maintainVisibleContentPosition.minIndexForVisible + (this.props.ListHeaderComponent ? 1 : 0)
        }) : undefined
      });
      this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: horizontalOrDefault(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        },
        children: React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;
      if (__DEV__) {
        ret = (0, _jsxRuntime.jsx)(_reactNative.ScrollView.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !horizontalOrDefault(_this3.props.horizontal) && !_this3._hasWarned.nesting && _this3.context == null && _this3.props.scrollEnabled !== false) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this3._hasWarned.nesting = true;
            }
            return innerRet;
          }
        });
      }
      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(_reactNative.View, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props7 = this.props,
        data = _this$props7.data,
        extraData = _this$props7.extraData;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);
    }
  }, {
    key: "_onCellFocusCapture",
    value: function _onCellFocusCapture(cellKey) {
      this._lastFocusedCellKey = cellKey;
      this._updateCellsToRender();
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      this._nestedChildLists.forEachInCell(cellKey, function (childList) {
        childList.measureLayoutRelativeToContainingList();
      });
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });
          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());
          var metricsChanged = _this4._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this4._scrollMetrics.offset !== scrollMetrics.offset;
          if (metricsChanged) {
            _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this4._scrollMetrics.offset = scrollMetrics.offset;
            _this4._nestedChildLists.forEach(function (childList) {
              childList.measureLayoutRelativeToContainingList();
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this.__getFrameMetricsApprox(ii, this.props);
        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;
      var frameLast = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last, this.props);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(_reactNative.View, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(_reactNative.View, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(_reactNative.View, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEdgeReached",
    value: function _maybeCallOnEdgeReached() {
      var _this$props8 = this.props,
        data = _this$props8.data,
        getItemCount = _this$props8.getItemCount,
        onStartReached = _this$props8.onStartReached,
        onStartReachedThreshold = _this$props8.onStartReachedThreshold,
        onEndReached = _this$props8.onEndReached,
        onEndReachedThreshold = _this$props8.onEndReachedThreshold;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      var _this$_scrollMetrics2 = this._scrollMetrics,
        contentLength = _this$_scrollMetrics2.contentLength,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromStart = offset;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (distanceFromStart < ON_EDGE_REACHED_EPSILON) {
        distanceFromStart = 0;
      }
      if (distanceFromEnd < ON_EDGE_REACHED_EPSILON) {
        distanceFromEnd = 0;
      }
      var DEFAULT_THRESHOLD_PX = 2;
      var startThreshold = onStartReachedThreshold != null ? onStartReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var endThreshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : DEFAULT_THRESHOLD_PX;
      var isWithinStartThreshold = distanceFromStart <= startThreshold;
      var isWithinEndThreshold = distanceFromEnd <= endThreshold;
      if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && isWithinEndThreshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      } else if (onStartReached != null && this.state.cellsAroundViewport.first === 0 && isWithinStartThreshold && this._scrollMetrics.contentLength !== this._sentStartForContentLength) {
        this._sentStartForContentLength = this._scrollMetrics.contentLength;
        onStartReached({
          distanceFromStart: distanceFromStart
        });
      } else {
        this._sentStartForContentLength = isWithinStartThreshold ? this._sentStartForContentLength : 0;
        this._sentEndForContentLength = isWithinEndThreshold ? this._sentEndForContentLength : 0;
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state$cellsArou = this.state.cellsAroundViewport,
        first = _this$state$cellsArou.first,
        last = _this$state$cellsArou.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onStartReachedThreshold = onStartReachedThresholdOrDefault(this.props.onStartReachedThreshold);
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(this.props.onEndReachedThreshold);
      if (first > 0) {
        var distTop = offset - this.__getFrameMetricsApprox(first, this.props).offset;
        hiPri = distTop < 0 || velocity < -2 && distTop < getScrollingThreshold(onStartReachedThreshold, visibleLength);
      }
      if (!hiPri && last >= 0 && last < itemCount - 1) {
        var distBottom = this.__getFrameMetricsApprox(last, this.props).offset - (offset + visibleLength);
        hiPri = distBottom < 0 || velocity > 2 && distBottom < getScrollingThreshold(onEndReachedThreshold, visibleLength);
      }
      if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });
        this._updateCellsToRender();
        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(props, cellsAroundViewport) {
      var _this5 = this;
      if (this.state.pendingScrollUpdateCount > 0) {
        return;
      }
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(props, _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);
      });
    }
  }], [{
    key: "_findItemIndexWithKey",
    value: function _findItemIndexWithKey(props, key, hint) {
      var itemCount = props.getItemCount(props.data);
      if (hint != null && hint >= 0 && hint < itemCount) {
        var curKey = VirtualizedList._getItemKey(props, hint);
        if (curKey === key) {
          return hint;
        }
      }
      for (var ii = 0; ii < itemCount; ii++) {
        var _curKey = VirtualizedList._getItemKey(props, ii);
        if (_curKey === key) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "_getItemKey",
    value: function _getItemKey(props, index) {
      var item = props.getItem(props.data, index);
      return VirtualizedList._keyExtractor(item, index, props);
    }
  }, {
    key: "_createRenderMask",
    value: function _createRenderMask(props, cellsAroundViewport, additionalRegions) {
      var itemCount = props.getItemCount(props.data);
      (0, _invariant.default)(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, `Invalid cells around viewport "[${cellsAroundViewport.first}, ${cellsAroundViewport.last}]" was passed to VirtualizedList._createRenderMask`);
      var renderMask = new _CellRenderMask.CellRenderMask(itemCount);
      if (itemCount > 0) {
        var allRegions = [cellsAroundViewport].concat((0, _toConsumableArray2.default)(additionalRegions != null ? additionalRegions : []));
        for (var region of allRegions) {
          renderMask.addCells(region);
        }
        if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {
          var initialRegion = VirtualizedList._initialRenderRegion(props);
          renderMask.addCells(initialRegion);
        }
        var stickyIndicesSet = new Set(props.stickyHeaderIndices);
        VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);
      }
      return renderMask;
    }
  }, {
    key: "_initialRenderRegion",
    value: function _initialRenderRegion(props) {
      var _props$initialScrollI;
      var itemCount = props.getItemCount(props.data);
      var firstCellIndex = Math.max(0, Math.min(itemCount - 1, Math.floor((_props$initialScrollI = props.initialScrollIndex) != null ? _props$initialScrollI : 0)));
      var lastCellIndex = Math.min(itemCount, firstCellIndex + initialNumToRenderOrDefault(props.initialNumToRender)) - 1;
      return {
        first: firstCellIndex,
        last: lastCellIndex
      };
    }
  }, {
    key: "_ensureClosestStickyHeader",
    value: function _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {
      var stickyOffset = props.ListHeaderComponent ? 1 : 0;
      for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {
        if (stickyIndicesSet.has(itemIdx + stickyOffset)) {
          renderMask.addCells({
            first: itemIdx,
            last: itemIdx
          });
          break;
        }
      }
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var _newProps$maintainVis, _newProps$maintainVis2;
      var itemCount = newProps.getItemCount(newProps.data);
      if (itemCount === prevState.renderMask.numCells()) {
        return prevState;
      }
      var maintainVisibleContentPositionAdjustment = null;
      var prevFirstVisibleItemKey = prevState.firstVisibleItemKey;
      var minIndexForVisible = (_newProps$maintainVis = (_newProps$maintainVis2 = newProps.maintainVisibleContentPosition) == null ? void 0 : _newProps$maintainVis2.minIndexForVisible) != null ? _newProps$maintainVis : 0;
      var newFirstVisibleItemKey = newProps.getItemCount(newProps.data) > minIndexForVisible ? VirtualizedList._getItemKey(newProps, minIndexForVisible) : null;
      if (newProps.maintainVisibleContentPosition != null && prevFirstVisibleItemKey != null && newFirstVisibleItemKey != null) {
        if (newFirstVisibleItemKey !== prevFirstVisibleItemKey) {
          var hint = itemCount - prevState.renderMask.numCells() + minIndexForVisible;
          var firstVisibleItemIndex = VirtualizedList._findItemIndexWithKey(newProps, prevFirstVisibleItemKey, hint);
          maintainVisibleContentPositionAdjustment = firstVisibleItemIndex != null ? firstVisibleItemIndex - minIndexForVisible : null;
        } else {
          maintainVisibleContentPositionAdjustment = null;
        }
      }
      var constrainedCells = VirtualizedList._constrainToItemCount(maintainVisibleContentPositionAdjustment != null ? {
        first: prevState.cellsAroundViewport.first + maintainVisibleContentPositionAdjustment,
        last: prevState.cellsAroundViewport.last + maintainVisibleContentPositionAdjustment
      } : prevState.cellsAroundViewport, newProps);
      return {
        cellsAroundViewport: constrainedCells,
        renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells),
        firstVisibleItemKey: newFirstVisibleItemKey,
        pendingScrollUpdateCount: maintainVisibleContentPositionAdjustment != null ? prevState.pendingScrollUpdateCount + 1 : prevState.pendingScrollUpdateCount
      };
    }
  }, {
    key: "_constrainToItemCount",
    value: function _constrainToItemCount(cells, props) {
      var itemCount = props.getItemCount(props.data);
      var last = Math.min(itemCount - 1, cells.last);
      var maxToRenderPerBatch = maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch);
      return {
        first: (0, _clamp.default)(0, itemCount - 1 - maxToRenderPerBatch, cells.first),
        last: last
      };
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index, props) {
      if (props.keyExtractor != null) {
        return props.keyExtractor(item, index);
      }
      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);
      if (key === String(index)) {
        _usedIndexForKey = true;
        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }
      return key;
    }
  }]);
}(_StateSafePureComponent.default);
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
var styles = _reactNative.StyleSheet.create({
  verticallyInverted: _reactNative.Platform.OS === 'android' ? {
    transform: [{
      scale: -1
    }]
  } : {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
module.exports = VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3ROYXRpdmUiLCJyZXF1aXJlIiwiX0JhdGNoaW5hdG9yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jbGFtcCIsIl9pbmZvTG9nIiwiX0NlbGxSZW5kZXJNYXNrIiwiX0NoaWxkTGlzdENvbGxlY3Rpb24iLCJfRmlsbFJhdGVIZWxwZXIiLCJfU3RhdGVTYWZlUHVyZUNvbXBvbmVudCIsIl9WaWV3YWJpbGl0eUhlbHBlciIsIl9WaXJ0dWFsaXplZExpc3RDZWxsUmVuZGVyZXIiLCJfVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsIl9WaXJ0dWFsaXplVXRpbHMiLCJfaW52YXJpYW50IiwiX251bGx0aHJvd3MiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2pzeFJ1bnRpbWUiLCJlIiwidCIsIldlYWtNYXAiLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvIiwiaSIsImYiLCJfX3Byb3RvX18iLCJkZWZhdWx0IiwiaGFzIiwiZ2V0Iiwic2V0IiwiX3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm93bktleXMiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5MiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX2NhbGxTdXBlciIsIl9nZXRQcm90b3R5cGVPZjIiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImNvbnN0cnVjdG9yIiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJPTl9FREdFX1JFQUNIRURfRVBTSUxPTiIsIl91c2VkSW5kZXhGb3JLZXkiLCJfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lIiwiaG9yaXpvbnRhbE9yRGVmYXVsdCIsImhvcml6b250YWwiLCJpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQiLCJpbml0aWFsTnVtVG9SZW5kZXIiLCJtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0IiwibWF4VG9SZW5kZXJQZXJCYXRjaCIsIm9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0Iiwib25TdGFydFJlYWNoZWRUaHJlc2hvbGQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJnZXRTY3JvbGxpbmdUaHJlc2hvbGQiLCJ0aHJlc2hvbGQiLCJ2aXNpYmxlTGVuZ3RoIiwic2Nyb2xsRXZlbnRUaHJvdHRsZU9yRGVmYXVsdCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJ3aW5kb3dTaXplT3JEZWZhdWx0Iiwid2luZG93U2l6ZSIsImZpbmRMYXN0V2hlcmUiLCJhcnIiLCJwcmVkaWNhdGUiLCJWaXJ0dWFsaXplZExpc3QiLCJfU3RhdGVTYWZlUHVyZUNvbXBvbmUiLCJwcm9wcyIsIl90aGlzJHByb3BzJHVwZGF0ZUNlbCIsIl90aGlzJHByb3BzJG1haW50YWluViIsIl90aGlzJHByb3BzJG1haW50YWluVjIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjazIiLCJfZ2V0U2Nyb2xsTWV0cmljcyIsIl9zY3JvbGxNZXRyaWNzIiwiX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uIiwiY29udGV4dCIsImdldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfcmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY2hpbGRMaXN0IiwiX25lc3RlZENoaWxkTGlzdHMiLCJhZGQiLCJyZWYiLCJjZWxsS2V5IiwiX2hhc0ludGVyYWN0ZWQiLCJyZWNvcmRJbnRlcmFjdGlvbiIsIl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsInJlbW92ZSIsIl9vblVwZGF0ZVNlcGFyYXRvcnMiLCJuZXdQcm9wcyIsImtleSIsIl9jZWxsUmVmcyIsInVwZGF0ZVNlcGFyYXRvclByb3BzIiwiX2dldFNwYWNlcktleSIsImlzVmVydGljYWwiLCJfYXZlcmFnZUNlbGxMZW5ndGgiLCJfZnJhbWVzIiwiX2Zvb3Rlckxlbmd0aCIsIl9oYXNUcmlnZ2VyZWRJbml0aWFsU2Nyb2xsVG9JbmRleCIsIl9oYXNNb3JlIiwiX2hhc1dhcm5lZCIsIl9oZWFkZXJMZW5ndGgiLCJfaGlQcmlJblByb2dyZXNzIiwiX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgiLCJfaW5kaWNlc1RvS2V5cyIsIk1hcCIsIl9sYXN0Rm9jdXNlZENlbGxLZXkiLCJDaGlsZExpc3RDb2xsZWN0aW9uIiwiX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QiLCJfcHJldlBhcmVudE9mZnNldCIsImNvbnRlbnRMZW5ndGgiLCJkT2Zmc2V0IiwiZHQiLCJvZmZzZXQiLCJ0aW1lc3RhbXAiLCJ2ZWxvY2l0eSIsInpvb21TY2FsZSIsIl9zY3JvbGxSZWYiLCJfc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCIsIl9zZW50RW5kRm9yQ29udGVudExlbmd0aCIsIl90b3RhbENlbGxMZW5ndGgiLCJfdG90YWxDZWxsc01lYXN1cmVkIiwiX3ZpZXdhYmlsaXR5VHVwbGVzIiwiX2NhcHR1cmVTY3JvbGxSZWYiLCJfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCIsIm9uUmVmcmVzaCIsImpzeCIsIlZpZXciLCJfcHJvcHMkcmVmcmVzaGluZyIsImludmFyaWFudCIsInJlZnJlc2hpbmciLCJKU09OIiwic3RyaW5naWZ5IiwiU2Nyb2xsVmlldyIsInJlZnJlc2hDb250cm9sIiwiUmVmcmVzaENvbnRyb2wiLCJwcm9ncmVzc1ZpZXdPZmZzZXQiLCJfb25DZWxsTGF5b3V0IiwiaW5kZXgiLCJsYXlvdXQiLCJuYXRpdmVFdmVudCIsIm5leHQiLCJfc2VsZWN0T2Zmc2V0IiwiX3NlbGVjdExlbmd0aCIsImluTGF5b3V0IiwiY3VyciIsIk1hdGgiLCJtYXgiLCJfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlIiwiX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsIiwiX2NvbXB1dGVCbGFua25lc3MiLCJfdXBkYXRlVmlld2FibGVJdGVtcyIsInN0YXRlIiwiY2VsbHNBcm91bmRWaWV3cG9ydCIsIl9vbkNlbGxVbm1vdW50IiwiX29uTGF5b3V0IiwibWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIm9uTGF5b3V0IiwiX21heWJlQ2FsbE9uRWRnZVJlYWNoZWQiLCJfb25MYXlvdXRFbXB0eSIsIl9vbkxheW91dEZvb3RlciIsIl9nZXRGb290ZXJDZWxsS2V5IiwiX29uTGF5b3V0SGVhZGVyIiwiX29uQ29udGVudFNpemVDaGFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsImluaXRpYWxTY3JvbGxJbmRleCIsImNvbnRlbnRPZmZzZXQiLCJnZXRJdGVtQ291bnQiLCJkYXRhIiwic2Nyb2xsVG9JbmRleCIsImFuaW1hdGVkIiwibnVsbHRocm93cyIsInNjcm9sbFRvRW5kIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyIsIm1ldHJpY3MiLCJfb25TY3JvbGwiLCJvblNjcm9sbCIsInRpbWVTdGFtcCIsImxheW91dE1lYXN1cmVtZW50IiwiY29udGVudFNpemUiLCJfdGhpcyRfY29udmVydFBhcmVudFMiLCJwZXJmIiwiaW5mb0xvZyIsInByZXZEdCIsInBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCIsInNldFN0YXRlIiwiX2ZpbGxSYXRlSGVscGVyIiwiYWN0aXZhdGUiLCJfb25TY3JvbGxCZWdpbkRyYWciLCJ0dXBsZSIsInZpZXdhYmlsaXR5SGVscGVyIiwib25TY3JvbGxCZWdpbkRyYWciLCJfb25TY3JvbGxFbmREcmFnIiwib25TY3JvbGxFbmREcmFnIiwiX29uTW9tZW50dW1TY3JvbGxCZWdpbiIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsIl9vbk1vbWVudHVtU2Nyb2xsRW5kIiwib25Nb21lbnR1bVNjcm9sbEVuZCIsIl91cGRhdGVDZWxsc1RvUmVuZGVyIiwiX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQiLCJyZW5kZXJNYXNrIiwiX2NyZWF0ZVJlbmRlck1hc2siLCJfZ2V0Tm9uVmlld3BvcnRSZW5kZXJSZWdpb25zIiwiZmlyc3QiLCJsYXN0IiwiZXF1YWxzIiwiX2NyZWF0ZVZpZXdUb2tlbiIsImlzVmlld2FibGUiLCJnZXRJdGVtIiwiaXRlbSIsIl9rZXlFeHRyYWN0b3IiLCJfZ2V0T2Zmc2V0QXBwcm94IiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiX19nZXRGcmFtZU1ldHJpY3NBcHByb3giLCJmcmFtZU1ldHJpY3MiLCJmbG9vciIsInJlbWFpbmRlciIsImZyYW1lIiwiX2dldEZyYW1lTWV0cmljcyIsImdldEl0ZW1MYXlvdXQiLCJfZ2V0SXRlbUtleSIsImxhc3RGb2N1c2VkQ2VsbFJlbmRlcmVyIiwiZm9jdXNlZENlbGxJbmRleCIsIml0ZW1Db3VudCIsImhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkIiwiaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCIsIl9jaGVja1Byb3BzIiwiRmlsbFJhdGVIZWxwZXIiLCJfdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIiLCJCYXRjaGluYXRvciIsInVwZGF0ZUNlbGxzQmF0Y2hpbmdQZXJpb2QiLCJ2aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMiLCJtYXAiLCJwYWlyIiwiVmlld2FiaWxpdHlIZWxwZXIiLCJ2aWV3YWJpbGl0eUNvbmZpZyIsIm9uVmlld2FibGVJdGVtc0NoYW5nZWQiLCJfdGhpcyRwcm9wcyIsImluaXRpYWxSZW5kZXJSZWdpb24iLCJfaW5pdGlhbFJlbmRlclJlZ2lvbiIsIm1pbkluZGV4Rm9yVmlzaWJsZSIsIm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiIsImZpcnN0VmlzaWJsZUl0ZW1LZXkiLCJfaW5oZXJpdHMyIiwiX2NyZWF0ZUNsYXNzMiIsInZhbHVlIiwicGFyYW1zIiwidmVyeUxhc3QiLCJzY3JvbGxUbyIsImNvbnNvbGUiLCJ3YXJuIiwieCIsInkiLCJfdGhpcyRwcm9wczIiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJ2aWV3T2Zmc2V0Iiwidmlld1Bvc2l0aW9uIiwiYXZlcmFnZUl0ZW1MZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4Iiwic2Nyb2xsVG9JdGVtIiwiX3RoaXMkcHJvcHMzIiwic2Nyb2xsVG9PZmZzZXQiLCJmbGFzaFNjcm9sbEluZGljYXRvcnMiLCJnZXRTY3JvbGxSZXNwb25kZXIiLCJnZXRTY3JvbGxhYmxlTm9kZSIsImZpbmROb2RlSGFuZGxlIiwiZ2V0U2Nyb2xsUmVmIiwic2V0TmF0aXZlUHJvcHMiLCJfZ2V0Q2VsbEtleSIsIl90aGlzJGNvbnRleHQiLCJoYXNNb3JlIiwiX19pc05hdGl2ZSIsIl9fREVWX18iLCJmbGV4V3JhcCIsImZsYXRTdHlsZXMiLCJTdHlsZVNoZWV0IiwiZmxhdHRlbiIsImNvbnRlbnRDb250YWluZXJTdHlsZSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzIiwiZGlzdGFuY2VGcm9tRW5kIiwiX2NvbnN0cmFpblRvSXRlbUNvdW50IiwibmV3Q2VsbHNBcm91bmRWaWV3cG9ydCIsImRpc2FibGVWaXJ0dWFsaXphdGlvbiIsInJlbmRlckFoZWFkIiwibWluIiwiY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzIiwic2l6ZSIsImNoaWxkSWR4IiwiX2ZpbmRGaXJzdENoaWxkV2l0aE1vcmUiLCJpaSIsImNlbGxLZXlGb3JJbmRleCIsImFueUluQ2VsbCIsImNvbXBvbmVudERpZE1vdW50IiwicmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImRpc3Bvc2UiLCJhYm9ydCIsImRlYWN0aXZhdGVBbmRGbHVzaCIsIl9wdXNoQ2VsbHMiLCJjZWxscyIsInN0aWNreUhlYWRlckluZGljZXMiLCJzdGlja3lJbmRpY2VzRnJvbVByb3BzIiwiaW52ZXJzaW9uU3R5bGUiLCJfdGhpczIiLCJfdGhpcyRwcm9wczQiLCJDZWxsUmVuZGVyZXJDb21wb25lbnQiLCJJdGVtU2VwYXJhdG9yQ29tcG9uZW50IiwiTGlzdEhlYWRlckNvbXBvbmVudCIsIkxpc3RJdGVtQ29tcG9uZW50IiwiZGVidWciLCJyZW5kZXJJdGVtIiwic3RpY2t5T2Zmc2V0IiwiZW5kIiwicHJldkNlbGxLZXkiLCJfbG9vcCIsInNob3VsZExpc3RlbkZvckxheW91dCIsImVuYWJsZWQiLCJ1bmRlZmluZWQiLCJvblVwZGF0ZVNlcGFyYXRvcnMiLCJvbkNlbGxGb2N1c0NhcHR1cmUiLCJfb25DZWxsRm9jdXNDYXB0dXJlIiwib25Vbm1vdW50Iiwib25DZWxsTGF5b3V0IiwibmVzdGVkQ29udGV4dCIsInJlbmRlciIsIl90aGlzMyIsIl90aGlzJHByb3BzNSIsIkxpc3RFbXB0eUNvbXBvbmVudCIsIkxpc3RGb290ZXJDb21wb25lbnQiLCJfdGhpcyRwcm9wczYiLCJpbnZlcnRlZCIsInN0eWxlcyIsImhvcml6b250YWxseUludmVydGVkIiwidmVydGljYWxseUludmVydGVkIiwiU2V0IiwiZWxlbWVudCIsImlzVmFsaWRFbGVtZW50IiwiVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlciIsImNoaWxkcmVuIiwiY29sbGFwc2FibGUiLCJzdHlsZSIsImNvbXBvc2UiLCJMaXN0SGVhZGVyQ29tcG9uZW50U3R5bGUiLCJjbG9uZUVsZW1lbnQiLCJldmVudCIsInNwYWNlcktleSIsInJlbmRlclJlZ2lvbnMiLCJlbnVtZXJhdGVSZWdpb25zIiwibGFzdFNwYWNlciIsImlzU3BhY2VyIiwic2VjdGlvbiIsImlzTGFzdFNwYWNlciIsImNvbnN0cmFpblRvTWVhc3VyZWQiLCJjbGFtcCIsImZpcnN0TWV0cmljcyIsImxhc3RNZXRyaWNzIiwic3BhY2VyU2l6ZSIsIkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSIsInNjcm9sbFByb3BzIiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsImlzSW52ZXJ0ZWRWaXJ0dWFsaXplZExpc3QiLCJpbm5lclJldCIsIlZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlciIsImdldFNjcm9sbE1ldHJpY3MiLCJyZW5kZXJTY3JvbGxDb21wb25lbnQiLCJyZXQiLCJDb250ZXh0IiwiQ29uc3VtZXIiLCJzY3JvbGxDb250ZXh0IiwibmVzdGluZyIsInNjcm9sbEVuYWJsZWQiLCJlcnJvciIsImpzeHMiLCJfcmVuZGVyRGVidWdPdmVybGF5IiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwiX3RoaXMkcHJvcHM3IiwiZXh0cmFEYXRhIiwicmVzZXRWaWV3YWJsZUluZGljZXMiLCJoaVByaUluUHJvZ3Jlc3MiLCJjb21wdXRlQmxhbmtuZXNzIiwiZm9yRWFjaEluQ2VsbCIsIl90aGlzNCIsIm1lYXN1cmVMYXlvdXQiLCJzY3JvbGxNZXRyaWNzIiwibWV0cmljc0NoYW5nZWQiLCJzdGFjayIsIm5vcm1hbGl6ZSIsImZyYW1lc0luTGF5b3V0Iiwid2luZG93VG9wIiwiZnJhbWVMYXN0Iiwid2luZG93TGVuIiwidmlzVG9wIiwidmlzTGVuIiwiZGVidWdPdmVybGF5QmFzZSIsImRlYnVnT3ZlcmxheSIsImRlYnVnT3ZlcmxheUZyYW1lIiwidG9wIiwiZGVidWdPdmVybGF5RnJhbWVMYXN0IiwiZGVidWdPdmVybGF5RnJhbWVWaXMiLCJfdGhpcyRwcm9wczgiLCJvblN0YXJ0UmVhY2hlZCIsIm9uRW5kUmVhY2hlZCIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMiIsImRpc3RhbmNlRnJvbVN0YXJ0IiwiREVGQVVMVF9USFJFU0hPTERfUFgiLCJzdGFydFRocmVzaG9sZCIsImVuZFRocmVzaG9sZCIsImlzV2l0aGluU3RhcnRUaHJlc2hvbGQiLCJpc1dpdGhpbkVuZFRocmVzaG9sZCIsIl90aGlzJHN0YXRlJGNlbGxzQXJvdSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMyIsImhpUHJpIiwiZGlzdFRvcCIsImRpc3RCb3R0b20iLCJzY2hlZHVsZSIsIl90aGlzNSIsIm9uVXBkYXRlIiwiX2ZpbmRJdGVtSW5kZXhXaXRoS2V5IiwiaGludCIsImN1cktleSIsImFkZGl0aW9uYWxSZWdpb25zIiwiQ2VsbFJlbmRlck1hc2siLCJhbGxSZWdpb25zIiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsInJlZ2lvbiIsImFkZENlbGxzIiwiaW5pdGlhbFJlZ2lvbiIsInN0aWNreUluZGljZXNTZXQiLCJfZW5zdXJlQ2xvc2VzdFN0aWNreUhlYWRlciIsIl9wcm9wcyRpbml0aWFsU2Nyb2xsSSIsImZpcnN0Q2VsbEluZGV4IiwibGFzdENlbGxJbmRleCIsImNlbGxJZHgiLCJpdGVtSWR4IiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwicHJldlN0YXRlIiwiX25ld1Byb3BzJG1haW50YWluVmlzIiwiX25ld1Byb3BzJG1haW50YWluVmlzMiIsIm51bUNlbGxzIiwibWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCIsInByZXZGaXJzdFZpc2libGVJdGVtS2V5IiwibmV3Rmlyc3RWaXNpYmxlSXRlbUtleSIsImZpcnN0VmlzaWJsZUl0ZW1JbmRleCIsImNvbnN0cmFpbmVkQ2VsbHMiLCJrZXlFeHRyYWN0b3IiLCJkZWZhdWx0S2V5RXh0cmFjdG9yIiwiU3RyaW5nIiwidHlwZSIsImRpc3BsYXlOYW1lIiwiU3RhdGVTYWZlUHVyZUNvbXBvbmVudCIsImNvbnRleHRUeXBlIiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsImNyZWF0ZSIsIlBsYXRmb3JtIiwiT1MiLCJ0cmFuc2Zvcm0iLCJzY2FsZSIsInNjYWxlWSIsInNjYWxlWCIsImZsZXgiLCJwb3NpdGlvbiIsInJpZ2h0IiwiYm90dG9tIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImxlZnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiVmlydHVhbGl6ZWRMaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtTY3JvbGxSZXNwb25kZXJUeXBlfSBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL0NvbXBvbmVudHMvU2Nyb2xsVmlldy9TY3JvbGxWaWV3JztcbmltcG9ydCB0eXBlIHtWaWV3U3R5bGVQcm9wfSBmcm9tICdyZWFjdC1uYXRpdmUvTGlicmFyaWVzL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7XG4gIExheW91dEV2ZW50LFxuICBTY3JvbGxFdmVudCxcbn0gZnJvbSAncmVhY3QtbmF0aXZlL0xpYnJhcmllcy9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7Vmlld1Rva2VufSBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCB0eXBlIHtcbiAgRnJhbWVNZXRyaWNQcm9wcyxcbiAgSXRlbSxcbiAgUHJvcHMsXG4gIFJlbmRlckl0ZW1Qcm9wcyxcbiAgUmVuZGVySXRlbVR5cGUsXG4gIFNlcGFyYXRvcnMsXG59IGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0UHJvcHMnO1xuXG5pbXBvcnQge1xuICBQbGF0Zm9ybSxcbiAgUmVmcmVzaENvbnRyb2wsXG4gIFNjcm9sbFZpZXcsXG4gIFZpZXcsXG4gIFN0eWxlU2hlZXQsXG4gIGZpbmROb2RlSGFuZGxlLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IEJhdGNoaW5hdG9yIGZyb20gJy4uL0ludGVyYWN0aW9uL0JhdGNoaW5hdG9yJztcbmltcG9ydCBjbGFtcCBmcm9tICcuLi9VdGlsaXRpZXMvY2xhbXAnO1xuaW1wb3J0IGluZm9Mb2cgZnJvbSAnLi4vVXRpbGl0aWVzL2luZm9Mb2cnO1xuaW1wb3J0IHtDZWxsUmVuZGVyTWFza30gZnJvbSAnLi9DZWxsUmVuZGVyTWFzayc7XG5pbXBvcnQgQ2hpbGRMaXN0Q29sbGVjdGlvbiBmcm9tICcuL0NoaWxkTGlzdENvbGxlY3Rpb24nO1xuaW1wb3J0IEZpbGxSYXRlSGVscGVyIGZyb20gJy4vRmlsbFJhdGVIZWxwZXInO1xuaW1wb3J0IFN0YXRlU2FmZVB1cmVDb21wb25lbnQgZnJvbSAnLi9TdGF0ZVNhZmVQdXJlQ29tcG9uZW50JztcbmltcG9ydCBWaWV3YWJpbGl0eUhlbHBlciBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCBDZWxsUmVuZGVyZXIgZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RDZWxsUmVuZGVyZXInO1xuaW1wb3J0IHtcbiAgVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcixcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCxcbiAgVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyLFxufSBmcm9tICcuL1ZpcnR1YWxpemVkTGlzdENvbnRleHQuanMnO1xuaW1wb3J0IHtcbiAgY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzLFxuICBrZXlFeHRyYWN0b3IgYXMgZGVmYXVsdEtleUV4dHJhY3Rvcixcbn0gZnJvbSAnLi9WaXJ0dWFsaXplVXRpbHMnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdpbnZhcmlhbnQnO1xuaW1wb3J0IG51bGx0aHJvd3MgZnJvbSAnbnVsbHRocm93cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCB0eXBlIHtSZW5kZXJJdGVtUHJvcHMsIFJlbmRlckl0ZW1UeXBlLCBTZXBhcmF0b3JzfTtcblxuY29uc3QgT05fRURHRV9SRUFDSEVEX0VQU0lMT04gPSAwLjAwMTtcblxubGV0IF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbmxldCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lOiBzdHJpbmcgPSAnJztcblxudHlwZSBWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGUgPSB7XG4gIHZpZXdhYmlsaXR5SGVscGVyOiBWaWV3YWJpbGl0eUhlbHBlcixcbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogKGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgLi4uXG4gIH0pID0+IHZvaWQsXG4gIC4uLlxufTtcblxudHlwZSBTdGF0ZSA9IHtcbiAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAvLyBVc2VkIHRvIHRyYWNrIGl0ZW1zIGFkZGVkIGF0IHRoZSBzdGFydCBvZiB0aGUgbGlzdCBmb3IgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLlxuICBmaXJzdFZpc2libGVJdGVtS2V5OiA/c3RyaW5nLFxuICAvLyBXaGVuID4gMCB0aGUgc2Nyb2xsIHBvc2l0aW9uIGF2YWlsYWJsZSBpbiBKUyBpcyBjb25zaWRlcmVkIHN0YWxlIGFuZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogbnVtYmVyLFxufTtcblxuLyoqXG4gKiBEZWZhdWx0IFByb3BzIEhlbHBlciBGdW5jdGlvbnNcbiAqIFVzZSB0aGUgZm9sbG93aW5nIGhlbHBlciBmdW5jdGlvbnMgZm9yIGRlZmF1bHQgdmFsdWVzXG4gKi9cblxuLy8gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG5mdW5jdGlvbiBob3Jpem9udGFsT3JEZWZhdWx0KGhvcml6b250YWw6ID9ib29sZWFuKSB7XG4gIHJldHVybiBob3Jpem9udGFsID8/IGZhbHNlO1xufVxuXG4vLyBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQodGhpcy5wcm9wcy5pbml0aWFsTnVtVG9SZW5kZXIpXG5mdW5jdGlvbiBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQoaW5pdGlhbE51bVRvUmVuZGVyOiA/bnVtYmVyKSB7XG4gIHJldHVybiBpbml0aWFsTnVtVG9SZW5kZXIgPz8gMTA7XG59XG5cbi8vIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQodGhpcy5wcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoKVxuZnVuY3Rpb24gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdChtYXhUb1JlbmRlclBlckJhdGNoOiA/bnVtYmVyKSB7XG4gIHJldHVybiBtYXhUb1JlbmRlclBlckJhdGNoID8/IDEwO1xufVxuXG4vLyBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdCh0aGlzLnByb3BzLm9uU3RhcnRSZWFjaGVkVGhyZXNob2xkKVxuZnVuY3Rpb24gb25TdGFydFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQob25TdGFydFJlYWNoZWRUaHJlc2hvbGQ6ID9udW1iZXIpIHtcbiAgcmV0dXJuIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkID8/IDI7XG59XG5cbi8vIG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdCh0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZClcbmZ1bmN0aW9uIG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6ID9udW1iZXIpIHtcbiAgcmV0dXJuIG9uRW5kUmVhY2hlZFRocmVzaG9sZCA/PyAyO1xufVxuXG4vLyBnZXRTY3JvbGxpbmdUaHJlc2hvbGQodmlzaWJsZUxlbmd0aCwgb25FbmRSZWFjaGVkVGhyZXNob2xkKVxuZnVuY3Rpb24gZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKHRocmVzaG9sZDogbnVtYmVyLCB2aXNpYmxlTGVuZ3RoOiBudW1iZXIpIHtcbiAgcmV0dXJuICh0aHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoKSAvIDI7XG59XG5cbi8vIHNjcm9sbEV2ZW50VGhyb3R0bGVPckRlZmF1bHQodGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlKVxuZnVuY3Rpb24gc2Nyb2xsRXZlbnRUaHJvdHRsZU9yRGVmYXVsdChzY3JvbGxFdmVudFRocm90dGxlOiA/bnVtYmVyKSB7XG4gIHJldHVybiBzY3JvbGxFdmVudFRocm90dGxlID8/IDUwO1xufVxuXG4vLyB3aW5kb3dTaXplT3JEZWZhdWx0KHRoaXMucHJvcHMud2luZG93U2l6ZSlcbmZ1bmN0aW9uIHdpbmRvd1NpemVPckRlZmF1bHQod2luZG93U2l6ZTogP251bWJlcikge1xuICByZXR1cm4gd2luZG93U2l6ZSA/PyAyMTtcbn1cblxuZnVuY3Rpb24gZmluZExhc3RXaGVyZTxUPihcbiAgYXJyOiAkUmVhZE9ubHlBcnJheTxUPixcbiAgcHJlZGljYXRlOiAoZWxlbWVudDogVCkgPT4gYm9vbGVhbixcbik6IFQgfCBudWxsIHtcbiAgZm9yIChsZXQgaSA9IGFyci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyW2ldKSkge1xuICAgICAgcmV0dXJuIGFycltpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBCYXNlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgbW9yZSBjb252ZW5pZW50IFtgPEZsYXRMaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvZmxhdGxpc3QpXG4gKiBhbmQgW2A8U2VjdGlvbkxpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9zZWN0aW9ubGlzdCkgY29tcG9uZW50cywgd2hpY2ggYXJlIGFsc28gYmV0dGVyXG4gKiBkb2N1bWVudGVkLiBJbiBnZW5lcmFsLCB0aGlzIHNob3VsZCBvbmx5IHJlYWxseSBiZSB1c2VkIGlmIHlvdSBuZWVkIG1vcmUgZmxleGliaWxpdHkgdGhhblxuICogYEZsYXRMaXN0YCBwcm92aWRlcywgZS5nLiBmb3IgdXNlIHdpdGggaW1tdXRhYmxlIGRhdGEgaW5zdGVhZCBvZiBwbGFpbiBhcnJheXMuXG4gKlxuICogVmlydHVhbGl6YXRpb24gbWFzc2l2ZWx5IGltcHJvdmVzIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgcGVyZm9ybWFuY2Ugb2YgbGFyZ2UgbGlzdHMgYnlcbiAqIG1haW50YWluaW5nIGEgZmluaXRlIHJlbmRlciB3aW5kb3cgb2YgYWN0aXZlIGl0ZW1zIGFuZCByZXBsYWNpbmcgYWxsIGl0ZW1zIG91dHNpZGUgb2YgdGhlIHJlbmRlclxuICogd2luZG93IHdpdGggYXBwcm9wcmlhdGVseSBzaXplZCBibGFuayBzcGFjZS4gVGhlIHdpbmRvdyBhZGFwdHMgdG8gc2Nyb2xsaW5nIGJlaGF2aW9yLCBhbmQgaXRlbXNcbiAqIGFyZSByZW5kZXJlZCBpbmNyZW1lbnRhbGx5IHdpdGggbG93LXByaSAoYWZ0ZXIgYW55IHJ1bm5pbmcgaW50ZXJhY3Rpb25zKSBpZiB0aGV5IGFyZSBmYXIgZnJvbSB0aGVcbiAqIHZpc2libGUgYXJlYSwgb3Igd2l0aCBoaS1wcmkgb3RoZXJ3aXNlIHRvIG1pbmltaXplIHRoZSBwb3RlbnRpYWwgb2Ygc2VlaW5nIGJsYW5rIHNwYWNlLlxuICpcbiAqIFNvbWUgY2F2ZWF0czpcbiAqXG4gKiAtIEludGVybmFsIHN0YXRlIGlzIG5vdCBwcmVzZXJ2ZWQgd2hlbiBjb250ZW50IHNjcm9sbHMgb3V0IG9mIHRoZSByZW5kZXIgd2luZG93LiBNYWtlIHN1cmUgYWxsXG4gKiAgIHlvdXIgZGF0YSBpcyBjYXB0dXJlZCBpbiB0aGUgaXRlbSBkYXRhIG9yIGV4dGVybmFsIHN0b3JlcyBsaWtlIEZsdXgsIFJlZHV4LCBvciBSZWxheS5cbiAqIC0gVGhpcyBpcyBhIGBQdXJlQ29tcG9uZW50YCB3aGljaCBtZWFucyB0aGF0IGl0IHdpbGwgbm90IHJlLXJlbmRlciBpZiBgcHJvcHNgIHJlbWFpbiBzaGFsbG93LVxuICogICBlcXVhbC4gTWFrZSBzdXJlIHRoYXQgZXZlcnl0aGluZyB5b3VyIGByZW5kZXJJdGVtYCBmdW5jdGlvbiBkZXBlbmRzIG9uIGlzIHBhc3NlZCBhcyBhIHByb3BcbiAqICAgKGUuZy4gYGV4dHJhRGF0YWApIHRoYXQgaXMgbm90IGA9PT1gIGFmdGVyIHVwZGF0ZXMsIG90aGVyd2lzZSB5b3VyIFVJIG1heSBub3QgdXBkYXRlIG9uXG4gKiAgIGNoYW5nZXMuIFRoaXMgaW5jbHVkZXMgdGhlIGBkYXRhYCBwcm9wIGFuZCBwYXJlbnQgY29tcG9uZW50IHN0YXRlLlxuICogLSBJbiBvcmRlciB0byBjb25zdHJhaW4gbWVtb3J5IGFuZCBlbmFibGUgc21vb3RoIHNjcm9sbGluZywgY29udGVudCBpcyByZW5kZXJlZCBhc3luY2hyb25vdXNseVxuICogICBvZmZzY3JlZW4uIFRoaXMgbWVhbnMgaXQncyBwb3NzaWJsZSB0byBzY3JvbGwgZmFzdGVyIHRoYW4gdGhlIGZpbGwgcmF0ZSBhbmRzIG1vbWVudGFyaWx5IHNlZVxuICogICBibGFuayBjb250ZW50LiBUaGlzIGlzIGEgdHJhZGVvZmYgdGhhdCBjYW4gYmUgYWRqdXN0ZWQgdG8gc3VpdCB0aGUgbmVlZHMgb2YgZWFjaCBhcHBsaWNhdGlvbixcbiAqICAgYW5kIHdlIGFyZSB3b3JraW5nIG9uIGltcHJvdmluZyBpdCBiZWhpbmQgdGhlIHNjZW5lcy5cbiAqIC0gQnkgZGVmYXVsdCwgdGhlIGxpc3QgbG9va3MgZm9yIGEgYGtleWAgb3IgYGlkYCBwcm9wIG9uIGVhY2ggaXRlbSBhbmQgdXNlcyB0aGF0IGZvciB0aGUgUmVhY3Qga2V5LlxuICogICBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHByb3ZpZGUgYSBjdXN0b20gYGtleUV4dHJhY3RvcmAgcHJvcC5cbiAqIC0gQXMgYW4gZWZmb3J0IHRvIHJlbW92ZSBkZWZhdWx0UHJvcHMsIHVzZSBoZWxwZXIgZnVuY3Rpb25zIHdoZW4gcmVmZXJlbmNpbmcgY2VydGFpbiBwcm9wc1xuICpcbiAqL1xuY2xhc3MgVmlydHVhbGl6ZWRMaXN0IGV4dGVuZHMgU3RhdGVTYWZlUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgc3RhdGljIGNvbnRleHRUeXBlOiB0eXBlb2YgVmlydHVhbGl6ZWRMaXN0Q29udGV4dCA9IFZpcnR1YWxpemVkTGlzdENvbnRleHQ7XG5cbiAgLy8gc2Nyb2xsVG9FbmQgbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvRW5kKHBhcmFtcz86ID97YW5pbWF0ZWQ/OiA/Ym9vbGVhbiwgLi4ufSkge1xuICAgIGNvbnN0IGFuaW1hdGVkID0gcGFyYW1zID8gcGFyYW1zLmFuaW1hdGVkIDogdHJ1ZTtcbiAgICBjb25zdCB2ZXJ5TGFzdCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgLSAxO1xuICAgIGlmICh2ZXJ5TGFzdCA8IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHZlcnlMYXN0LCB0aGlzLnByb3BzKTtcbiAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBmcmFtZS5vZmZzZXQgK1xuICAgICAgICBmcmFtZS5sZW5ndGggK1xuICAgICAgICB0aGlzLl9mb290ZXJMZW5ndGggLVxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgKTtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICAgID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9XG4gICAgICAgIDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0luZGV4KHBhcmFtczoge1xuICAgIGFuaW1hdGVkPzogP2Jvb2xlYW4sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICB2aWV3T2Zmc2V0PzogbnVtYmVyLFxuICAgIHZpZXdQb3NpdGlvbj86IG51bWJlcixcbiAgICAuLi5cbiAgfSk6ICRGbG93Rml4TWUge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgZ2V0SXRlbUNvdW50LFxuICAgICAgZ2V0SXRlbUxheW91dCxcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7YW5pbWF0ZWQsIGluZGV4LCB2aWV3T2Zmc2V0LCB2aWV3UG9zaXRpb259ID0gcGFyYW1zO1xuICAgIGludmFyaWFudChcbiAgICAgIGluZGV4ID49IDAsXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBidXQgbWluaW11bSBpcyAwYCxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudChkYXRhKSA+PSAxLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiBpdGVtIGxlbmd0aCAke2dldEl0ZW1Db3VudChcbiAgICAgICAgZGF0YSxcbiAgICAgICl9IGJ1dCBtaW5pbXVtIGlzIDFgLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IHJlcXVlc3RlZCBpbmRleCAke2luZGV4fSBpcyBvdXQgb2YgMCB0byAke1xuICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSkgLSAxXG4gICAgICB9YCxcbiAgICApO1xuICAgIGlmICghZ2V0SXRlbUxheW91dCAmJiBpbmRleCA+IHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgISFvblNjcm9sbFRvSW5kZXhGYWlsZWQsXG4gICAgICAgICdzY3JvbGxUb0luZGV4IHNob3VsZCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggZ2V0SXRlbUxheW91dCBvciBvblNjcm9sbFRvSW5kZXhGYWlsZWQsICcgK1xuICAgICAgICAgICdvdGhlcndpc2UgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgdGhlIGxvY2F0aW9uIG9mIG9mZnNjcmVlbiBpbmRpY2VzIG9yIGhhbmRsZSBmYWlsdXJlcy4nLFxuICAgICAgKTtcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCh7XG4gICAgICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KE1hdGguZmxvb3IoaW5kZXgpLCB0aGlzLnByb3BzKTtcbiAgICBjb25zdCBvZmZzZXQgPVxuICAgICAgTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuX2dldE9mZnNldEFwcHJveChpbmRleCwgdGhpcy5wcm9wcykgLVxuICAgICAgICAgICh2aWV3UG9zaXRpb24gfHwgMCkgKlxuICAgICAgICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCAtIGZyYW1lLmxlbmd0aCksXG4gICAgICApIC0gKHZpZXdPZmZzZXQgfHwgMCk7XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvID09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ05vIHNjcm9sbFRvIG1ldGhvZCBwcm92aWRlZC4gVGhpcyBtYXkgYmUgYmVjYXVzZSB5b3UgaGF2ZSB0d28gbmVzdGVkICcgK1xuICAgICAgICAgICdWaXJ0dWFsaXplZExpc3RzIHdpdGggdGhlIHNhbWUgb3JpZW50YXRpb24sIG9yIGJlY2F1c2UgeW91IGFyZSAnICtcbiAgICAgICAgICAndXNpbmcgYSBjdXN0b20gY29tcG9uZW50IHRoYXQgZG9lcyBub3QgaW1wbGVtZW50IHNjcm9sbFRvLicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhcbiAgICAgIGhvcml6b250YWwgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH0gOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIC8vIHNjcm9sbFRvSXRlbSBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3AuIFJlcXVpcmVkIGxpbmVhciBzY2FuIHRocm91Z2ggaXRlbXMgLVxuICAvLyB1c2Ugc2Nyb2xsVG9JbmRleCBpbnN0ZWFkIGlmIHBvc3NpYmxlLlxuICBzY3JvbGxUb0l0ZW0ocGFyYW1zOiB7XG4gICAgYW5pbWF0ZWQ/OiA/Ym9vbGVhbixcbiAgICBpdGVtOiBJdGVtLFxuICAgIHZpZXdPZmZzZXQ/OiBudW1iZXIsXG4gICAgdmlld1Bvc2l0aW9uPzogbnVtYmVyLFxuICAgIC4uLlxuICB9KSB7XG4gICAgY29uc3Qge2l0ZW19ID0gcGFyYW1zO1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtLCBnZXRJdGVtQ291bnR9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpdGVtQ291bnQgPSBnZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1Db3VudDsgaW5kZXgrKykge1xuICAgICAgaWYgKGdldEl0ZW0oZGF0YSwgaW5kZXgpID09PSBpdGVtKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7Li4ucGFyYW1zLCBpbmRleH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRvIGEgc3BlY2lmaWMgY29udGVudCBwaXhlbCBvZmZzZXQgaW4gdGhlIGxpc3QuXG4gICAqXG4gICAqIFBhcmFtIGBvZmZzZXRgIGV4cGVjdHMgdGhlIG9mZnNldCB0byBzY3JvbGwgdG8uXG4gICAqIEluIGNhc2Ugb2YgYGhvcml6b250YWxgIGlzIHRydWUsIHRoZSBvZmZzZXQgaXMgdGhlIHgtdmFsdWUsXG4gICAqIGluIGFueSBvdGhlciBjYXNlIHRoZSBvZmZzZXQgaXMgdGhlIHktdmFsdWUuXG4gICAqXG4gICAqIFBhcmFtIGBhbmltYXRlZGAgKGB0cnVlYCBieSBkZWZhdWx0KSBkZWZpbmVzIHdoZXRoZXIgdGhlIGxpc3RcbiAgICogc2hvdWxkIGRvIGFuIGFuaW1hdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAqL1xuICBzY3JvbGxUb09mZnNldChwYXJhbXM6IHthbmltYXRlZD86ID9ib29sZWFuLCBvZmZzZXQ6IG51bWJlciwgLi4ufSkge1xuICAgIGNvbnN0IHthbmltYXRlZCwgb2Zmc2V0fSA9IHBhcmFtcztcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICAgID8ge3g6IG9mZnNldCwgYW5pbWF0ZWR9XG4gICAgICAgIDoge3k6IG9mZnNldCwgYW5pbWF0ZWR9LFxuICAgICk7XG4gIH1cblxuICByZWNvcmRJbnRlcmFjdGlvbigpIHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godCA9PiB7XG4gICAgICB0LnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICB9XG5cbiAgZmxhc2hTY3JvbGxJbmRpY2F0b3JzKCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5mbGFzaFNjcm9sbEluZGljYXRvcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGhhbmRsZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLlxuICAgKiBOb3RlIHRoYXQgYHRoaXMuX3Njcm9sbFJlZmAgbWlnaHQgbm90IGJlIGEgYFNjcm9sbFZpZXdgLCBzbyB3ZVxuICAgKiBuZWVkIHRvIGNoZWNrIHRoYXQgaXQgcmVzcG9uZHMgdG8gYGdldFNjcm9sbFJlc3BvbmRlcmAgYmVmb3JlIGNhbGxpbmcgaXQuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXIoKTogP1Njcm9sbFJlc3BvbmRlclR5cGUge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcikge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIoKTtcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxhYmxlTm9kZSgpOiA/bnVtYmVyIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxhYmxlTm9kZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxhYmxlTm9kZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmluZE5vZGVIYW5kbGUodGhpcy5fc2Nyb2xsUmVmKTtcbiAgICB9XG4gIH1cblxuICBnZXRTY3JvbGxSZWYoKTpcbiAgICB8ID9SZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxWaWV3PlxuICAgIHwgP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpZXc+IHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZWYpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWY7XG4gICAgfVxuICB9XG5cbiAgc2V0TmF0aXZlUHJvcHMocHJvcHM6IE9iamVjdCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgX2dldENlbGxLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0Py5jZWxsS2V5IHx8ICdyb290TGlzdCc7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIF9nZXRTY3JvbGxNZXRyaWNzID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICB9O1xuXG4gIGhhc01vcmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhc01vcmU7XG4gIH1cblxuICAvLyAkRmxvd0ZpeE1lW21pc3NpbmctbG9jYWwtYW5ub3RdXG4gIF9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICBfcmVnaXN0ZXJBc05lc3RlZENoaWxkID0gKGNoaWxkTGlzdDoge1xuICAgIGNlbGxLZXk6IHN0cmluZyxcbiAgICByZWY6IFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFZpcnR1YWxpemVkTGlzdD4sXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmFkZChjaGlsZExpc3QucmVmLCBjaGlsZExpc3QuY2VsbEtleSk7XG4gICAgaWYgKHRoaXMuX2hhc0ludGVyYWN0ZWQpIHtcbiAgICAgIGNoaWxkTGlzdC5yZWYucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9XG4gIH07XG5cbiAgX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkID0gKGNoaWxkTGlzdDoge1xuICAgIHJlZjogUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlydHVhbGl6ZWRMaXN0PixcbiAgfSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMucmVtb3ZlKGNoaWxkTGlzdC5yZWYpO1xuICB9O1xuXG4gIHN0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5fY2hlY2tQcm9wcyhwcm9wcyk7XG5cbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlciA9IG5ldyBGaWxsUmF0ZUhlbHBlcih0aGlzLl9nZXRGcmFtZU1ldHJpY3MpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyID0gbmV3IEJhdGNoaW5hdG9yKFxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcixcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCA/PyA1MCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtvblZpZXdhYmxlSXRlbXNDaGFuZ2VkLCB2aWV3YWJpbGl0eUNvbmZpZ30gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKG9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMucHVzaCh7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBWaWV3YWJpbGl0eUhlbHBlcih2aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaW5pdGlhbFJlbmRlclJlZ2lvbiA9IFZpcnR1YWxpemVkTGlzdC5faW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wcyk7XG5cbiAgICBjb25zdCBtaW5JbmRleEZvclZpc2libGUgPVxuICAgICAgdGhpcy5wcm9wcy5tYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb24/Lm1pbkluZGV4Rm9yVmlzaWJsZSA/PyAwO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IGluaXRpYWxSZW5kZXJSZWdpb24sXG4gICAgICByZW5kZXJNYXNrOiBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2socHJvcHMsIGluaXRpYWxSZW5kZXJSZWdpb24pLFxuICAgICAgZmlyc3RWaXNpYmxlSXRlbUtleTpcbiAgICAgICAgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSA+IG1pbkluZGV4Rm9yVmlzaWJsZVxuICAgICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHRoaXMucHJvcHMsIG1pbkluZGV4Rm9yVmlzaWJsZSlcbiAgICAgICAgICA6IG51bGwsXG4gICAgICAvLyBXaGVuIHdlIGhhdmUgYSBub24temVybyBpbml0aWFsU2Nyb2xsSW5kZXgsIHdlIHdpbGwgcmVjZWl2ZSBhXG4gICAgICAvLyBzY3JvbGwgZXZlbnQgbGF0ZXIgc28gdGhpcyB3aWxsIHByZXZlbnQgdGhlIHdpbmRvdyBmcm9tIHVwZGF0aW5nXG4gICAgICAvLyB1bnRpbCB3ZSBnZXQgYSB2YWxpZCBvZmZzZXQuXG4gICAgICBwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQ6XG4gICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwXG4gICAgICAgICAgPyAxXG4gICAgICAgICAgOiAwLFxuICAgIH07XG4gIH1cblxuICBfY2hlY2tQcm9wcyhwcm9wczogUHJvcHMpIHtcbiAgICBjb25zdCB7b25TY3JvbGwsIHdpbmRvd1NpemUsIGdldEl0ZW1Db3VudCwgZGF0YSwgaW5pdGlhbFNjcm9sbEluZGV4fSA9XG4gICAgICBwcm9wcztcblxuICAgIGludmFyaWFudChcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgIW9uU2Nyb2xsIHx8ICFvblNjcm9sbC5fX2lzTmF0aXZlLFxuICAgICAgJ0NvbXBvbmVudHMgYmFzZWQgb24gVmlydHVhbGl6ZWRMaXN0IG11c3QgYmUgd3JhcHBlZCB3aXRoIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50ICcgK1xuICAgICAgICAndG8gc3VwcG9ydCBuYXRpdmUgb25TY3JvbGwgZXZlbnRzIHdpdGggdXNlTmF0aXZlRHJpdmVyJyxcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQod2luZG93U2l6ZSkgPiAwLFxuICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogVGhlIHdpbmRvd1NpemUgcHJvcCBtdXN0IGJlIHByZXNlbnQgYW5kIHNldCB0byBhIHZhbHVlIGdyZWF0ZXIgdGhhbiAwLicsXG4gICAgKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSBcImdldEl0ZW1Db3VudFwiIHByb3AgbXVzdCBiZSBwcm92aWRlZCcsXG4gICAgKTtcblxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcblxuICAgIGlmIChcbiAgICAgIGluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICAhdGhpcy5faGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggJiZcbiAgICAgIChpbml0aWFsU2Nyb2xsSW5kZXggPCAwIHx8XG4gICAgICAgIChpdGVtQ291bnQgPiAwICYmIGluaXRpYWxTY3JvbGxJbmRleCA+PSBpdGVtQ291bnQpKSAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5pbml0aWFsU2Nyb2xsSW5kZXhcbiAgICApIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYGluaXRpYWxTY3JvbGxJbmRleCBcIiR7aW5pdGlhbFNjcm9sbEluZGV4fVwiIGlzIG5vdCB2YWxpZCAobGlzdCBoYXMgJHtpdGVtQ291bnR9IGl0ZW1zKWAsXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLmluaXRpYWxTY3JvbGxJbmRleCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKF9fREVWX18gJiYgIXRoaXMuX2hhc1dhcm5lZC5mbGV4V3JhcCkge1xuICAgICAgLy8gJEZsb3dGaXhNZVt1bmRlcmNvbnN0cmFpbmVkLWltcGxpY2l0LWluc3RhbnRpYXRpb25dXG4gICAgICBjb25zdCBmbGF0U3R5bGVzID0gU3R5bGVTaGVldC5mbGF0dGVuKHRoaXMucHJvcHMuY29udGVudENvbnRhaW5lclN0eWxlKTtcbiAgICAgIGlmIChmbGF0U3R5bGVzICE9IG51bGwgJiYgZmxhdFN0eWxlcy5mbGV4V3JhcCA9PT0gJ3dyYXAnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAgICdDb25zaWRlciB1c2luZyBgbnVtQ29sdW1uc2Agd2l0aCBgRmxhdExpc3RgIGluc3RlYWQuJyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmZsZXhXcmFwID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2ZpbmRJdGVtSW5kZXhXaXRoS2V5KFxuICAgIHByb3BzOiBQcm9wcyxcbiAgICBrZXk6IHN0cmluZyxcbiAgICBoaW50OiA/bnVtYmVyLFxuICApOiA/bnVtYmVyIHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gICAgaWYgKGhpbnQgIT0gbnVsbCAmJiBoaW50ID49IDAgJiYgaGludCA8IGl0ZW1Db3VudCkge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBoaW50KTtcbiAgICAgIGlmIChjdXJLZXkgPT09IGtleSkge1xuICAgICAgICByZXR1cm4gaGludDtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgY3VyS2V5ID0gVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBpaSk7XG4gICAgICBpZiAoY3VyS2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN0YXRpYyBfZ2V0SXRlbUtleShcbiAgICBwcm9wczoge1xuICAgICAgZGF0YTogUHJvcHNbJ2RhdGEnXSxcbiAgICAgIGdldEl0ZW06IFByb3BzWydnZXRJdGVtJ10sXG4gICAgICBrZXlFeHRyYWN0b3I6IFByb3BzWydrZXlFeHRyYWN0b3InXSxcbiAgICAgIC4uLlxuICAgIH0sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBpdGVtID0gcHJvcHMuZ2V0SXRlbShwcm9wcy5kYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIFZpcnR1YWxpemVkTGlzdC5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4LCBwcm9wcyk7XG4gIH1cblxuICBzdGF0aWMgX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIGFkZGl0aW9uYWxSZWdpb25zPzogPyRSZWFkT25seUFycmF5PHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9PixcbiAgKTogQ2VsbFJlbmRlck1hc2sge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIGludmFyaWFudChcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPj0gMCAmJlxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCAtIDEgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50LFxuICAgICAgYEludmFsaWQgY2VsbHMgYXJvdW5kIHZpZXdwb3J0IFwiWyR7Y2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdH0sICR7Y2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0fV1cIiB3YXMgcGFzc2VkIHRvIFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFza2AsXG4gICAgKTtcblxuICAgIGNvbnN0IHJlbmRlck1hc2sgPSBuZXcgQ2VsbFJlbmRlck1hc2soaXRlbUNvdW50KTtcblxuICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICBjb25zdCBhbGxSZWdpb25zID0gW2NlbGxzQXJvdW5kVmlld3BvcnQsIC4uLihhZGRpdGlvbmFsUmVnaW9ucyA/PyBbXSldO1xuICAgICAgZm9yIChjb25zdCByZWdpb24gb2YgYWxsUmVnaW9ucykge1xuICAgICAgICByZW5kZXJNYXNrLmFkZENlbGxzKHJlZ2lvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBpbml0aWFsbHkgcmVuZGVyZWQgY2VsbHMgYXJlIHJldGFpbmVkIGFzIHBhcnQgb2YgdGhlXG4gICAgICAvLyBcInNjcm9sbC10by10b3BcIiBvcHRpbWl6YXRpb25cbiAgICAgIGlmIChwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPT0gbnVsbCB8fCBwcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPD0gMCkge1xuICAgICAgICBjb25zdCBpbml0aWFsUmVnaW9uID0gVmlydHVhbGl6ZWRMaXN0Ll9pbml0aWFsUmVuZGVyUmVnaW9uKHByb3BzKTtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyhpbml0aWFsUmVnaW9uKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGxheW91dCBjb29yZGluYXRlcyBvZiBzdGlja2VyIGhlYWRlcnMgbWF5IGJlIG9mZi1zY3JlZW4gd2hpbGUgdGhlXG4gICAgICAvLyBhY3R1YWwgaGVhZGVyIGlzIG9uLXNjcmVlbi4gS2VlcCB0aGUgbW9zdCByZWNlbnQgYmVmb3JlIHRoZSB2aWV3cG9ydFxuICAgICAgLy8gcmVuZGVyZWQsIGV2ZW4gaWYgaXRzIGxheW91dCBjb29yZGluYXRlcyBhcmUgbm90IGluIHZpZXdwb3J0LlxuICAgICAgY29uc3Qgc3RpY2t5SW5kaWNlc1NldCA9IG5ldyBTZXQocHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyk7XG4gICAgICBWaXJ0dWFsaXplZExpc3QuX2Vuc3VyZUNsb3Nlc3RTdGlja3lIZWFkZXIoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGlja3lJbmRpY2VzU2V0LFxuICAgICAgICByZW5kZXJNYXNrLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyTWFzaztcbiAgfVxuXG4gIHN0YXRpYyBfaW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wczogUHJvcHMpOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gcHJvcHMuZ2V0SXRlbUNvdW50KHByb3BzLmRhdGEpO1xuXG4gICAgY29uc3QgZmlyc3RDZWxsSW5kZXggPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCBNYXRoLmZsb29yKHByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA/PyAwKSksXG4gICAgKTtcblxuICAgIGNvbnN0IGxhc3RDZWxsSW5kZXggPVxuICAgICAgTWF0aC5taW4oXG4gICAgICAgIGl0ZW1Db3VudCxcbiAgICAgICAgZmlyc3RDZWxsSW5kZXggKyBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQocHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyKSxcbiAgICAgICkgLSAxO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGZpcnN0OiBmaXJzdENlbGxJbmRleCxcbiAgICAgIGxhc3Q6IGxhc3RDZWxsSW5kZXgsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBfZW5zdXJlQ2xvc2VzdFN0aWNreUhlYWRlcihcbiAgICBwcm9wczogUHJvcHMsXG4gICAgc3RpY2t5SW5kaWNlc1NldDogU2V0PG51bWJlcj4sXG4gICAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gICAgY2VsbElkeDogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBwcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG5cbiAgICBmb3IgKGxldCBpdGVtSWR4ID0gY2VsbElkeCAtIDE7IGl0ZW1JZHggPj0gMDsgaXRlbUlkeC0tKSB7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc1NldC5oYXMoaXRlbUlkeCArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyh7Zmlyc3Q6IGl0ZW1JZHgsIGxhc3Q6IGl0ZW1JZHh9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQoXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogbnVtYmVyLFxuICApOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudH0gPSBwcm9wcztcbiAgICBjb25zdCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQoXG4gICAgICBwcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgKTtcbiAgICBjb25zdCB7Y29udGVudExlbmd0aCwgb2Zmc2V0LCB2aXNpYmxlTGVuZ3RofSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgZGlzdGFuY2VGcm9tRW5kID0gY29udGVudExlbmd0aCAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG5cbiAgICAvLyBXYWl0IHVudGlsIHRoZSBzY3JvbGwgdmlldyBtZXRyaWNzIGhhdmUgYmVlbiBzZXQgdXAuIEFuZCB1bnRpbCB0aGVuLFxuICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciBzdWdnZXN0aW9uXG4gICAgaWYgKHZpc2libGVMZW5ndGggPD0gMCB8fCBjb250ZW50TGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gZ2V0SXRlbUNvdW50KGRhdGEpXG4gICAgICAgID8gVmlydHVhbGl6ZWRMaXN0Ll9jb25zdHJhaW5Ub0l0ZW1Db3VudChjZWxsc0Fyb3VuZFZpZXdwb3J0LCBwcm9wcylcbiAgICAgICAgOiBjZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgIH1cblxuICAgIGxldCBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfTtcbiAgICBpZiAocHJvcHMuZGlzYWJsZVZpcnR1YWxpemF0aW9uKSB7XG4gICAgICBjb25zdCByZW5kZXJBaGVhZCA9XG4gICAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgICA/IG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQocHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaClcbiAgICAgICAgICA6IDA7XG5cbiAgICAgIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQgPSB7XG4gICAgICAgIGZpcnN0OiAwLFxuICAgICAgICBsYXN0OiBNYXRoLm1pbihcbiAgICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgKyByZW5kZXJBaGVhZCxcbiAgICAgICAgICBnZXRJdGVtQ291bnQoZGF0YSkgLSAxLFxuICAgICAgICApLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHBlbmRpbmcgc2Nyb2xsIHVwZGF0ZSwgd2Ugc2hvdWxkIG5vdCBhZGp1c3QgdGhlIHJlbmRlciB3aW5kb3cgYXMgaXRcbiAgICAgIC8vIG1pZ2h0IG92ZXJyaWRlIHRoZSBjb3JyZWN0IHdpbmRvdy5cbiAgICAgIGlmIChwZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gZ2V0SXRlbUNvdW50KGRhdGEpXG4gICAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2NvbnN0cmFpblRvSXRlbUNvdW50KGNlbGxzQXJvdW5kVmlld3BvcnQsIHByb3BzKVxuICAgICAgICAgIDogY2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgICAgIH1cblxuICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydCA9IGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyhcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQocHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQocHJvcHMud2luZG93U2l6ZSksXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICAgIHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3gsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgICdjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoKSBzaG91bGQgcmV0dXJuIHJhbmdlIGluLWJvdW5kcycsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNpemUoKSA+IDApIHtcbiAgICAgIC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgLy8gdXAgdGhyb3VnaCB0aGF0IGl0ZW0sIHNvIHRoYXQgd2UgZ2l2ZSB0aGF0IGxpc3QgYSBjaGFuY2UgdG8gcmVuZGVyLlxuICAgICAgLy8gT3RoZXJ3aXNlIHRoZXJlJ3MgY2h1cm4gZnJvbSBtdWx0aXBsZSBjaGlsZCBsaXN0cyBtb3VudGluZyBhbmQgdW4tbW91bnRpbmdcbiAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuXG4gICAgICAvLyBXaWxsIHRoaXMgcHJldmVudCByZW5kZXJpbmcgaWYgdGhlIG5lc3RlZCBsaXN0IGRvZXNuJ3QgcmVhbGl6ZSB0aGUgZW5kP1xuICAgICAgY29uc3QgY2hpbGRJZHggPSB0aGlzLl9maW5kRmlyc3RDaGlsZFdpdGhNb3JlKFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QsXG4gICAgICApO1xuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPSBjaGlsZElkeCA/PyBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQ7XG4gIH1cblxuICBfZmluZEZpcnN0Q2hpbGRXaXRoTW9yZShmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBjZWxsS2V5Rm9ySW5kZXggPSB0aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG4gICAgICBpZiAoXG4gICAgICAgIGNlbGxLZXlGb3JJbmRleCAhPSBudWxsICYmXG4gICAgICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuYW55SW5DZWxsKGNlbGxLZXlGb3JJbmRleCwgY2hpbGRMaXN0ID0+XG4gICAgICAgICAgY2hpbGRMaXN0Lmhhc01vcmUoKSxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBpaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgICAgY2VsbEtleTogdGhpcy5jb250ZXh0LmNlbGxLZXksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7cmVmOiB0aGlzfSk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSk6IFN0YXRlIHtcbiAgICAvLyBmaXJzdCBhbmQgbGFzdCBjb3VsZCBiZSBzdGFsZSAoZS5nLiBpZiBhIG5ldywgc2hvcnRlciBpdGVtcyBwcm9wcyBpcyBwYXNzZWQgaW4pLCBzbyB3ZSBtYWtlXG4gICAgLy8gc3VyZSB3ZSdyZSByZW5kZXJpbmcgYSByZWFzb25hYmxlIHJhbmdlIGhlcmUuXG4gICAgY29uc3QgaXRlbUNvdW50ID0gbmV3UHJvcHMuZ2V0SXRlbUNvdW50KG5ld1Byb3BzLmRhdGEpO1xuICAgIGlmIChpdGVtQ291bnQgPT09IHByZXZTdGF0ZS5yZW5kZXJNYXNrLm51bUNlbGxzKCkpIHtcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgfVxuXG4gICAgbGV0IG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQ6ID9udW1iZXIgPSBudWxsO1xuICAgIGNvbnN0IHByZXZGaXJzdFZpc2libGVJdGVtS2V5ID0gcHJldlN0YXRlLmZpcnN0VmlzaWJsZUl0ZW1LZXk7XG4gICAgY29uc3QgbWluSW5kZXhGb3JWaXNpYmxlID1cbiAgICAgIG5ld1Byb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbj8ubWluSW5kZXhGb3JWaXNpYmxlID8/IDA7XG4gICAgY29uc3QgbmV3Rmlyc3RWaXNpYmxlSXRlbUtleSA9XG4gICAgICBuZXdQcm9wcy5nZXRJdGVtQ291bnQobmV3UHJvcHMuZGF0YSkgPiBtaW5JbmRleEZvclZpc2libGVcbiAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2dldEl0ZW1LZXkobmV3UHJvcHMsIG1pbkluZGV4Rm9yVmlzaWJsZSlcbiAgICAgICAgOiBudWxsO1xuICAgIGlmIChcbiAgICAgIG5ld1Byb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiAhPSBudWxsICYmXG4gICAgICBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSAhPSBudWxsICYmXG4gICAgICBuZXdGaXJzdFZpc2libGVJdGVtS2V5ICE9IG51bGxcbiAgICApIHtcbiAgICAgIGlmIChuZXdGaXJzdFZpc2libGVJdGVtS2V5ICE9PSBwcmV2Rmlyc3RWaXNpYmxlSXRlbUtleSkge1xuICAgICAgICAvLyBGYXN0IHBhdGggaWYgaXRlbXMgd2VyZSBhZGRlZCBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpc3QuXG4gICAgICAgIGNvbnN0IGhpbnQgPVxuICAgICAgICAgIGl0ZW1Db3VudCAtIHByZXZTdGF0ZS5yZW5kZXJNYXNrLm51bUNlbGxzKCkgKyBtaW5JbmRleEZvclZpc2libGU7XG4gICAgICAgIGNvbnN0IGZpcnN0VmlzaWJsZUl0ZW1JbmRleCA9IFZpcnR1YWxpemVkTGlzdC5fZmluZEl0ZW1JbmRleFdpdGhLZXkoXG4gICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgcHJldkZpcnN0VmlzaWJsZUl0ZW1LZXksXG4gICAgICAgICAgaGludCxcbiAgICAgICAgKTtcbiAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCA9XG4gICAgICAgICAgZmlyc3RWaXNpYmxlSXRlbUluZGV4ICE9IG51bGxcbiAgICAgICAgICAgID8gZmlyc3RWaXNpYmxlSXRlbUluZGV4IC0gbWluSW5kZXhGb3JWaXNpYmxlXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYWludGFpblZpc2libGVDb250ZW50UG9zaXRpb25BZGp1c3RtZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjb25zdHJhaW5lZENlbGxzID0gVmlydHVhbGl6ZWRMaXN0Ll9jb25zdHJhaW5Ub0l0ZW1Db3VudChcbiAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQgIT0gbnVsbFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGZpcnN0OlxuICAgICAgICAgICAgICBwcmV2U3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCArXG4gICAgICAgICAgICAgIG1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbkFkanVzdG1lbnQsXG4gICAgICAgICAgICBsYXN0OlxuICAgICAgICAgICAgICBwcmV2U3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICtcbiAgICAgICAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCxcbiAgICAgICAgICB9XG4gICAgICAgIDogcHJldlN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICBuZXdQcm9wcyxcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IGNvbnN0cmFpbmVkQ2VsbHMsXG4gICAgICByZW5kZXJNYXNrOiBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2sobmV3UHJvcHMsIGNvbnN0cmFpbmVkQ2VsbHMpLFxuICAgICAgZmlyc3RWaXNpYmxlSXRlbUtleTogbmV3Rmlyc3RWaXNpYmxlSXRlbUtleSxcbiAgICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDpcbiAgICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uQWRqdXN0bWVudCAhPSBudWxsXG4gICAgICAgICAgPyBwcmV2U3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ICsgMVxuICAgICAgICAgIDogcHJldlN0YXRlLnBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudCxcbiAgICB9O1xuICB9XG5cbiAgX3B1c2hDZWxscyhcbiAgICBjZWxsczogQXJyYXk8T2JqZWN0PixcbiAgICBzdGlja3lIZWFkZXJJbmRpY2VzOiBBcnJheTxudW1iZXI+LFxuICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHM6IFNldDxudW1iZXI+LFxuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICAgIGludmVyc2lvblN0eWxlOiBWaWV3U3R5bGVQcm9wLFxuICApIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgTGlzdEhlYWRlckNvbXBvbmVudCxcbiAgICAgIExpc3RJdGVtQ29tcG9uZW50LFxuICAgICAgZGF0YSxcbiAgICAgIGRlYnVnLFxuICAgICAgZ2V0SXRlbSxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGdldEl0ZW1MYXlvdXQsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAgcmVuZGVySXRlbSxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBMaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG4gICAgY29uc3QgZW5kID0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMTtcbiAgICBsZXQgcHJldkNlbGxLZXk7XG4gICAgbGFzdCA9IE1hdGgubWluKGVuZCwgbGFzdCk7XG5cbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpaSk7XG4gICAgICBjb25zdCBrZXkgPSBWaXJ0dWFsaXplZExpc3QuX2tleUV4dHJhY3RvcihpdGVtLCBpaSwgdGhpcy5wcm9wcyk7XG5cbiAgICAgIHRoaXMuX2luZGljZXNUb0tleXMuc2V0KGlpLCBrZXkpO1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKGlpICsgc3RpY2t5T2Zmc2V0KSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goY2VsbHMubGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2hvdWxkTGlzdGVuRm9yTGF5b3V0ID1cbiAgICAgICAgZ2V0SXRlbUxheW91dCA9PSBudWxsIHx8IGRlYnVnIHx8IHRoaXMuX2ZpbGxSYXRlSGVscGVyLmVuYWJsZWQoKTtcblxuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPENlbGxSZW5kZXJlclxuICAgICAgICAgIENlbGxSZW5kZXJlckNvbXBvbmVudD17Q2VsbFJlbmRlcmVyQ29tcG9uZW50fVxuICAgICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ9e2lpIDwgZW5kID8gSXRlbVNlcGFyYXRvckNvbXBvbmVudCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBMaXN0SXRlbUNvbXBvbmVudD17TGlzdEl0ZW1Db21wb25lbnR9XG4gICAgICAgICAgY2VsbEtleT17a2V5fVxuICAgICAgICAgIGhvcml6b250YWw9e2hvcml6b250YWx9XG4gICAgICAgICAgaW5kZXg9e2lpfVxuICAgICAgICAgIGludmVyc2lvblN0eWxlPXtpbnZlcnNpb25TdHlsZX1cbiAgICAgICAgICBpdGVtPXtpdGVtfVxuICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgIHByZXZDZWxsS2V5PXtwcmV2Q2VsbEtleX1cbiAgICAgICAgICBvblVwZGF0ZVNlcGFyYXRvcnM9e3RoaXMuX29uVXBkYXRlU2VwYXJhdG9yc31cbiAgICAgICAgICBvbkNlbGxGb2N1c0NhcHR1cmU9e2UgPT4gdGhpcy5fb25DZWxsRm9jdXNDYXB0dXJlKGtleSl9XG4gICAgICAgICAgb25Vbm1vdW50PXt0aGlzLl9vbkNlbGxVbm1vdW50fVxuICAgICAgICAgIHJlZj17cmVmID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NlbGxSZWZzW2tleV0gPSByZWY7XG4gICAgICAgICAgfX1cbiAgICAgICAgICByZW5kZXJJdGVtPXtyZW5kZXJJdGVtfVxuICAgICAgICAgIHsuLi4oc2hvdWxkTGlzdGVuRm9yTGF5b3V0ICYmIHtcbiAgICAgICAgICAgIG9uQ2VsbExheW91dDogdGhpcy5fb25DZWxsTGF5b3V0LFxuICAgICAgICAgIH0pfVxuICAgICAgICAvPixcbiAgICAgICk7XG4gICAgICBwcmV2Q2VsbEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2NvbnN0cmFpblRvSXRlbUNvdW50KFxuICAgIGNlbGxzOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgICBwcm9wczogUHJvcHMsXG4gICk6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9IHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gICAgY29uc3QgbGFzdCA9IE1hdGgubWluKGl0ZW1Db3VudCAtIDEsIGNlbGxzLmxhc3QpO1xuXG4gICAgY29uc3QgbWF4VG9SZW5kZXJQZXJCYXRjaCA9IG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQoXG4gICAgICBwcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoLFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IGNsYW1wKDAsIGl0ZW1Db3VudCAtIDEgLSBtYXhUb1JlbmRlclBlckJhdGNoLCBjZWxscy5maXJzdCksXG4gICAgICBsYXN0LFxuICAgIH07XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpOiBib29sZWFuIHtcbiAgICBjb25zdCBuZXN0ZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHJldHVybiAhIShcbiAgICAgIG5lc3RlZENvbnRleHQgJiZcbiAgICAgICEhbmVzdGVkQ29udGV4dC5ob3Jpem9udGFsID09PSBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICApO1xuICB9XG5cbiAgX2dldFNwYWNlcktleSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogc3RyaW5nID0+XG4gICAgaXNWZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICBzdGF0aWMgX2tleUV4dHJhY3RvcihcbiAgICBpdGVtOiBJdGVtLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgcHJvcHM6IHtcbiAgICAgIGtleUV4dHJhY3Rvcj86ID8oaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nLFxuICAgICAgLi4uXG4gICAgfSxcbiAgKTogc3RyaW5nIHtcbiAgICBpZiAocHJvcHMua2V5RXh0cmFjdG9yICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBwcm9wcy5rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIH1cblxuICAgIGNvbnN0IGtleSA9IGRlZmF1bHRLZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpO1xuICAgIGlmIChrZXkgPT09IFN0cmluZyhpbmRleCkpIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSB0cnVlO1xuICAgICAgaWYgKGl0ZW0udHlwZSAmJiBpdGVtLnR5cGUuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9IGl0ZW0udHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcbiAgICB0aGlzLl9jaGVja1Byb3BzKHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IHtMaXN0RW1wdHlDb21wb25lbnQsIExpc3RGb290ZXJDb21wb25lbnQsIExpc3RIZWFkZXJDb21wb25lbnR9ID1cbiAgICAgIHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2RhdGEsIGhvcml6b250YWx9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpbnZlcnNpb25TdHlsZSA9IHRoaXMucHJvcHMuaW52ZXJ0ZWRcbiAgICAgID8gaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICAgID8gc3R5bGVzLmhvcml6b250YWxseUludmVydGVkXG4gICAgICAgIDogc3R5bGVzLnZlcnRpY2FsbHlJbnZlcnRlZFxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNlbGxzOiBBcnJheTxhbnkgfCBSZWFjdC5Ob2RlPiA9IFtdO1xuICAgIGNvbnN0IHN0aWNreUluZGljZXNGcm9tUHJvcHMgPSBuZXcgU2V0KHRoaXMucHJvcHMuc3RpY2t5SGVhZGVySW5kaWNlcyk7XG4gICAgY29uc3Qgc3RpY2t5SGVhZGVySW5kaWNlcyA9IFtdO1xuXG4gICAgLy8gMS4gQWRkIGNlbGwgZm9yIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0SGVhZGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEhlYWRlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1oZWFkZXInfVxuICAgICAgICAgIGtleT1cIiRoZWFkZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgLy8gV2UgZXhwZWN0IHRoYXQgaGVhZGVyIGNvbXBvbmVudCB3aWxsIGJlIGEgc2luZ2xlIG5hdGl2ZSB2aWV3IHNvIG1ha2UgaXRcbiAgICAgICAgICAgIC8vIG5vdCBjb2xsYXBzYWJsZSB0byBhdm9pZCB0aGlzIHZpZXcgYmVpbmcgZmxhdHRlbmVkIGFuZCBtYWtlIHRoaXMgYXNzdW1wdGlvblxuICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIHRydWUuXG4gICAgICAgICAgICBjb2xsYXBzYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICBvbkxheW91dD17dGhpcy5fb25MYXlvdXRIZWFkZXJ9XG4gICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5jb21wb3NlKFxuICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50U3R5bGUsXG4gICAgICAgICAgICApfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDJhLiBBZGQgYSBjZWxsIGZvciBMaXN0RW1wdHlDb21wb25lbnQgaWYgYXBwbGljYWJsZVxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KGRhdGEpO1xuICAgIGlmIChpdGVtQ291bnQgPT09IDAgJiYgTGlzdEVtcHR5Q29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50OiBSZWFjdC5FbGVtZW50PGFueT4gPSAoKFJlYWN0LmlzVmFsaWRFbGVtZW50KFxuICAgICAgICBMaXN0RW1wdHlDb21wb25lbnQsXG4gICAgICApID8gKFxuICAgICAgICBMaXN0RW1wdHlDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RFbXB0eUNvbXBvbmVudCAvPlxuICAgICAgKSk6IGFueSk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctZW1wdHknfVxuICAgICAgICAgIGtleT1cIiRlbXB0eVwiPlxuICAgICAgICAgIHtSZWFjdC5jbG9uZUVsZW1lbnQoZWxlbWVudCwge1xuICAgICAgICAgICAgb25MYXlvdXQ6IChldmVudDogTGF5b3V0RXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5fb25MYXlvdXRFbXB0eShldmVudCk7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50LnByb3BzLm9uTGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wcm9wcy5vbkxheW91dChldmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHlsZTogU3R5bGVTaGVldC5jb21wb3NlKGludmVyc2lvblN0eWxlLCBlbGVtZW50LnByb3BzLnN0eWxlKSxcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMmIuIEFkZCBjZWxscyBhbmQgc3BhY2VycyBmb3IgZWFjaCBpdGVtXG4gICAgaWYgKGl0ZW1Db3VudCA+IDApIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbiAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSAnJztcbiAgICAgIGNvbnN0IHNwYWNlcktleSA9IHRoaXMuX2dldFNwYWNlcktleSghaG9yaXpvbnRhbCk7XG5cbiAgICAgIGNvbnN0IHJlbmRlclJlZ2lvbnMgPSB0aGlzLnN0YXRlLnJlbmRlck1hc2suZW51bWVyYXRlUmVnaW9ucygpO1xuICAgICAgY29uc3QgbGFzdFNwYWNlciA9IGZpbmRMYXN0V2hlcmUocmVuZGVyUmVnaW9ucywgciA9PiByLmlzU3BhY2VyKTtcblxuICAgICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIHJlbmRlclJlZ2lvbnMpIHtcbiAgICAgICAgaWYgKHNlY3Rpb24uaXNTcGFjZXIpIHtcbiAgICAgICAgICAvLyBMZWdhY3kgYmVoYXZpb3IgaXMgdG8gYXZvaWQgc3BhY2VycyB3aGVuIHZpcnR1YWxpemF0aW9uIGlzXG4gICAgICAgICAgLy8gZGlzYWJsZWQgKGluY2x1ZGluZyBoZWFkIHNwYWNlcnMgb24gaW5pdGlhbCByZW5kZXIpLlxuICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVWaXJ0dWFsaXphdGlvbikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gV2l0aG91dCBnZXRJdGVtTGF5b3V0LCB3ZSBsaW1pdCBvdXIgdGFpbCBzcGFjZXIgdG8gdGhlIF9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IHRvXG4gICAgICAgICAgLy8gcHJldmVudCB0aGUgdXNlciBmb3IgaHlwZXJzY3JvbGxpbmcgaW50byB1bi1tZWFzdXJlZCBhcmVhIGJlY2F1c2Ugb3RoZXJ3aXNlIGNvbnRlbnQgd2lsbFxuICAgICAgICAgIC8vIGxpa2VseSBqdW1wIGFyb3VuZCBhcyBpdCByZW5kZXJzIGluIGFib3ZlIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgICBjb25zdCBpc0xhc3RTcGFjZXIgPSBzZWN0aW9uID09PSBsYXN0U3BhY2VyO1xuICAgICAgICAgIGNvbnN0IGNvbnN0cmFpblRvTWVhc3VyZWQgPSBpc0xhc3RTcGFjZXIgJiYgIXRoaXMucHJvcHMuZ2V0SXRlbUxheW91dDtcbiAgICAgICAgICBjb25zdCBsYXN0ID0gY29uc3RyYWluVG9NZWFzdXJlZFxuICAgICAgICAgICAgPyBjbGFtcChcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmZpcnN0IC0gMSxcbiAgICAgICAgICAgICAgICBzZWN0aW9uLmxhc3QsXG4gICAgICAgICAgICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBzZWN0aW9uLmxhc3Q7XG5cbiAgICAgICAgICBjb25zdCBmaXJzdE1ldHJpY3MgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KFxuICAgICAgICAgICAgc2VjdGlvbi5maXJzdCxcbiAgICAgICAgICAgIHRoaXMucHJvcHMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBsYXN0TWV0cmljcyA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdCwgdGhpcy5wcm9wcyk7XG4gICAgICAgICAgY29uc3Qgc3BhY2VyU2l6ZSA9XG4gICAgICAgICAgICBsYXN0TWV0cmljcy5vZmZzZXQgKyBsYXN0TWV0cmljcy5sZW5ndGggLSBmaXJzdE1ldHJpY3Mub2Zmc2V0O1xuICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgICBrZXk9e2Akc3BhY2VyLSR7c2VjdGlvbi5maXJzdH1gfVxuICAgICAgICAgICAgICBzdHlsZT17e1tzcGFjZXJLZXldOiBzcGFjZXJTaXplfX1cbiAgICAgICAgICAgIC8+LFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcHVzaENlbGxzKFxuICAgICAgICAgICAgY2VsbHMsXG4gICAgICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICAgICAgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyxcbiAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QsXG4gICAgICAgICAgICBzZWN0aW9uLmxhc3QsXG4gICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faGFzV2FybmVkLmtleXMgJiYgX3VzZWRJbmRleEZvcktleSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdDogbWlzc2luZyBrZXlzIGZvciBpdGVtcywgbWFrZSBzdXJlIHRvIHNwZWNpZnkgYSBrZXkgb3IgaWQgcHJvcGVydHkgb24gZWFjaCAnICtcbiAgICAgICAgICAgICdpdGVtIG9yIHByb3ZpZGUgYSBjdXN0b20ga2V5RXh0cmFjdG9yLicsXG4gICAgICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDMuIEFkZCBjZWxsIGZvciBMaXN0Rm9vdGVyQ29tcG9uZW50XG4gICAgaWYgKExpc3RGb290ZXJDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0Rm9vdGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEZvb3RlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEZvb3RlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Rm9vdGVyQ2VsbEtleSgpfVxuICAgICAgICAgIGtleT1cIiRmb290ZXJcIj5cbiAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0Rm9vdGVyfVxuICAgICAgICAgICAgc3R5bGU9e1N0eWxlU2hlZXQuY29tcG9zZShcbiAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9WaWV3PlxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyA0LiBSZW5kZXIgdGhlIFNjcm9sbFZpZXdcbiAgICBjb25zdCBzY3JvbGxQcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX29uTGF5b3V0LFxuICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9vblNjcm9sbEVuZERyYWcsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsQmVnaW46IHRoaXMuX29uTW9tZW50dW1TY3JvbGxCZWdpbixcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxFbmQ6IHRoaXMuX29uTW9tZW50dW1TY3JvbGxFbmQsXG4gICAgICBzY3JvbGxFdmVudFRocm90dGxlOiBzY3JvbGxFdmVudFRocm90dGxlT3JEZWZhdWx0KFxuICAgICAgICB0aGlzLnByb3BzLnNjcm9sbEV2ZW50VGhyb3R0bGUsXG4gICAgICApLCAvLyBUT0RPOiBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIGludmVydFN0aWNreUhlYWRlcnM6XG4gICAgICAgIHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB0aGlzLnByb3BzLmludmVydFN0aWNreUhlYWRlcnNcbiAgICAgICAgICA6IHRoaXMucHJvcHMuaW52ZXJ0ZWQsXG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgc3R5bGU6IGludmVyc2lvblN0eWxlXG4gICAgICAgID8gW2ludmVyc2lvblN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXVxuICAgICAgICA6IHRoaXMucHJvcHMuc3R5bGUsXG4gICAgICBpc0ludmVydGVkVmlydHVhbGl6ZWRMaXN0OiB0aGlzLnByb3BzLmludmVydGVkLFxuICAgICAgbWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uOlxuICAgICAgICB0aGlzLnByb3BzLm1haW50YWluVmlzaWJsZUNvbnRlbnRQb3NpdGlvbiAhPSBudWxsXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIC4uLnRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLFxuICAgICAgICAgICAgICAvLyBBZGp1c3QgaW5kZXggdG8gYWNjb3VudCBmb3IgTGlzdEhlYWRlckNvbXBvbmVudC5cbiAgICAgICAgICAgICAgbWluSW5kZXhGb3JWaXNpYmxlOlxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMubWFpbnRhaW5WaXNpYmxlQ29udGVudFBvc2l0aW9uLm1pbkluZGV4Rm9yVmlzaWJsZSArXG4gICAgICAgICAgICAgICAgKHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwKSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9O1xuXG4gICAgdGhpcy5faGFzTW9yZSA9IHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50IC0gMTtcblxuICAgIGNvbnN0IGlubmVyUmV0ID0gKFxuICAgICAgPFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlclxuICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgIGNlbGxLZXk6IG51bGwsXG4gICAgICAgICAgZ2V0U2Nyb2xsTWV0cmljczogdGhpcy5fZ2V0U2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZixcbiAgICAgICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IHRoaXMuX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgIH19PlxuICAgICAgICB7UmVhY3QuY2xvbmVFbGVtZW50KFxuICAgICAgICAgIChcbiAgICAgICAgICAgIHRoaXMucHJvcHMucmVuZGVyU2Nyb2xsQ29tcG9uZW50IHx8XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50XG4gICAgICAgICAgKShzY3JvbGxQcm9wcyksXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2VsbHMsXG4gICAgICAgICl9XG4gICAgICA8L1ZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlcj5cbiAgICApO1xuICAgIGxldCByZXQ6IFJlYWN0Lk5vZGUgPSBpbm5lclJldDtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgcmV0ID0gKFxuICAgICAgICA8U2Nyb2xsVmlldy5Db250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgIHtzY3JvbGxDb250ZXh0ID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2Nyb2xsQ29udGV4dCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICFzY3JvbGxDb250ZXh0Lmhvcml6b250YWwgPT09XG4gICAgICAgICAgICAgICAgIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSAmJlxuICAgICAgICAgICAgICAhdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgJiZcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID09IG51bGwgJiZcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFbmFibGVkICE9PSBmYWxzZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIFRPRE8gKFQ0NjU0NzA0NCk6IHVzZSBSZWFjdC53YXJuIG9uY2UgMTYuOSBpcyBzeW5jJ2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzE1MTcwXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgc2hvdWxkIG5ldmVyIGJlIG5lc3RlZCBpbnNpZGUgcGxhaW4gU2Nyb2xsVmlld3Mgd2l0aCB0aGUgc2FtZSAnICtcbiAgICAgICAgICAgICAgICAgICdvcmllbnRhdGlvbiBiZWNhdXNlIGl0IGNhbiBicmVhayB3aW5kb3dpbmcgYW5kIG90aGVyIGZ1bmN0aW9uYWxpdHkgLSB1c2UgYW5vdGhlciAnICtcbiAgICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3QtYmFja2VkIGNvbnRhaW5lciBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbm5lclJldDtcbiAgICAgICAgICB9fVxuICAgICAgICA8L1Njcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmRlYnVnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmRlYnVnfT5cbiAgICAgICAgICB7cmV0fVxuICAgICAgICAgIHt0aGlzLl9yZW5kZXJEZWJ1Z092ZXJsYXkoKX1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHtkYXRhLCBleHRyYURhdGF9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGF0YSAhPT0gcHJldlByb3BzLmRhdGEgfHwgZXh0cmFEYXRhICE9PSBwcmV2UHJvcHMuZXh0cmFEYXRhKSB7XG4gICAgICAvLyBjbGVhciB0aGUgdmlld2FibGVJbmRpY2VzIGNhY2hlIHRvIGFsc28gdHJpZ2dlclxuICAgICAgLy8gdGhlIG9uVmlld2FibGVJdGVtc0NoYW5nZWQgY2FsbGJhY2sgd2l0aCB0aGUgbmV3IGRhdGFcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZXNldFZpZXdhYmxlSW5kaWNlcygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFRoZSBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBpcyBndWFyYW50ZWVpbmcgYSBoaVByaSBjZWxsIHVwZGF0ZSB3aWxsIG9ubHkgaGFwcGVuXG4gICAgLy8gb25jZSBwZXIgZmliZXIgdXBkYXRlLiBUaGUgYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgc2V0IGl0IHRvIHRydWVcbiAgICAvLyBpZiBhIGhpUHJpIHVwZGF0ZSBuZWVkcyB0byBwZXJmb3JtLiBJZiBgY29tcG9uZW50RGlkVXBkYXRlYCBpcyB0cmlnZ2VyZWQgd2l0aFxuICAgIC8vIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3M9dHJ1ZWAsIG1lYW5zIGl0J3MgdHJpZ2dlcmVkIGJ5IHRoZSBoaVByaSB1cGRhdGUuIFRoZVxuICAgIC8vIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIGNoZWNrIHRoaXMgY29uZGl0aW9uIGFuZCBub3QgcGVyZm9ybVxuICAgIC8vIGFub3RoZXIgaGlQcmkgdXBkYXRlLlxuICAgIGNvbnN0IGhpUHJpSW5Qcm9ncmVzcyA9IHRoaXMuX2hpUHJpSW5Qcm9ncmVzcztcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICAvLyBNYWtlIHN1cmUgc2V0dGluZyBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBiYWNrIHRvIGZhbHNlIGFmdGVyIGBjb21wb25lbnREaWRVcGRhdGVgXG4gICAgLy8gaXMgdHJpZ2dlcmVkIHdpdGggYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWVgXG4gICAgaWYgKGhpUHJpSW5Qcm9ncmVzcykge1xuICAgICAgdGhpcy5faGlQcmlJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2F2ZXJhZ2VDZWxsTGVuZ3RoID0gMDtcbiAgX2NlbGxSZWZzOiB7W3N0cmluZ106IG51bGwgfCBDZWxsUmVuZGVyZXI8YW55Pn0gPSB7fTtcbiAgX2ZpbGxSYXRlSGVscGVyOiBGaWxsUmF0ZUhlbHBlcjtcbiAgX2ZyYW1lczoge1xuICAgIFtzdHJpbmddOiB7XG4gICAgICBpbkxheW91dD86IGJvb2xlYW4sXG4gICAgICBpbmRleDogbnVtYmVyLFxuICAgICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgICBvZmZzZXQ6IG51bWJlcixcbiAgICB9LFxuICB9ID0ge307XG4gIF9mb290ZXJMZW5ndGggPSAwO1xuICAvLyBVc2VkIGZvciBwcmV2ZW50aW5nIHNjcm9sbFRvSW5kZXggZnJvbSBiZWluZyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgZm9yIGluaXRpYWxTY3JvbGxJbmRleFxuICBfaGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggPSBmYWxzZTtcbiAgX2hhc0ludGVyYWN0ZWQgPSBmYWxzZTtcbiAgX2hhc01vcmUgPSBmYWxzZTtcbiAgX2hhc1dhcm5lZDoge1tzdHJpbmddOiBib29sZWFufSA9IHt9O1xuICBfaGVhZGVyTGVuZ3RoID0gMDtcbiAgX2hpUHJpSW5Qcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlOyAvLyBmbGFnIHRvIHByZXZlbnQgaW5maW5pdGUgaGlQcmkgY2VsbCBsaW1pdCB1cGRhdGVcbiAgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICBfaW5kaWNlc1RvS2V5czogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcbiAgX2xhc3RGb2N1c2VkQ2VsbEtleTogP3N0cmluZyA9IG51bGw7XG4gIF9uZXN0ZWRDaGlsZExpc3RzOiBDaGlsZExpc3RDb2xsZWN0aW9uPFZpcnR1YWxpemVkTGlzdD4gPVxuICAgIG5ldyBDaGlsZExpc3RDb2xsZWN0aW9uKCk7XG4gIF9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0OiBudW1iZXIgPSAwO1xuICBfcHJldlBhcmVudE9mZnNldDogbnVtYmVyID0gMDtcbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfc2Nyb2xsTWV0cmljcyA9IHtcbiAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgICB6b29tU2NhbGU6IDEsXG4gIH07XG4gIF9zY3JvbGxSZWY6ID9SZWFjdC5FbGVtZW50UmVmPGFueT4gPSBudWxsO1xuICBfc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF90b3RhbENlbGxMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsc01lYXN1cmVkID0gMDtcbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyOiBCYXRjaGluYXRvcjtcbiAgX3ZpZXdhYmlsaXR5VHVwbGVzOiBBcnJheTxWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGU+ID0gW107XG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XSBUaGUgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5IEZsb3cnc1xuICAgKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfY2FwdHVyZVNjcm9sbFJlZiA9IHJlZiA9PiB7XG4gICAgdGhpcy5fc2Nyb2xsUmVmID0gcmVmO1xuICB9O1xuXG4gIF9jb21wdXRlQmxhbmtuZXNzKCkge1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmNvbXB1dGVCbGFua25lc3MoXG4gICAgICB0aGlzLnByb3BzLFxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICApO1xuICB9XG5cbiAgLyogJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XSBUaGUgdHlwZSBhbm5vdGF0aW9uKHMpIHJlcXVpcmVkIGJ5IEZsb3cnc1xuICAgKiBMVEkgdXBkYXRlIGNvdWxkIG5vdCBiZSBhZGRlZCB2aWEgY29kZW1vZCAqL1xuICBfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgICBjb25zdCBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICByZXR1cm4gPFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9IGVsc2UgaWYgKG9uUmVmcmVzaCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICB0eXBlb2YgcHJvcHMucmVmcmVzaGluZyA9PT0gJ2Jvb2xlYW4nLFxuICAgICAgICAnYHJlZnJlc2hpbmdgIHByb3AgbXVzdCBiZSBzZXQgYXMgYSBib29sZWFuIGluIG9yZGVyIHRvIHVzZSBgb25SZWZyZXNoYCwgYnV0IGdvdCBgJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvcHMucmVmcmVzaGluZyA/PyAndW5kZWZpbmVkJykgK1xuICAgICAgICAgICdgJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gSW52YWxpZCBwcm9wIHVzYWdlXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV1cbiAgICAgICAgPFNjcm9sbFZpZXdcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgcmVmcmVzaENvbnRyb2w9e1xuICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IChcbiAgICAgICAgICAgICAgPFJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV1cbiAgICAgICAgICAgICAgICByZWZyZXNoaW5nPXtwcm9wcy5yZWZyZXNoaW5nfVxuICAgICAgICAgICAgICAgIG9uUmVmcmVzaD17b25SZWZyZXNofVxuICAgICAgICAgICAgICAgIHByb2dyZXNzVmlld09mZnNldD17cHJvcHMucHJvZ3Jlc3NWaWV3T2Zmc2V0fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgcHJvcHMucmVmcmVzaENvbnRyb2xcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gSW52YWxpZCBwcm9wIHVzYWdlXG4gICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9XG4gIH07XG5cbiAgX29uQ2VsbExheW91dCA9IChlOiBMYXlvdXRFdmVudCwgY2VsbEtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgY29uc3QgbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgY29uc3QgbmV4dCA9IHtcbiAgICAgIG9mZnNldDogdGhpcy5fc2VsZWN0T2Zmc2V0KGxheW91dCksXG4gICAgICBsZW5ndGg6IHRoaXMuX3NlbGVjdExlbmd0aChsYXlvdXQpLFxuICAgICAgaW5kZXgsXG4gICAgICBpbkxheW91dDogdHJ1ZSxcbiAgICB9O1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLl9mcmFtZXNbY2VsbEtleV07XG4gICAgaWYgKFxuICAgICAgIWN1cnIgfHxcbiAgICAgIG5leHQub2Zmc2V0ICE9PSBjdXJyLm9mZnNldCB8fFxuICAgICAgbmV4dC5sZW5ndGggIT09IGN1cnIubGVuZ3RoIHx8XG4gICAgICBpbmRleCAhPT0gY3Vyci5pbmRleFxuICAgICkge1xuICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoICs9IG5leHQubGVuZ3RoIC0gKGN1cnIgPyBjdXJyLmxlbmd0aCA6IDApO1xuICAgICAgdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkICs9IGN1cnIgPyAwIDogMTtcbiAgICAgIHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoID1cbiAgICAgICAgdGhpcy5fdG90YWxDZWxsTGVuZ3RoIC8gdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkO1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gbmV4dDtcbiAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSBNYXRoLm1heChcbiAgICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICApO1xuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XS5pbkxheW91dCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleSk7XG5cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICB9O1xuXG4gIF9vbkNlbGxGb2N1c0NhcHR1cmUoY2VsbEtleTogc3RyaW5nKSB7XG4gICAgdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5ID0gY2VsbEtleTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyKCk7XG4gIH1cblxuICBfb25DZWxsVW5tb3VudCA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICBkZWxldGUgdGhpcy5fY2VsbFJlZnNbY2VsbEtleV07XG4gICAgY29uc3QgY3VyciA9IHRoaXMuX2ZyYW1lc1tjZWxsS2V5XTtcbiAgICBpZiAoY3Vycikge1xuICAgICAgdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gey4uLmN1cnIsIGluTGF5b3V0OiBmYWxzZX07XG4gICAgfVxuICB9O1xuXG4gIF90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2hJbkNlbGwoY2VsbEtleSwgY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgfSk7XG4gIH1cblxuICBtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk6IHZvaWQge1xuICAgIC8vIFRPRE8gKFQzNTU3NDUzOCk6IGZpbmROb2RlSGFuZGxlIHNvbWV0aW1lcyBjcmFzaGVzIHdpdGggXCJVbmFibGUgdG8gZmluZFxuICAgIC8vIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudFwiIGR1cmluZyBzY3JvbGxpbmdcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gV2UgYXJlIGFzc3VtaW5nIHRoYXQgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpXG4gICAgICAvLyBpcyBhIG5vbi1udWxsIHJlZmVyZW5jZSB0byBhIFNjcm9sbFZpZXdcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5tZWFzdXJlTGF5b3V0KFxuICAgICAgICB0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpLFxuICAgICAgICAoeCwgeSwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgICAgIHRoaXMuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QgPSB0aGlzLl9zZWxlY3RPZmZzZXQoe3gsIHl9KTtcbiAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3Qgc2Nyb2xsTWV0cmljcyA9IHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKFxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmdldFNjcm9sbE1ldHJpY3MoKSxcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgbWV0cmljc0NoYW5nZWQgPVxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoICE9PSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggfHxcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0ICE9PSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgICAgICAgIGlmIChtZXRyaWNzQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgPSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgICAgICAgICAgLy8gSWYgbWV0cmljcyBvZiB0aGUgc2Nyb2xsVmlldyBjaGFuZ2VkLCB0aGVuIHdlIHRyaWdnZXJlZCByZW1lYXN1cmUgZm9yIGNoaWxkIGxpc3RcbiAgICAgICAgICAgIC8vIHRvIGVuc3VyZSBWaXJ0dWFsaXplZExpc3QgaGFzIHRoZSByaWdodCBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgICAgICAgICBjaGlsZExpc3QubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJWaXJ0dWFsaXplZExpc3Q6IEVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIG1lYXN1cmluZyBhIGxpc3Qnc1wiICtcbiAgICAgICAgICAgICAgJyBvZmZzZXQgZnJvbSBpdHMgY29udGFpbmluZyBWaXJ0dWFsaXplZExpc3QuJyxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCB0aHJldyBhbiBlcnJvcicsXG4gICAgICAgIGVycm9yLnN0YWNrLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfb25MYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIC8vIE5lZWQgdG8gYWRqdXN0IG91ciBzY3JvbGwgbWV0cmljcyB0byBiZSByZWxhdGl2ZSB0byBvdXIgY29udGFpbmluZ1xuICAgICAgLy8gVmlydHVhbGl6ZWRMaXN0IGJlZm9yZSB3ZSBjYW4gbWFrZSBjbGFpbXMgYWJvdXQgbGlzdCBpdGVtIHZpZXdhYmlsaXR5XG4gICAgICB0aGlzLm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKFxuICAgICAgICBlLm5hdGl2ZUV2ZW50LmxheW91dCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gIH07XG5cbiAgX29uTGF5b3V0RW1wdHkgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uTGF5b3V0ICYmIHRoaXMucHJvcHMub25MYXlvdXQoZSk7XG4gIH07XG5cbiAgX2dldEZvb3RlckNlbGxLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1mb290ZXInO1xuICB9XG5cbiAgX29uTGF5b3V0Rm9vdGVyID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwodGhpcy5fZ2V0Rm9vdGVyQ2VsbEtleSgpKTtcbiAgICB0aGlzLl9mb290ZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIF9vbkxheW91dEhlYWRlciA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIHRoaXMuX2hlYWRlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfcmVuZGVyRGVidWdPdmVybGF5KCkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggL1xuICAgICAgKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCB8fCAxKTtcbiAgICBjb25zdCBmcmFtZXNJbkxheW91dCA9IFtdO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGl0ZW1Db3VudDsgaWkrKykge1xuICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGlpLCB0aGlzLnByb3BzKTtcbiAgICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudFxuICAgICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlXG4gICAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIGlmIChmcmFtZS5pbkxheW91dCkge1xuICAgICAgICBmcmFtZXNJbkxheW91dC5wdXNoKGZyYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgd2luZG93VG9wID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCxcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgKS5vZmZzZXQ7XG4gICAgY29uc3QgZnJhbWVMYXN0ID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0LFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICApO1xuICAgIGNvbnN0IHdpbmRvd0xlbiA9IGZyYW1lTGFzdC5vZmZzZXQgKyBmcmFtZUxhc3QubGVuZ3RoIC0gd2luZG93VG9wO1xuICAgIGNvbnN0IHZpc1RvcCA9IHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IHZpc0xlbiA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBzdHlsZT17W3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5XX0+XG4gICAgICAgIHtmcmFtZXNJbkxheW91dC5tYXAoKGYsIGlpKSA9PiAoXG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIGtleT17J2YnICsgaWl9XG4gICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9wOiBmLm9mZnNldCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGYubGVuZ3RoICogbm9ybWFsaXplLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAvPlxuICAgICAgICApKX1cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVMYXN0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHdpbmRvd1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3dMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lVmlzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b3A6IHZpc1RvcCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgaGVpZ2h0OiB2aXNMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF19XG4gICAgICAgIC8+XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfVxuXG4gIF9zZWxlY3RMZW5ndGgoXG4gICAgbWV0cmljczogJFJlYWRPbmx5PHtcbiAgICAgIGhlaWdodDogbnVtYmVyLFxuICAgICAgd2lkdGg6IG51bWJlcixcbiAgICAgIC4uLlxuICAgIH0+LFxuICApOiBudW1iZXIge1xuICAgIHJldHVybiAhaG9yaXpvbnRhbE9yRGVmYXVsdCh0aGlzLnByb3BzLmhvcml6b250YWwpXG4gICAgICA/IG1ldHJpY3MuaGVpZ2h0XG4gICAgICA6IG1ldHJpY3Mud2lkdGg7XG4gIH1cblxuICBfc2VsZWN0T2Zmc2V0KFxuICAgIG1ldHJpY3M6ICRSZWFkT25seTx7XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9PixcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSA/IG1ldHJpY3MueSA6IG1ldHJpY3MueDtcbiAgfVxuXG4gIF9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvblN0YXJ0UmVhY2hlZCxcbiAgICAgIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkLFxuICAgICAgb25FbmRSZWFjaGVkLFxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIC8vIElmIHdlIGhhdmUgYW55IHBlbmRpbmcgc2Nyb2xsIHVwZGF0ZXMgaXQgbWVhbnMgdGhhdCB0aGUgc2Nyb2xsIG1ldHJpY3NcbiAgICAvLyBhcmUgb3V0IG9mIGRhdGUgYW5kIHdlIHNob3VsZCBub3QgY2FsbCBhbnkgb2YgdGhlIGVkZ2UgcmVhY2hlZCBjYWxsYmFja3MuXG4gICAgaWYgKHRoaXMuc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtjb250ZW50TGVuZ3RoLCB2aXNpYmxlTGVuZ3RoLCBvZmZzZXR9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBsZXQgZGlzdGFuY2VGcm9tU3RhcnQgPSBvZmZzZXQ7XG4gICAgbGV0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuXG4gICAgLy8gRXNwZWNpYWxseSB3aGVuIG9FUlQgaXMgemVybyBpdCdzIG5lY2Vzc2FyeSB0byAnZmxvb3InIHZlcnkgc21hbGwgZGlzdGFuY2UgdmFsdWVzIHRvIGJlIDBcbiAgICAvLyBzaW5jZSBkZWJvdW5jaW5nIGNhdXNlcyB1cyB0byBub3QgZmlyZSB0aGlzIGV2ZW50IGZvciBldmVyeSBzaW5nbGUgXCJwaXhlbFwiIHdlIHNjcm9sbCBhbmQgY2FuIHRodXNcbiAgICAvLyBiZSBhdCB0aGUgZWRnZSBvZiB0aGUgbGlzdCB3aXRoIGEgZGlzdGFuY2UgYXBwcm94aW1hdGluZyAwIGJ1dCBub3QgcXVpdGUgdGhlcmUuXG4gICAgaWYgKGRpc3RhbmNlRnJvbVN0YXJ0IDwgT05fRURHRV9SRUFDSEVEX0VQU0lMT04pIHtcbiAgICAgIGRpc3RhbmNlRnJvbVN0YXJ0ID0gMDtcbiAgICB9XG4gICAgaWYgKGRpc3RhbmNlRnJvbUVuZCA8IE9OX0VER0VfUkVBQ0hFRF9FUFNJTE9OKSB7XG4gICAgICBkaXN0YW5jZUZyb21FbmQgPSAwO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFQxMjExNzIxNzIgTG9vayBpbnRvIHdoeSB3ZSdyZSBcImRlZmF1bHRpbmdcIiB0byBhIHRocmVzaG9sZCBvZiAycHhcbiAgICAvLyB3aGVuIG9FUlQgaXMgbm90IHByZXNlbnQgKGRpZmZlcmVudCBmcm9tIDIgdmlld3BvcnRzIHVzZWQgZWxzZXdoZXJlKVxuICAgIGNvbnN0IERFRkFVTFRfVEhSRVNIT0xEX1BYID0gMjtcblxuICAgIGNvbnN0IHN0YXJ0VGhyZXNob2xkID1cbiAgICAgIG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkICE9IG51bGxcbiAgICAgICAgPyBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGhcbiAgICAgICAgOiBERUZBVUxUX1RIUkVTSE9MRF9QWDtcbiAgICBjb25zdCBlbmRUaHJlc2hvbGQgPVxuICAgICAgb25FbmRSZWFjaGVkVGhyZXNob2xkICE9IG51bGxcbiAgICAgICAgPyBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgIDogREVGQVVMVF9USFJFU0hPTERfUFg7XG4gICAgY29uc3QgaXNXaXRoaW5TdGFydFRocmVzaG9sZCA9IGRpc3RhbmNlRnJvbVN0YXJ0IDw9IHN0YXJ0VGhyZXNob2xkO1xuICAgIGNvbnN0IGlzV2l0aGluRW5kVGhyZXNob2xkID0gZGlzdGFuY2VGcm9tRW5kIDw9IGVuZFRocmVzaG9sZDtcblxuICAgIC8vIEZpcnN0IGNoZWNrIGlmIHRoZSB1c2VyIGp1c3Qgc2Nyb2xsZWQgd2l0aGluIHRoZSBlbmQgdGhyZXNob2xkXG4gICAgLy8gYW5kIGNhbGwgb25FbmRSZWFjaGVkIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBjb250ZW50IGxlbmd0aCxcbiAgICAvLyBhbmQgb25seSBpZiBvblN0YXJ0UmVhY2hlZCBpcyBub3QgYmVpbmcgZXhlY3V0ZWRcbiAgICBpZiAoXG4gICAgICBvbkVuZFJlYWNoZWQgJiZcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID09PSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxICYmXG4gICAgICBpc1dpdGhpbkVuZFRocmVzaG9sZCAmJlxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoICE9PSB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG4gICAgICBvbkVuZFJlYWNoZWQoe2Rpc3RhbmNlRnJvbUVuZH0pO1xuICAgIH1cblxuICAgIC8vIE5leHQgY2hlY2sgaWYgdGhlIHVzZXIganVzdCBzY3JvbGxlZCB3aXRoaW4gdGhlIHN0YXJ0IHRocmVzaG9sZFxuICAgIC8vIGFuZCBjYWxsIG9uU3RhcnRSZWFjaGVkIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBjb250ZW50IGxlbmd0aCxcbiAgICAvLyBhbmQgb25seSBpZiBvbkVuZFJlYWNoZWQgaXMgbm90IGJlaW5nIGV4ZWN1dGVkXG4gICAgZWxzZSBpZiAoXG4gICAgICBvblN0YXJ0UmVhY2hlZCAhPSBudWxsICYmXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgPT09IDAgJiZcbiAgICAgIGlzV2l0aGluU3RhcnRUaHJlc2hvbGQgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCAhPT0gdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aFxuICAgICkge1xuICAgICAgdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcbiAgICAgIG9uU3RhcnRSZWFjaGVkKHtkaXN0YW5jZUZyb21TdGFydH0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSB1c2VyIHNjcm9sbHMgYXdheSBmcm9tIHRoZSBzdGFydCBvciBlbmQgYW5kIGJhY2sgYWdhaW4sXG4gICAgLy8gY2F1c2Ugb25TdGFydFJlYWNoZWQgb3Igb25FbmRSZWFjaGVkIHRvIGJlIHRyaWdnZXJlZCBhZ2FpblxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fc2VudFN0YXJ0Rm9yQ29udGVudExlbmd0aCA9IGlzV2l0aGluU3RhcnRUaHJlc2hvbGRcbiAgICAgICAgPyB0aGlzLl9zZW50U3RhcnRGb3JDb250ZW50TGVuZ3RoXG4gICAgICAgIDogMDtcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gaXNXaXRoaW5FbmRUaHJlc2hvbGRcbiAgICAgICAgPyB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aFxuICAgICAgICA6IDA7XG4gICAgfVxuICB9XG5cbiAgX29uQ29udGVudFNpemVDaGFuZ2UgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICBpZiAoXG4gICAgICB3aWR0aCA+IDAgJiZcbiAgICAgIGhlaWdodCA+IDAgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID4gMCAmJlxuICAgICAgIXRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4XG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0ID09IG51bGwpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IDxcbiAgICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7XG4gICAgICAgICAgICBhbmltYXRlZDogZmFsc2UsXG4gICAgICAgICAgICBpbmRleDogbnVsbHRocm93cyh0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxUb0VuZCh7YW5pbWF0ZWQ6IGZhbHNlfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe2hlaWdodCwgd2lkdGh9KTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gIH07XG5cbiAgLyogVHJhbnNsYXRlcyBtZXRyaWNzIGZyb20gYSBzY3JvbGwgZXZlbnQgaW4gYSBwYXJlbnQgVmlydHVhbGl6ZWRMaXN0IGludG9cbiAgICogY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGhlIGNoaWxkIGxpc3QuXG4gICAqL1xuICBfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MgPSAobWV0cmljczoge1xuICAgIHZpc2libGVMZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICAuLi5cbiAgfSk6ICRGbG93Rml4TWUgPT4ge1xuICAgIC8vIE9mZnNldCBvZiB0aGUgdG9wIG9mIHRoZSBuZXN0ZWQgbGlzdCByZWxhdGl2ZSB0byB0aGUgdG9wIG9mIGl0cyBwYXJlbnQncyB2aWV3cG9ydFxuICAgIGNvbnN0IG9mZnNldCA9IG1ldHJpY3Mub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdDtcbiAgICAvLyBDaGlsZCdzIHZpc2libGUgbGVuZ3RoIGlzIHRoZSBzYW1lIGFzIGl0cyBwYXJlbnQnc1xuICAgIGNvbnN0IHZpc2libGVMZW5ndGggPSBtZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgY29uc3QgZE9mZnNldCA9IG9mZnNldCAtIHRoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBvZmZzZXQsXG4gICAgICBkT2Zmc2V0LFxuICAgIH07XG4gIH07XG5cbiAgX29uU2Nyb2xsID0gKGU6IE9iamVjdCkgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vblNjcm9sbChlKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNjcm9sbCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNjcm9sbChlKTtcbiAgICB9XG4gICAgY29uc3QgdGltZXN0YW1wID0gZS50aW1lU3RhbXA7XG4gICAgbGV0IHZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXRNZWFzdXJlbWVudCk7XG4gICAgbGV0IGNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5jb250ZW50U2l6ZSk7XG4gICAgbGV0IG9mZnNldCA9IHRoaXMuX3NlbGVjdE9mZnNldChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRPZmZzZXQpO1xuICAgIGxldCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIGlmICh0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gSWdub3JlIHNjcm9sbCBldmVudHMgdW50aWwgb25MYXlvdXQgaGFzIGJlZW4gY2FsbGVkIGFuZCB3ZVxuICAgICAgICAvLyBrbm93IG91ciBvZmZzZXQgZnJvbSBvdXIgb2Zmc2V0IGZyb20gb3VyIHBhcmVudFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAoe3Zpc2libGVMZW5ndGgsIGNvbnRlbnRMZW5ndGgsIG9mZnNldCwgZE9mZnNldH0gPVxuICAgICAgICB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wXG4gICAgICA/IE1hdGgubWF4KDEsIHRpbWVzdGFtcCAtIHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wKVxuICAgICAgOiAxO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZE9mZnNldCAvIGR0O1xuXG4gICAgaWYgKFxuICAgICAgZHQgPiA1MDAgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQgPiA1MDAgJiZcbiAgICAgIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5wZXJmXG4gICAgKSB7XG4gICAgICBpbmZvTG9nKFxuICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgK1xuICAgICAgICAgICdyZW5kZXJJdGVtIGZ1bmN0aW9uIHJlbmRlcnMgY29tcG9uZW50cyB0aGF0IGZvbGxvdyBSZWFjdCBwZXJmb3JtYW5jZSBiZXN0IHByYWN0aWNlcyAnICtcbiAgICAgICAgICAnbGlrZSBQdXJlQ29tcG9uZW50LCBzaG91bGRDb21wb25lbnRVcGRhdGUsIGV0Yy4nLFxuICAgICAgICB7ZHQsIHByZXZEdDogdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCwgY29udGVudExlbmd0aH0sXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZvciBpbnZhbGlkIG5lZ2F0aXZlIHZhbHVlcyAody8gUlRMKSwgc2V0IHRoaXMgdG8gMS5cbiAgICBjb25zdCB6b29tU2NhbGUgPSBlLm5hdGl2ZUV2ZW50Lnpvb21TY2FsZSA8IDAgPyAxIDogZS5uYXRpdmVFdmVudC56b29tU2NhbGU7XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcyA9IHtcbiAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICBkdCxcbiAgICAgIGRPZmZzZXQsXG4gICAgICBvZmZzZXQsXG4gICAgICB0aW1lc3RhbXAsXG4gICAgICB2ZWxvY2l0eSxcbiAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICB6b29tU2NhbGUsXG4gICAgfTtcbiAgICBpZiAodGhpcy5zdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7XG4gICAgICAgIHBlbmRpbmdTY3JvbGxVcGRhdGVDb3VudDogc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50IC0gMSxcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQpO1xuICAgIGlmICghdGhpcy5wcm9wcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tYXliZUNhbGxPbkVkZ2VSZWFjaGVkKCk7XG4gICAgaWYgKHZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gIH07XG5cbiAgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGgsIHZlbG9jaXR5fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBsZXQgaGlQcmkgPSBmYWxzZTtcbiAgICBjb25zdCBvblN0YXJ0UmVhY2hlZFRocmVzaG9sZCA9IG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KFxuICAgICAgdGhpcy5wcm9wcy5vblN0YXJ0UmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IG9uRW5kUmVhY2hlZFRocmVzaG9sZCA9IG9uRW5kUmVhY2hlZFRocmVzaG9sZE9yRGVmYXVsdChcbiAgICAgIHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkLFxuICAgICk7XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBzdGFydCBvZiB0aGUgZmlyc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBiZWZvcmUgdGhlIGZpcnN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoZmlyc3QgPiAwKSB7XG4gICAgICBjb25zdCBkaXN0VG9wID1cbiAgICAgICAgb2Zmc2V0IC0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCwgdGhpcy5wcm9wcykub2Zmc2V0O1xuICAgICAgaGlQcmkgPVxuICAgICAgICBkaXN0VG9wIDwgMCB8fFxuICAgICAgICAodmVsb2NpdHkgPCAtMiAmJlxuICAgICAgICAgIGRpc3RUb3AgPFxuICAgICAgICAgICAgZ2V0U2Nyb2xsaW5nVGhyZXNob2xkKG9uU3RhcnRSZWFjaGVkVGhyZXNob2xkLCB2aXNpYmxlTGVuZ3RoKSk7XG4gICAgfVxuICAgIC8vIE1hcmsgYXMgaGlnaCBwcmlvcml0eSBpZiB3ZSdyZSBjbG9zZSB0byB0aGUgZW5kIG9mIHRoZSBsYXN0IGl0ZW1cbiAgICAvLyBCdXQgb25seSBpZiB0aGVyZSBhcmUgaXRlbXMgYWZ0ZXIgdGhlIGxhc3QgcmVuZGVyZWQgaXRlbVxuICAgIGlmICghaGlQcmkgJiYgbGFzdCA+PSAwICYmIGxhc3QgPCBpdGVtQ291bnQgLSAxKSB7XG4gICAgICBjb25zdCBkaXN0Qm90dG9tID1cbiAgICAgICAgdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0LCB0aGlzLnByb3BzKS5vZmZzZXQgLVxuICAgICAgICAob2Zmc2V0ICsgdmlzaWJsZUxlbmd0aCk7XG4gICAgICBoaVByaSA9XG4gICAgICAgIGRpc3RCb3R0b20gPCAwIHx8XG4gICAgICAgICh2ZWxvY2l0eSA+IDIgJiZcbiAgICAgICAgICBkaXN0Qm90dG9tIDxcbiAgICAgICAgICAgIGdldFNjcm9sbGluZ1RocmVzaG9sZChvbkVuZFJlYWNoZWRUaHJlc2hvbGQsIHZpc2libGVMZW5ndGgpKTtcbiAgICB9XG4gICAgLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICBpZiAoXG4gICAgICBoaVByaSAmJlxuICAgICAgKHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoIHx8IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCkgJiZcbiAgICAgICF0aGlzLl9oaVByaUluUHJvZ3Jlc3NcbiAgICApIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBEb24ndCB3b3JyeSBhYm91dCBpbnRlcmFjdGlvbnMgd2hlbiBzY3JvbGxpbmcgcXVpY2tseTsgZm9jdXMgb24gZmlsbGluZyBjb250ZW50IGFzIGZhc3RcbiAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSh7YWJvcnQ6IHRydWV9KTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuc2NoZWR1bGUoKTtcbiAgICB9XG4gIH1cblxuICBfb25TY3JvbGxCZWdpbkRyYWcgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX2hhc0ludGVyYWN0ZWQgPSB0cnVlO1xuICAgIHRoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgfTtcblxuICBfb25TY3JvbGxFbmREcmFnID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgICB9KTtcbiAgICBjb25zdCB7dmVsb2NpdHl9ID0gZS5uYXRpdmVFdmVudDtcbiAgICBpZiAodmVsb2NpdHkpIHtcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSB0aGlzLl9zZWxlY3RPZmZzZXQodmVsb2NpdHkpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcoZSk7XG4gIH07XG5cbiAgX29uTW9tZW50dW1TY3JvbGxCZWdpbiA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gICAgfSk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4oZSk7XG4gIH07XG5cbiAgX29uTW9tZW50dW1TY3JvbGxFbmQgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gMDtcbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kICYmIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZChlKTtcbiAgfTtcblxuICBfdXBkYXRlQ2VsbHNUb1JlbmRlciA9ICgpID0+IHtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG5cbiAgICB0aGlzLnNldFN0YXRlKChzdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgIGNvbnN0IGNlbGxzQXJvdW5kVmlld3BvcnQgPSB0aGlzLl9hZGp1c3RDZWxsc0Fyb3VuZFZpZXdwb3J0KFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICAgc3RhdGUucGVuZGluZ1Njcm9sbFVwZGF0ZUNvdW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlbmRlck1hc2sgPSBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgICAgIHByb3BzLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICB0aGlzLl9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMocHJvcHMpLFxuICAgICAgKTtcblxuICAgICAgaWYgKFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID09PSBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ICYmXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA9PT0gc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICYmXG4gICAgICAgIHJlbmRlck1hc2suZXF1YWxzKHN0YXRlLnJlbmRlck1hc2spXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7Y2VsbHNBcm91bmRWaWV3cG9ydCwgcmVuZGVyTWFza307XG4gICAgfSk7XG4gIH07XG5cbiAgX2NyZWF0ZVZpZXdUb2tlbiA9IChcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGlzVmlld2FibGU6IGJvb2xlYW4sXG4gICAgcHJvcHM6IEZyYW1lTWV0cmljUHJvcHMsXG4gICAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICApID0+IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbX0gPSBwcm9wcztcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4LFxuICAgICAgaXRlbSxcbiAgICAgIGtleTogVmlydHVhbGl6ZWRMaXN0Ll9rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgsIHByb3BzKSxcbiAgICAgIGlzVmlld2FibGUsXG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyBhbiBhcHByb3hpbWF0ZSBvZmZzZXQgdG8gYW4gaXRlbSBhdCBhIGdpdmVuIGluZGV4LiBTdXBwb3J0c1xuICAgKiBmcmFjdGlvbmFsIGluZGljZXMuXG4gICAqL1xuICBfZ2V0T2Zmc2V0QXBwcm94ID0gKGluZGV4OiBudW1iZXIsIHByb3BzOiBGcmFtZU1ldHJpY1Byb3BzKTogbnVtYmVyID0+IHtcbiAgICBpZiAoTnVtYmVyLmlzSW50ZWdlcihpbmRleCkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGluZGV4LCBwcm9wcykub2Zmc2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmcmFtZU1ldHJpY3MgPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KFxuICAgICAgICBNYXRoLmZsb29yKGluZGV4KSxcbiAgICAgICAgcHJvcHMsXG4gICAgICApO1xuICAgICAgY29uc3QgcmVtYWluZGVyID0gaW5kZXggLSBNYXRoLmZsb29yKGluZGV4KTtcbiAgICAgIHJldHVybiBmcmFtZU1ldHJpY3Mub2Zmc2V0ICsgcmVtYWluZGVyICogZnJhbWVNZXRyaWNzLmxlbmd0aDtcbiAgICB9XG4gIH07XG5cbiAgX19nZXRGcmFtZU1ldHJpY3NBcHByb3g6IChcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHByb3BzOiBGcmFtZU1ldHJpY1Byb3BzLFxuICApID0+IHtcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICAuLi5cbiAgfSA9IChpbmRleCwgcHJvcHMpID0+IHtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljcyhpbmRleCwgcHJvcHMpO1xuICAgIGlmIChmcmFtZSAmJiBmcmFtZS5pbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgIC8vIGNoZWNrIGZvciBpbnZhbGlkIGZyYW1lcyBkdWUgdG8gcm93IHJlLW9yZGVyaW5nXG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIGdldEl0ZW1MYXlvdXR9ID0gcHJvcHM7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGluZGV4ID49IDAgJiYgaW5kZXggPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgICdUcmllZCB0byBnZXQgZnJhbWUgZm9yIG91dCBvZiByYW5nZSBpbmRleCAnICsgaW5kZXgsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhZ2V0SXRlbUxheW91dCxcbiAgICAgICAgJ1Nob3VsZCBub3QgaGF2ZSB0byBlc3RpbWF0ZSBmcmFtZXMgd2hlbiBhIG1lYXN1cmVtZW50IG1ldHJpY3MgZnVuY3Rpb24gaXMgcHJvdmlkZWQnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlbmd0aDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGgsXG4gICAgICAgIG9mZnNldDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggKiBpbmRleCxcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIF9nZXRGcmFtZU1ldHJpY3MgPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBwcm9wczogRnJhbWVNZXRyaWNQcm9wcyxcbiAgKTogP3tcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGluTGF5b3V0PzogYm9vbGVhbixcbiAgICAuLi5cbiAgfSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudCwgZ2V0SXRlbUxheW91dH0gPSBwcm9wcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA+PSAwICYmIGluZGV4IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgJ1RyaWVkIHRvIGdldCBmcmFtZSBmb3Igb3V0IG9mIHJhbmdlIGluZGV4ICcgKyBpbmRleCxcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZnJhbWVzW1ZpcnR1YWxpemVkTGlzdC5fZ2V0SXRlbUtleShwcm9wcywgaW5kZXgpXTtcbiAgICBpZiAoIWZyYW1lIHx8IGZyYW1lLmluZGV4ICE9PSBpbmRleCkge1xuICAgICAgaWYgKGdldEl0ZW1MYXlvdXQpIHtcbiAgICAgICAgLyogJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddICg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvclxuICAgICAgICAgKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgcmV0dXJuIGdldEl0ZW1MYXlvdXQoZGF0YSwgaW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJhbWU7XG4gIH07XG5cbiAgX2dldE5vblZpZXdwb3J0UmVuZGVyUmVnaW9ucyA9IChcbiAgICBwcm9wczogRnJhbWVNZXRyaWNQcm9wcyxcbiAgKTogJFJlYWRPbmx5QXJyYXk8e1xuICAgIGZpcnN0OiBudW1iZXIsXG4gICAgbGFzdDogbnVtYmVyLFxuICB9PiA9PiB7XG4gICAgLy8gS2VlcCBhIHZpZXdwb3J0J3Mgd29ydGggb2YgY29udGVudCBhcm91bmQgdGhlIGxhc3QgZm9jdXNlZCBjZWxsIHRvIGFsbG93XG4gICAgLy8gcmFuZG9tIG5hdmlnYXRpb24gYXJvdW5kIGl0IHdpdGhvdXQgYW55IGJsYW5raW5nLiBFLmcuIHRhYmJpbmcgZnJvbSBvbmVcbiAgICAvLyBmb2N1c2VkIGl0ZW0gb3V0IG9mIHZpZXdwb3J0IHRvIGFub3RoZXIuXG4gICAgaWYgKFxuICAgICAgISh0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXkgJiYgdGhpcy5fY2VsbFJlZnNbdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXN0Rm9jdXNlZENlbGxSZW5kZXJlciA9IHRoaXMuX2NlbGxSZWZzW3RoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleV07XG4gICAgY29uc3QgZm9jdXNlZENlbGxJbmRleCA9IGxhc3RGb2N1c2VkQ2VsbFJlbmRlcmVyLnByb3BzLmluZGV4O1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcblxuICAgIC8vIFRoZSBsYXN0IGNlbGwgd2UgcmVuZGVyZWQgbWF5IGJlIGF0IGEgbmV3IGluZGV4LiBCYWlsIGlmIHdlIGRvbid0IGtub3dcbiAgICAvLyB3aGVyZSBpdCBpcy5cbiAgICBpZiAoXG4gICAgICBmb2N1c2VkQ2VsbEluZGV4ID49IGl0ZW1Db3VudCB8fFxuICAgICAgVmlydHVhbGl6ZWRMaXN0Ll9nZXRJdGVtS2V5KHByb3BzLCBmb2N1c2VkQ2VsbEluZGV4KSAhPT1cbiAgICAgICAgdGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5XG4gICAgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgbGV0IGZpcnN0ID0gZm9jdXNlZENlbGxJbmRleDtcbiAgICBsZXQgaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQgPSAwO1xuICAgIGZvciAoXG4gICAgICBsZXQgaSA9IGZpcnN0IC0gMTtcbiAgICAgIGkgPj0gMCAmJiBoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCA8IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgIGktLVxuICAgICkge1xuICAgICAgZmlyc3QtLTtcbiAgICAgIGhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkICs9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goXG4gICAgICAgIGksXG4gICAgICAgIHByb3BzLFxuICAgICAgKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgbGV0IGxhc3QgPSBmb2N1c2VkQ2VsbEluZGV4O1xuICAgIGxldCBoZWlnaHRPZkNlbGxzQWZ0ZXJGb2N1c2VkID0gMDtcbiAgICBmb3IgKFxuICAgICAgbGV0IGkgPSBsYXN0ICsgMTtcbiAgICAgIGkgPCBpdGVtQ291bnQgJiZcbiAgICAgIGhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQgPCB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICBpKytcbiAgICApIHtcbiAgICAgIGxhc3QrKztcbiAgICAgIGhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQgKz0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcHMsXG4gICAgICApLmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gW3tmaXJzdCwgbGFzdH1dO1xuICB9O1xuXG4gIF91cGRhdGVWaWV3YWJsZUl0ZW1zKFxuICAgIHByb3BzOiBGcmFtZU1ldHJpY1Byb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICApIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGFueSBwZW5kaW5nIHNjcm9sbCB1cGRhdGVzIGl0IG1lYW5zIHRoYXQgdGhlIHNjcm9sbCBtZXRyaWNzXG4gICAgLy8gYXJlIG91dCBvZiBkYXRlIGFuZCB3ZSBzaG91bGQgbm90IGNhbGwgYW55IG9mIHRoZSB2aXNpYmlsaXR5IGNhbGxiYWNrcy5cbiAgICBpZiAodGhpcy5zdGF0ZS5wZW5kaW5nU2Nyb2xsVXBkYXRlQ291bnQgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIub25VcGRhdGUoXG4gICAgICAgIHByb3BzLFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3MsXG4gICAgICAgIHRoaXMuX2NyZWF0ZVZpZXdUb2tlbixcbiAgICAgICAgdHVwbGUub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICB2ZXJ0aWNhbGx5SW52ZXJ0ZWQ6XG4gICAgUGxhdGZvcm0uT1MgPT09ICdhbmRyb2lkJ1xuICAgICAgPyB7dHJhbnNmb3JtOiBbe3NjYWxlOiAtMX1dfVxuICAgICAgOiB7dHJhbnNmb3JtOiBbe3NjYWxlWTogLTF9XX0sXG4gIGhvcml6b250YWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWDogLTF9XSxcbiAgfSxcbiAgZGVidWc6IHtcbiAgICBmbGV4OiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlCYXNlOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICB9LFxuICBkZWJ1Z092ZXJsYXk6IHtcbiAgICBib3R0b206IDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgYm9yZGVyV2lkdGg6IDEsXG4gIH0sXG4gIGRlYnVnT3ZlcmxheUZyYW1lOiB7XG4gICAgbGVmdDogMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdvcmFuZ2UnLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZUxhc3Q6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAnZ3JlZW4nLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZVZpczoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgIGJvcmRlcldpZHRoOiAyLFxuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlydHVhbGl6ZWRMaXN0O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBMEJBLElBQUFBLFlBQUEsR0FBQUMsT0FBQTtBQVFBLElBQUFDLFlBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLE1BQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFJLFFBQUEsR0FBQUYsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFLLGVBQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLG9CQUFBLEdBQUFKLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBTyxlQUFBLEdBQUFMLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBUSx1QkFBQSxHQUFBTixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQVMsa0JBQUEsR0FBQVAsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFVLDRCQUFBLEdBQUFSLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBVyx1QkFBQSxHQUFBWCxPQUFBO0FBS0EsSUFBQVksZ0JBQUEsR0FBQVosT0FBQTtBQUlBLElBQUFhLFVBQUEsR0FBQVgsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFjLFdBQUEsR0FBQVosc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFlLEtBQUEsR0FBQUMsdUJBQUEsQ0FBQWhCLE9BQUE7QUFBK0IsSUFBQWlCLFdBQUEsR0FBQWpCLE9BQUE7QUFBQSxTQUFBZ0Isd0JBQUFFLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixP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QUFFekUsS0FBSyxDQUFDO01BQzVDLElBQUloRCxHQUFHLEtBQUswVyxNQUFNLENBQUMxVCxLQUFLLENBQUMsRUFBRTtRQUN6QmhHLGdCQUFnQixHQUFHLElBQUk7UUFDdkIsSUFBSXlLLElBQUksQ0FBQ2tQLElBQUksSUFBSWxQLElBQUksQ0FBQ2tQLElBQUksQ0FBQ0MsV0FBVyxFQUFFO1VBQ3RDM1oseUJBQXlCLEdBQUd3SyxJQUFJLENBQUNrUCxJQUFJLENBQUNDLFdBQVc7UUFDbkQ7TUFDRjtNQUNBLE9BQU81VyxHQUFHO0lBQ1o7RUFBQztBQUFBLEVBN3ZCMkI2VywrQkFBc0I7QUFBOUN2WSxlQUFlLENBQ1p3WSxXQUFXLEdBQWtDQyw4Q0FBc0I7QUFpMkQ1RSxJQUFNMUgsTUFBTSxHQUFHekQsdUJBQVUsQ0FBQ29MLE1BQU0sQ0FBQztFQUMvQnpILGtCQUFrQixFQUNoQjBILHFCQUFRLENBQUNDLEVBQUUsS0FBSyxTQUFTLEdBQ3JCO0lBQUNDLFNBQVMsRUFBRSxDQUFDO01BQUNDLEtBQUssRUFBRSxDQUFDO0lBQUMsQ0FBQztFQUFDLENBQUMsR0FDMUI7SUFBQ0QsU0FBUyxFQUFFLENBQUM7TUFBQ0UsTUFBTSxFQUFFLENBQUM7SUFBQyxDQUFDO0VBQUMsQ0FBQztFQUNqQy9ILG9CQUFvQixFQUFFO0lBQ3BCNkgsU0FBUyxFQUFFLENBQUM7TUFBQ0csTUFBTSxFQUFFLENBQUM7SUFBQyxDQUFDO0VBQzFCLENBQUM7RUFDRHZKLEtBQUssRUFBRTtJQUNMd0osSUFBSSxFQUFFO0VBQ1IsQ0FBQztFQUNEbkUsZ0JBQWdCLEVBQUU7SUFDaEJvRSxRQUFRLEVBQUUsVUFBVTtJQUNwQmpFLEdBQUcsRUFBRSxDQUFDO0lBQ05rRSxLQUFLLEVBQUU7RUFDVCxDQUFDO0VBQ0RwRSxZQUFZLEVBQUU7SUFDWnFFLE1BQU0sRUFBRSxDQUFDO0lBQ1RoVCxLQUFLLEVBQUUsRUFBRTtJQUNUaVQsV0FBVyxFQUFFLE1BQU07SUFDbkJDLFdBQVcsRUFBRTtFQUNmLENBQUM7RUFDRHRFLGlCQUFpQixFQUFFO0lBQ2pCdUUsSUFBSSxFQUFFLENBQUM7SUFDUEMsZUFBZSxFQUFFO0VBQ25CLENBQUM7RUFDRHRFLHFCQUFxQixFQUFFO0lBQ3JCcUUsSUFBSSxFQUFFLENBQUM7SUFDUEYsV0FBVyxFQUFFLE9BQU87SUFDcEJDLFdBQVcsRUFBRTtFQUNmLENBQUM7RUFDRG5FLG9CQUFvQixFQUFFO0lBQ3BCb0UsSUFBSSxFQUFFLENBQUM7SUFDUEYsV0FBVyxFQUFFLEtBQUs7SUFDbEJDLFdBQVcsRUFBRTtFQUNmO0FBQ0YsQ0FBQyxDQUFDO0FBRUZHLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHMVosZUFBZSIsImlnbm9yZUxpc3QiOltdfQ==