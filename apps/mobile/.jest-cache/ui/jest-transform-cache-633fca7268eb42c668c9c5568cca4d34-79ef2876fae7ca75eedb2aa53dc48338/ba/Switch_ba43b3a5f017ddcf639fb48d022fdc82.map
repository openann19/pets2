{"version":3,"names":["_StyleSheet","_interopRequireDefault","require","_Platform","_useMergeRefs","_AndroidSwitchNativeComponent","_interopRequireWildcard","_SwitchNativeComponent","React","_jsxRuntime","_excluded","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","returnsFalse","returnsTrue","SwitchWithForwardedRef","forwardRef","Switch","props","forwardedRef","disabled","ios_backgroundColor","onChange","onValueChange","style","thumbColor","trackColor","value","restProps","_objectWithoutProperties2","trackColorForFalse","false","trackColorForTrue","true","nativeSwitchRef","useRef","ref","useMergeRefs","_React$useState","useState","_React$useState2","_slicedToArray2","native","setNative","handleChange","event","nativeEvent","useLayoutEffect","_nativeSwitchRef$curr","jsValue","shouldUpdateNativeSwitch","current","setNativeProps","Platform","OS","AndroidSwitchCommands","setNativeValue","SwitchCommands","setValue","_props$accessibilityR","accessibilityState","_disabled","_accessibilityState","platformProps","enabled","on","thumbTintColor","trackTintColor","jsx","accessibilityRole","onResponderTerminationRequest","onStartShouldSetResponder","_props$accessibilityR2","onTintColor","StyleSheet","compose","height","width","backgroundColor","borderRadius","tintColor","_default","exports"],"sources":["Switch.js"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict-local\n * @format\n * @generate-docs\n */\n\nimport type {ColorValue} from '../../StyleSheet/StyleSheet';\nimport type {SyntheticEvent} from '../../Types/CoreEventTypes';\nimport type {ViewProps} from '../View/ViewPropTypes';\n\nimport StyleSheet from '../../StyleSheet/StyleSheet';\nimport Platform from '../../Utilities/Platform';\nimport useMergeRefs from '../../Utilities/useMergeRefs';\nimport AndroidSwitchNativeComponent, {\n  Commands as AndroidSwitchCommands,\n} from './AndroidSwitchNativeComponent';\nimport SwitchNativeComponent, {\n  Commands as SwitchCommands,\n} from './SwitchNativeComponent';\nimport * as React from 'react';\n\ntype SwitchChangeEvent = SyntheticEvent<\n  $ReadOnly<{|\n    value: boolean,\n    target: number,\n  |}>,\n>;\n\nexport type Props = $ReadOnly<{|\n  ...ViewProps,\n\n  /**\n    If true the user won't be able to toggle the switch.\n\n    @default false\n   */\n  disabled?: ?boolean,\n\n  /**\n    The value of the switch. If true the switch will be turned on.\n\n    @default false\n   */\n  value?: ?boolean,\n\n  /**\n    Color of the foreground switch grip. If this is set on iOS, the switch grip will lose its drop shadow.\n   */\n  thumbColor?: ?ColorValue,\n\n  /**\n    Custom colors for the switch track.\n\n    _iOS_: When the switch value is false, the track shrinks into the border. If you want to change the\n    color of the background exposed by the shrunken track, use\n     [`ios_backgroundColor`](https://reactnative.dev/docs/switch#ios_backgroundColor).\n   */\n  trackColor?: ?$ReadOnly<{|\n    false?: ?ColorValue,\n    true?: ?ColorValue,\n  |}>,\n\n  /**\n    On iOS, custom color for the background. This background color can be\n    seen either when the switch value is false or when the switch is\n    disabled (and the switch is translucent).\n   */\n  ios_backgroundColor?: ?ColorValue,\n\n  /**\n    Invoked when the user tries to change the value of the switch. Receives\n    the change event as an argument. If you want to only receive the new\n    value, use `onValueChange` instead.\n   */\n  onChange?: ?(event: SwitchChangeEvent) => Promise<void> | void,\n\n  /**\n    Invoked when the user tries to change the value of the switch. Receives\n    the new value as an argument. If you want to instead receive an event,\n    use `onChange`.\n   */\n  onValueChange?: ?(value: boolean) => Promise<void> | void,\n|}>;\nconst returnsFalse = () => false;\nconst returnsTrue = () => true;\n\n/**\n  Renders a boolean input.\n\n  This is a controlled component that requires an `onValueChange`\n  callback that updates the `value` prop in order for the component to\n  reflect user actions. If the `value` prop is not updated, the\n  component will continue to render the supplied `value` prop instead of\n  the expected result of any user actions.\n\n  ```SnackPlayer name=Switch\n  import React, { useState } from \"react\";\n  import { View, Switch, StyleSheet } from \"react-native\";\n\n  const App = () => {\n    const [isEnabled, setIsEnabled] = useState(false);\n    const toggleSwitch = () => setIsEnabled(previousState => !previousState);\n\n    return (\n      <View style={styles.container}>\n        <Switch\n          trackColor={{ false: \"#767577\", true: \"#81b0ff\" }}\n          thumbColor={isEnabled ? \"#f5dd4b\" : \"#f4f3f4\"}\n          ios_backgroundColor=\"#3e3e3e\"\n          onValueChange={toggleSwitch}\n          value={isEnabled}\n        />\n      </View>\n    );\n  }\n\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    }\n  });\n\n  export default App;\n  ```\n */\n\nconst SwitchWithForwardedRef: React.AbstractComponent<\n  Props,\n  React.ElementRef<\n    typeof SwitchNativeComponent | typeof AndroidSwitchNativeComponent,\n  >,\n> = React.forwardRef(function Switch(props, forwardedRef): React.Node {\n  const {\n    disabled,\n    ios_backgroundColor,\n    onChange,\n    onValueChange,\n    style,\n    thumbColor,\n    trackColor,\n    value,\n    ...restProps\n  } = props;\n  const trackColorForFalse = trackColor?.false;\n  const trackColorForTrue = trackColor?.true;\n\n  const nativeSwitchRef = React.useRef<React.ElementRef<\n    typeof SwitchNativeComponent | typeof AndroidSwitchNativeComponent,\n  > | null>(null);\n\n  const ref = useMergeRefs(nativeSwitchRef, forwardedRef);\n\n  const [native, setNative] = React.useState({value: (null: ?boolean)});\n\n  const handleChange = (event: SwitchChangeEvent) => {\n    // $FlowFixMe[unused-promise]\n    onChange?.(event);\n    // $FlowFixMe[unused-promise]\n    onValueChange?.(event.nativeEvent.value);\n    setNative({value: event.nativeEvent.value});\n  };\n\n  React.useLayoutEffect(() => {\n    // This is necessary in case native updates the switch and JS decides\n    // that the update should be ignored and we should stick with the value\n    // that we have in JS.\n    const jsValue = value === true;\n    const shouldUpdateNativeSwitch =\n      native.value != null && native.value !== jsValue;\n    if (\n      shouldUpdateNativeSwitch &&\n      nativeSwitchRef.current?.setNativeProps != null\n    ) {\n      if (Platform.OS === 'android') {\n        AndroidSwitchCommands.setNativeValue(nativeSwitchRef.current, jsValue);\n      } else {\n        SwitchCommands.setValue(nativeSwitchRef.current, jsValue);\n      }\n    }\n  }, [value, native]);\n\n  if (Platform.OS === 'android') {\n    const {accessibilityState} = restProps;\n    const _disabled =\n      disabled != null ? disabled : accessibilityState?.disabled;\n\n    const _accessibilityState =\n      _disabled !== accessibilityState?.disabled\n        ? {...accessibilityState, disabled: _disabled}\n        : accessibilityState;\n\n    const platformProps = {\n      accessibilityState: _accessibilityState,\n      enabled: _disabled !== true,\n      on: value === true,\n      style,\n      thumbTintColor: thumbColor,\n      trackColorForFalse: trackColorForFalse,\n      trackColorForTrue: trackColorForTrue,\n      trackTintColor: value === true ? trackColorForTrue : trackColorForFalse,\n    };\n\n    return (\n      <AndroidSwitchNativeComponent\n        {...restProps}\n        {...platformProps}\n        accessibilityRole={props.accessibilityRole ?? 'switch'}\n        onChange={handleChange}\n        onResponderTerminationRequest={returnsFalse}\n        onStartShouldSetResponder={returnsTrue}\n        ref={ref}\n      />\n    );\n  } else {\n    const platformProps = {\n      disabled,\n      onTintColor: trackColorForTrue,\n      style: StyleSheet.compose(\n        {height: 31, width: 51},\n        StyleSheet.compose(\n          style,\n          ios_backgroundColor == null\n            ? null\n            : {\n                backgroundColor: ios_backgroundColor,\n                borderRadius: 16,\n              },\n        ),\n      ),\n      thumbTintColor: thumbColor,\n      tintColor: trackColorForFalse,\n      value: value === true,\n    };\n\n    return (\n      <SwitchNativeComponent\n        {...restProps}\n        {...platformProps}\n        accessibilityRole={props.accessibilityRole ?? 'switch'}\n        onChange={handleChange}\n        onResponderTerminationRequest={returnsFalse}\n        onStartShouldSetResponder={returnsTrue}\n        ref={ref}\n      />\n    );\n  }\n});\n\nexport default SwitchWithForwardedRef;\n"],"mappings":"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","ignoreList":[]}