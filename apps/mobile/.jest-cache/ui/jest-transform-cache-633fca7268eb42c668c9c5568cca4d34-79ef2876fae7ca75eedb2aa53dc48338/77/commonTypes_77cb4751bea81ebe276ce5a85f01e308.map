{"version":3,"names":["Object","defineProperty","exports","value","isWorkletFunction","SharedTransitionType","SensorType","ReduceMotion","LayoutAnimationType","KeyboardState","InterfaceOrientation","IOSReferenceFrame","_worklet_10789598570169_init_data","code","location","sourceMap","_e","global","Error","_f","__workletHash","_closure","__initData","__stackDetails","__version"],"sources":["commonTypes.ts"],"sourcesContent":["'use strict';\nimport type {\n  ImageStyle,\n  TextStyle,\n  TransformsStyle,\n  ViewStyle,\n} from 'react-native';\n\nimport type { EasingFunctionFactory } from './Easing';\nimport type { ReanimatedModuleProxy } from './ReanimatedModule';\nimport type { WorkletsModuleProxy } from './worklets';\n\nexport interface IWorkletsModule extends WorkletsModuleProxy {}\n\nexport interface IReanimatedModule\n  extends Omit<ReanimatedModuleProxy, 'getViewProp'> {\n  getViewProp<TValue>(\n    viewTag: number,\n    propName: string,\n    component: React.Component | undefined,\n    callback?: (result: TValue) => void\n  ): Promise<TValue>;\n}\n\nexport type LayoutAnimationsOptions =\n  | 'originX'\n  | 'originY'\n  | 'width'\n  | 'height'\n  | 'borderRadius'\n  | 'globalOriginX'\n  | 'globalOriginY';\n\ntype CurrentLayoutAnimationsValues = {\n  [K in LayoutAnimationsOptions as `current${Capitalize<string & K>}`]: number;\n};\n\ntype TargetLayoutAnimationsValues = {\n  [K in LayoutAnimationsOptions as `target${Capitalize<string & K>}`]: number;\n};\n\ninterface WindowDimensions {\n  windowWidth: number;\n  windowHeight: number;\n}\n\nexport interface KeyframeProps extends StyleProps {\n  easing?: EasingFunction | EasingFunctionFactory;\n}\n\ntype FirstFrame =\n  | {\n      0: KeyframeProps & { easing?: never };\n      from?: never;\n    }\n  | {\n      0?: never;\n      from: KeyframeProps & { easing?: never };\n    };\n\ntype LastFrame =\n  | { 100?: KeyframeProps; to?: never }\n  | { 100?: never; to: KeyframeProps };\n\nexport type ValidKeyframeProps = FirstFrame &\n  LastFrame &\n  Record<number, KeyframeProps>;\n\nexport type MaybeInvalidKeyframeProps = Record<number, KeyframeProps> & {\n  to?: KeyframeProps;\n  from?: KeyframeProps;\n};\n\nexport type LayoutAnimation = {\n  initialValues: StyleProps;\n  animations: StyleProps;\n  callback?: (finished: boolean) => void;\n};\n\nexport type AnimationFunction = (a?: any, b?: any, c?: any) => any; // this is just a temporary mock\n\nexport type EntryAnimationsValues = TargetLayoutAnimationsValues &\n  WindowDimensions;\n\nexport type ExitAnimationsValues = CurrentLayoutAnimationsValues &\n  WindowDimensions;\n\nexport type EntryExitAnimationFunction =\n  | ((targetValues: EntryAnimationsValues) => LayoutAnimation)\n  | ((targetValues: ExitAnimationsValues) => LayoutAnimation)\n  | (() => LayoutAnimation);\n\nexport type AnimationConfigFunction<T> = (targetValues: T) => LayoutAnimation;\n\nexport type LayoutAnimationsValues = CurrentLayoutAnimationsValues &\n  TargetLayoutAnimationsValues &\n  WindowDimensions;\n\nexport interface SharedTransitionAnimationsValues\n  extends LayoutAnimationsValues {\n  currentTransformMatrix: number[];\n  targetTransformMatrix: number[];\n}\n\nexport type SharedTransitionAnimationsFunction = (\n  values: SharedTransitionAnimationsValues\n) => LayoutAnimation;\n\nexport enum LayoutAnimationType {\n  ENTERING = 1,\n  EXITING = 2,\n  LAYOUT = 3,\n  SHARED_ELEMENT_TRANSITION = 4,\n  SHARED_ELEMENT_TRANSITION_PROGRESS = 5,\n}\n\nexport type LayoutAnimationFunction = (\n  targetValues: LayoutAnimationsValues\n) => LayoutAnimation;\n\nexport type LayoutAnimationStartFunction = (\n  tag: number,\n  type: LayoutAnimationType,\n  yogaValues: Partial<SharedTransitionAnimationsValues>,\n  config: (arg: Partial<SharedTransitionAnimationsValues>) => LayoutAnimation\n) => void;\n\nexport interface ILayoutAnimationBuilder {\n  build: () => LayoutAnimationFunction;\n}\n\nexport interface BaseLayoutAnimationConfig {\n  duration?: number;\n  easing?: EasingFunction | EasingFunctionFactory;\n  type?: AnimationFunction;\n  damping?: number;\n  dampingRatio?: number;\n  mass?: number;\n  stiffness?: number;\n  overshootClamping?: number;\n  restDisplacementThreshold?: number;\n  restSpeedThreshold?: number;\n}\n\nexport interface BaseBuilderAnimationConfig extends BaseLayoutAnimationConfig {\n  rotate?: number | string;\n}\n\nexport type LayoutAnimationAndConfig = [\n  AnimationFunction,\n  BaseBuilderAnimationConfig,\n];\n\nexport interface IEntryExitAnimationBuilder {\n  build: () => EntryExitAnimationFunction;\n}\n\nexport interface IEntryAnimationBuilder {\n  build: () => AnimationConfigFunction<EntryAnimationsValues>;\n}\n\nexport interface IExitAnimationBuilder {\n  build: () => AnimationConfigFunction<ExitAnimationsValues>;\n}\n\nexport type ProgressAnimationCallback = (\n  viewTag: number,\n  progress: number\n) => void;\n\nexport type ProgressAnimation = (\n  viewTag: number,\n  values: SharedTransitionAnimationsValues,\n  progress: number\n) => void;\n\nexport type CustomProgressAnimation = (\n  values: SharedTransitionAnimationsValues,\n  progress: number\n) => StyleProps;\n\n/**\n * Used to configure the `.defaultTransitionType()` shared transition modifier.\n *\n * @experimental\n */\nexport enum SharedTransitionType {\n  ANIMATION = 'animation',\n  PROGRESS_ANIMATION = 'progressAnimation',\n}\n\nexport type EntryExitAnimationsValues =\n  | EntryAnimationsValues\n  | ExitAnimationsValues;\n\nexport type StylePropsWithArrayTransform = StyleProps & {\n  transform?: TransformArrayItem[];\n};\n\nexport interface LayoutAnimationBatchItem {\n  viewTag: number;\n  type: LayoutAnimationType;\n  config:\n    | ShareableRef<\n        | Keyframe\n        | LayoutAnimationFunction\n        | SharedTransitionAnimationsFunction\n        | ProgressAnimationCallback\n      >\n    | undefined;\n  sharedTransitionTag?: string;\n}\n\nexport type RequiredKeys<T, K extends keyof T> = T & Required<Pick<T, K>>;\nexport interface StyleProps extends ViewStyle, TextStyle {\n  originX?: number;\n  originY?: number;\n  [key: string]: any;\n}\n\n/**\n * A value that can be used both on the [JavaScript\n * thread](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#javascript-thread)\n * and the [UI\n * thread](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#ui-thread).\n *\n * Shared values are defined using\n * [useSharedValue](https://docs.swmansion.com/react-native-reanimated/docs/core/useSharedValue)\n * hook. You access and modify shared values by their `.value` property.\n */\nexport interface SharedValue<Value = unknown> {\n  value: Value;\n  get(): Value;\n  set(value: Value | ((value: Value) => Value)): void;\n  addListener: (listenerID: number, listener: (value: Value) => void) => void;\n  removeListener: (listenerID: number) => void;\n  modify: (\n    modifier?: <T extends Value>(value: T) => T,\n    forceUpdate?: boolean\n  ) => void;\n}\n\n/**\n * Due to pattern of `MaybeSharedValue` type present in `AnimatedProps`\n * (`AnimatedStyle`), contravariance breaks types for animated styles etc.\n * Instead of refactoring the code with small chances of success, we just\n * disable contravariance for `SharedValue` in this problematic case.\n */\ntype SharedValueDisableContravariance<Value = unknown> = Omit<\n  SharedValue<Value>,\n  'set'\n>;\n\nexport interface Mutable<Value = unknown> extends SharedValue<Value> {\n  _isReanimatedSharedValue: true;\n  _animation?: AnimationObject<Value> | null; // only in Native\n  /**\n   * `_value` prop should only be accessed by the `valueSetter` implementation\n   * which may make the decision about updating the mutable value depending on\n   * the provided new value. All other places should only attempt to modify the\n   * mutable by assigning to `value` prop directly or by calling the `set`\n   * method.\n   */\n  _value: Value;\n}\n\n// The below type is used for HostObjects returned by the JSI API that don't have\n// any accessible fields or methods but can carry data that is accessed from the\n// c++ side. We add a field to the type to make it possible for typescript to recognize\n// which JSI methods accept those types as arguments and to be able to correctly type\n// check other methods that may use them. However, this field is not actually defined\n// nor should be used for anything else as assigning any data to those objects will\n// throw an error.\nexport type ShareableRef<T = unknown> = {\n  __hostObjectShareableJSRef: T;\n};\n\n// In case of objects with depth or arrays of objects or arrays of arrays etc.\n// we add this utility type that makes it a `SharaebleRef` of the outermost type.\nexport type FlatShareableRef<T> =\n  T extends ShareableRef<infer U> ? ShareableRef<U> : ShareableRef<T>;\n\nexport type MapperRawInputs = unknown[];\n\nexport type MapperOutputs = SharedValue[];\n\nexport type MapperRegistry = {\n  start: (\n    mapperID: number,\n    worklet: () => void,\n    inputs: MapperRawInputs,\n    outputs?: MapperOutputs\n  ) => void;\n  stop: (mapperID: number) => void;\n};\n\nexport type WorkletStackDetails = [\n  error: Error,\n  lineOffset: number,\n  columnOffset: number,\n];\n\ntype WorkletClosure = Record<string, unknown>;\n\ninterface WorkletInitDataCommon {\n  code: string;\n}\n\ntype WorkletInitDataRelease = WorkletInitDataCommon;\n\ninterface WorkletInitDataDev extends WorkletInitDataCommon {\n  location: string;\n  sourceMap: string;\n  version: string;\n}\n\ninterface WorkletBaseCommon {\n  __closure: WorkletClosure;\n  __workletHash: number;\n}\n\ninterface WorkletBaseRelease extends WorkletBaseCommon {\n  __initData: WorkletInitDataRelease;\n}\n\ninterface WorkletBaseDev extends WorkletBaseCommon {\n  __initData: WorkletInitDataDev;\n  /** `__stackDetails` is removed after parsing. */\n  __stackDetails?: WorkletStackDetails;\n}\n\nexport type WorkletFunctionDev<\n  Args extends unknown[] = unknown[],\n  ReturnValue = unknown,\n> = ((...args: Args) => ReturnValue) & WorkletBaseDev;\n\ntype WorkletFunctionRelease<\n  Args extends unknown[] = unknown[],\n  ReturnValue = unknown,\n> = ((...args: Args) => ReturnValue) & WorkletBaseRelease;\n\nexport type WorkletFunction<\n  Args extends unknown[] = unknown[],\n  ReturnValue = unknown,\n> =\n  | WorkletFunctionDev<Args, ReturnValue>\n  | WorkletFunctionRelease<Args, ReturnValue>;\n\n/**\n * This function allows you to determine if a given function is a worklet. It\n * only works with Reanimated Babel plugin enabled. Unless you are doing\n * something with internals of Reanimated you shouldn't need to use this\n * function.\n *\n * ### Note\n *\n * Do not call it before the worklet is declared, as it will always return false\n * then. E.g.:\n *\n * ```ts\n * isWorkletFunction(myWorklet); // Will always return false.\n *\n * function myWorklet() {\n *   'worklet';\n * }\n * ```\n *\n * ### Maintainer note\n *\n * This function is supposed to be used only in the React Runtime. It always\n * returns `false` in Worklet Runtimes.\n */\nexport function isWorkletFunction<\n  Args extends unknown[] = unknown[],\n  ReturnValue = unknown,\n  BuildType extends WorkletBaseDev | WorkletBaseRelease = WorkletBaseDev,\n>(value: unknown): value is WorkletFunction<Args, ReturnValue> & BuildType {\n  'worklet';\n  // Since host objects always return true for `in` operator, we have to use dot notation to check if the property exists.\n  // See https://github.com/facebook/hermes/blob/340726ef8cf666a7cce75bc60b02fa56b3e54560/lib/VM/JSObject.cpp#L1276.\n\n  return (\n    // `__workletHash` isn't extracted in Worklet Runtimes.\n    typeof value === 'function' &&\n    !!(value as unknown as Record<string, unknown>).__workletHash\n  );\n}\n\nexport type AnimatedPropsAdapterFunction = (\n  props: Record<string, unknown>\n) => void;\n\nexport type AnimatedPropsAdapterWorklet = WorkletFunction<\n  [props: Record<string, unknown>],\n  void\n>;\n\nexport interface NestedObject<T> {\n  [key: string]: NestedObjectValues<T>;\n}\n\nexport type NestedObjectValues<T> =\n  | T\n  | Array<NestedObjectValues<T>>\n  | NestedObject<T>;\n\ntype Animatable = number | string | Array<number>;\n\nexport type AnimatableValueObject = { [key: string]: Animatable };\n\nexport type AnimatableValue = Animatable | AnimatableValueObject;\n\nexport interface AnimationObject<T = AnimatableValue> {\n  [key: string]: any;\n  callback?: AnimationCallback;\n  current?: T;\n  toValue?: AnimationObject<T>['current'];\n  startValue?: AnimationObject<T>['current'];\n  finished?: boolean;\n  strippedCurrent?: number;\n  cancelled?: boolean;\n  reduceMotion?: boolean;\n\n  __prefix?: string;\n  __suffix?: string;\n  onFrame: (animation: any, timestamp: Timestamp) => boolean;\n  onStart: (\n    nextAnimation: any,\n    current: any,\n    timestamp: Timestamp,\n    previousAnimation: any\n  ) => void;\n}\n\nexport interface Animation<T extends AnimationObject> extends AnimationObject {\n  onFrame: (animation: T, timestamp: Timestamp) => boolean;\n  onStart: (\n    nextAnimation: T,\n    current: AnimatableValue,\n    timestamp: Timestamp,\n    previousAnimation: Animation<any> | null | T\n  ) => void;\n}\n\nexport enum SensorType {\n  ACCELEROMETER = 1,\n  GYROSCOPE = 2,\n  GRAVITY = 3,\n  MAGNETIC_FIELD = 4,\n  ROTATION = 5,\n}\nexport enum IOSReferenceFrame {\n  XArbitraryZVertical,\n  XArbitraryCorrectedZVertical,\n  XMagneticNorthZVertical,\n  XTrueNorthZVertical,\n  Auto,\n}\n\nexport type SensorConfig = {\n  interval: number | 'auto';\n  adjustToInterfaceOrientation: boolean;\n  iosReferenceFrame: IOSReferenceFrame;\n};\n\nexport type AnimatedSensor<T extends Value3D | ValueRotation> = {\n  sensor: SharedValue<T>;\n  unregister: () => void;\n  isAvailable: boolean;\n  config: SensorConfig;\n};\n\n/**\n * A function called upon animation completion. If the animation is cancelled,\n * the callback will receive `false` as the argument; otherwise, it will receive\n * `true`.\n */\nexport type AnimationCallback = (\n  finished?: boolean,\n  current?: AnimatableValue\n) => void;\n\nexport type Timestamp = number;\n\nexport type Value3D = {\n  x: number;\n  y: number;\n  z: number;\n  interfaceOrientation: InterfaceOrientation;\n};\n\nexport type ValueRotation = {\n  qw: number;\n  qx: number;\n  qy: number;\n  qz: number;\n  yaw: number;\n  pitch: number;\n  roll: number;\n  interfaceOrientation: InterfaceOrientation;\n};\n\nexport enum InterfaceOrientation {\n  ROTATION_0 = 0,\n  ROTATION_90 = 90,\n  ROTATION_180 = 180,\n  ROTATION_270 = 270,\n}\n\nexport type ShadowNodeWrapper = {\n  __hostObjectShadowNodeWrapper: never;\n};\n\nexport enum KeyboardState {\n  UNKNOWN = 0,\n  OPENING = 1,\n  OPEN = 2,\n  CLOSING = 3,\n  CLOSED = 4,\n}\n\nexport type AnimatedKeyboardInfo = {\n  height: SharedValue<number>;\n  state: SharedValue<KeyboardState>;\n};\n\n/**\n * @param x - A number representing X coordinate relative to the parent\n *   component.\n * @param y - A number representing Y coordinate relative to the parent\n *   component.\n * @param width - A number representing the width of the component.\n * @param height - A number representing the height of the component.\n * @param pageX - A number representing X coordinate relative to the screen.\n * @param pageY - A number representing Y coordinate relative to the screen.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/measure#returns\n */\nexport interface MeasuredDimensions {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  pageX: number;\n  pageY: number;\n}\n\nexport interface AnimatedKeyboardOptions {\n  isStatusBarTranslucentAndroid?: boolean;\n  isNavigationBarTranslucentAndroid?: boolean;\n}\n\n/**\n * @param System - If the `Reduce motion` accessibility setting is enabled on\n *   the device, disable the animation. Otherwise, enable the animation.\n * @param Always - Disable the animation.\n * @param Never - Enable the animation.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/guides/accessibility\n */\nexport enum ReduceMotion {\n  System = 'system',\n  Always = 'always',\n  Never = 'never',\n}\n\nexport type EasingFunction = (t: number) => number;\n\nexport type TransformArrayItem = Extract<\n  TransformsStyle['transform'],\n  Array<unknown>\n>[number];\n\ntype MaybeSharedValue<Value> =\n  | Value\n  | (Value extends AnimatableValue\n      ? SharedValueDisableContravariance<Value>\n      : never);\n\ntype MaybeSharedValueRecursive<Value> = Value extends (infer Item)[]\n  ?\n      | SharedValueDisableContravariance<Item[]>\n      | (MaybeSharedValueRecursive<Item> | Item)[]\n  : Value extends object\n    ?\n        | SharedValueDisableContravariance<Value>\n        | {\n            [Key in keyof Value]:\n              | MaybeSharedValueRecursive<Value[Key]>\n              | Value[Key];\n          }\n    : MaybeSharedValue<Value>;\n\ntype DefaultStyle = ViewStyle & ImageStyle & TextStyle;\n\n// Ideally we want AnimatedStyle to not be generic, but there are\n// so many dependencies on it being generic that it's not feasible at the moment.\nexport type AnimatedStyle<Style = DefaultStyle> =\n  | Style\n  | MaybeSharedValueRecursive<Style>;\n\nexport type AnimatedTransform = MaybeSharedValueRecursive<\n  TransformsStyle['transform']\n>;\n\n/** @deprecated Please use {@link AnimatedStyle} type instead. */\nexport type AnimateStyle<Style = DefaultStyle> = AnimatedStyle<Style>;\n\n/** @deprecated This type is no longer relevant. */\nexport type StylesOrDefault<T> = 'style' extends keyof T\n  ? MaybeSharedValueRecursive<T['style']>\n  : Record<string, unknown>;\n"],"mappings":"AAAA,YAAY;;AAACA,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,iBAAA,GAAAF,OAAA,CAAAG,oBAAA,GAAAH,OAAA,CAAAI,UAAA,GAAAJ,OAAA,CAAAK,YAAA,GAAAL,OAAA,CAAAM,mBAAA,GAAAN,OAAA,CAAAO,aAAA,GAAAP,OAAA,CAAAQ,oBAAA,GAAAR,OAAA,CAAAS,iBAAA;AAAA,IA4GDH,mBAAmB,GAAAN,OAAA,CAAAM,mBAAA,aAAnBA,mBAAmB;EAAnBA,mBAAmB,CAAnBA,mBAAmB;EAAnBA,mBAAmB,CAAnBA,mBAAmB;EAAnBA,mBAAmB,CAAnBA,mBAAmB;EAAnBA,mBAAmB,CAAnBA,mBAAmB;EAAnBA,mBAAmB,CAAnBA,mBAAmB;EAAA,OAAnBA,mBAAmB;AAAA;AAAA,IA8EnBH,oBAAoB,GAAAH,OAAA,CAAAG,oBAAA,aAApBA,oBAAoB;EAApBA,oBAAoB;EAApBA,oBAAoB;EAAA,OAApBA,oBAAoB;AAAA;AAAA,IAAAO,iCAAA;EAAAC,IAAA;EAAAC,QAAA;EAAAC,SAAA;AAAA;AAAA,IA0LhBX,iBAAiB,GAAAF,OAAA,CAAAE,iBAAA;EAAA,IAAAY,EAAA,QAAAC,MAAA,CAAAC,KAAA;EAAA,IAAAC,EAAA,YAAAA,GAI/BhB,KAAc,EAA2D;IAKzE,QAEE,OAAOA,KAAK,KAAK,UAAU,IAC3B,CAAC,CAAEA,KAAK,CAAwCiB;IAAa;EAEjE,CAAC;EAAAD,EAAA,CAAAE,QAAA;EAAAF,EAAA,CAAAG,UAAA,GAAAV,iCAAA;EAAAO,EAAA,CAAAC,aAAA;EAAAD,EAAA,CAAAI,cAAA,GAAAP,EAAA;EAAAG,EAAA,CAAAK,SAAA;EAAA,OAAAL,EAAA;AAAA;AAAA,IA0DWb,UAAU,GAAAJ,OAAA,CAAAI,UAAA,aAAVA,UAAU;EAAVA,UAAU,CAAVA,UAAU;EAAVA,UAAU,CAAVA,UAAU;EAAVA,UAAU,CAAVA,UAAU;EAAVA,UAAU,CAAVA,UAAU;EAAVA,UAAU,CAAVA,UAAU;EAAA,OAAVA,UAAU;AAAA;AAAA,IAOVK,iBAAiB,GAAAT,OAAA,CAAAS,iBAAA,aAAjBA,iBAAiB;EAAjBA,iBAAiB,CAAjBA,iBAAiB;EAAjBA,iBAAiB,CAAjBA,iBAAiB;EAAjBA,iBAAiB,CAAjBA,iBAAiB;EAAjBA,iBAAiB,CAAjBA,iBAAiB;EAAjBA,iBAAiB,CAAjBA,iBAAiB;EAAA,OAAjBA,iBAAiB;AAAA;AAAA,IAmDjBD,oBAAoB,GAAAR,OAAA,CAAAQ,oBAAA,aAApBA,oBAAoB;EAApBA,oBAAoB,CAApBA,oBAAoB;EAApBA,oBAAoB,CAApBA,oBAAoB;EAApBA,oBAAoB,CAApBA,oBAAoB;EAApBA,oBAAoB,CAApBA,oBAAoB;EAAA,OAApBA,oBAAoB;AAAA;AAAA,IAWpBD,aAAa,GAAAP,OAAA,CAAAO,aAAA,aAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAA,OAAbA,aAAa;AAAA;AAAA,IA6CbF,YAAY,GAAAL,OAAA,CAAAK,YAAA,aAAZA,YAAY;EAAZA,YAAY;EAAZA,YAAY;EAAZA,YAAY;EAAA,OAAZA,YAAY;AAAA","ignoreList":[]}