5a338ab4807a53645ca785145e2fd550
"use strict";

_getJestObj().mock("react-native-maps");
_getJestObj().mock("expo-linear-gradient", function () {
  var React = require("react");
  var _require = require("react-native"),
    View = _require.View;
  return {
    LinearGradient: function LinearGradient(_ref) {
      var children = _ref.children,
        rest = (0, _objectWithoutProperties2.default)(_ref, _excluded);
      return (0, _jsxRuntime.jsx)(View, _objectSpread(_objectSpread({
        accessibilityLabel: "LinearGradient"
      }, rest), {}, {
        children: children
      }));
    }
  };
});
_getJestObj().mock("../../components/map", function () {
  var React = require("react");
  var _require2 = require("react-native"),
    View = _require2.View,
    Text = _require2.Text,
    TouchableOpacity = _require2.TouchableOpacity;
  return {
    MapFiltersModal: function MapFiltersModal() {
      return (0, _jsxRuntime.jsx)(View, {
        testID: "MapFiltersModal"
      });
    },
    MapStatsPanel: function MapStatsPanel() {
      return (0, _jsxRuntime.jsx)(View, {
        testID: "MapStatsPanel",
        children: (0, _jsxRuntime.jsx)(Text, {
          children: "stats"
        })
      });
    },
    PinDetailsModal: function PinDetailsModal(_ref2) {
      var visible = _ref2.visible,
        onClose = _ref2.onClose;
      return visible ? (0, _jsxRuntime.jsx)(View, {
        testID: "PinDetailsModal",
        children: (0, _jsxRuntime.jsx)(TouchableOpacity, {
          accessibilityLabel: "close-pin",
          testID: "MapScreen.interactions.test-button-2",
          accessibilityRole: "button",
          onPress: onClose,
          children: (0, _jsxRuntime.jsx)(Text, {
            children: "Close Pin"
          })
        })
      }) : null;
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _testUtils = require("./test-utils");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["children"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t2 in e) "default" !== _t2 && {}.hasOwnProperty.call(e, _t2) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t2)) && (i.get || i.set) ? o(f, _t2, i) : f[_t2] = e[_t2]); return f; })(e, t); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _getJestObj() {
  var _require3 = require("@jest/globals"),
    jest = _require3.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var baseHook = {
  region: {
    latitude: 42.6977,
    longitude: 23.3219,
    latitudeDelta: 0.05,
    longitudeDelta: 0.05
  },
  userLocation: {
    latitude: 42.6977,
    longitude: 23.3219
  },
  filters: {
    radius: 500,
    types: {
      walk: true
    }
  },
  stats: {
    activeDogs: 3,
    activeCats: 1,
    hotspots: 2
  },
  filterPanelHeight: {},
  statsOpacity: {},
  activityTypes: ["walk", "play", "lost_pet"],
  setSelectedPin: jest.fn(),
  setFilters: jest.fn(),
  getCurrentLocation: jest.fn(),
  toggleFilterPanel: jest.fn(),
  toggleActivity: jest.fn(),
  getMarkerColor: function getMarkerColor(activity, isMatch) {
    return isMatch ? "#00ff88" : activity === "walk" ? "#4da6ff" : "#fff";
  },
  getStableMatchFlag: function getStableMatchFlag(pin) {
    return pin.activity === "walk";
  }
};
describe("MapScreen (interactions)", function () {
  afterEach(function () {
    jest.resetModules();
    jest.clearAllMocks();
  });
  it("tapping a Marker calls setSelectedPin and opens PinDetailsModal; close hides it", (0, _asyncToGenerator2.default)(function* () {
    jest.doMock("../../hooks/screens/useMapScreen", function () {
      return {
        useMapScreen: function useMapScreen() {
          return _objectSpread(_objectSpread({}, baseHook), {}, {
            filteredPins: [{
              _id: "pin-1",
              latitude: 1,
              longitude: 1,
              activity: "walk",
              message: "hello",
              title: "Pin #1"
            }],
            selectedPin: {
              _id: "pin-1"
            }
          });
        }
      };
    });
    var _yield$import = yield Promise.resolve().then(function () {
        return _interopRequireWildcard(require("../MapScreen"));
      }),
      MapScreen = _yield$import.default;
    var _renderWithProviders = (0, _testUtils.renderWithProviders)((0, _jsxRuntime.jsx)(MapScreen, {
        navigation: {
          navigate: _testUtils.mockNavigate
        },
        as: true,
        any: true
      })),
      getAllByTestId = _renderWithProviders.getAllByTestId,
      getByTestId = _renderWithProviders.getByTestId,
      getByLabelText = _renderWithProviders.getByLabelText,
      queryByTestId = _renderWithProviders.queryByTestId;
    var markers = getAllByTestId("Marker");
    expect(markers.length).toBeGreaterThan(0);
    _reactNative.fireEvent.press(markers[0]);
    expect(getByTestId("PinDetailsModal")).toBeTruthy();
    _reactNative.fireEvent.press(getByLabelText("close-pin"));
    expect(queryByTestId("PinDetailsModal")).toBeFalsy();
  }));
  it("AR FAB is disabled when userLocation is missing (no navigation occurs)", (0, _asyncToGenerator2.default)(function* () {
    var navSpy = _testUtils.mockNavigate;
    jest.doMock("../../hooks/screens/useMapScreen", function () {
      return {
        useMapScreen: function useMapScreen() {
          return _objectSpread(_objectSpread({}, baseHook), {}, {
            userLocation: null,
            filteredPins: [{
              _id: "pin-1",
              latitude: 1,
              longitude: 1,
              activity: "walk",
              title: "Pin #1"
            }],
            selectedPin: null
          });
        }
      };
    });
    var _yield$import2 = yield Promise.resolve().then(function () {
        return _interopRequireWildcard(require("../MapScreen"));
      }),
      MapScreen = _yield$import2.default;
    var _renderWithProviders2 = (0, _testUtils.renderWithProviders)((0, _jsxRuntime.jsx)(MapScreen, {
        navigation: {
          navigate: _testUtils.mockNavigate
        },
        as: true,
        any: true
      })),
      getAllByText = _renderWithProviders2.getAllByText;
    _reactNative.fireEvent.press(getAllByText("👁️")[0]);
    expect(navSpy).not.toHaveBeenCalled();
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJSZWFjdCIsInJlcXVpcmUiLCJfcmVxdWlyZSIsIlZpZXciLCJMaW5lYXJHcmFkaWVudCIsIl9yZWYiLCJjaGlsZHJlbiIsInJlc3QiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiZGVmYXVsdCIsIl9leGNsdWRlZCIsIl9qc3hSdW50aW1lIiwianN4IiwiX29iamVjdFNwcmVhZCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIl9yZXF1aXJlMiIsIlRleHQiLCJUb3VjaGFibGVPcGFjaXR5IiwiTWFwRmlsdGVyc01vZGFsIiwidGVzdElEIiwiTWFwU3RhdHNQYW5lbCIsIlBpbkRldGFpbHNNb2RhbCIsIl9yZWYyIiwidmlzaWJsZSIsIm9uQ2xvc2UiLCJhY2Nlc3NpYmlsaXR5Um9sZSIsIm9uUHJlc3MiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX2RlZmluZVByb3BlcnR5MiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl90ZXN0VXRpbHMiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImhhcyIsImdldCIsInNldCIsIl90MiIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwib3duS2V5cyIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJmaWx0ZXIiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiX3JlcXVpcmUzIiwiamVzdCIsImJhc2VIb29rIiwicmVnaW9uIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJsYXRpdHVkZURlbHRhIiwibG9uZ2l0dWRlRGVsdGEiLCJ1c2VyTG9jYXRpb24iLCJmaWx0ZXJzIiwicmFkaXVzIiwidHlwZXMiLCJ3YWxrIiwic3RhdHMiLCJhY3RpdmVEb2dzIiwiYWN0aXZlQ2F0cyIsImhvdHNwb3RzIiwiZmlsdGVyUGFuZWxIZWlnaHQiLCJzdGF0c09wYWNpdHkiLCJhY3Rpdml0eVR5cGVzIiwic2V0U2VsZWN0ZWRQaW4iLCJmbiIsInNldEZpbHRlcnMiLCJnZXRDdXJyZW50TG9jYXRpb24iLCJ0b2dnbGVGaWx0ZXJQYW5lbCIsInRvZ2dsZUFjdGl2aXR5IiwiZ2V0TWFya2VyQ29sb3IiLCJhY3Rpdml0eSIsImlzTWF0Y2giLCJnZXRTdGFibGVNYXRjaEZsYWciLCJwaW4iLCJkZXNjcmliZSIsImFmdGVyRWFjaCIsInJlc2V0TW9kdWxlcyIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImRvTW9jayIsInVzZU1hcFNjcmVlbiIsImZpbHRlcmVkUGlucyIsIl9pZCIsIm1lc3NhZ2UiLCJ0aXRsZSIsInNlbGVjdGVkUGluIiwiX3lpZWxkJGltcG9ydCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIk1hcFNjcmVlbiIsIl9yZW5kZXJXaXRoUHJvdmlkZXJzIiwicmVuZGVyV2l0aFByb3ZpZGVycyIsIm5hdmlnYXRpb24iLCJuYXZpZ2F0ZSIsIm1vY2tOYXZpZ2F0ZSIsImFzIiwiYW55IiwiZ2V0QWxsQnlUZXN0SWQiLCJnZXRCeVRlc3RJZCIsImdldEJ5TGFiZWxUZXh0IiwicXVlcnlCeVRlc3RJZCIsIm1hcmtlcnMiLCJleHBlY3QiLCJ0b0JlR3JlYXRlclRoYW4iLCJmaXJlRXZlbnQiLCJwcmVzcyIsInRvQmVUcnV0aHkiLCJ0b0JlRmFsc3kiLCJuYXZTcHkiLCJfeWllbGQkaW1wb3J0MiIsIl9yZW5kZXJXaXRoUHJvdmlkZXJzMiIsImdldEFsbEJ5VGV4dCIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiXSwic291cmNlcyI6WyJNYXBTY3JlZW4uaW50ZXJhY3Rpb25zLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZVwiO1xuaW1wb3J0IHsgcmVuZGVyV2l0aFByb3ZpZGVycywgbW9ja05hdmlnYXRlIH0gZnJvbSBcIi4vdGVzdC11dGlsc1wiO1xuXG4vKiBVc2Ugc2hhcmVkIHBybyBtYXAgbW9jayB3aXRoIG9uUHJlc3Mgc3VwcG9ydCAqL1xuamVzdC5tb2NrKFwicmVhY3QtbmF0aXZlLW1hcHNcIik7XG5cbmplc3QubW9jayhcImV4cG8tbGluZWFyLWdyYWRpZW50XCIsICgpID0+IHtcbiAgY29uc3QgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG4gIGNvbnN0IHsgVmlldyB9ID0gcmVxdWlyZShcInJlYWN0LW5hdGl2ZVwiKTtcbiAgcmV0dXJuIHtcbiAgICBMaW5lYXJHcmFkaWVudDogKHsgY2hpbGRyZW4sIC4uLnJlc3QgfTogYW55KSA9PiAoXG4gICAgICA8VmlldyBhY2Nlc3NpYmlsaXR5TGFiZWw9XCJMaW5lYXJHcmFkaWVudFwiIHsuLi5yZXN0fT57Y2hpbGRyZW59PC9WaWV3PlxuICAgICksXG4gIH07XG59KTtcblxuamVzdC5tb2NrKFwiLi4vLi4vY29tcG9uZW50cy9tYXBcIiwgKCkgPT4ge1xuICBjb25zdCBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbiAgY29uc3QgeyBWaWV3LCBUZXh0LCBUb3VjaGFibGVPcGFjaXR5IH0gPSByZXF1aXJlKFwicmVhY3QtbmF0aXZlXCIpO1xuICByZXR1cm4ge1xuICAgIE1hcEZpbHRlcnNNb2RhbDogKCkgPT4gPFZpZXcgdGVzdElEPVwiTWFwRmlsdGVyc01vZGFsXCIgLz4sXG4gICAgTWFwU3RhdHNQYW5lbDogKCkgPT4gPFZpZXcgdGVzdElEPVwiTWFwU3RhdHNQYW5lbFwiPjxUZXh0PnN0YXRzPC9UZXh0PjwvVmlldz4sXG4gICAgUGluRGV0YWlsc01vZGFsOiAoeyB2aXNpYmxlLCBvbkNsb3NlIH06IGFueSkgPT5cbiAgICAgIHZpc2libGUgPyAoXG4gICAgICAgIDxWaWV3IHRlc3RJRD1cIlBpbkRldGFpbHNNb2RhbFwiPlxuICAgICAgICAgIDxUb3VjaGFibGVPcGFjaXR5IGFjY2Vzc2liaWxpdHlMYWJlbD1cImNsb3NlLXBpblwiICB0ZXN0SUQ9XCJNYXBTY3JlZW4uaW50ZXJhY3Rpb25zLnRlc3QtYnV0dG9uLTJcIiBhY2Nlc3NpYmlsaXR5Um9sZT1cImJ1dHRvblwiIG9uUHJlc3M9e29uQ2xvc2V9PlxuICAgICAgICAgICAgPFRleHQ+Q2xvc2UgUGluPC9UZXh0PlxuICAgICAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKSA6IG51bGwsXG4gIH07XG59KTtcblxuY29uc3QgYmFzZUhvb2sgPSB7XG4gIHJlZ2lvbjoge1xuICAgIGxhdGl0dWRlOiA0Mi42OTc3LCBsb25naXR1ZGU6IDIzLjMyMTksIGxhdGl0dWRlRGVsdGE6IDAuMDUsIGxvbmdpdHVkZURlbHRhOiAwLjA1LFxuICB9LFxuICB1c2VyTG9jYXRpb246IHsgbGF0aXR1ZGU6IDQyLjY5NzcsIGxvbmdpdHVkZTogMjMuMzIxOSB9LFxuICBmaWx0ZXJzOiB7IHJhZGl1czogNTAwLCB0eXBlczogeyB3YWxrOiB0cnVlIH0gfSxcbiAgc3RhdHM6IHsgYWN0aXZlRG9nczogMywgYWN0aXZlQ2F0czogMSwgaG90c3BvdHM6IDIgfSxcbiAgZmlsdGVyUGFuZWxIZWlnaHQ6IHsgfSwgc3RhdHNPcGFjaXR5OiB7IH0sXG4gIGFjdGl2aXR5VHlwZXM6IFtcIndhbGtcIixcInBsYXlcIixcImxvc3RfcGV0XCJdLFxuICBzZXRTZWxlY3RlZFBpbjogamVzdC5mbigpLFxuICBzZXRGaWx0ZXJzOiBqZXN0LmZuKCksXG4gIGdldEN1cnJlbnRMb2NhdGlvbjogamVzdC5mbigpLFxuICB0b2dnbGVGaWx0ZXJQYW5lbDogamVzdC5mbigpLFxuICB0b2dnbGVBY3Rpdml0eTogamVzdC5mbigpLFxuICBnZXRNYXJrZXJDb2xvcjogKGFjdGl2aXR5OiBzdHJpbmcsIGlzTWF0Y2g6IGJvb2xlYW4pID0+IGlzTWF0Y2ggPyBcIiMwMGZmODhcIiA6IGFjdGl2aXR5PT09XCJ3YWxrXCIgPyBcIiM0ZGE2ZmZcIiA6IFwiI2ZmZlwiLFxuICBnZXRTdGFibGVNYXRjaEZsYWc6IChwaW46IGFueSkgPT4gcGluLmFjdGl2aXR5ID09PSBcIndhbGtcIixcbn07XG5cbmRlc2NyaWJlKFwiTWFwU2NyZWVuIChpbnRlcmFjdGlvbnMpXCIsICgpID0+IHtcbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnJlc2V0TW9kdWxlcygpO1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBpdChcInRhcHBpbmcgYSBNYXJrZXIgY2FsbHMgc2V0U2VsZWN0ZWRQaW4gYW5kIG9wZW5zIFBpbkRldGFpbHNNb2RhbDsgY2xvc2UgaGlkZXMgaXRcIiwgYXN5bmMgKCkgPT4ge1xuICAgIGplc3QuZG9Nb2NrKFwiLi4vLi4vaG9va3Mvc2NyZWVucy91c2VNYXBTY3JlZW5cIiwgKCkgPT4gKHtcbiAgICAgIHVzZU1hcFNjcmVlbjogKCkgPT4gKHtcbiAgICAgICAgLi4uYmFzZUhvb2ssXG4gICAgICAgIGZpbHRlcmVkUGluczogW1xuICAgICAgICAgIHsgX2lkOiBcInBpbi0xXCIsIGxhdGl0dWRlOiAxLCBsb25naXR1ZGU6IDEsIGFjdGl2aXR5OiBcIndhbGtcIiwgbWVzc2FnZTogXCJoZWxsb1wiLCB0aXRsZTogXCJQaW4gIzFcIiB9LFxuICAgICAgICBdLFxuICAgICAgICBzZWxlY3RlZFBpbjogeyBfaWQ6IFwicGluLTFcIiB9LFxuICAgICAgfSksXG4gICAgfSkpO1xuXG4gICAgY29uc3QgeyBkZWZhdWx0OiBNYXBTY3JlZW4gfSA9IGF3YWl0IGltcG9ydChcIi4uL01hcFNjcmVlblwiKTtcbiAgICBjb25zdCB7IGdldEFsbEJ5VGVzdElkLCBnZXRCeVRlc3RJZCwgZ2V0QnlMYWJlbFRleHQsIHF1ZXJ5QnlUZXN0SWQgfSA9XG4gICAgICByZW5kZXJXaXRoUHJvdmlkZXJzKDxNYXBTY3JlZW4gbmF2aWdhdGlvbj17e25hdmlnYXRlOiBtb2NrTmF2aWdhdGV9fSBhcyBhbnkgLz4pO1xuXG4gICAgLy8gTWFya2VyIHNob3VsZCBiZSBwcmVzZW50IGFuZCBwcmVzc2FibGVcbiAgICBjb25zdCBtYXJrZXJzID0gZ2V0QWxsQnlUZXN0SWQoXCJNYXJrZXJcIik7XG4gICAgZXhwZWN0KG1hcmtlcnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgZmlyZUV2ZW50LnByZXNzKG1hcmtlcnNbMF0pO1xuXG4gICAgLy8gUGluRGV0YWlscyB2aXNpYmxlXG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKFwiUGluRGV0YWlsc01vZGFsXCIpKS50b0JlVHJ1dGh5KCk7XG5cbiAgICAvLyBDbG9zZVxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeUxhYmVsVGV4dChcImNsb3NlLXBpblwiKSk7XG4gICAgZXhwZWN0KHF1ZXJ5QnlUZXN0SWQoXCJQaW5EZXRhaWxzTW9kYWxcIikpLnRvQmVGYWxzeSgpO1xuICB9KTtcblxuICBpdChcIkFSIEZBQiBpcyBkaXNhYmxlZCB3aGVuIHVzZXJMb2NhdGlvbiBpcyBtaXNzaW5nIChubyBuYXZpZ2F0aW9uIG9jY3VycylcIiwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG5hdlNweSA9IG1vY2tOYXZpZ2F0ZTtcbiAgICBqZXN0LmRvTW9jayhcIi4uLy4uL2hvb2tzL3NjcmVlbnMvdXNlTWFwU2NyZWVuXCIsICgpID0+ICh7XG4gICAgICB1c2VNYXBTY3JlZW46ICgpID0+ICh7XG4gICAgICAgIC4uLmJhc2VIb29rLFxuICAgICAgICB1c2VyTG9jYXRpb246IG51bGwsXG4gICAgICAgIGZpbHRlcmVkUGluczogW1xuICAgICAgICAgIHsgX2lkOiBcInBpbi0xXCIsIGxhdGl0dWRlOiAxLCBsb25naXR1ZGU6IDEsIGFjdGl2aXR5OiBcIndhbGtcIiwgdGl0bGU6IFwiUGluICMxXCIgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc2VsZWN0ZWRQaW46IG51bGwsXG4gICAgICB9KSxcbiAgICB9KSk7XG5cbiAgICBjb25zdCB7IGRlZmF1bHQ6IE1hcFNjcmVlbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi4vTWFwU2NyZWVuXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWxsQnlUZXh0IH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKDxNYXBTY3JlZW4gbmF2aWdhdGlvbj17e25hdmlnYXRlOiBtb2NrTmF2aWdhdGV9fSBhcyBhbnkgLz4pO1xuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRBbGxCeVRleHQoXCLwn5GB77iPXCIpWzBdKTtcbiAgICBleHBlY3QobmF2U3B5KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICB9KTtcbn0pO1xuXG4iXSwibWFwcGluZ3MiOiI7O0FBS0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLG1CQUFtQixDQUFDO0FBRTlCRCxXQUFBLEdBQUtDLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxZQUFNO0VBQ3RDLElBQU1DLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztFQUM5QixJQUFBQyxRQUFBLEdBQWlCRCxPQUFPLENBQUMsY0FBYyxDQUFDO0lBQWhDRSxJQUFJLEdBQUFELFFBQUEsQ0FBSkMsSUFBSTtFQUNaLE9BQU87SUFDTEMsY0FBYyxFQUFFLFNBQWhCQSxjQUFjQSxDQUFBQyxJQUFBO01BQUEsSUFBS0MsUUFBUSxHQUFBRCxJQUFBLENBQVJDLFFBQVE7UUFBS0MsSUFBSSxPQUFBQyx5QkFBQSxDQUFBQyxPQUFBLEVBQUFKLElBQUEsRUFBQUssU0FBQTtNQUFBLE9BQ2xDLElBQUFDLFdBQUEsQ0FBQUMsR0FBQSxFQUFDVCxJQUFJLEVBQUFVLGFBQUEsQ0FBQUEsYUFBQTtRQUFDQyxrQkFBa0IsRUFBQztNQUFnQixHQUFLUCxJQUFJO1FBQUFELFFBQUEsRUFBR0E7TUFBUSxFQUFPLENBQUM7SUFBQTtFQUV6RSxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUZSLFdBQUEsR0FBS0MsSUFBSSx5QkFBeUIsWUFBTTtFQUN0QyxJQUFNQyxLQUFLLEdBQUdDLE9BQU8sQ0FBQyxPQUFPLENBQUM7RUFDOUIsSUFBQWMsU0FBQSxHQUF5Q2QsT0FBTyxDQUFDLGNBQWMsQ0FBQztJQUF4REUsSUFBSSxHQUFBWSxTQUFBLENBQUpaLElBQUk7SUFBRWEsSUFBSSxHQUFBRCxTQUFBLENBQUpDLElBQUk7SUFBRUMsZ0JBQWdCLEdBQUFGLFNBQUEsQ0FBaEJFLGdCQUFnQjtFQUNwQyxPQUFPO0lBQ0xDLGVBQWUsRUFBRSxTQUFqQkEsZUFBZUEsQ0FBQTtNQUFBLE9BQVEsSUFBQVAsV0FBQSxDQUFBQyxHQUFBLEVBQUNULElBQUk7UUFBQ2dCLE1BQU0sRUFBQztNQUFpQixDQUFFLENBQUM7SUFBQTtJQUN4REMsYUFBYSxFQUFFLFNBQWZBLGFBQWFBLENBQUE7TUFBQSxPQUFRLElBQUFULFdBQUEsQ0FBQUMsR0FBQSxFQUFDVCxJQUFJO1FBQUNnQixNQUFNLEVBQUMsZUFBZTtRQUFBYixRQUFBLEVBQUMsSUFBQUssV0FBQSxDQUFBQyxHQUFBLEVBQUNJLElBQUk7VUFBQVYsUUFBQSxFQUFDO1FBQUssQ0FBTTtNQUFDLENBQU0sQ0FBQztJQUFBO0lBQzNFZSxlQUFlLEVBQUUsU0FBakJBLGVBQWVBLENBQUFDLEtBQUE7TUFBQSxJQUFLQyxPQUFPLEdBQUFELEtBQUEsQ0FBUEMsT0FBTztRQUFFQyxPQUFPLEdBQUFGLEtBQUEsQ0FBUEUsT0FBTztNQUFBLE9BQ2xDRCxPQUFPLEdBQ0wsSUFBQVosV0FBQSxDQUFBQyxHQUFBLEVBQUNULElBQUk7UUFBQ2dCLE1BQU0sRUFBQyxpQkFBaUI7UUFBQWIsUUFBQSxFQUM1QixJQUFBSyxXQUFBLENBQUFDLEdBQUEsRUFBQ0ssZ0JBQWdCO1VBQUNILGtCQUFrQixFQUFDLFdBQVc7VUFBRUssTUFBTSxFQUFDLHNDQUFzQztVQUFDTSxpQkFBaUIsRUFBQyxRQUFRO1VBQUNDLE9BQU8sRUFBRUYsT0FBUTtVQUFBbEIsUUFBQSxFQUMxSSxJQUFBSyxXQUFBLENBQUFDLEdBQUEsRUFBQ0ksSUFBSTtZQUFBVixRQUFBLEVBQUM7VUFBUyxDQUFNO1FBQUMsQ0FDTjtNQUFDLENBQ2YsQ0FBQyxHQUNMLElBQUk7SUFBQTtFQUNaLENBQUM7QUFDSCxDQUFDLENBQUM7QUFBQyxJQUFBcUIsc0JBQUEsR0FBQTFCLE9BQUE7QUFBQSxJQUFBMkIsa0JBQUEsR0FBQUQsc0JBQUEsQ0FBQTFCLE9BQUE7QUFBQSxJQUFBNEIsZ0JBQUEsR0FBQUYsc0JBQUEsQ0FBQTFCLE9BQUE7QUFBQSxJQUFBTyx5QkFBQSxHQUFBbUIsc0JBQUEsQ0FBQTFCLE9BQUE7QUFoQ0gsSUFBQTZCLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQTFCLE9BQUE7QUFDQSxJQUFBOEIsWUFBQSxHQUFBOUIsT0FBQTtBQUNBLElBQUErQixVQUFBLEdBQUEvQixPQUFBO0FBQWlFLElBQUFVLFdBQUEsR0FBQVYsT0FBQTtBQUFBLElBQUFTLFNBQUE7QUFBQSxTQUFBdUIsd0JBQUFDLENBQUEsRUFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxNQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFILHVCQUFBLFlBQUFBLHdCQUFBQyxDQUFBLEVBQUFDLENBQUEsU0FBQUEsQ0FBQSxJQUFBRCxDQUFBLElBQUFBLENBQUEsQ0FBQUssVUFBQSxTQUFBTCxDQUFBLE1BQUFNLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLEtBQUFDLFNBQUEsUUFBQWxDLE9BQUEsRUFBQXlCLENBQUEsaUJBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsU0FBQVEsQ0FBQSxNQUFBRixDQUFBLEdBQUFMLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLFFBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBVixDQUFBLFVBQUFNLENBQUEsQ0FBQUssR0FBQSxDQUFBWCxDQUFBLEdBQUFNLENBQUEsQ0FBQU0sR0FBQSxDQUFBWixDQUFBLEVBQUFRLENBQUEsY0FBQUssR0FBQSxJQUFBYixDQUFBLGdCQUFBYSxHQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBZixDQUFBLEVBQUFhLEdBQUEsT0FBQU4sQ0FBQSxJQUFBRCxDQUFBLEdBQUFVLE1BQUEsQ0FBQUMsY0FBQSxLQUFBRCxNQUFBLENBQUFFLHdCQUFBLENBQUFsQixDQUFBLEVBQUFhLEdBQUEsT0FBQU4sQ0FBQSxDQUFBSSxHQUFBLElBQUFKLENBQUEsQ0FBQUssR0FBQSxJQUFBTixDQUFBLENBQUFFLENBQUEsRUFBQUssR0FBQSxFQUFBTixDQUFBLElBQUFDLENBQUEsQ0FBQUssR0FBQSxJQUFBYixDQUFBLENBQUFhLEdBQUEsV0FBQUwsQ0FBQSxLQUFBUixDQUFBLEVBQUFDLENBQUE7QUFBQSxTQUFBa0IsUUFBQW5CLENBQUEsRUFBQUcsQ0FBQSxRQUFBRixDQUFBLEdBQUFlLE1BQUEsQ0FBQUksSUFBQSxDQUFBcEIsQ0FBQSxPQUFBZ0IsTUFBQSxDQUFBSyxxQkFBQSxRQUFBZixDQUFBLEdBQUFVLE1BQUEsQ0FBQUsscUJBQUEsQ0FBQXJCLENBQUEsR0FBQUcsQ0FBQSxLQUFBRyxDQUFBLEdBQUFBLENBQUEsQ0FBQWdCLE1BQUEsV0FBQW5CLENBQUEsV0FBQWEsTUFBQSxDQUFBRSx3QkFBQSxDQUFBbEIsQ0FBQSxFQUFBRyxDQUFBLEVBQUFvQixVQUFBLE9BQUF0QixDQUFBLENBQUF1QixJQUFBLENBQUFDLEtBQUEsQ0FBQXhCLENBQUEsRUFBQUssQ0FBQSxZQUFBTCxDQUFBO0FBQUEsU0FBQXRCLGNBQUFxQixDQUFBLGFBQUFHLENBQUEsTUFBQUEsQ0FBQSxHQUFBdUIsU0FBQSxDQUFBQyxNQUFBLEVBQUF4QixDQUFBLFVBQUFGLENBQUEsV0FBQXlCLFNBQUEsQ0FBQXZCLENBQUEsSUFBQXVCLFNBQUEsQ0FBQXZCLENBQUEsUUFBQUEsQ0FBQSxPQUFBZ0IsT0FBQSxDQUFBSCxNQUFBLENBQUFmLENBQUEsT0FBQTJCLE9BQUEsV0FBQXpCLENBQUEsUUFBQVIsZ0JBQUEsQ0FBQXBCLE9BQUEsRUFBQXlCLENBQUEsRUFBQUcsQ0FBQSxFQUFBRixDQUFBLENBQUFFLENBQUEsU0FBQWEsTUFBQSxDQUFBYSx5QkFBQSxHQUFBYixNQUFBLENBQUFjLGdCQUFBLENBQUE5QixDQUFBLEVBQUFnQixNQUFBLENBQUFhLHlCQUFBLENBQUE1QixDQUFBLEtBQUFrQixPQUFBLENBQUFILE1BQUEsQ0FBQWYsQ0FBQSxHQUFBMkIsT0FBQSxXQUFBekIsQ0FBQSxJQUFBYSxNQUFBLENBQUFDLGNBQUEsQ0FBQWpCLENBQUEsRUFBQUcsQ0FBQSxFQUFBYSxNQUFBLENBQUFFLHdCQUFBLENBQUFqQixDQUFBLEVBQUFFLENBQUEsaUJBQUFILENBQUE7QUFBQSxTQUFBcEMsWUFBQTtFQUFBLElBQUFtRSxTQUFBLEdBQUFoRSxPQUFBO0lBQUFpRSxJQUFBLEdBQUFELFNBQUEsQ0FBQUMsSUFBQTtFQUFBcEUsV0FBQSxZQUFBQSxZQUFBO0lBQUEsT0FBQW9FLElBQUE7RUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQWdDakUsSUFBTUMsUUFBUSxHQUFHO0VBQ2ZDLE1BQU0sRUFBRTtJQUNOQyxRQUFRLEVBQUUsT0FBTztJQUFFQyxTQUFTLEVBQUUsT0FBTztJQUFFQyxhQUFhLEVBQUUsSUFBSTtJQUFFQyxjQUFjLEVBQUU7RUFDOUUsQ0FBQztFQUNEQyxZQUFZLEVBQUU7SUFBRUosUUFBUSxFQUFFLE9BQU87SUFBRUMsU0FBUyxFQUFFO0VBQVEsQ0FBQztFQUN2REksT0FBTyxFQUFFO0lBQUVDLE1BQU0sRUFBRSxHQUFHO0lBQUVDLEtBQUssRUFBRTtNQUFFQyxJQUFJLEVBQUU7SUFBSztFQUFFLENBQUM7RUFDL0NDLEtBQUssRUFBRTtJQUFFQyxVQUFVLEVBQUUsQ0FBQztJQUFFQyxVQUFVLEVBQUUsQ0FBQztJQUFFQyxRQUFRLEVBQUU7RUFBRSxDQUFDO0VBQ3BEQyxpQkFBaUIsRUFBRSxDQUFFLENBQUM7RUFBRUMsWUFBWSxFQUFFLENBQUUsQ0FBQztFQUN6Q0MsYUFBYSxFQUFFLENBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxVQUFVLENBQUM7RUFDekNDLGNBQWMsRUFBRW5CLElBQUksQ0FBQ29CLEVBQUUsQ0FBQyxDQUFDO0VBQ3pCQyxVQUFVLEVBQUVyQixJQUFJLENBQUNvQixFQUFFLENBQUMsQ0FBQztFQUNyQkUsa0JBQWtCLEVBQUV0QixJQUFJLENBQUNvQixFQUFFLENBQUMsQ0FBQztFQUM3QkcsaUJBQWlCLEVBQUV2QixJQUFJLENBQUNvQixFQUFFLENBQUMsQ0FBQztFQUM1QkksY0FBYyxFQUFFeEIsSUFBSSxDQUFDb0IsRUFBRSxDQUFDLENBQUM7RUFDekJLLGNBQWMsRUFBRSxTQUFoQkEsY0FBY0EsQ0FBR0MsUUFBZ0IsRUFBRUMsT0FBZ0I7SUFBQSxPQUFLQSxPQUFPLEdBQUcsU0FBUyxHQUFHRCxRQUFRLEtBQUcsTUFBTSxHQUFHLFNBQVMsR0FBRyxNQUFNO0VBQUE7RUFDcEhFLGtCQUFrQixFQUFFLFNBQXBCQSxrQkFBa0JBLENBQUdDLEdBQVE7SUFBQSxPQUFLQSxHQUFHLENBQUNILFFBQVEsS0FBSyxNQUFNO0VBQUE7QUFDM0QsQ0FBQztBQUVESSxRQUFRLENBQUMsMEJBQTBCLEVBQUUsWUFBTTtFQUN6Q0MsU0FBUyxDQUFDLFlBQU07SUFDZC9CLElBQUksQ0FBQ2dDLFlBQVksQ0FBQyxDQUFDO0lBQ25CaEMsSUFBSSxDQUFDaUMsYUFBYSxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0VBRUZDLEVBQUUsQ0FBQyxpRkFBaUYsTUFBQXhFLGtCQUFBLENBQUFuQixPQUFBLEVBQUUsYUFBWTtJQUNoR3lELElBQUksQ0FBQ21DLE1BQU0scUNBQXFDO01BQUEsT0FBTztRQUNyREMsWUFBWSxFQUFFLFNBQWRBLFlBQVlBLENBQUE7VUFBQSxPQUFBekYsYUFBQSxDQUFBQSxhQUFBLEtBQ1BzRCxRQUFRO1lBQ1hvQyxZQUFZLEVBQUUsQ0FDWjtjQUFFQyxHQUFHLEVBQUUsT0FBTztjQUFFbkMsUUFBUSxFQUFFLENBQUM7Y0FBRUMsU0FBUyxFQUFFLENBQUM7Y0FBRXNCLFFBQVEsRUFBRSxNQUFNO2NBQUVhLE9BQU8sRUFBRSxPQUFPO2NBQUVDLEtBQUssRUFBRTtZQUFTLENBQUMsQ0FDakc7WUFDREMsV0FBVyxFQUFFO2NBQUVILEdBQUcsRUFBRTtZQUFRO1VBQUM7UUFBQTtNQUVqQyxDQUFDO0lBQUEsQ0FBQyxDQUFDO0lBRUgsSUFBQUksYUFBQSxTQUFBQyxPQUFBLENBQUFDLE9BQUEsR0FBQUMsSUFBQTtRQUFBLE9BQUE5RSx1QkFBQSxDQUFBaEMsT0FBQTtNQUFBO01BQWlCK0csU0FBUyxHQUFBSixhQUFBLENBQWxCbkcsT0FBTztJQUNmLElBQUF3RyxvQkFBQSxHQUNFLElBQUFDLDhCQUFtQixFQUFDLElBQUF2RyxXQUFBLENBQUFDLEdBQUEsRUFBQ29HLFNBQVM7UUFBQ0csVUFBVSxFQUFFO1VBQUNDLFFBQVEsRUFBRUM7UUFBWSxDQUFFO1FBQUNDLEVBQUU7UUFBQ0MsR0FBRztNQUFBLENBQUUsQ0FBQyxDQUFDO01BRHpFQyxjQUFjLEdBQUFQLG9CQUFBLENBQWRPLGNBQWM7TUFBRUMsV0FBVyxHQUFBUixvQkFBQSxDQUFYUSxXQUFXO01BQUVDLGNBQWMsR0FBQVQsb0JBQUEsQ0FBZFMsY0FBYztNQUFFQyxhQUFhLEdBQUFWLG9CQUFBLENBQWJVLGFBQWE7SUFJbEUsSUFBTUMsT0FBTyxHQUFHSixjQUFjLENBQUMsUUFBUSxDQUFDO0lBQ3hDSyxNQUFNLENBQUNELE9BQU8sQ0FBQy9ELE1BQU0sQ0FBQyxDQUFDaUUsZUFBZSxDQUFDLENBQUMsQ0FBQztJQUN6Q0Msc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDSixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFHM0JDLE1BQU0sQ0FBQ0osV0FBVyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQ1EsVUFBVSxDQUFDLENBQUM7SUFHbkRGLHNCQUFTLENBQUNDLEtBQUssQ0FBQ04sY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzVDRyxNQUFNLENBQUNGLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUNPLFNBQVMsQ0FBQyxDQUFDO0VBQ3RELENBQUMsRUFBQztFQUVGOUIsRUFBRSxDQUFDLHdFQUF3RSxNQUFBeEUsa0JBQUEsQ0FBQW5CLE9BQUEsRUFBRSxhQUFZO0lBQ3ZGLElBQU0wSCxNQUFNLEdBQUdkLHVCQUFZO0lBQzNCbkQsSUFBSSxDQUFDbUMsTUFBTSxxQ0FBcUM7TUFBQSxPQUFPO1FBQ3JEQyxZQUFZLEVBQUUsU0FBZEEsWUFBWUEsQ0FBQTtVQUFBLE9BQUF6RixhQUFBLENBQUFBLGFBQUEsS0FDUHNELFFBQVE7WUFDWE0sWUFBWSxFQUFFLElBQUk7WUFDbEI4QixZQUFZLEVBQUUsQ0FDWjtjQUFFQyxHQUFHLEVBQUUsT0FBTztjQUFFbkMsUUFBUSxFQUFFLENBQUM7Y0FBRUMsU0FBUyxFQUFFLENBQUM7Y0FBRXNCLFFBQVEsRUFBRSxNQUFNO2NBQUVjLEtBQUssRUFBRTtZQUFTLENBQUMsQ0FDL0U7WUFDREMsV0FBVyxFQUFFO1VBQUk7UUFBQTtNQUVyQixDQUFDO0lBQUEsQ0FBQyxDQUFDO0lBRUgsSUFBQXlCLGNBQUEsU0FBQXZCLE9BQUEsQ0FBQUMsT0FBQSxHQUFBQyxJQUFBO1FBQUEsT0FBQTlFLHVCQUFBLENBQUFoQyxPQUFBO01BQUE7TUFBaUIrRyxTQUFTLEdBQUFvQixjQUFBLENBQWxCM0gsT0FBTztJQUNmLElBQUE0SCxxQkFBQSxHQUF5QixJQUFBbkIsOEJBQW1CLEVBQUMsSUFBQXZHLFdBQUEsQ0FBQUMsR0FBQSxFQUFDb0csU0FBUztRQUFDRyxVQUFVLEVBQUU7VUFBQ0MsUUFBUSxFQUFFQztRQUFZLENBQUU7UUFBQ0MsRUFBRTtRQUFDQyxHQUFHO01BQUEsQ0FBRSxDQUFDLENBQUM7TUFBaEdlLFlBQVksR0FBQUQscUJBQUEsQ0FBWkMsWUFBWTtJQUNwQlAsc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDTSxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkNULE1BQU0sQ0FBQ00sTUFBTSxDQUFDLENBQUNJLEdBQUcsQ0FBQ0MsZ0JBQWdCLENBQUMsQ0FBQztFQUN2QyxDQUFDLEVBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=