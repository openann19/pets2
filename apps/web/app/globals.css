@import '@pawfectmatch/ui/src/theme/web.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Enhanced CSS Variables for Premium Design System */
  :root {
    /* Accent (Royal Blue) */
    --primary-50: 239, 246, 255;      /* #eff6ff */
    --primary-500: 59, 130, 246;      /* #3b82f6 */
    --primary-600: 37, 99, 235;       /* #2563eb */
    
    /* Secondary (Cyan, subtle) */
    --secondary-50: 236, 254, 255;    /* #ecfeff */
    --secondary-500: 14, 165, 233;    /* #0ea5e9 */
    --secondary-600: 2, 132, 199;     /* #0284c7 */
    
    /* Neutral colors */
    --neutral-0: 15, 15, 15;          /* base bg */
    --neutral-50: 24, 24, 27;         /* slate-900-ish */
    --neutral-100: 17, 24, 39;        /* slate-800 */
    --neutral-500: 148, 163, 184;     /* slate-400 */
    --neutral-800: 226, 232, 240;     /* slate-200 */
    --neutral-900: 241, 245, 249;     /* slate-100 */
    --accent-rgb: 59, 130, 246;       /* #3b82f6 */
    
    /* Glass morphism */
    --glass-bg: rgba(255, 255, 255, 0.08);
    --glass-border: rgba(255, 255, 255, 0.12);
    
    /* Premium gradients */
    --gradient-primary: linear-gradient(135deg, rgba(59,130,246,0.35) 0%, rgba(37,99,235,0.35) 100%);
    --gradient-secondary: linear-gradient(135deg, rgba(14,165,233,0.28) 0%, rgba(56,189,248,0.28) 100%);
    --gradient-mesh: linear-gradient(135deg, rgba(59,130,246,0.2) 0%, rgba(99,102,241,0.18) 50%, rgba(15,23,42,0.6) 100%);
    
    /* Animation timing */
    --spring-duration: 0.4s;
    --spring-timing: cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* Dark mode class-based support */
  .dark {
    --neutral-0: 18, 18, 18;
    --neutral-50: 30, 30, 30;
    --neutral-100: 38, 38, 38;
    --neutral-500: 115, 115, 115;
    --neutral-800: 229, 229, 229;
    --neutral-900: 245, 245, 245;
    
    /* Dark glass morphism */
    --glass-bg: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 255, 255, 0.1);
  }

  @media (prefers-color-scheme: dark) {
    :root {
      /* Dark mode adjustments */
      --neutral-0: 18, 18, 18;
      --neutral-50: 30, 30, 30;
      --neutral-100: 38, 38, 38;
      --neutral-500: 115, 115, 115;
      --neutral-800: 229, 229, 229;
      --neutral-900: 245, 245, 245;
      
      /* Dark glass morphism */
      --glass-bg: rgba(255, 255, 255, 0.05);
      --glass-border: rgba(255, 255, 255, 0.1);
    }
  }

  /* Enhanced body styles */
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: rgb(var(--neutral-0));
    color: rgb(var(--neutral-900));
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Enhanced focus styles */
  *:focus {
    outline: none;
  }

  *:focus-visible {
    outline: 2px solid rgba(var(--accent-rgb), 0.9);
    outline-offset: 2px;
  }

  /* Custom scrollbars */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: rgb(var(--neutral-100));
  }

  ::-webkit-scrollbar-thumb {
    background: rgb(var(--neutral-300));
    border-radius: 3px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--primary-400));
  }
}

@layer components {
  /* Premium component styles */
  .premium-card {
    @apply bg-white dark:bg-neutral-800 rounded-2xl shadow-premium border border-neutral-200 dark:border-neutral-700;
  }

  .premium-button {
    @apply inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-200 transform-gpu;
  }

  .premium-input {
    @apply w-full rounded-xl border transition-all duration-200 focus:outline-none;
  }

  .glass-card {
    @apply backdrop-blur-premium bg-white/10 border border-white/30 rounded-2xl shadow-glass;
  }

  .gradient-text {
    @apply bg-gradient-to-r from-blue-400 to-blue-300 bg-clip-text text-transparent;
  }

  .premium-glow {
    @apply shadow-glow-primary;
  }
}

/* ------------------------------------------------------------------ */
/* Sleek vibrant overlay */
body.vibrant::before {
  content: '';
  position: fixed;
  inset: 0;
  z-index: -1;
  background: var(--gradient-mesh);
  background-size: 300% 300%;
  filter: blur(40px);
  opacity: 0.6;
}

@layer utilities {
  /* Utility classes for premium effects */
  .text-balance {
    text-wrap: balance;
  }

  .perspective-1000 {
    perspective: 1000px;
  }

  .preserve-3d {
    transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite alternate;
  }

  .animate-pulse-soft {
    animation: pulseSoft 2.2s ease-in-out infinite;
  }

  .animate-shimmer {
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
  }

  .animate-shimmer-slow {
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.25), transparent);
    background-size: 300% 100%;
    animation: shimmer 8s linear infinite;
  }

  /* Glass morphism utilities */
  .glass-morphism {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(16px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .glass-morphism-dark {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(16px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .glass-light {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(12px) saturate(140%);
    border: 1px solid rgba(255, 255, 255, 0.12);
  }

  .glass-dark {
    background: rgba(0, 0, 0, 0.25);
    backdrop-filter: blur(12px) saturate(140%);
    border: 1px solid rgba(255, 255, 255, 0.12);
  }

  /* Premium gradients */
  .bg-premium-gradient {
    background: var(--gradient-primary);
  }

  .bg-mesh-gradient {
    background: var(--gradient-mesh);
    background-size: 400% 400%;
    animation: holographic 4s ease infinite;
  }
}

/* Premium motion and holographic keyframes */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

@keyframes glow {
  0% { box-shadow: 0 0 12px rgba(236, 72, 153, 0.3); }
  100% { box-shadow: 0 0 28px rgba(236, 72, 153, 0.6); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes holographic {
  0% { filter: hue-rotate(0deg) saturate(110%); }
  50% { filter: hue-rotate(180deg) saturate(120%); }
  100% { filter: hue-rotate(360deg) saturate(110%); }
}

@keyframes pulseSoft {
  0% { transform: translateZ(0) scale(1); opacity: 0.95; }
  50% { transform: translateZ(0) scale(1.03); opacity: 1; }
  100% { transform: translateZ(0) scale(1); opacity: 0.95; }
}

  /* Fallback for unsupported browsers (e.g., older Safari/IE) */
  @supports not (text-wrap: balance) {
    text-wrap: pretty; /* Alternative mode if available */
  }

  /* Custom app utilities */
  .pet-card-shadow {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .premium-glow {
    box-shadow: 0 0 10px rgba(var(--accent-rgb), 0.5); /* Glow for PremiumButton */
  }

  /* Focus styles for accessibility */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-neutral-800;
  }

  /* Smooth transitions */
  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .glass-light {
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid rgba(0, 0, 0, 0.8);
    }
    
    .glass-dark {
      background: rgba(0, 0, 0, 0.9);
      border: 2px solid rgba(255, 255, 255, 0.8);
    }
  }