{
  "product": "PawfectMatch Premium",
  "version": "1.0.1-rc.0",
  "description": "Pet matching platform with intelligent matching, real-time chat, premium features, and AI-powered insights",
  "auditDate": "2025-01-20",
  
  "entities": {
    "User": {
      "fields": [
        "_id", "email", "password", "username", "role", "createdAt", "updatedAt",
        "location", "preferences", "notifications", "subscription"
      ],
      "relationships": ["Pet", "Match", "Message"]
    },
    "Pet": {
      "fields": [
        "_id", "ownerId", "name", "species", "breed", "age", "gender", "bio",
        "photos", "location", "intent", "personality", "createdAt", "updatedAt"
      ],
      "relationships": ["User", "Match", "Adoption"]
    },
    "Match": {
      "fields": [
        "_id", "petA", "petB", "petAId", "petBId", "status", "matchedAt",
        "lastActivityAt", "createdAt"
      ],
      "relationships": ["Pet", "User", "Message"]
    },
    "Message": {
      "fields": [
        "_id", "matchId", "senderId", "receiverId", "content", "type",
        "sentAt", "readAt", "status", "attachments", "reactions"
      ],
      "relationships": ["Match"]
    },
    "Subscription": {
      "fields": [
        "_id", "userId", "plan", "status", "stripeSubscriptionId",
        "currentPeriodStart", "currentPeriodEnd", "trialEnd", "cancelAtPeriodEnd"
      ],
      "relationships": ["User"]
    },
    "Adoption": {
      "fields": [
        "_id", "petId", "applicantId", "status", "applicationData", "createdAt"
      ],
      "relationships": ["Pet", "User"]
    }
  },

  "userJourneys": [
    {
      "id": "onboarding-flow",
      "name": "User Onboarding",
      "screens": ["WelcomeScreen", "UserIntentScreen", "PetProfileSetupScreen", "PreferencesSetupScreen"],
      "goal": "New user creates profile and sets up first pet",
      "states": ["not_started", "onboarding", "profile_created", "ready_to_swipe"],
      "priority": "P0"
    },
    {
      "id": "auth-flow",
      "name": "Authentication",
      "screens": ["LoginScreen", "RegisterScreen", "ForgotPasswordScreen", "ResetPasswordScreen"],
      "goal": "User authenticates and gains access",
      "states": ["logged_out", "logging_in", "logged_in", "error"],
      "priority": "P0"
    },
    {
      "id": "swipe-to-match-flow",
      "name": "Discovery & Matching",
      "screens": ["HomeScreen", "SwipeScreen", "ModernSwipeScreen"],
      "goal": "User discovers pets and creates matches",
      "states": ["loading_cards", "swiping", "match_created", "no_more_cards"],
      "priority": "P0",
      "features": ["like", "pass", "super_like", "rewind"]
    },
    {
      "id": "chat-flow",
      "name": "Chat & Messaging",
      "screens": ["MatchesScreen", "ChatScreen"],
      "goal": "User communicates with matched pets",
      "states": ["loading", "active", "typing", "sent", "delivered", "read"],
      "priority": "P0",
      "features": ["text", "voice", "reactions", "attachments", "read_receipts"]
    },
    {
      "id": "premium-flow",
      "name": "Premium Subscription",
      "screens": ["PremiumScreen", "PremiumSuccessScreen", "ManageSubscriptionScreen"],
      "goal": "User subscribes to premium features",
      "states": ["not_subscribed", "viewing_plans", "checking_out", "subscribed", "error"],
      "priority": "P1",
      "subscriptionTiers": ["basic", "premium", "ultimate"]
    },
    {
      "id": "settings-flow",
      "name": "Settings & Privacy",
      "screens": ["SettingsScreen", "PrivacySettingsScreen", "NotificationPreferencesScreen"],
      "goal": "User manages account settings and privacy",
      "states": ["loading", "saving", "saved", "error"],
      "priority": "P0"
    },
    {
      "id": "gdpr-flow",
      "name": "GDPR Compliance",
      "screens": ["SettingsScreen", "PrivacySettingsScreen", "DeactivateAccountScreen"],
      "goal": "User exports data or deletes account",
      "states": ["idle", "requesting_export", "exporting", "export_ready", "deletion_pending", "deletion_cancelled"],
      "priority": "P0",
      "gdprEndpoints": [
        "DELETE /users/delete-account",
        "GET /users/export-data",
        "POST /users/confirm-deletion"
      ]
    },
    {
      "id": "ai-features-flow",
      "name": "AI Features",
      "screens": ["AIBioScreen", "AIPhotoAnalyzerScreen", "AICompatibilityScreen"],
      "goal": "User leverages AI for profile enhancement",
      "states": ["idle", "analyzing", "success", "error"],
      "priority": "P1"
    },
    {
      "id": "pet-management-flow",
      "name": "Pet Management",
      "screens": ["MyPetsScreen", "CreatePetScreen", "EditProfileScreen"],
      "goal": "User manages pet profiles",
      "states": ["loading", "creating", "editing", "saving", "saved", "error"],
      "priority": "P0"
    },
    {
      "id": "adoption-flow",
      "name": "Adoption Management",
      "screens": ["AdoptionManagerScreen", "AdoptionApplicationScreen"],
      "goal": "User browses and applies for adoptions",
      "states": ["browsing", "viewing", "applying", "pending", "approved", "rejected"],
      "priority": "P2"
    }
  ],

  "features": {
    "core": [
      "User Authentication",
      "Pet Profile Management",
      "Discovery via Swipe",
      "Real-time Chat",
      "Match Notifications",
      "Privacy Settings"
    ],
    "premium": [
      "Unlimited Swipes",
      "See Who Liked You",
      "Advanced Filters",
      "Priority Matching",
      "Read Receipts",
      "Video Calls",
      "AI Bio Generation",
      "Photo Analysis",
      "Compatibility Insights"
    ],
    "ai": [
      "AI Bio Generation",
      "Photo Analysis",
      "Compatibility Analysis",
      "Recommendation Engine"
    ],
    "security": [
      "GDPR Compliance (Export Data, Delete Account)",
      "Biometric Authentication",
      "SSL Pinning",
      "Secure Storage",
      "Password Validation"
    ],
    "admin": [
      "User Management",
      "Content Moderation",
      "Analytics Dashboard",
      "Billing Management",
      "Security Monitoring"
    ]
  },

  "technicalStack": {
    "frontend": "React Native (Expo)",
    "navigation": "React Navigation",
    "state": "Zustand",
    "dataFetching": "React Query",
    "ui": "React Native Components",
    "animations": "React Native Reanimated",
    "backend": "Node.js + Express",
    "database": "MongoDB",
    "realtime": "Socket.io",
    "payments": "Stripe",
    "ai": "Python (DeepSeek)"
  }
}
